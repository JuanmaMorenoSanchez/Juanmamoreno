import{a as T,b as U}from"./chunk-M2AMYXAA.js";var X=Symbol(),q=Symbol();var F=Object.getPrototypeOf,L=new WeakMap,B=o=>o&&(L.has(o)?L.get(o):F(o)===Object.prototype||F(o)===Array.prototype);var N=o=>B(o)&&o[q]||null,W=(o,u=!0)=>{L.set(o,u)};var K=o=>typeof o=="object"&&o!==null,m=new WeakMap,A=new WeakSet,G=(o=Object.is,u=(e,P)=>new Proxy(e,P),O=e=>K(e)&&!A.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),g=e=>e.configurable&&e.enumerable&&e.writable,h=e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},y=new WeakMap,E=(e,P,p=h)=>{let i=y.get(e);if(i?.[0]===P)return i[1];let f=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return W(f,!0),y.set(e,[P,f]),Reflect.ownKeys(e).forEach(j=>{if(Object.getOwnPropertyDescriptor(f,j))return;let w=Reflect.get(e,j),v={value:w,enumerable:!0,configurable:!0};if(A.has(w))W(w,!1);else if(w instanceof Promise)delete v.value,v.get=()=>p(w);else if(m.has(w)){let[c,M]=m.get(w);v.value=E(c,M(),p)}Object.defineProperty(f,j,v)}),Object.preventExtensions(f)},d=new WeakMap,R=[1,1],S=e=>{if(!K(e))throw new Error("object required");let P=d.get(e);if(P)return P;let p=R[0],i=new Set,f=(n,r=++R[0])=>{p!==r&&(p=r,i.forEach(s=>s(n,r)))},j=R[1],w=(n=++R[1])=>(j!==n&&!i.size&&(j=n,c.forEach(([r])=>{let s=r[1](n);s>p&&(p=s)})),p),v=n=>(r,s)=>{let t=[...r];t[1]=[n,...t[1]],f(t,s)},c=new Map,M=(n,r)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&c.has(n))throw new Error("prop listener already exists");if(i.size){let s=r[3](v(n));c.set(n,[r,s])}else c.set(n,[r])},z=n=>{var r;let s=c.get(n);s&&(c.delete(n),(r=s[1])==null||r.call(s))},_=n=>(i.add(n),i.size===1&&c.forEach(([s,t],a)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&t)throw new Error("remove already exists");let b=s[3](v(a));c.set(a,[s,b])}),()=>{i.delete(n),i.size===0&&c.forEach(([s,t],a)=>{t&&(t(),c.set(a,[s]))})}),k=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e)),V=(n,r,s,t,a)=>{if(n&&(o(r,t)||d.has(t)&&o(r,d.get(t))))return;z(s),K(t)&&(t=N(t)||t);let b=t;if(t instanceof Promise)t.then(l=>{t.status="fulfilled",t.value=l,f(["resolve",[s],l])}).catch(l=>{t.status="rejected",t.reason=l,f(["reject",[s],l])});else{!m.has(t)&&O(t)&&(b=S(t));let l=!A.has(b)&&m.get(b);l&&M(s,l)}a(b),f(["set",[s],t,r])},D=u(k,{deleteProperty(n,r){let s=Reflect.get(n,r);z(r);let t=Reflect.deleteProperty(n,r);return t&&f(["delete",[r],s]),t},set(n,r,s,t){let a=Reflect.has(n,r),b=Reflect.get(n,r,t);return V(a,b,r,s,l=>{Reflect.set(n,r,l,t)}),!0},defineProperty(n,r,s){if(g(s)){let t=Reflect.getOwnPropertyDescriptor(n,r);if(!t||g(t))return V(!!t&&"value"in t,t?.value,r,s.value,a=>{Reflect.defineProperty(n,r,U(T({},s),{value:a}))}),!0}return Reflect.defineProperty(n,r,s)}});d.set(e,D);let $=[k,w,E,_];return m.set(D,$),Reflect.ownKeys(e).forEach(n=>{let r=Object.getOwnPropertyDescriptor(e,n);"value"in r&&(D[n]=e[n],delete r.value,delete r.writable),Object.defineProperty(k,n,r)}),D})=>[S,m,A,o,u,O,g,h,y,E,d,R],[J]=G();function x(o={}){return J(o)}function I(o,u,O){let g=m.get(o);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!g&&console.warn("Please use proxy object");let h,y=[],E=g[3],d=!1,S=E(e=>{if(y.push(e),O){u(y.splice(0));return}h||(h=Promise.resolve().then(()=>{h=void 0,d&&u(y.splice(0))}))});return d=!0,()=>{d=!1,S()}}function H(o,u){let O=m.get(o);(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!O&&console.warn("Please use proxy object");let[g,h,y]=O;return y(g,h(),u)}export{x as a,I as b,H as c};
