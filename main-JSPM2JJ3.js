import{R as jg,a as xe,b as vt,c as Yc,d as j1,e as ml,f as dj,g as hj,h as nh,ma as Ag}from"./chunk-PYIVICLJ.js";var s2=dj((o2,Nw)=>{"use strict";(function(n){typeof o2=="object"&&typeof Nw<"u"?Nw.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=n()})(function(){var n,i,r;return function t(o,s,a){function c(y,b){if(!s[y]){if(!o[y]){var d=typeof Yc=="function"&&Yc;if(!b&&d)return d(y,!0);if(l)return l(y,!0);throw(b=new Error("Cannot find module '"+y+"'")).code="MODULE_NOT_FOUND",b}d=s[y]={exports:{}},o[y][0].call(d.exports,function(f){return c(o[y][1][f]||f)},d,d.exports,t,o,s,a)}return s[y].exports}for(var l=typeof Yc=="function"&&Yc,u=0;u<a.length;u++)c(a[u]);return c}({1:[function(t,o,s){"use strict";s.byteLength=function(m){var m=d(m),h=m[0],m=m[1];return 3*(h+m)/4-m},s.toByteArray=function(f){var h,m,p=d(f),g=p[0],p=p[1],v=new l(function(S,M){return 3*(S+M)/4-M}(g,p)),_=0,w=0<p?g-4:g;for(m=0;m<w;m+=4)h=c[f.charCodeAt(m)]<<18|c[f.charCodeAt(m+1)]<<12|c[f.charCodeAt(m+2)]<<6|c[f.charCodeAt(m+3)],v[_++]=h>>16&255,v[_++]=h>>8&255,v[_++]=255&h;return p===2&&(h=c[f.charCodeAt(m)]<<2|c[f.charCodeAt(m+1)]>>4,v[_++]=255&h),p===1&&(h=c[f.charCodeAt(m)]<<10|c[f.charCodeAt(m+1)]<<4|c[f.charCodeAt(m+2)]>>2,v[_++]=h>>8&255,v[_++]=255&h),v},s.fromByteArray=function(f){for(var h,m=f.length,g=m%3,p=[],v=0,_=m-g;v<_;v+=16383)p.push(function(w,S,M){for(var j,I=[],D=S;D<M;D+=3)j=(w[D]<<16&16711680)+(w[D+1]<<8&65280)+(255&w[D+2]),I.push(function(P){return a[P>>18&63]+a[P>>12&63]+a[P>>6&63]+a[63&P]}(j));return I.join("")}(f,v,_<v+16383?_:v+16383));return g==1?(h=f[m-1],p.push(a[h>>2]+a[h<<4&63]+"==")):g==2&&(h=(f[m-2]<<8)+f[m-1],p.push(a[h>>10]+a[h>>4&63]+a[h<<2&63]+"=")),p.join("")};for(var a=[],c=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,b=u.length;y<b;++y)a[y]=u[y],c[u.charCodeAt(y)]=y;function d(f){var h=f.length;if(0<h%4)throw new Error("Invalid string. Length must be a multiple of 4");return f=f.indexOf("="),h=(f=f===-1?h:f)===h?0:4-f%4,[f,h]}c[45]=62,c[95]=63},{}],2:[function(t,o,s){},{}],3:[function(t,o,s){},{}],4:[function(t,o,s){(function(d){"use strict";var c=t("base64-js"),l=t("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,y=(s.Buffer=d,s.SlowBuffer=function(L){return+L!=L&&(L=0),d.alloc(+L)},s.INSPECT_MAX_BYTES=50,2147483647);function b(L){if(y<L)throw new RangeError('The value "'+L+'" is invalid for option "size"');return L=new Uint8Array(L),Object.setPrototypeOf(L,d.prototype),L}function d(L,E,B){if(typeof L!="number")return f(L,E,B);if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(L)}function f(L,E,B){if(typeof L=="string"){var G=L,Q=E;if(d.isEncoding(Q=typeof Q=="string"&&Q!==""?Q:"utf8"))return ee=0|v(G,Q),se=b(ee),se=(G=se.write(G,Q))!==ee?se.slice(0,G):se;throw new TypeError("Unknown encoding: "+Q)}if(ArrayBuffer.isView(L))return g(L);if(L!=null){if(X(L,ArrayBuffer)||L&&X(L.buffer,ArrayBuffer)){var ee=L,G=E,se=B;if(G<0||ee.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<G+(se||0))throw new RangeError('"length" is outside of buffer bounds');return ee=G===void 0&&se===void 0?new Uint8Array(ee):se===void 0?new Uint8Array(ee,G):new Uint8Array(ee,G,se),Object.setPrototypeOf(ee,d.prototype),ee}if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(Q=L.valueOf&&L.valueOf(),Q!=null&&Q!==L)return d.from(Q,E,B);var ue=function(ie){{var de,fe;if(d.isBuffer(ie))return de=0|p(ie.length),(fe=b(de)).length!==0&&ie.copy(fe,0,0,de),fe}if(ie.length!==void 0)return typeof ie.length!="number"||K(ie.length)?b(0):g(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return g(ie.data)}(L);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return d.from(L[Symbol.toPrimitive]("string"),E,B)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function h(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function m(L){return h(L),b(L<0?0:0|p(L))}function g(L){for(var E=L.length<0?0:0|p(L.length),B=b(E),G=0;G<E;G+=1)B[G]=255&L[G];return B}function p(L){if(y<=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|L}function v(L,E){if(d.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||X(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var B=L.length,G=2<arguments.length&&arguments[2]===!0;if(!G&&B===0)return 0;for(var Q=!1;;)switch(E){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return W(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return $(L).length;default:if(Q)return G?-1:W(L).length;E=(""+E).toLowerCase(),Q=!0}}function _(L,E,B){var G,Q=!1;if((E=E===void 0||E<0?0:E)>this.length||(B=B===void 0||B>this.length?this.length:B)<=0||(B>>>=0)<=(E>>>=0))return"";for(L=L||"utf8";;)switch(L){case"hex":var ee=this,ye=E,se=B,fe=ee.length;(!se||se<0||fe<se)&&(se=fe);for(var ue="",ie=ye=!ye||ye<0?0:ye;ie<se;++ie)ue+=ae[ee[ie]];return ue;case"utf8":case"utf-8":return D(this,E,B);case"ascii":var de=this,fe=E,te=B,he="";te=Math.min(de.length,te);for(var ve=fe;ve<te;++ve)he+=String.fromCharCode(127&de[ve]);return he;case"latin1":case"binary":var Ce=this,ye=E,_e=B,De="";_e=Math.min(Ce.length,_e);for(var We=ye;We<_e;++We)De+=String.fromCharCode(Ce[We]);return De;case"base64":return Oe=this,G=B,(st=E)===0&&G===Oe.length?c.fromByteArray(Oe):c.fromByteArray(Oe.slice(st,G));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Oe=E,st=B,nt=this.slice(Oe,st),it="",ht=0;ht<nt.length;ht+=2)it+=String.fromCharCode(nt[ht]+256*nt[ht+1]);return it;default:if(Q)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),Q=!0}}function w(L,E,B){var G=L[E];L[E]=L[B],L[B]=G}function S(L,E,B,G,Q){if(L.length===0)return-1;if(typeof B=="string"?(G=B,B=0):2147483647<B?B=2147483647:B<-2147483648&&(B=-2147483648),(B=(B=K(B=+B)?Q?0:L.length-1:B)<0?L.length+B:B)>=L.length){if(Q)return-1;B=L.length-1}else if(B<0){if(!Q)return-1;B=0}if(typeof E=="string"&&(E=d.from(E,G)),d.isBuffer(E))return E.length===0?-1:M(L,E,B,G,Q);if(typeof E=="number")return E&=255,typeof Uint8Array.prototype.indexOf=="function"?(Q?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(L,E,B):M(L,[E],B,G,Q);throw new TypeError("val must be string, number or Buffer")}function M(L,E,B,G,Q){var ee=1,se=L.length,ue=E.length;if(G!==void 0&&((G=String(G).toLowerCase())==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(L.length<2||E.length<2)return-1;se/=ee=2,ue/=2,B/=2}function ie(ve,Ce){return ee===1?ve[Ce]:ve.readUInt16BE(Ce*ee)}if(Q)for(var de=-1,fe=B;fe<se;fe++)if(ie(L,fe)===ie(E,de===-1?0:fe-de)){if(fe-(de=de===-1?fe:de)+1===ue)return de*ee}else de!==-1&&(fe-=fe-de),de=-1;else for(fe=B=se<B+ue?se-ue:B;0<=fe;fe--){for(var te=!0,he=0;he<ue;he++)if(ie(L,fe+he)!==ie(E,he)){te=!1;break}if(te)return fe}return-1}function j(L,E,B,G){return H(function(Q){for(var ee=[],se=0;se<Q.length;++se)ee.push(255&Q.charCodeAt(se));return ee}(E),L,B,G)}function I(L,E,B,G){return H(function(Q,ee){for(var se,ue,ie=[],de=0;de<Q.length&&!((ee-=2)<0);++de)ue=Q.charCodeAt(de),se=ue>>8,ue=ue%256,ie.push(ue),ie.push(se);return ie}(E,L.length-B),L,B,G)}function D(L,E,B){B=Math.min(L.length,B);for(var G=[],Q=E;Q<B;){var ee,se,ue,ie,de=L[Q],fe=null,te=239<de?4:223<de?3:191<de?2:1;if(Q+te<=B)switch(te){case 1:de<128&&(fe=de);break;case 2:(192&(ee=L[Q+1]))==128&&127<(ie=(31&de)<<6|63&ee)&&(fe=ie);break;case 3:ee=L[Q+1],se=L[Q+2],(192&ee)==128&&(192&se)==128&&2047<(ie=(15&de)<<12|(63&ee)<<6|63&se)&&(ie<55296||57343<ie)&&(fe=ie);break;case 4:ee=L[Q+1],se=L[Q+2],ue=L[Q+3],(192&ee)==128&&(192&se)==128&&(192&ue)==128&&65535<(ie=(15&de)<<18|(63&ee)<<12|(63&se)<<6|63&ue)&&ie<1114112&&(fe=ie)}fe===null?(fe=65533,te=1):65535<fe&&(fe-=65536,G.push(fe>>>10&1023|55296),fe=56320|1023&fe),G.push(fe),Q+=te}var he=G,ve=he.length;if(ve<=P)return String.fromCharCode.apply(String,he);for(var Ce="",ye=0;ye<ve;)Ce+=String.fromCharCode.apply(String,he.slice(ye,ye+=P));return Ce}s.kMaxLength=y,(d.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(L,E),L.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=f,Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(L,E,B){return E=E,B=B,h(L=L),!(L<=0)&&E!==void 0?typeof B=="string"?b(L).fill(E,B):b(L).fill(E):b(L)},d.allocUnsafe=m,d.allocUnsafeSlow=m,d.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==d.prototype},d.compare=function(L,E){if(X(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),X(E,Uint8Array)&&(E=d.from(E,E.offset,E.byteLength)),!d.isBuffer(L)||!d.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===E)return 0;for(var B=L.length,G=E.length,Q=0,ee=Math.min(B,G);Q<ee;++Q)if(L[Q]!==E[Q]){B=L[Q],G=E[Q];break}return B<G?-1:G<B?1:0},d.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(L,E){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return d.alloc(0);if(E===void 0)for(Q=E=0;Q<L.length;++Q)E+=L[Q].length;for(var B=d.allocUnsafe(E),G=0,Q=0;Q<L.length;++Q){var ee=L[Q];if(X(ee,Uint8Array)&&(ee=d.from(ee)),!d.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(B,G),G+=ee.length}return B},d.byteLength=v,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<L;E+=2)w(this,E,E+1);return this},d.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<L;E+=4)w(this,E,E+3),w(this,E+1,E+2);return this},d.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<L;E+=8)w(this,E,E+7),w(this,E+1,E+6),w(this,E+2,E+5),w(this,E+3,E+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?D(this,0,L):_.apply(this,arguments)},d.prototype.equals=function(L){if(d.isBuffer(L))return this===L||d.compare(this,L)===0;throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var E="",L=s.INSPECT_MAX_BYTES,E=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();return this.length>L&&(E+=" ... "),"<Buffer "+E+">"},u&&(d.prototype[u]=d.prototype.inspect),d.prototype.compare=function(L,E,B,G,Q){if(X(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),!d.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(B===void 0&&(B=L?L.length:0),G===void 0&&(G=0),Q===void 0&&(Q=this.length),(E=E===void 0?0:E)<0||B>L.length||G<0||Q>this.length)throw new RangeError("out of range index");if(Q<=G&&B<=E)return 0;if(Q<=G)return-1;if(B<=E)return 1;if(this===L)return 0;for(var ee=(Q>>>=0)-(G>>>=0),se=(B>>>=0)-(E>>>=0),ue=Math.min(ee,se),ie=this.slice(G,Q),de=L.slice(E,B),fe=0;fe<ue;++fe)if(ie[fe]!==de[fe]){ee=ie[fe],se=de[fe];break}return ee<se?-1:se<ee?1:0},d.prototype.includes=function(L,E,B){return this.indexOf(L,E,B)!==-1},d.prototype.indexOf=function(L,E,B){return S(this,L,E,B,!0)},d.prototype.lastIndexOf=function(L,E,B){return S(this,L,E,B,!1)},d.prototype.write=function(L,E,B,G){if(E===void 0)G="utf8",B=this.length,E=0;else if(B===void 0&&typeof E=="string")G=E,B=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(B)?(B>>>=0,G===void 0&&(G="utf8")):(G=B,B=void 0)}var Q=this.length-E;if((B===void 0||Q<B)&&(B=Q),0<L.length&&(B<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");G=G||"utf8";for(var ee,se,ue,ie=!1;;)switch(G){case"hex":var de=this,fe=L,te=E,he=B,ve=(te=Number(te)||0,de.length-te);(!he||ve<(he=Number(he)))&&(he=ve),(ve=fe.length)/2<he&&(he=ve/2);for(var Ce=0;Ce<he;++Ce){var ye=parseInt(fe.substr(2*Ce,2),16);if(K(ye))return Ce;de[te+Ce]=ye}return Ce;case"utf8":case"utf-8":return ve=E,ue=B,H(W(L,(se=this).length-ve),se,ve,ue);case"ascii":return j(this,L,E,B);case"latin1":case"binary":return j(this,L,E,B);case"base64":return se=this,ue=E,ee=B,H($(L),se,ue,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,L,E,B);default:if(ie)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ie=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(L,E,B){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(B<L+E)throw new RangeError("Trying to access beyond buffer length")}function N(L,E,B,G,Q,ee){if(!d.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q<E||E<ee)throw new RangeError('"value" argument is out of bounds');if(B+G>L.length)throw new RangeError("Index out of range")}function O(L,E,B,G){if(B+G>L.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function z(L,E,B,G,Q){return E=+E,B>>>=0,Q||O(L,0,B,4),l.write(L,E,B,G,23,4),B+4}function U(L,E,B,G,Q){return E=+E,B>>>=0,Q||O(L,0,B,8),l.write(L,E,B,G,52,8),B+8}d.prototype.slice=function(L,E){var B=this.length,B=((L=~~L)<0?(L+=B)<0&&(L=0):B<L&&(L=B),(E=E===void 0?B:~~E)<0?(E+=B)<0&&(E=0):B<E&&(E=B),E<L&&(E=L),this.subarray(L,E));return Object.setPrototypeOf(B,d.prototype),B},d.prototype.readUIntLE=function(L,E,B){L>>>=0,E>>>=0,B||A(L,E,this.length);for(var G=this[L],Q=1,ee=0;++ee<E&&(Q*=256);)G+=this[L+ee]*Q;return G},d.prototype.readUIntBE=function(L,E,B){L>>>=0,E>>>=0,B||A(L,E,this.length);for(var G=this[L+--E],Q=1;0<E&&(Q*=256);)G+=this[L+--E]*Q;return G},d.prototype.readUInt8=function(L,E){return L>>>=0,E||A(L,1,this.length),this[L]},d.prototype.readUInt16LE=function(L,E){return L>>>=0,E||A(L,2,this.length),this[L]|this[L+1]<<8},d.prototype.readUInt16BE=function(L,E){return L>>>=0,E||A(L,2,this.length),this[L]<<8|this[L+1]},d.prototype.readUInt32LE=function(L,E){return L>>>=0,E||A(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},d.prototype.readUInt32BE=function(L,E){return L>>>=0,E||A(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},d.prototype.readIntLE=function(L,E,B){L>>>=0,E>>>=0,B||A(L,E,this.length);for(var G=this[L],Q=1,ee=0;++ee<E&&(Q*=256);)G+=this[L+ee]*Q;return(Q*=128)<=G&&(G-=Math.pow(2,8*E)),G},d.prototype.readIntBE=function(L,E,B){L>>>=0,E>>>=0,B||A(L,E,this.length);for(var G=E,Q=1,ee=this[L+--G];0<G&&(Q*=256);)ee+=this[L+--G]*Q;return(Q*=128)<=ee&&(ee-=Math.pow(2,8*E)),ee},d.prototype.readInt8=function(L,E){return L>>>=0,E||A(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},d.prototype.readInt16LE=function(L,E){return L>>>=0,E||A(L,2,this.length),E=this[L]|this[L+1]<<8,32768&E?4294901760|E:E},d.prototype.readInt16BE=function(L,E){return L>>>=0,E||A(L,2,this.length),E=this[L+1]|this[L]<<8,32768&E?4294901760|E:E},d.prototype.readInt32LE=function(L,E){return L>>>=0,E||A(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},d.prototype.readInt32BE=function(L,E){return L>>>=0,E||A(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},d.prototype.readFloatLE=function(L,E){return L>>>=0,E||A(L,4,this.length),l.read(this,L,!0,23,4)},d.prototype.readFloatBE=function(L,E){return L>>>=0,E||A(L,4,this.length),l.read(this,L,!1,23,4)},d.prototype.readDoubleLE=function(L,E){return L>>>=0,E||A(L,8,this.length),l.read(this,L,!0,52,8)},d.prototype.readDoubleBE=function(L,E){return L>>>=0,E||A(L,8,this.length),l.read(this,L,!1,52,8)},d.prototype.writeUIntLE=function(L,E,B,G){L=+L,E>>>=0,B>>>=0,G||N(this,L,E,B,Math.pow(2,8*B)-1,0);var Q=1,ee=0;for(this[E]=255&L;++ee<B&&(Q*=256);)this[E+ee]=L/Q&255;return E+B},d.prototype.writeUIntBE=function(L,E,B,G){L=+L,E>>>=0,B>>>=0,G||N(this,L,E,B,Math.pow(2,8*B)-1,0);var Q=B-1,ee=1;for(this[E+Q]=255&L;0<=--Q&&(ee*=256);)this[E+Q]=L/ee&255;return E+B},d.prototype.writeUInt8=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,1,255,0),this[E]=255&L,E+1},d.prototype.writeUInt16LE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,2,65535,0),this[E]=255&L,this[E+1]=L>>>8,E+2},d.prototype.writeUInt16BE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,2,65535,0),this[E]=L>>>8,this[E+1]=255&L,E+2},d.prototype.writeUInt32LE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,4,4294967295,0),this[E+3]=L>>>24,this[E+2]=L>>>16,this[E+1]=L>>>8,this[E]=255&L,E+4},d.prototype.writeUInt32BE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,4,4294967295,0),this[E]=L>>>24,this[E+1]=L>>>16,this[E+2]=L>>>8,this[E+3]=255&L,E+4},d.prototype.writeIntLE=function(L,E,B,G){L=+L,E>>>=0,G||N(this,L,E,B,(G=Math.pow(2,8*B-1))-1,-G);var Q=0,ee=1,se=0;for(this[E]=255&L;++Q<B&&(ee*=256);)L<0&&se===0&&this[E+Q-1]!==0&&(se=1),this[E+Q]=(L/ee>>0)-se&255;return E+B},d.prototype.writeIntBE=function(L,E,B,G){L=+L,E>>>=0,G||N(this,L,E,B,(G=Math.pow(2,8*B-1))-1,-G);var Q=B-1,ee=1,se=0;for(this[E+Q]=255&L;0<=--Q&&(ee*=256);)L<0&&se===0&&this[E+Q+1]!==0&&(se=1),this[E+Q]=(L/ee>>0)-se&255;return E+B},d.prototype.writeInt8=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,1,127,-128),this[E]=255&(L=L<0?255+L+1:L),E+1},d.prototype.writeInt16LE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,2,32767,-32768),this[E]=255&L,this[E+1]=L>>>8,E+2},d.prototype.writeInt16BE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,2,32767,-32768),this[E]=L>>>8,this[E+1]=255&L,E+2},d.prototype.writeInt32LE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,4,2147483647,-2147483648),this[E]=255&L,this[E+1]=L>>>8,this[E+2]=L>>>16,this[E+3]=L>>>24,E+4},d.prototype.writeInt32BE=function(L,E,B){return L=+L,E>>>=0,B||N(this,L,E,4,2147483647,-2147483648),this[E]=(L=L<0?4294967295+L+1:L)>>>24,this[E+1]=L>>>16,this[E+2]=L>>>8,this[E+3]=255&L,E+4},d.prototype.writeFloatLE=function(L,E,B){return z(this,L,E,!0,B)},d.prototype.writeFloatBE=function(L,E,B){return z(this,L,E,!1,B)},d.prototype.writeDoubleLE=function(L,E,B){return U(this,L,E,!0,B)},d.prototype.writeDoubleBE=function(L,E,B){return U(this,L,E,!1,B)},d.prototype.copy=function(L,E,B,G){if(!d.isBuffer(L))throw new TypeError("argument should be a Buffer");if(B=B||0,G||G===0||(G=this.length),E>=L.length&&(E=L.length),(G=0<G&&G<B?B:G)===B||L.length===0||this.length===0)return 0;if((E=E||0)<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length);var Q=(G=L.length-E<G-B?L.length-E+B:G)-B;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(E,B,G);else if(this===L&&B<E&&E<G)for(var ee=Q-1;0<=ee;--ee)L[ee+E]=this[ee+B];else Uint8Array.prototype.set.call(L,this.subarray(B,G),E);return Q},d.prototype.fill=function(L,E,B,G){if(typeof L=="string"){if(typeof E=="string"?(G=E,E=0,B=this.length):typeof B=="string"&&(G=B,B=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!d.isEncoding(G))throw new TypeError("Unknown encoding: "+G);var Q;L.length===1&&(Q=L.charCodeAt(0),(G==="utf8"&&Q<128||G==="latin1")&&(L=Q))}else typeof L=="number"?L&=255:typeof L=="boolean"&&(L=Number(L));if(E<0||this.length<E||this.length<B)throw new RangeError("Out of range index");var ee;if(!(B<=E))if(E>>>=0,B=B===void 0?this.length:B>>>0,typeof(L=L||0)=="number")for(ee=E;ee<B;++ee)this[ee]=L;else{var se=d.isBuffer(L)?L:d.from(L,G),ue=se.length;if(ue===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(ee=0;ee<B-E;++ee)this[ee+E]=se[ee%ue]}return this};var F=/[^+/0-9A-Za-z-_]/g;function W(L,E){E=E||1/0;for(var B,G=L.length,Q=null,ee=[],se=0;se<G;++se){if(55295<(B=L.charCodeAt(se))&&B<57344){if(!Q){if(56319<B){-1<(E-=3)&&ee.push(239,191,189);continue}if(se+1===G){-1<(E-=3)&&ee.push(239,191,189);continue}Q=B;continue}if(B<56320){-1<(E-=3)&&ee.push(239,191,189),Q=B;continue}B=65536+(Q-55296<<10|B-56320)}else Q&&-1<(E-=3)&&ee.push(239,191,189);if(Q=null,B<128){if(--E<0)break;ee.push(B)}else if(B<2048){if((E-=2)<0)break;ee.push(B>>6|192,63&B|128)}else if(B<65536){if((E-=3)<0)break;ee.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;ee.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return ee}function $(L){return c.toByteArray(function(E){if((E=(E=E.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}(L))}function H(L,E,B,G){for(var Q=0;Q<G&&!(Q+B>=E.length||Q>=L.length);++Q)E[Q+B]=L[Q];return Q}function X(L,E){return L instanceof E||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===E.name}function K(L){return L!=L}var ae=function(){for(var L="0123456789abcdef",E=new Array(256),B=0;B<16;++B)for(var G=16*B,Q=0;Q<16;++Q)E[G+Q]=L[B]+L[Q];return E}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,o,s){o.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(c){if(a(c)||c===null)return c;throw TypeError("Can't set "+String(c)+" as a prototype")}},{"../internals/is-object":75}],7:[function(l,o,s){var a=l("../internals/well-known-symbol"),c=l("../internals/object-create"),l=l("../internals/object-define-property"),u=a("unscopables"),y=Array.prototype;y[u]==null&&l.f(y,u,{configurable:!0,value:c(null)}),o.exports=function(b){y[u][b]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,o,s){"use strict";var a=t("../internals/string-multibyte").charAt;o.exports=function(c,l,u){return l+(u?a(c,l).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,o,s){o.exports=function(a,c,l){if(a instanceof c)return a;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(c){if(a(c))return c;throw TypeError(String(c)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,o,s){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,o,s){"use strict";function a(U){return b(U)&&d(z,f(U))}var c,l=O("../internals/array-buffer-native"),u=O("../internals/descriptors"),y=O("../internals/global"),b=O("../internals/is-object"),d=O("../internals/has"),f=O("../internals/classof"),h=O("../internals/create-non-enumerable-property"),m=O("../internals/redefine"),g=O("../internals/object-define-property").f,p=O("../internals/object-get-prototype-of"),v=O("../internals/object-set-prototype-of"),P=O("../internals/well-known-symbol"),O=O("../internals/uid"),_=y.Int8Array,w=_&&_.prototype,S=y.Uint8ClampedArray,S=S&&S.prototype,M=_&&p(_),j=w&&p(w),I=Object.prototype,D=I.isPrototypeOf,P=P("toStringTag"),A=O("TYPED_ARRAY_TAG"),N=l&&!!v&&f(y.opera)!=="Opera",O=!1,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(c in z)y[c]||(N=!1);if((!N||typeof M!="function"||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},N))for(c in z)y[c]&&v(y[c],M);if((!N||!j||j===I)&&(j=M.prototype,N))for(c in z)y[c]&&v(y[c].prototype,j);if(N&&p(S)!==j&&v(S,j),u&&!d(j,P))for(c in O=!0,g(j,P,{get:function(){return b(this)?this[A]:void 0}}),z)y[c]&&h(y[c],A,c);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:O&&A,aTypedArray:function(U){if(a(U))return U;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(U){if(v){if(D.call(M,U))return U}else for(var F in z)if(d(z,c)&&(F=y[F],F&&(U===F||D.call(F,U))))return U;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(U,F,W){if(u){if(W)for(var $ in z)$=y[$],$&&d($.prototype,U)&&delete $.prototype[U];j[U]&&!W||m(j,U,!W&&N&&w[U]||F)}},exportTypedArrayStaticMethod:function(U,F,W){var $,H;if(u){if(v){if(W)for($ in z)(H=y[$])&&d(H,U)&&delete H[U];if(M[U]&&!W)return;try{return m(M,U,!W&&N&&_[U]||F)}catch{}}for($ in z)!(H=y[$])||H[U]&&!W||m(H,U,F)}},isView:function(U){return U=f(U),U==="DataView"||d(z,U)},isTypedArray:a,TypedArray:M,TypedArrayPrototype:j}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(B,o,s){"use strict";function a(te){return[255&te]}function c(te){return[255&te,te>>8&255]}function l(te){return[255&te,te>>8&255,te>>16&255,te>>24&255]}function u(te){return te[3]<<24|te[2]<<16|te[1]<<8|te[0]}function y(te){return ee(te,23,4)}function b(te){return ee(te,52,8)}function d(te,he){O(te[X],he,{get:function(){return F(this)[he]}})}function f(De,he,_e,Ce){if(_e=I(_e),De=F(De),_e+he>De.byteLength)throw Q(K);var ye=F(De.buffer).bytes,_e=_e+De.byteOffset,De=ye.slice(_e,_e+he);return Ce?De:De.reverse()}function h(te,he,ve,Ce,ye,_e){if(ve=I(ve),te=F(te),ve+he>te.byteLength)throw Q(K);for(var De=F(te.buffer).bytes,We=ve+te.byteOffset,Oe=Ce(+ye),st=0;st<he;st++)De[We+st]=Oe[_e?st:he-st-1]}var m=B("../internals/global"),g=B("../internals/descriptors"),p=B("../internals/array-buffer-native"),v=B("../internals/create-non-enumerable-property"),_=B("../internals/redefine-all"),w=B("../internals/fails"),S=B("../internals/an-instance"),M=B("../internals/to-integer"),j=B("../internals/to-length"),I=B("../internals/to-index"),D=B("../internals/ieee754"),P=B("../internals/object-get-prototype-of"),A=B("../internals/object-set-prototype-of"),N=B("../internals/object-get-own-property-names").f,O=B("../internals/object-define-property").f,z=B("../internals/array-fill"),U=B("../internals/set-to-string-tag"),B=B("../internals/internal-state"),F=B.get,W=B.set,$="ArrayBuffer",H="DataView",X="prototype",K="Wrong index",ae=m[$],L=ae,E=m[H],B=E&&E[X],G=Object.prototype,Q=m.RangeError,ee=D.pack,se=D.unpack;if(p){if(!w(function(){ae(1)})||!w(function(){new ae(-1)})||w(function(){return new ae,new ae(1.5),new ae(NaN),ae.name!=$})){for(var ue,m=(L=function(ve){return S(this,L),new ae(I(ve))})[X]=ae[X],ie=N(ae),de=0;ie.length>de;)(ue=ie[de++])in L||v(L,ue,ae[ue]);m.constructor=L}A&&P(B)!==G&&A(B,G);var D=new E(new L(2)),fe=B.setInt8;D.setInt8(0,2147483648),D.setInt8(1,2147483649),!D.getInt8(0)&&D.getInt8(1)||_(B,{setInt8:function(he,ve){fe.call(this,he,ve<<24>>24)},setUint8:function(he,ve){fe.call(this,he,ve<<24>>24)}},{unsafe:!0})}else L=function(te){S(this,L,$),te=I(te),W(this,{bytes:z.call(new Array(te),0),byteLength:te}),g||(this.byteLength=te)},E=function(te,ye,ve){S(this,E,H),S(te,L,H);var Ce=F(te).byteLength,ye=M(ye);if(ye<0||Ce<ye)throw Q("Wrong offset");if(Ce<ye+(ve=ve===void 0?Ce-ye:j(ve)))throw Q("Wrong length");W(this,{buffer:te,byteLength:ve,byteOffset:ye}),g||(this.buffer=te,this.byteLength=ve,this.byteOffset=ye)},g&&(d(L,"byteLength"),d(E,"buffer"),d(E,"byteLength"),d(E,"byteOffset")),_(E[X],{getInt8:function(te){return f(this,1,te)[0]<<24>>24},getUint8:function(te){return f(this,1,te)[0]},getInt16:function(te){return te=f(this,2,te,1<arguments.length?arguments[1]:void 0),(te[1]<<8|te[0])<<16>>16},getUint16:function(te){return te=f(this,2,te,1<arguments.length?arguments[1]:void 0),te[1]<<8|te[0]},getInt32:function(te){return u(f(this,4,te,1<arguments.length?arguments[1]:void 0))},getUint32:function(te){return u(f(this,4,te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(te){return se(f(this,4,te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(te){return se(f(this,8,te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(te,he){h(this,1,te,a,he)},setUint8:function(te,he){h(this,1,te,a,he)},setInt16:function(te,he){h(this,2,te,c,he,2<arguments.length?arguments[2]:void 0)},setUint16:function(te,he){h(this,2,te,c,he,2<arguments.length?arguments[2]:void 0)},setInt32:function(te,he){h(this,4,te,l,he,2<arguments.length?arguments[2]:void 0)},setUint32:function(te,he){h(this,4,te,l,he,2<arguments.length?arguments[2]:void 0)},setFloat32:function(te,he){h(this,4,te,y,he,2<arguments.length?arguments[2]:void 0)},setFloat64:function(te,he){h(this,8,te,b,he,2<arguments.length?arguments[2]:void 0)}});U(L,$),U(E,H),o.exports={ArrayBuffer:L,DataView:E}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,o,s){"use strict";var a=t("../internals/to-object"),c=t("../internals/to-absolute-index"),l=t("../internals/to-length"),u=Math.min;o.exports=[].copyWithin||function(g,b){var d=a(this),f=l(d.length),h=c(g,f),m=c(b,f),g=2<arguments.length?arguments[2]:void 0,p=u((g===void 0?f:c(g,f))-m,f-h),v=1;for(m<h&&h<m+p&&(v=-1,m+=p-1,h+=p-1);0<p--;)m in d?d[h]=d[m]:delete d[h],h+=v,m+=v;return d}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,o,s){"use strict";var a=t("../internals/to-object"),c=t("../internals/to-absolute-index"),l=t("../internals/to-length");o.exports=function(u){for(var y=a(this),b=l(y.length),f=arguments.length,d=c(1<f?arguments[1]:void 0,b),f=2<f?arguments[2]:void 0,h=f===void 0?b:c(f,b);d<h;)y[d++]=u;return y}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(l,o,s){"use strict";var a=l("../internals/array-iteration").forEach,c=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),c=c("forEach"),l=l("forEach");o.exports=c&&l?[].forEach:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,o,s){"use strict";var a=t("../internals/function-bind-context"),c=t("../internals/to-object"),l=t("../internals/call-with-safe-iteration-closing"),u=t("../internals/is-array-iterator-method"),y=t("../internals/to-length"),b=t("../internals/create-property"),d=t("../internals/get-iterator-method");o.exports=function(S){var h,m,g,p,v,_,w=c(S),S=typeof this=="function"?this:Array,M=arguments.length,j=1<M?arguments[1]:void 0,I=j!==void 0,D=d(w),P=0;if(I&&(j=a(j,2<M?arguments[2]:void 0,2)),D==null||S==Array&&u(D))for(m=new S(h=y(w.length));P<h;P++)_=I?j(w[P],P):w[P],b(m,P,_);else for(v=(p=D.call(w)).next,m=new S;!(g=v.call(p)).done;P++)_=I?l(p,j,[g.value,P],!0):g.value,b(m,P,_);return m.length=P,m}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,o,s){function a(y){return function(b,d,f){var h,m=c(b),g=l(m.length),p=u(f,g);if(y&&d!=d){for(;p<g;)if((h=m[p++])!=h)return!0}else for(;p<g;p++)if((y||p in m)&&m[p]===d)return y||p||0;return!y&&-1}}var c=t("../internals/to-indexed-object"),l=t("../internals/to-length"),u=t("../internals/to-absolute-index");o.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,o,s){function a(f){var h=f==1,m=f==2,g=f==3,p=f==4,v=f==6,_=f==5||v;return function(w,S,M,j){for(var I,D,P=u(w),A=l(P),N=c(S,M,3),O=y(A.length),z=0,S=j||b,U=h?S(w,O):m?S(w,0):void 0;z<O;z++)if((_||z in A)&&(D=N(I=A[z],z,P),f)){if(h)U[z]=D;else if(D)switch(f){case 3:return!0;case 5:return I;case 6:return z;case 2:d.call(U,I)}else if(p)return!1}return v?-1:g||p?p:U}}var c=t("../internals/function-bind-context"),l=t("../internals/indexed-object"),u=t("../internals/to-object"),y=t("../internals/to-length"),b=t("../internals/array-species-create"),d=[].push;o.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(f,o,s){"use strict";var a=f("../internals/to-indexed-object"),c=f("../internals/to-integer"),l=f("../internals/to-length"),d=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),u=Math.min,y=[].lastIndexOf,b=!!y&&1/[1].lastIndexOf(1,-0)<0,d=d("lastIndexOf"),f=f("indexOf",{ACCESSORS:!0,1:0});o.exports=b||!d||!f?function(h){if(b)return y.apply(this,arguments)||0;var m=a(this),g=l(m.length),p=g-1;for((p=1<arguments.length?u(p,c(arguments[1])):p)<0&&(p=g+p);0<=p;p--)if(p in m&&m[p]===h)return p||0;return-1}:y},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,o,s){var a=t("../internals/fails"),c=t("../internals/well-known-symbol"),l=t("../internals/engine-v8-version"),u=c("species");o.exports=function(y){return 51<=l||!a(function(){var b=[];return(b.constructor={})[u]=function(){return{foo:1}},b[y](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,o,s){"use strict";var a=t("../internals/fails");o.exports=function(c,l){var u=[][c];return!!u&&a(function(){u.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,o,s){function a(d){throw d}var c=t("../internals/descriptors"),l=t("../internals/fails"),u=t("../internals/has"),y=Object.defineProperty,b={};o.exports=function(d,f){var h,m,g,p;return u(b,d)?b[d]:(h=[][d],m=!!u(f=f||{},"ACCESSORS")&&f.ACCESSORS,g=u(f,0)?f[0]:a,p=u(f,1)?f[1]:void 0,b[d]=!!h&&!l(function(){if(m&&!c)return!0;var v={length:-1};m?y(v,1,{enumerable:!0,get:a}):v[1]=1,h.call(v,g,p)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,o,s){function a(b){return function(d,f,h,m){c(f);var g=l(d),p=u(g),v=y(g.length),_=b?v-1:0,w=b?-1:1;if(h<2)for(;;){if(_ in p){m=p[_],_+=w;break}if(_+=w,b?_<0:v<=_)throw TypeError("Reduce of empty array with no initial value")}for(;b?0<=_:_<v;_+=w)_ in p&&(m=f(m,p[_],_,g));return m}}var c=t("../internals/a-function"),l=t("../internals/to-object"),u=t("../internals/indexed-object"),y=t("../internals/to-length");o.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,o,s){var a=t("../internals/is-object"),c=t("../internals/is-array"),l=t("../internals/well-known-symbol")("species");o.exports=function(u,y){var b;return new((b=c(u)&&(typeof(b=u.constructor)=="function"&&(b===Array||c(b.prototype))||a(b)&&(b=b[l])===null)?void 0:b)===void 0?Array:b)(y===0?0:y)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,o,s){var a=t("../internals/an-object");o.exports=function(c,l,u,y){try{return y?l(a(u)[0],u[1]):l(u)}catch(b){throw y=c.return,y!==void 0&&a(y.call(c)),b}}},{"../internals/an-object":10}],27:[function(t,o,s){var a=t("../internals/well-known-symbol")("iterator"),c=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){c=!0}};u[a]=function(){return this},Array.from(u,function(){throw 2})}catch{}o.exports=function(y,b){if(!b&&!c)return!1;var d=!1;try{var f={};f[a]=function(){return{next:function(){return{done:d=!0}}}},y(f)}catch{}return d}},{"../internals/well-known-symbol":150}],28:[function(t,o,s){var a={}.toString;o.exports=function(c){return a.call(c).slice(8,-1)}},{}],29:[function(t,o,s){var a=t("../internals/to-string-tag-support"),c=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),u=c(function(){return arguments}())=="Arguments";o.exports=a?c:function(y){var b;return y===void 0?"Undefined":y===null?"Null":typeof(b=function(d,f){try{return d[f]}catch{}}(y=Object(y),l))=="string"?b:u?c(y):(b=c(y))=="Object"&&typeof y.callee=="function"?"Arguments":b}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(g,o,s){"use strict";var a=g("../internals/object-define-property").f,c=g("../internals/object-create"),l=g("../internals/redefine-all"),u=g("../internals/function-bind-context"),y=g("../internals/an-instance"),b=g("../internals/iterate"),d=g("../internals/define-iterator"),f=g("../internals/set-species"),h=g("../internals/descriptors"),m=g("../internals/internal-metadata").fastKey,g=g("../internals/internal-state"),p=g.set,v=g.getterFor;o.exports={getConstructor:function(_,w,S,M){function j(A,N,O){var z,U=P(A),F=I(A,N);return F?F.value=O:(U.last=F={index:z=m(N,!0),key:N,value:O,previous:N=U.last,next:void 0,removed:!1},U.first||(U.first=F),N&&(N.next=F),h?U.size++:A.size++,z!=="F"&&(U.index[z]=F)),A}function I(z,N){var O,z=P(z),U=m(N);if(U!=="F")return z.index[U];for(O=z.first;O;O=O.next)if(O.key==N)return O}var D=_(function(A,N){y(A,D,w),p(A,{type:w,index:c(null),first:void 0,last:void 0,size:0}),h||(A.size=0),N!=null&&b(N,A[M],A,S)}),P=v(w);return l(D.prototype,{clear:function(){for(var A=P(this),N=A.index,O=A.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete N[O.index],O=O.next;A.first=A.last=void 0,h?A.size=0:this.size=0},delete:function(U){var N,O,z=P(this),U=I(this,U);return U&&(N=U.next,O=U.previous,delete z.index[U.index],U.removed=!0,O&&(O.next=N),N&&(N.previous=O),z.first==U&&(z.first=N),z.last==U&&(z.last=O),h?z.size--:this.size--),!!U},forEach:function(A){for(var N,O=P(this),z=u(A,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:O.first;)for(z(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(A){return!!I(this,A)}}),l(D.prototype,S?{get:function(A){return A=I(this,A),A&&A.value},set:function(A,N){return j(this,A===0?0:A,N)}}:{add:function(A){return j(this,A=A===0?0:A,A)}}),h&&a(D.prototype,"size",{get:function(){return P(this).size}}),D},setStrong:function(_,w,S){var M=w+" Iterator",j=v(w),I=v(M);d(_,w,function(D,P){p(this,{type:M,target:D,state:j(D),kind:P,last:void 0})},function(){for(var D=I(this),P=D.kind,A=D.last;A&&A.removed;)A=A.previous;return D.target&&(D.last=A=A?A.next:D.state.first)?P=="keys"?{value:A.key,done:!1}:P=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:D.target=void 0,done:!0}},S?"entries":"values",!S,!0),f(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(p,o,s){"use strict";function a(j){return j.frozen||(j.frozen=new c)}function c(){this.entries=[]}function l(j,I){return w(j.entries,function(D){return D[0]===I})}var u=p("../internals/redefine-all"),y=p("../internals/internal-metadata").getWeakData,b=p("../internals/an-object"),d=p("../internals/is-object"),f=p("../internals/an-instance"),h=p("../internals/iterate"),m=p("../internals/array-iteration"),g=p("../internals/has"),p=p("../internals/internal-state"),v=p.set,_=p.getterFor,w=m.find,S=m.findIndex,M=0;c.prototype={get:function(j){if(j=l(this,j),j)return j[1]},has:function(j){return!!l(this,j)},set:function(j,I){var D=l(this,j);D?D[1]=I:this.entries.push([j,I])},delete:function(j){var I=S(this.entries,function(D){return D[0]===j});return~I&&this.entries.splice(I,1),!!~I}},o.exports={getConstructor:function(j,I,D,P){function A(z,U,F){var W=O(z),$=y(b(U),!0);return $===!0?a(W).set(U,F):$[W.id]=F,z}var N=j(function(z,U){f(z,N,I),v(z,{type:I,id:M++,frozen:void 0}),U!=null&&h(U,z[P],z,D)}),O=_(I);return u(N.prototype,{delete:function(z){var U,F=O(this);return!!d(z)&&((U=y(z))===!0?a(F).delete(z):U&&g(U,F.id)&&delete U[F.id])},has:function(z){var U,F=O(this);return!!d(z)&&((U=y(z))===!0?a(F).has(z):U&&g(U,F.id))}}),u(N.prototype,D?{get:function(z){var U,F=O(this);if(d(z))return(U=y(z))===!0?a(F).get(z):U?U[F.id]:void 0},set:function(z,U){return A(this,z,U)}}:{add:function(z){return A(this,z,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/global"),l=t("../internals/is-forced"),u=t("../internals/redefine"),y=t("../internals/internal-metadata"),b=t("../internals/iterate"),d=t("../internals/an-instance"),f=t("../internals/is-object"),h=t("../internals/fails"),m=t("../internals/check-correctness-of-iteration"),g=t("../internals/set-to-string-tag"),p=t("../internals/inherit-if-required");o.exports=function(v,_,w){function S($){var H=U[$];u(U,$,$=="add"?function(X){return H.call(this,X===0?0:X),this}:$=="delete"?function(X){return!(N&&!f(X))&&H.call(this,X===0?0:X)}:$=="get"?function(X){return N&&!f(X)?void 0:H.call(this,X===0?0:X)}:$=="has"?function(X){return!(N&&!f(X))&&H.call(this,X===0?0:X)}:function(X,K){return H.call(this,X===0?0:X,K),this})}var M,j,I,D,P,A=v.indexOf("Map")!==-1,N=v.indexOf("Weak")!==-1,O=A?"set":"add",z=c[v],U=z&&z.prototype,F=z,W={};return l(v,typeof z!="function"||!(N||U.forEach&&!h(function(){new z().entries().next()})))?(F=w.getConstructor(_,v,A,O),y.REQUIRED=!0):l(v,!0)&&(j=(M=new F)[O](N?{}:-0,1)!=M,I=h(function(){M.has(1)}),D=m(function($){new z($)}),P=!N&&h(function(){for(var $=new z,H=5;H--;)$[O](H,H);return!$.has(-0)}),D||(((F=_(function($,H){return d($,F,v),$=p(new z,$,F),H!=null&&b(H,$[O],$,A),$})).prototype=U).constructor=F),(I||P)&&(S("delete"),S("has"),A&&S("get")),(P||j)&&S(O),N&&U.clear&&delete U.clear),W[v]=F,a({global:!0,forced:F!=z},W),g(F,v),N||w.setStrong(F,v,A),F}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,o,s){var a=t("../internals/has"),c=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");o.exports=function(y,b){for(var d=c(b),f=u.f,h=l.f,m=0;m<d.length;m++){var g=d[m];a(y,g)||f(y,g,h(b,g))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,o,s){var a=t("../internals/well-known-symbol")("match");o.exports=function(c){var l=/./;try{"/./"[c](l)}catch{try{return l[a]=!1,"/./"[c](l)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(t,o,s){var a=t("../internals/require-object-coercible"),c=/"/g;o.exports=function(d,u,y,b){var d=String(a(d)),f="<"+u;return y!==""&&(f+=" "+y+'="'+String(b).replace(c,"&quot;")+'"'),f+">"+d+"</"+u+">"}},{"../internals/require-object-coercible":115}],37:[function(t,o,s){"use strict";function a(){return this}var c=t("../internals/iterators-core").IteratorPrototype,l=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),y=t("../internals/set-to-string-tag"),b=t("../internals/iterators");o.exports=function(d,f,h){return f+=" Iterator",d.prototype=l(c,{next:u(1,h)}),y(d,f,!1,!0),b[f]=a,d}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");o.exports=a?function(u,y,b){return c.f(u,y,l(1,b))}:function(u,y,b){return u[y]=b,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,o,s){o.exports=function(a,c){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:c}}},{}],40:[function(t,o,s){"use strict";var a=t("../internals/to-primitive"),c=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");o.exports=function(u,y,b){y=a(y),y in u?c.f(u,y,l(0,b)):u[y]=b}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(p,o,s){"use strict";function a(){return this}var c=p("../internals/export"),l=p("../internals/create-iterator-constructor"),u=p("../internals/object-get-prototype-of"),y=p("../internals/object-set-prototype-of"),b=p("../internals/set-to-string-tag"),d=p("../internals/create-non-enumerable-property"),f=p("../internals/redefine"),h=p("../internals/well-known-symbol"),m=p("../internals/is-pure"),g=p("../internals/iterators"),p=p("../internals/iterators-core"),v=p.IteratorPrototype,_=p.BUGGY_SAFARI_ITERATORS,w=h("iterator"),S="values",M="entries";o.exports=function(j,I,D,W,A,N,O){l(D,I,W);function z(L){if(L===A&&K)return K;if(!_&&L in H)return H[L];switch(L){case"keys":case S:case M:return function(){return new D(this,L)}}return function(){return new D(this)}}var U,F,W=I+" Iterator",$=!1,H=j.prototype,X=H[w]||H["@@iterator"]||A&&H[A],K=!_&&X||z(A),ae=I=="Array"&&H.entries||X;if(ae&&(ae=u(ae.call(new j)),v!==Object.prototype&&ae.next&&(m||u(ae)===v||(y?y(ae,v):typeof ae[w]!="function"&&d(ae,w,a)),b(ae,W,!0,!0),m&&(g[W]=a))),A==S&&X&&X.name!==S&&($=!0,K=function(){return X.call(this)}),m&&!O||H[w]===K||d(H,w,K),g[I]=K,A)if(U={values:z(S),keys:N?K:z("keys"),entries:z(M)},O)for(F in U)!_&&!$&&F in H||f(H,F,U[F]);else c({target:I,proto:!0,forced:_||$},U);return U}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,o,s){var a=t("../internals/path"),c=t("../internals/has"),l=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;o.exports=function(y){var b=a.Symbol||(a.Symbol={});c(b,y)||u(b,y,{value:l.f(y)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(c,o,s){var a=c("../internals/global"),c=c("../internals/is-object"),l=a.document,u=c(l)&&c(l.createElement);o.exports=function(y){return u?l.createElement(y):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,o,s){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,o,s){t=t("../internals/engine-user-agent"),o.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,o,s){t=t("../internals/get-built-in"),o.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(l,o,s){var a,c,u=l("../internals/global"),l=l("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?c=(a=u.split("."))[0]+a[1]:l&&(!(a=l.match(/Edge\/(\d+)/))||74<=a[1])&&(a=l.match(/Chrome\/(\d+)/))&&(c=a[1]),o.exports=c&&+c},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,o,s){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,o,s){var a=t("../internals/global"),c=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),y=t("../internals/set-global"),b=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");o.exports=function(f,h){var m,g,p,v=f.target,_=f.global,w=f.stat,S=_?a:w?a[v]||y(v,{}):(a[v]||{}).prototype;if(S)for(m in h){if(g=h[m],p=f.noTargetGet?(p=c(S,m))&&p.value:S[m],!d(_?m:v+(w?".":"#")+m,f.forced)&&p!==void 0){if(typeof g==typeof p)continue;b(g,p)}(f.sham||p&&p.sham)&&l(g,"sham",!0),u(S,m,g,f)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,o,s){o.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(h,o,s){"use strict";h("../modules/es.regexp.exec");var a=h("../internals/redefine"),c=h("../internals/fails"),l=h("../internals/well-known-symbol"),u=h("../internals/regexp-exec"),y=h("../internals/create-non-enumerable-property"),b=l("species"),d=!c(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(p,"$<a>")!=="7"}),f="a".replace(/./,"$0")==="$0",h=l("replace"),m=!!/./[h]&&/./[h]("a","$0")==="",g=!c(function(){var v=/(?:)/,p=v.exec,v=(v.exec=function(){return p.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});o.exports=function(p,v,_,w){var S,M,j=l(p),I=!c(function(){var P={};return P[j]=function(){return 7},""[p](P)!=7}),D=I&&!c(function(){var P=!1,A=/a/;return p==="split"&&((A={constructor:{}}).constructor[b]=function(){return A},A.flags="",A[j]=/./[j]),A.exec=function(){return P=!0,null},A[j](""),!P});I&&D&&(p!=="replace"||d&&f&&!m)&&(p!=="split"||g)||(S=/./[j],_=(D=_(j,""[p],function(P,A,N,O,z){return A.exec===u?I&&!z?{done:!0,value:S.call(A,N,O)}:{done:!0,value:P.call(N,A,O)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}))[0],M=D[1],a(String.prototype,p,_),a(RegExp.prototype,j,v==2?function(P,A){return M.call(P,this,A)}:function(P){return M.call(P,this)})),w&&y(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,o,s){"use strict";function a(y,b,d,f,h,m,g,p){for(var v,_=h,w=0,S=!!g&&u(g,p,3);w<f;){if(w in d){if(v=S?S(d[w],w,b):d[w],0<m&&c(v))_=a(y,b,v,l(v.length),_,m-1)-1;else{if(9007199254740991<=_)throw TypeError("Exceed the acceptable array length");y[_]=v}_++}w++}return _}var c=t("../internals/is-array"),l=t("../internals/to-length"),u=t("../internals/function-bind-context");o.exports=a},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,o,s){var a=t("../internals/a-function");o.exports=function(c,l,u){if(a(c),l===void 0)return c;switch(u){case 0:return function(){return c.call(l)};case 1:return function(y){return c.call(l,y)};case 2:return function(y,b){return c.call(l,y,b)};case 3:return function(y,b,d){return c.call(l,y,b,d)}}return function(){return c.apply(l,arguments)}}},{"../internals/a-function":5}],56:[function(t,o,s){"use strict";var a=t("../internals/a-function"),c=t("../internals/is-object"),l=[].slice,u={};o.exports=Function.bind||function(y){var b=a(this),d=l.call(arguments,1),f=function(){var h=d.concat(l.call(arguments));if(this instanceof f){var m=b,g=h.length,p=h;if(!(g in u)){for(var v=[],_=0;_<g;_++)v[_]="a["+_+"]";u[g]=Function("C,a","return new C("+v.join(",")+")")}return u[g](m,p)}return b.apply(y,h)};return c(b.prototype)&&(f.prototype=b.prototype),f}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,o,s){function a(u){return typeof u=="function"?u:void 0}var c=t("../internals/path"),l=t("../internals/global");o.exports=function(u,y){return arguments.length<2?a(c[u])||a(l[u]):c[u]&&c[u][y]||l[u]&&l[u][y]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,o,s){var a=t("../internals/classof"),c=t("../internals/iterators"),l=t("../internals/well-known-symbol")("iterator");o.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||c[a(u)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,o,s){var a=t("../internals/an-object"),c=t("../internals/get-iterator-method");o.exports=function(l){var u=c(l);if(typeof u!="function")throw TypeError(String(l)+" is not iterable");return a(u.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,o,s){(function(a){function c(l){return l&&l.Math==Math&&l}o.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,o,s){var a={}.hasOwnProperty;o.exports=function(c,l){return a.call(c,l)}},{}],62:[function(t,o,s){o.exports={}},{}],63:[function(t,o,s){var a=t("../internals/global");o.exports=function(c,l){var u=a.console;u&&u.error&&(arguments.length===1?u.error(c):u.error(c,l))}},{"../internals/global":60}],64:[function(t,o,s){t=t("../internals/get-built-in"),o.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/fails"),l=t("../internals/document-create-element");o.exports=!a&&!c(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,o,s){var a=Math.abs,c=Math.pow,l=Math.floor,u=Math.log,y=Math.LN2;o.exports={pack:function(b,d,_){var h,m,g,p=new Array(_),v=8*_-d-1,_=(1<<v)-1,w=_>>1,S=d===23?c(2,-24)-c(2,-77):0,M=b<0||b===0&&1/b<0?1:0,j=0;for((b=a(b))!=b||b===1/0?(m=b!=b?1:0,h=_):(h=l(u(b)/y),b*(g=c(2,-h))<1&&(h--,g*=2),2<=(b+=1<=h+w?S/g:S*c(2,1-w))*g&&(h++,g/=2),_<=h+w?(m=0,h=_):1<=h+w?(m=(b*g-1)*c(2,d),h+=w):(m=b*c(2,w-1)*c(2,d),h=0));8<=d;p[j++]=255&m,m/=256,d-=8);for(h=h<<d|m,v+=d;0<v;p[j++]=255&h,h/=256,v-=8);return p[--j]|=128*M,p},unpack:function(b,d){var f,h=b.length,_=8*h-d-1,m=(1<<_)-1,g=m>>1,p=_-7,v=h-1,_=b[v--],w=127&_;for(_>>=7;0<p;w=256*w+b[v],v--,p-=8);for(f=w&(1<<-p)-1,w>>=-p,p+=d;0<p;f=256*f+b[v],v--,p-=8);if(w===0)w=1-g;else{if(w===m)return f?NaN:_?-1/0:1/0;f+=c(2,d),w-=g}return(_?-1:1)*f*c(2,w-d)}}},{}],67:[function(t,o,s){var a=t("../internals/fails"),c=t("../internals/classof-raw"),l="".split;o.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return c(u)=="String"?l.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,o,s){var a=t("../internals/is-object"),c=t("../internals/object-set-prototype-of");o.exports=function(l,u,y){return c&&typeof(u=u.constructor)=="function"&&u!==y&&a(u=u.prototype)&&u!==y.prototype&&c(l,u),l}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,o,s){var a=a("../internals/shared-store"),c=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(l){return c.call(l)}),o.exports=a.inspectSource},{"../internals/shared-store":121}],70:[function(t,o,s){function a(p){y(p,f,{value:{objectID:"O"+ ++h,weakData:{}}})}var c=t("../internals/hidden-keys"),l=t("../internals/is-object"),u=t("../internals/has"),y=t("../internals/object-define-property").f,b=t("../internals/uid"),d=t("../internals/freezing"),f=b("meta"),h=0,m=Object.isExtensible||function(){return!0},g=o.exports={REQUIRED:!1,fastKey:function(p,v){if(!l(p))return typeof p=="symbol"?p:(typeof p=="string"?"S":"P")+p;if(!u(p,f)){if(!m(p))return"F";if(!v)return"E";a(p)}return p[f].objectID},getWeakData:function(p,v){if(!u(p,f)){if(!m(p))return!0;if(!v)return!1;a(p)}return p[f].weakData},onFreeze:function(p){return d&&g.REQUIRED&&m(p)&&!u(p,f)&&a(p),p}};c[f]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(_,o,s){var a,c,l,u,y,b,d,f,h=_("../internals/native-weak-map"),w=_("../internals/global"),m=_("../internals/is-object"),g=_("../internals/create-non-enumerable-property"),p=_("../internals/has"),v=_("../internals/shared-key"),_=_("../internals/hidden-keys"),w=w.WeakMap;d=h?(a=new w,c=a.get,l=a.has,u=a.set,y=function(S,M){return u.call(a,S,M),M},b=function(S){return c.call(a,S)||{}},function(S){return l.call(a,S)}):(_[f=v("state")]=!0,y=function(S,M){return g(S,f,M),M},b=function(S){return p(S,f)?S[f]:{}},function(S){return p(S,f)}),o.exports={set:y,get:b,has:d,enforce:function(S){return d(S)?b(S):y(S,{})},getterFor:function(S){return function(M){if(m(M)&&(M=b(M)).type===S)return M;throw TypeError("Incompatible receiver, "+S+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,o,s){var a=t("../internals/well-known-symbol"),c=t("../internals/iterators"),l=a("iterator"),u=Array.prototype;o.exports=function(y){return y!==void 0&&(c.Array===y||u[l]===y)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,o,s){var a=t("../internals/classof-raw");o.exports=Array.isArray||function(c){return a(c)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,o,s){function a(f,h){return(f=y[u(f)])==d||f!=b&&(typeof h=="function"?c(h):!!h)}var c=t("../internals/fails"),l=/#|\.prototype\./,u=a.normalize=function(f){return String(f).replace(l,".").toLowerCase()},y=a.data={},b=a.NATIVE="N",d=a.POLYFILL="P";o.exports=a},{"../internals/fails":51}],75:[function(t,o,s){o.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],76:[function(t,o,s){o.exports=!1},{}],77:[function(t,o,s){var a=t("../internals/is-object"),c=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");o.exports=function(u){var y;return a(u)&&((y=u[l])!==void 0?!!y:c(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,o,s){function a(f,h){this.stopped=f,this.result=h}var c=t("../internals/an-object"),l=t("../internals/is-array-iterator-method"),u=t("../internals/to-length"),y=t("../internals/function-bind-context"),b=t("../internals/get-iterator-method"),d=t("../internals/call-with-safe-iteration-closing");(o.exports=function(f,h,m,g,p){var v,_,w,S,M,j,I=y(h,m,g?2:1);if(p)v=f;else{if(typeof(h=b(f))!="function")throw TypeError("Target is not iterable");if(l(h)){for(_=0,w=u(f.length);_<w;_++)if((S=g?I(c(j=f[_])[0],j[1]):I(f[_]))&&S instanceof a)return S;return new a(!1)}v=h.call(f)}for(M=v.next;!(j=M.call(v)).done;)if(typeof(S=d(v,I,j.value,g))=="object"&&S&&S instanceof a)return S;return new a(!1)}).stop=function(f){return new a(!0,f)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(b,o,s){"use strict";var a,c,l=b("../internals/object-get-prototype-of"),u=b("../internals/create-non-enumerable-property"),y=b("../internals/has"),d=b("../internals/well-known-symbol"),b=b("../internals/is-pure"),d=d("iterator"),f=!1;[].keys&&("next"in(c=[].keys())?(l=l(l(c)))!==Object.prototype&&(a=l):f=!0),a==null&&(a={}),b||y(a,d)||u(a,d,function(){return this}),o.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,o,s){o.exports={}},{}],81:[function(t,o,s){o.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],82:[function(g,o,s){var a,c,l,u,y,b,d,f,h=g("../internals/global"),M=g("../internals/object-get-own-property-descriptor").f,S=g("../internals/classof-raw"),m=g("../internals/task").set,g=g("../internals/engine-is-ios"),p=h.MutationObserver||h.WebKitMutationObserver,v=h.process,_=h.Promise,w=S(v)=="process",S=M(h,"queueMicrotask"),M=S&&S.value;M||(a=function(){var j,I;for(w&&(j=v.domain)&&j.exit();c;){I=c.fn,c=c.next;try{I()}catch(D){throw c?u():l=void 0,D}}l=void 0,j&&j.enter()},u=w?function(){v.nextTick(a)}:p&&!g?(y=!0,b=document.createTextNode(""),new p(a).observe(b,{characterData:!0}),function(){b.data=y=!y}):_&&_.resolve?(d=_.resolve(void 0),f=d.then,function(){f.call(d,a)}):function(){m.call(h,a)}),o.exports=M||function(j){j={fn:j,next:void 0},l&&(l.next=j),c||(c=j,u()),l=j}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,o,s){t=t("../internals/global"),o.exports=t.Promise},{"../internals/global":60}],84:[function(t,o,s){t=t("../internals/fails"),o.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,o,s){var a=t("../internals/fails"),c=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),u=c("iterator");o.exports=!a(function(){var y=new URL("b?a=1&b=2&c=3","http://a"),b=y.searchParams,d="";return y.pathname="c%20d",b.forEach(function(f,h){b.delete("b"),d+=h+f}),l&&!y.toJSON||!b.sort||y.href!=="http://a/c%20d?a=1&c=3"||b.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!b[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,o,s){var c=a("../internals/global"),a=a("../internals/inspect-source"),c=c.WeakMap;o.exports=typeof c=="function"&&/native code/.test(a(c))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,o,s){"use strict";function a(l){var u,y;this.promise=new l(function(b,d){if(u!==void 0||y!==void 0)throw TypeError("Bad Promise constructor");u=b,y=d}),this.resolve=c(u),this.reject=c(y)}var c=t("../internals/a-function");o.exports.f=function(l){return new a(l)}},{"../internals/a-function":5}],88:[function(t,o,s){var a=t("../internals/is-regexp");o.exports=function(c){if(a(c))throw TypeError("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":77}],89:[function(t,o,s){var a=t("../internals/global").isFinite;o.exports=Number.isFinite||function(c){return typeof c=="number"&&a(c)}},{"../internals/global":60}],90:[function(t,o,s){"use strict";var a=t("../internals/descriptors"),c=t("../internals/fails"),l=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),y=t("../internals/object-property-is-enumerable"),b=t("../internals/to-object"),d=t("../internals/indexed-object"),f=Object.assign,h=Object.defineProperty;o.exports=!f||c(function(){var m,g,p,v;return!(!a||f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(g={},v="abcdefghijklmnopqrst",(m={})[p=Symbol()]=7,v.split("").forEach(function(_){g[_]=_}),f({},m)[p]!=7||l(f({},g)).join("")!=v)})?function(m,g){for(var p=b(m),v=arguments.length,_=1,w=u.f,S=y.f;_<v;)for(var M,j=d(arguments[_++]),I=w?l(j).concat(w(j)):l(j),D=I.length,P=0;P<D;)M=I[P++],a&&!S.call(j,M)||(p[M]=j[M]);return p}:f},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(h,o,s){function a(){}var c,l=h("../internals/an-object"),u=h("../internals/object-define-properties"),y=h("../internals/enum-bug-keys"),b=h("../internals/hidden-keys"),d=h("../internals/html"),f=h("../internals/document-create-element"),h=h("../internals/shared-key"),m="prototype",g="script",p=h("IE_PROTO"),v=function(w){return"<"+g+">"+w+"</"+g+">"},_=function(){try{c=document.domain&&new ActiveXObject("htmlfile")}catch{}_=c?((w=c).write(v("")),w.close(),S=w.parentWindow.Object,w=null,S):(w=f("iframe"),S="java"+g+":",w.style.display="none",d.appendChild(w),w.src=String(S),(S=w.contentWindow.document).open(),S.write(v("document.F=Object")),S.close(),S.F);for(var w,S,M=y.length;M--;)delete _[m][y[M]];return _()};b[p]=!0,o.exports=Object.create||function(w,S){var M;return w!==null?(a[m]=l(w),M=new a,a[m]=null,M[p]=w):M=_(),S===void 0?M:u(M,S)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/object-define-property"),l=t("../internals/an-object"),u=t("../internals/object-keys");o.exports=a?Object.defineProperties:function(y,b){l(y);for(var d,f=u(b),h=f.length,m=0;m<h;)c.f(y,d=f[m++],b[d]);return y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/ie8-dom-define"),l=t("../internals/an-object"),u=t("../internals/to-primitive"),y=Object.defineProperty;s.f=a?y:function(b,d,f){if(l(b),d=u(d,!0),l(f),c)try{return y(b,d,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(b[d]=f.value),b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),u=t("../internals/to-indexed-object"),y=t("../internals/to-primitive"),b=t("../internals/has"),d=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;s.f=a?f:function(h,m){if(h=u(h),m=y(m,!0),d)try{return f(h,m)}catch{}if(b(h,m))return l(!c.f.call(h,m),h[m])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,o,s){var a=t("../internals/to-indexed-object"),c=t("../internals/object-get-own-property-names").f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(y){if(!u||l.call(y)!="[object Window]")return c(a(y));try{return c(y)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,o,s){var a=t("../internals/object-keys-internal"),c=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return a(l,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,o,s){s.f=Object.getOwnPropertySymbols},{}],98:[function(u,o,s){var a=u("../internals/has"),c=u("../internals/to-object"),l=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),y=l("IE_PROTO"),b=Object.prototype;o.exports=u?Object.getPrototypeOf:function(d){return d=c(d),a(d,y)?d[y]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?b:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,o,s){var a=t("../internals/has"),c=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");o.exports=function(y,b){var d,f=c(y),h=0,m=[];for(d in f)!a(u,d)&&a(f,d)&&m.push(d);for(;b.length>h;)!a(f,d=b[h++])||~l(m,d)||m.push(d);return m}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,o,s){var a=t("../internals/object-keys-internal"),c=t("../internals/enum-bug-keys");o.exports=Object.keys||function(l){return a(l,c)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,o,s){"use strict";var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l=c&&!a.call({1:2},1);s.f=l?function(u){return u=c(this,u),!!u&&u.enumerable}:a},{}],102:[function(t,o,s){var a=t("../internals/an-object"),c=t("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,y={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),u=y instanceof Array}catch{}return function(b,d){return a(b),c(d),u?l.call(b,d):b.__proto__=d,b}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,o,s){function a(b){return function(d){for(var f,h=u(d),m=l(h),g=m.length,p=0,v=[];p<g;)f=m[p++],c&&!y.call(h,f)||v.push(b?[f,h[f]]:h[f]);return v}}var c=t("../internals/descriptors"),l=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),y=t("../internals/object-property-is-enumerable").f;o.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,o,s){"use strict";var a=t("../internals/to-string-tag-support"),c=t("../internals/classof");o.exports=a?{}.toString:function(){return"[object "+c(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,o,s){var a=t("../internals/get-built-in"),c=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),u=t("../internals/an-object");o.exports=a("Reflect","ownKeys")||function(y){var b=c.f(u(y)),d=l.f;return d?b.concat(d(y)):b}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,o,s){t=t("../internals/global"),o.exports=t},{"../internals/global":60}],107:[function(t,o,s){o.exports=function(a){try{return{error:!1,value:a()}}catch(c){return{error:!0,value:c}}}},{}],108:[function(t,o,s){var a=t("../internals/an-object"),c=t("../internals/is-object"),l=t("../internals/new-promise-capability");o.exports=function(u,y){return a(u),c(y)&&y.constructor===u?y:((0,(u=l.f(u)).resolve)(y),u.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,o,s){var a=t("../internals/redefine");o.exports=function(c,l,u){for(var y in l)a(c,y,l[y],u);return c}},{"../internals/redefine":110}],110:[function(b,o,s){var a=b("../internals/global"),c=b("../internals/create-non-enumerable-property"),l=b("../internals/has"),u=b("../internals/set-global"),y=b("../internals/inspect-source"),b=b("../internals/internal-state"),d=b.get,f=b.enforce,h=String(String).split("String");(o.exports=function(m,g,p,S){var _=!!S&&!!S.unsafe,w=!!S&&!!S.enumerable,S=!!S&&!!S.noTargetGet;typeof p=="function"&&(typeof g!="string"||l(p,"name")||c(p,"name",g),f(p).source=h.join(typeof g=="string"?g:"")),m===a?w?m[g]=p:u(g,p):(_?!S&&m[g]&&(w=!0):delete m[g],w?m[g]=p:c(m,g,p))})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||y(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,o,s){var a=t("./classof-raw"),c=t("./regexp-exec");o.exports=function(l,u){var y=l.exec;if(typeof y=="function"){if(y=y.call(l,u),typeof y!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return y}if(a(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(l,u)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(u,o,s){"use strict";var a,c,l=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),y=RegExp.prototype.exec,b=String.prototype.replace,d=y,f=(a=/a/,c=/b*/g,y.call(a,"a"),y.call(c,"a"),a.lastIndex!==0||c.lastIndex!==0),h=u.UNSUPPORTED_Y||u.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0;o.exports=d=f||m||h?function(g){var p,v,_,w,S=this,M=h&&S.sticky,j=l.call(S),I=S.source,D=0,P=g;return M&&((j=j.replace("y","")).indexOf("g")===-1&&(j+="g"),P=String(g).slice(S.lastIndex),0<S.lastIndex&&(!S.multiline||S.multiline&&g[S.lastIndex-1]!==`
`)&&(I="(?: "+I+")",P=" "+P,D++),v=new RegExp("^(?:"+I+")",j)),m&&(v=new RegExp("^"+I+"$(?!\\s)",j)),f&&(p=S.lastIndex),_=y.call(M?v:S,P),M?_?(_.input=_.input.slice(D),_[0]=_[0].slice(D),_.index=S.lastIndex,S.lastIndex+=_[0].length):S.lastIndex=0:f&&_&&(S.lastIndex=S.global?_.index+_[0].length:p),m&&_&&1<_.length&&b.call(_[0],v,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(_[w]=void 0)}),_}:d},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,o,s){"use strict";var a=t("../internals/an-object");o.exports=function(){var c=a(this),l="";return c.global&&(l+="g"),c.ignoreCase&&(l+="i"),c.multiline&&(l+="m"),c.dotAll&&(l+="s"),c.unicode&&(l+="u"),c.sticky&&(l+="y"),l}},{"../internals/an-object":10}],114:[function(t,o,s){"use strict";t=t("./fails");function a(c,l){return RegExp(c,l)}s.UNSUPPORTED_Y=t(function(){var c=a("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),s.BROKEN_CARET=t(function(){var c=a("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},{"./fails":51}],115:[function(t,o,s){o.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],116:[function(t,o,s){o.exports=Object.is||function(a,c){return a===c?a!==0||1/a==1/c:a!=a&&c!=c}},{}],117:[function(t,o,s){var a=t("../internals/global"),c=t("../internals/create-non-enumerable-property");o.exports=function(l,u){try{c(a,l,u)}catch{a[l]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,o,s){"use strict";var a=t("../internals/get-built-in"),c=t("../internals/object-define-property"),l=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),y=l("species");o.exports=function(d){var d=a(d),f=c.f;u&&d&&!d[y]&&f(d,y,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,o,s){var a=t("../internals/object-define-property").f,c=t("../internals/has"),l=t("../internals/well-known-symbol")("toStringTag");o.exports=function(u,y,b){u&&!c(u=b?u:u.prototype,l)&&a(u,l,{configurable:!0,value:y})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,o,s){var a=t("../internals/shared"),c=t("../internals/uid"),l=a("keys");o.exports=function(u){return l[u]||(l[u]=c(u))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,o,s){var l=a("../internals/global"),a=a("../internals/set-global"),c="__core-js_shared__",l=l[c]||a(c,{});o.exports=l},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,o,s){var a=t("../internals/is-pure"),c=t("../internals/shared-store");(o.exports=function(l,u){return c[l]||(c[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,o,s){var a=t("../internals/an-object"),c=t("../internals/a-function"),l=t("../internals/well-known-symbol")("species");o.exports=function(b,y){var b=a(b).constructor;return b===void 0||(b=a(b)[l])==null?y:c(b)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,o,s){var a=t("../internals/fails");o.exports=function(c){return a(function(){var l=""[c]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],125:[function(t,o,s){function a(u){return function(f,h){var d,f=String(l(f)),h=c(h),m=f.length;return h<0||m<=h?u?"":void 0:(d=f.charCodeAt(h))<55296||56319<d||h+1===m||(m=f.charCodeAt(h+1))<56320||57343<m?u?f.charAt(h):d:u?f.slice(h,h+2):m-56320+(d-55296<<10)+65536}}var c=t("../internals/to-integer"),l=t("../internals/require-object-coercible");o.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,o,s){t=t("../internals/engine-user-agent"),o.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,o,s){function a(b){return function(m,v,p){var m=String(u(m)),g=m.length,p=p===void 0?" ":String(p),v=c(v);return v<=g||p==""?m:((g=l.call(p,y((v=v-g)/p.length))).length>v&&(g=g.slice(0,v)),b?m+g:g+m)}}var c=t("../internals/to-length"),l=t("../internals/string-repeat"),u=t("../internals/require-object-coercible"),y=Math.ceil;o.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,o,s){"use strict";function a(_){return _+22+75*(_<26)}function c(_){var w,S=[],M=(_=function(X){for(var K=[],ae=0,L=X.length;ae<L;){var E,B=X.charCodeAt(ae++);55296<=B&&B<=56319&&ae<L?(64512&(E=X.charCodeAt(ae++)))==56320?K.push(((1023&B)<<10)+(1023&E)+65536):(K.push(B),ae--):K.push(B)}return K}(_)).length,j=128,I=0,D=72;for(O=0;O<_.length;O++)(w=_[O])<128&&S.push(v(w));var P=S.length,A=P;for(P&&S.push("-");A<M;){for(var N=l,O=0;O<_.length;O++)j<=(w=_[O])&&w<N&&(N=w);var z=A+1;if(N-j>p((l-I)/z))throw RangeError(m);for(I+=(N-j)*z,j=N,O=0;O<_.length;O++){if((w=_[O])<j&&++I>l)throw RangeError(m);if(w==j){for(var U=I,F=u;;F+=u){var W=F<=D?1:D+y<=F?y:F-D;if(U<W)break;var $=U-W,H=u-W;S.push(v(a(W+$%H))),U=p($/H)}S.push(v(a(U))),D=function(X,K,ae){var L=0;for(X=ae?p(X/d):X>>1,X+=p(X/K);g*y>>1<X;L+=u)X=p(X/g);return p(L+(g+1)*X/(X+b))}(I,z,A==P),I=0,++A}}++I,++j}return S.join("")}var l=2147483647,u=36,y=26,b=38,d=700,f=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=u-1,p=Math.floor,v=String.fromCharCode;o.exports=function(_){for(var w,S=[],M=_.toLowerCase().replace(h,".").split("."),j=0;j<M.length;j++)w=M[j],S.push(f.test(w)?"xn--"+c(w):w);return S.join(".")}},{}],129:[function(t,o,s){"use strict";var a=t("../internals/to-integer"),c=t("../internals/require-object-coercible");o.exports="".repeat||function(l){var u=String(c(this)),y="",b=a(l);if(b<0||b==1/0)throw RangeError("Wrong number of repetitions");for(;0<b;(b>>>=1)&&(u+=u))1&b&&(y+=u);return y}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,o,s){var a=t("../internals/fails"),c=t("../internals/whitespaces");o.exports=function(l){return a(function(){return!!c[l]()||"\u200B\x85\u180E"[l]()!="\u200B\x85\u180E"||c[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(l,o,s){function a(b){return function(d){return d=String(c(d)),1&b&&(d=d.replace(u,"")),d=2&b?d.replace(y,""):d}}var c=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",u=RegExp("^"+l+l+"*"),y=RegExp(l+l+"*$");o.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(g,o,s){function a(A){return function(){P(A)}}function c(A){P(A.data)}function l(A){y.postMessage(A+"",p.protocol+"//"+p.host)}var u,y=g("../internals/global"),b=g("../internals/fails"),d=g("../internals/classof-raw"),f=g("../internals/function-bind-context"),h=g("../internals/html"),m=g("../internals/document-create-element"),g=g("../internals/engine-is-ios"),p=y.location,v=y.setImmediate,_=y.clearImmediate,w=y.process,S=y.MessageChannel,M=y.Dispatch,j=0,I={},D="onreadystatechange",P=function(A){var N;I.hasOwnProperty(A)&&(N=I[A],delete I[A],N())};v&&_||(v=function(A){for(var N=[],O=1;O<arguments.length;)N.push(arguments[O++]);return I[++j]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,N)},u(j),j},_=function(A){delete I[A]},d(w)=="process"?u=function(A){w.nextTick(a(A))}:M&&M.now?u=function(A){M.now(a(A))}:S&&!g?(g=(d=new S).port2,d.port1.onmessage=c,u=f(g.postMessage,g,1)):!y.addEventListener||typeof postMessage!="function"||y.importScripts||b(l)||p.protocol==="file:"?u=D in m("script")?function(A){h.appendChild(m("script"))[D]=function(){h.removeChild(this),P(A)}}:function(A){setTimeout(a(A),0)}:(u=l,y.addEventListener("message",c,!1))),o.exports={set:v,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,o,s){var a=t("../internals/classof-raw");o.exports=function(c){if(typeof c!="number"&&a(c)!="Number")throw TypeError("Incorrect invocation");return+c}},{"../internals/classof-raw":28}],134:[function(t,o,s){var a=t("../internals/to-integer"),c=Math.max,l=Math.min;o.exports=function(u,y){return u=a(u),u<0?c(u+y,0):l(u,y)}},{"../internals/to-integer":137}],135:[function(t,o,s){var a=t("../internals/to-integer"),c=t("../internals/to-length");o.exports=function(u){if(u===void 0)return 0;var u=a(u),y=c(u);if(u!==y)throw RangeError("Wrong length or index");return y}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,o,s){var a=t("../internals/indexed-object"),c=t("../internals/require-object-coercible");o.exports=function(l){return a(c(l))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,o,s){var a=Math.ceil,c=Math.floor;o.exports=function(l){return isNaN(l=+l)?0:(0<l?c:a)(l)}},{}],138:[function(t,o,s){var a=t("../internals/to-integer"),c=Math.min;o.exports=function(l){return 0<l?c(a(l),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,o,s){var a=t("../internals/require-object-coercible");o.exports=function(c){return Object(a(c))}},{"../internals/require-object-coercible":115}],140:[function(t,o,s){var a=t("../internals/to-positive-integer");o.exports=function(c,l){if(c=a(c),c%l)throw RangeError("Wrong offset");return c}},{"../internals/to-positive-integer":141}],141:[function(t,o,s){var a=t("../internals/to-integer");o.exports=function(c){if(c=a(c),c<0)throw RangeError("The argument can't be less than 0");return c}},{"../internals/to-integer":137}],142:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(c,l){if(!a(c))return c;var u,y;if(l&&typeof(u=c.toString)=="function"&&!a(y=u.call(c))||typeof(u=c.valueOf)=="function"&&!a(y=u.call(c))||!l&&typeof(u=c.toString)=="function"&&!a(y=u.call(c)))return y;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,o,s){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",o.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,o,s){"use strict";function a(ye,_e){for(var De=0,We=_e.length,Oe=new(te(ye))(We);De<We;)Oe[De]=_e[De++];return Oe}function c(ye,_e){E(ye,_e,{get:function(){return ae(this)[_e]}})}function l(ye){return ye instanceof ee||(ye=P(ye))=="ArrayBuffer"||ye=="SharedArrayBuffer"}function u(ye,_e){return he(ye)&&typeof _e!="symbol"&&_e in ye&&String(+_e)==String(_e)}function y(ye,_e){return u(ye,_e=I(_e,!0))?_(2,ye[_e]):B(ye,_e)}function b(ye,_e,De){return!(u(ye,_e=I(_e,!0))&&A(De)&&D(De,"value"))||D(De,"get")||D(De,"set")||De.configurable||D(De,"writable")&&!De.writable||D(De,"enumerable")&&!De.enumerable?E(ye,_e,De):(ye[_e]=De.value,ye)}var d=t("../internals/export"),f=t("../internals/global"),h=t("../internals/descriptors"),m=t("../internals/typed-array-constructors-require-wrappers"),g=t("../internals/array-buffer-view-core"),p=t("../internals/array-buffer"),v=t("../internals/an-instance"),_=t("../internals/create-property-descriptor"),w=t("../internals/create-non-enumerable-property"),S=t("../internals/to-length"),M=t("../internals/to-index"),j=t("../internals/to-offset"),I=t("../internals/to-primitive"),D=t("../internals/has"),P=t("../internals/classof"),A=t("../internals/is-object"),N=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),z=t("../internals/object-get-own-property-names").f,U=t("../internals/typed-array-from"),F=t("../internals/array-iteration").forEach,W=t("../internals/set-species"),$=t("../internals/object-define-property"),H=t("../internals/object-get-own-property-descriptor"),X=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),ae=X.get,L=X.set,E=$.f,B=H.f,G=Math.round,Q=f.RangeError,ee=p.ArrayBuffer,se=p.DataView,ue=g.NATIVE_ARRAY_BUFFER_VIEWS,ie=g.TYPED_ARRAY_TAG,de=g.TypedArray,fe=g.TypedArrayPrototype,te=g.aTypedArrayConstructor,he=g.isTypedArray,ve="BYTES_PER_ELEMENT",Ce="Wrong length";h?(ue||(H.f=y,$.f=b,c(fe,"buffer"),c(fe,"byteOffset"),c(fe,"byteLength"),c(fe,"length")),d({target:"Object",stat:!0,forced:!ue},{getOwnPropertyDescriptor:y,defineProperty:b}),o.exports=function(Se,_e,De){function We(Me,J){E(Me,J,{get:function(){var ne=this,Z=J;return(ne=ae(ne)).view[nt](Z*Oe+ne.byteOffset,!0)},set:function(ne){var Z=this,oe=J;Z=ae(Z),De&&(ne=(ne=G(ne))<0?0:255<ne?255:255&ne),Z.view[it](oe*Oe+Z.byteOffset,ne,!0)},enumerable:!0})}var Oe=Se.match(/\d+$/)[0]/8,st=Se+(De?"Clamped":"")+"Array",nt="get"+Se,it="set"+Se,ht=f[st],at=ht,Se=at&&at.prototype,Ge={};ue?m&&(at=_e(function(Me,J,ne,Z){return v(Me,at,st),K(A(J)?l(J)?Z!==void 0?new ht(J,j(ne,Oe),Z):ne!==void 0?new ht(J,j(ne,Oe)):new ht(J):he(J)?a(at,J):U.call(at,J):new ht(M(J)),Me,at)}),O&&O(at,de),F(z(ht),function(Me){Me in at||w(at,Me,ht[Me])}),at.prototype=Se):(at=_e(function(Me,J,ne,Z){v(Me,at,st);var oe,be,Ie=0,Ne=0;if(A(J)){if(!l(J))return he(J)?a(at,J):U.call(at,J);var Qe=J,Ne=j(ne,Oe),ne=J.byteLength;if(Z===void 0){if(ne%Oe||(oe=ne-Ne)<0)throw Q(Ce)}else if(ne<(oe=S(Z)*Oe)+Ne)throw Q(Ce);be=oe/Oe}else be=M(J),Qe=new ee(oe=be*Oe);for(L(Me,{buffer:Qe,byteOffset:Ne,byteLength:oe,length:be,view:new se(Qe)});Ie<be;)We(Me,Ie++)}),O&&O(at,de),Se=at.prototype=N(fe)),Se.constructor!==at&&w(Se,"constructor",at),ie&&w(Se,ie,st),Ge[st]=at,d({global:!0,forced:at!=ht,sham:!ue},Ge),ve in at||w(at,ve,Oe),ve in Se||w(Se,ve,Oe),W(st)}):o.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(u,o,s){var a=u("../internals/global"),c=u("../internals/fails"),l=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y=a.ArrayBuffer,b=a.Int8Array;o.exports=!u||!c(function(){b(1)})||!c(function(){new b(-1)})||!l(function(d){new b,new b(null),new b(1.5),new b(d)},!0)||c(function(){return new b(new y(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,o,s){var a=t("../internals/to-object"),c=t("../internals/to-length"),l=t("../internals/get-iterator-method"),u=t("../internals/is-array-iterator-method"),y=t("../internals/function-bind-context"),b=t("../internals/array-buffer-view-core").aTypedArrayConstructor;o.exports=function(d){var f,h,m,g,p,v,_=a(d),w=arguments.length,S=1<w?arguments[1]:void 0,M=S!==void 0,j=l(_);if(j!=null&&!u(j))for(v=(p=j.call(_)).next,_=[];!(g=v.call(p)).done;)_.push(g.value);for(M&&2<w&&(S=y(S,arguments[2],2)),h=c(_.length),m=new(b(this))(h),f=0;f<h;f++)m[f]=M?S(_[f],f):_[f];return m}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,o,s){var a=0,c=Math.random();o.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+c).toString(36)}},{}],148:[function(t,o,s){t=t("../internals/native-symbol"),o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,o,s){t=t("../internals/well-known-symbol"),s.f=t},{"../internals/well-known-symbol":150}],150:[function(b,o,s){var a=b("../internals/global"),c=b("../internals/shared"),l=b("../internals/has"),u=b("../internals/uid"),y=b("../internals/native-symbol"),b=b("../internals/use-symbol-as-uid"),d=c("wks"),f=a.Symbol,h=b?f:f&&f.withoutSetter||u;o.exports=function(m){return l(d,m)||(y&&l(f,m)?d[m]=f[m]:d[m]=h("Symbol."+m)),d[m]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,o,s){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(l,o,s){"use strict";var a=l("../internals/export"),c=l("../internals/global"),y=l("../internals/array-buffer"),l=l("../internals/set-species"),u="ArrayBuffer",y=y[u];a({global:!0,forced:c[u]!==y},{ArrayBuffer:y}),l(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(_,o,s){"use strict";var a=_("../internals/export"),c=_("../internals/fails"),l=_("../internals/is-array"),u=_("../internals/is-object"),y=_("../internals/to-object"),b=_("../internals/to-length"),d=_("../internals/create-property"),f=_("../internals/array-species-create"),h=_("../internals/array-method-has-species-support"),v=_("../internals/well-known-symbol"),_=_("../internals/engine-v8-version"),m=v("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",v=51<=_||!c(function(){var w=[];return w[m]=!1,w.concat()[0]!==w}),_=h("concat");a({target:"Array",proto:!0,forced:!v||!_},{concat:function(w){for(var S,M,j,I,D,P=y(this),A=f(P,0),N=0,O=-1,z=arguments.length;O<z;O++)if(D=void 0,!u(I=j=O===-1?P:arguments[O])||((D=I[m])!==void 0?!D:!l(I))){if(g<=N)throw TypeError(p);d(A,N++,j)}else{if(M=b(j.length),g<N+M)throw TypeError(p);for(S=0;S<M;S++,N++)S in j&&d(A,N,j[S])}return A.length=N,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(l,o,s){var a=l("../internals/export"),c=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:c}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(u,o,s){"use strict";var a=u("../internals/export"),c=u("../internals/array-iteration").every,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("every"),u=u("every");a({target:"Array",proto:!0,forced:!l||!u},{every:function(y){return c(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(l,o,s){var a=l("../internals/export"),c=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:c}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(u,o,s){"use strict";var a=u("../internals/export"),c=u("../internals/array-iteration").filter,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("filter"),u=u("filter");a({target:"Array",proto:!0,forced:!l||!u},{filter:function(y){return c(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(b,o,s){"use strict";var a=b("../internals/export"),c=b("../internals/array-iteration").findIndex,l=b("../internals/add-to-unscopables"),b=b("../internals/array-method-uses-to-length"),u="findIndex",y=!0,b=b(u);u in[]&&Array(1)[u](function(){y=!1}),a({target:"Array",proto:!0,forced:y||!b},{findIndex:function(d){return c(this,d,1<arguments.length?arguments[1]:void 0)}}),l(u)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/flatten-into-array"),l=t("../internals/to-object"),u=t("../internals/to-length"),y=t("../internals/a-function"),b=t("../internals/array-species-create");a({target:"Array",proto:!0},{flatMap:function(d){var f,h=l(this),m=u(h.length);return y(d),(f=b(h,0)).length=c(f,h,h,m,0,1,d,1<arguments.length?arguments[1]:void 0),f}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/flatten-into-array"),l=t("../internals/to-object"),u=t("../internals/to-length"),y=t("../internals/to-integer"),b=t("../internals/array-species-create");a({target:"Array",proto:!0},{flat:function(){var d=arguments.length?arguments[0]:void 0,f=l(this),h=u(f.length),m=b(f,0);return m.length=c(m,f,f,h,0,d===void 0?1:y(d)),m}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(c,o,s){"use strict";var a=c("../internals/export"),c=c("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,o,s){var a=t("../internals/export"),c=t("../internals/array-from");a({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:c})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/array-includes").includes,l=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return c(this,u,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(b,o,s){"use strict";var a=b("../internals/export"),c=b("../internals/array-includes").indexOf,y=b("../internals/array-method-is-strict"),b=b("../internals/array-method-uses-to-length"),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,y=y("indexOf"),b=b("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:u||!y||!b},{indexOf:function(d){return u?l.apply(this,arguments)||0:c(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(y,o,s){"use strict";var a=y("../internals/to-indexed-object"),c=y("../internals/add-to-unscopables"),l=y("../internals/iterators"),u=y("../internals/internal-state"),y=y("../internals/define-iterator"),b="Array Iterator",d=u.set,f=u.getterFor(b);o.exports=y(Array,"Array",function(h,m){d(this,{type:b,target:a(h),index:0,kind:m})},function(){var h=f(this),m=h.target,g=h.kind,p=h.index++;return!m||p>=m.length?{value:h.target=void 0,done:!0}:g=="keys"?{value:p,done:!1}:g=="values"?{value:m[p],done:!1}:{value:[p,m[p]],done:!1}},"values"),l.Arguments=l.Array,c("keys"),c("values"),c("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(y,o,s){"use strict";var a=y("../internals/export"),u=y("../internals/indexed-object"),c=y("../internals/to-indexed-object"),y=y("../internals/array-method-is-strict"),l=[].join,u=u!=Object,y=y("join",",");a({target:"Array",proto:!0,forced:u||!y},{join:function(b){return l.call(c(this),b===void 0?",":b)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(c,o,s){var a=c("../internals/export"),c=c("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:c!==[].lastIndexOf},{lastIndexOf:c})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(u,o,s){"use strict";var a=u("../internals/export"),c=u("../internals/array-iteration").map,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("map"),u=u("map");a({target:"Array",proto:!0,forced:!l||!u},{map:function(y){return c(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(m,o,s){"use strict";var a=m("../internals/export"),c=m("../internals/is-object"),l=m("../internals/is-array"),u=m("../internals/to-absolute-index"),y=m("../internals/to-length"),b=m("../internals/to-indexed-object"),d=m("../internals/create-property"),f=m("../internals/well-known-symbol"),h=m("../internals/array-method-has-species-support"),m=m("../internals/array-method-uses-to-length"),h=h("slice"),m=m("slice",{ACCESSORS:!0,0:0,1:2}),g=f("species"),p=[].slice,v=Math.max;a({target:"Array",proto:!0,forced:!h||!m},{slice:function(_,w){var S,M,j,I=b(this),D=y(I.length),P=u(_,D),A=u(w===void 0?D:w,D);if(l(I)&&((S=typeof(S=I.constructor)=="function"&&(S===Array||l(S.prototype))||c(S)&&(S=S[g])===null?void 0:S)===Array||S===void 0))return p.call(I,P,A);for(M=new(S===void 0?Array:S)(v(A-P,0)),j=0;P<A;P++,j++)P in I&&d(M,j,I[P]);return M.length=j,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(u,o,s){"use strict";var a=u("../internals/export"),c=u("../internals/array-iteration").some,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("some"),u=u("some");a({target:"Array",proto:!0,forced:!l||!u},{some:function(y){return c(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(h,o,s){"use strict";var a=h("../internals/export"),c=h("../internals/to-absolute-index"),l=h("../internals/to-integer"),u=h("../internals/to-length"),y=h("../internals/to-object"),b=h("../internals/array-species-create"),d=h("../internals/create-property"),f=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),f=f("splice"),h=h("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min;a({target:"Array",proto:!0,forced:!f||!h},{splice:function(N,v){var _,w,S,M,j,I,D=y(this),P=u(D.length),A=c(N,P),N=arguments.length;if(N===0?_=w=0:w=N===1?(_=0,P-A):(_=N-2,g(m(l(v),0),P-A)),9007199254740991<P+_-w)throw TypeError("Maximum allowed length exceeded");for(S=b(D,w),M=0;M<w;M++)(j=A+M)in D&&d(S,M,D[j]);if(_<(S.length=w)){for(M=A;M<P-w;M++)I=M+_,(j=M+w)in D?D[I]=D[j]:delete D[I];for(M=P;P-w+_<M;M--)delete D[M-1]}else if(w<_)for(M=P-w;A<M;M--)I=M+_-1,(j=M+w-1)in D?D[I]=D[j]:delete D[I];for(M=0;M<_;M++)D[M+A]=arguments[M+2];return D.length=P-w+_,S}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,o,s){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,o,s){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(c,o,s){var a=c("../internals/descriptors"),c=c("../internals/object-define-property").f,l=Function.prototype,u=l.toString,y=/^\s*function ([^ (]*)/;!a||"name"in l||c(l,"name",{configurable:!0,get:function(){try{return u.call(this).match(y)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(c,o,s){"use strict";var a=c("../internals/collection"),c=c("../internals/collection-strong");o.exports=a("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},c)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,o,s){var a=a("../internals/export"),c=Math.hypot,l=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,forced:!!c&&c(1/0,NaN)!==1/0},{hypot:function(y,b){for(var d,f,h=0,m=0,g=arguments.length,p=0;m<g;)p<(d=l(arguments[m++]))?(h=h*(f=p/d)*f+1,p=d):h+=0<d?(f=d/p)*f:d;return p===1/0?1/0:p*u(h)}})},{"../internals/export":50}],177:[function(a,o,s){var a=a("../internals/export"),c=Math.log,l=Math.LN2;a({target:"Math",stat:!0},{log2:function(u){return c(u)/l}})},{"../internals/export":50}],178:[function(t,o,s){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,o,s){"use strict";function a(O){var z,U,F,W,$,H,X,K=h(O,!1);if(typeof K=="string"&&2<K.length){if((O=(K=w(K)).charCodeAt(0))===43||O===45){if((z=K.charCodeAt(2))===88||z===120)return NaN}else if(O===48){switch(K.charCodeAt(1)){case 66:case 98:U=2,F=49;break;case 79:case 111:U=8,F=55;break;default:return+K}for($=(W=K.slice(2)).length,H=0;H<$;H++)if((X=W.charCodeAt(H))<48||F<X)return NaN;return parseInt(W,U)}}return+K}var c=t("../internals/descriptors"),l=t("../internals/global"),u=t("../internals/is-forced"),y=t("../internals/redefine"),b=t("../internals/has"),d=t("../internals/classof-raw"),f=t("../internals/inherit-if-required"),h=t("../internals/to-primitive"),m=t("../internals/fails"),g=t("../internals/object-create"),p=t("../internals/object-get-own-property-names").f,v=t("../internals/object-get-own-property-descriptor").f,_=t("../internals/object-define-property").f,w=t("../internals/string-trim").trim,S="Number",M=l[S],j=M.prototype,I=d(g(j))==S;if(u(S,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var D,P=function(z){var z=arguments.length<1?0:z,U=this;return U instanceof P&&(I?m(function(){j.valueOf.call(U)}):d(U)!=S)?f(new M(a(z)),U,P):a(z)},A=c?p(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;A.length>N;N++)b(M,D=A[N])&&!b(P,D)&&_(P,D,v(M,D));(P.prototype=j).constructor=P,y(l,S,P)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,o,s){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,o,s){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(b,o,s){"use strict";function a(h,m,g){return m===0?g:m%2==1?a(h,m-1,g*h):a(h*h,m/2,g)}var c=b("../internals/export"),l=b("../internals/to-integer"),u=b("../internals/this-number-value"),y=b("../internals/string-repeat"),b=b("../internals/fails"),d=1 .toFixed,f=Math.floor;c({target:"Number",proto:!0,forced:d&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!b(function(){d.call({})})},{toFixed:function(S){function m(D,P){for(var A=-1,N=P;++A<6;)N+=D*M[A],M[A]=N%1e7,N=f(N/1e7)}function g(D){for(var P=6,A=0;0<=--P;)A+=M[P],M[P]=f(A/D),A=A%D*1e7}function p(){for(var D,P=6,A="";0<=--P;)A===""&&P!==0&&M[P]===0||(D=String(M[P]),A=A===""?D:A+y.call("0",7-D.length)+D);return A}var v,_,w=u(this),S=l(S),M=[0,0,0,0,0,0],j="",I="0";if(S<0||20<S)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(j="-",w=-w),1e-21<w)if(w=(v=function(D){for(var P=0,A=D;4096<=A;)P+=12,A/=4096;for(;2<=A;)P+=1,A/=2;return P}(w*a(2,69,1))-69)<0?w*a(2,-v,1):w/a(2,v,1),w*=4503599627370496,0<(v=52-v)){for(m(0,w),_=S;7<=_;)m(1e7,0),_-=7;for(m(a(10,_,1),0),_=v-1;23<=_;)g(1<<23),_-=23;g(1<<_),m(1,1),g(2),I=p()}else m(0,w),m(1<<-v,0),I=p()+y.call("0",S);return I=0<S?j+((w=I.length)<=S?"0."+y.call("0",S-w)+I:I.slice(0,w-S)+"."+I.slice(w-S)):j+I}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(c,o,s){var a=c("../internals/export"),c=c("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,o,s){var a=t("../internals/export"),c=t("../internals/object-to-array").entries;a({target:"Object",stat:!0},{entries:function(l){return c(l)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,o,s){var a=t("../internals/export"),c=t("../internals/iterate"),l=t("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(u){var y={};return c(u,function(b,d){l(y,b,d)},void 0,!0),y}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(u,o,s){var a=u("../internals/export"),y=u("../internals/fails"),c=u("../internals/to-indexed-object"),l=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),y=y(function(){l(1)});a({target:"Object",stat:!0,forced:!u||y,sham:!u},{getOwnPropertyDescriptor:function(b,d){return l(c(b),d)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(l,o,s){var a=l("../internals/export"),c=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(y,o,s){var a=y("../internals/export"),c=y("../internals/fails"),l=y("../internals/to-object"),u=y("../internals/object-get-prototype-of"),y=y("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!y},{getPrototypeOf:function(b){return u(l(b))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,o,s){var a=t("../internals/export"),c=t("../internals/to-object"),l=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(u){return l(c(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(l,o,s){var a=l("../internals/to-string-tag-support"),c=l("../internals/redefine"),l=l("../internals/object-to-string");a||c(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(De,o,s){"use strict";var a,c,l,u,y=De("../internals/export"),b=De("../internals/is-pure"),d=De("../internals/global"),f=De("../internals/get-built-in"),h=De("../internals/native-promise-constructor"),m=De("../internals/redefine"),g=De("../internals/redefine-all"),p=De("../internals/set-to-string-tag"),v=De("../internals/set-species"),_=De("../internals/is-object"),w=De("../internals/a-function"),S=De("../internals/an-instance"),M=De("../internals/classof-raw"),j=De("../internals/inspect-source"),I=De("../internals/iterate"),D=De("../internals/check-correctness-of-iteration"),P=De("../internals/species-constructor"),A=De("../internals/task").set,N=De("../internals/microtask"),O=De("../internals/promise-resolve"),z=De("../internals/host-report-errors"),U=De("../internals/new-promise-capability"),F=De("../internals/perform"),W=De("../internals/internal-state"),$=De("../internals/is-forced"),We=De("../internals/well-known-symbol"),H=De("../internals/engine-v8-version"),X=We("species"),K="Promise",ae=W.get,L=W.set,E=W.getterFor(K),B=h,G=d.TypeError,Q=d.document,ee=d.process,se=f("fetch"),ue=U.f,ie=ue,de=M(ee)=="process",fe=!!(Q&&Q.createEvent&&d.dispatchEvent),te="unhandledrejection",he="rejectionhandled",ve=1,Ce=2,ye=1,_e=2,De=$(K,function(){var Ge,Me;return j(B)===String(B)&&(H===66||!de&&typeof PromiseRejectionEvent!="function")?!0:!(!b||B.prototype.finally)||!(51<=H&&/native code/.test(B))&&(Me=function(J){J(function(){},function(){})},((Ge=B.resolve(1)).constructor={})[X]=Me,!(Ge.then(function(){})instanceof Me))}),We=De||!D(function(Ge){B.all(Ge).catch(function(){})}),Oe=function(Ge){var Me;return!(!_(Ge)||typeof(Me=Ge.then)!="function")&&Me},st=function(Ge,Me,J){var ne;Me.notified||(Me.notified=!0,ne=Me.reactions,N(function(){for(var Z,oe,be=Me.value,Ie=Me.state==ve,Ne=0;ne.length>Ne;){var Qe,tt,rt,ft=ne[Ne++],Qt=Ie?ft.ok:ft.fail,Nt=ft.resolve,St=ft.reject,zt=ft.domain;try{Qt?(Ie||(Me.rejection===_e&&function(Pt,Br){A.call(d,function(){de?ee.emit("rejectionHandled",Pt):nt(he,Pt,Br.value)})}(Ge,Me),Me.rejection=ye),Qt===!0?Qe=be:(zt&&zt.enter(),Qe=Qt(be),zt&&(zt.exit(),rt=!0)),Qe===ft.promise?St(G("Promise-chain cycle")):(tt=Oe(Qe))?tt.call(Qe,Nt,St):Nt(Qe)):St(be)}catch(Pt){zt&&!rt&&zt.exit(),St(Pt)}}Me.reactions=[],Me.notified=!1,J&&!Me.rejection&&(Z=Ge,oe=Me,A.call(d,function(){var Pt=oe.value,Br=it(oe);if(Br&&(Br=F(function(){de?ee.emit("unhandledRejection",Pt,Z):nt(te,Z,Pt)}),oe.rejection=de||it(oe)?_e:ye,Br.error))throw Br.value}))}))},nt=function(Ge,Me,J){var ne;fe?((ne=Q.createEvent("Event")).promise=Me,ne.reason=J,ne.initEvent(Ge,!1,!0),d.dispatchEvent(ne)):ne={promise:Me,reason:J},(Me=d["on"+Ge])?Me(ne):Ge===te&&z("Unhandled promise rejection",J)},it=function(Ge){return Ge.rejection!==ye&&!Ge.parent},ht=function(Ge,Me,J,ne){return function(Z){Ge(Me,J,Z,ne)}},at=function(Ge,Me,J,ne){Me.done||(Me.done=!0,(Me=ne||Me).value=J,Me.state=Ce,st(Ge,Me,!0))},Se=function(Ge,Me,J,ne){if(!Me.done){Me.done=!0,ne&&(Me=ne);try{if(Ge===J)throw G("Promise can't be resolved itself");var Z=Oe(J);Z?N(function(){var oe={done:!1};try{Z.call(J,ht(Se,Ge,oe,Me),ht(at,Ge,oe,Me))}catch(be){at(Ge,oe,be,Me)}}):(Me.value=J,Me.state=ve,st(Ge,Me,!1))}catch(oe){at(Ge,{done:!1},oe,Me)}}};De&&(B=function(Ge){S(this,B,K),w(Ge),a.call(this);var Me=ae(this);try{Ge(ht(Se,this,Me),ht(at,this,Me))}catch(J){at(this,Me,J)}},(a=function(Ge){L(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(B.prototype,{then:function(Ge,Me){var J=E(this),ne=ue(P(this,B));return ne.ok=typeof Ge!="function"||Ge,ne.fail=typeof Me=="function"&&Me,ne.domain=de?ee.domain:void 0,J.parent=!0,J.reactions.push(ne),J.state!=0&&st(this,J,!1),ne.promise},catch:function(Ge){return this.then(void 0,Ge)}}),c=function(){var Ge=new a,Me=ae(Ge);this.promise=Ge,this.resolve=ht(Se,Ge,Me),this.reject=ht(at,Ge,Me)},U.f=ue=function(Ge){return Ge===B||Ge===l?new c:ie(Ge)},b||typeof h!="function"||(u=h.prototype.then,m(h.prototype,"then",function(Ge,Me){var J=this;return new B(function(ne,Z){u.call(J,ne,Z)}).then(Ge,Me)},{unsafe:!0}),typeof se=="function"&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(Ge){return O(B,se.apply(d,arguments))}}))),y({global:!0,wrap:!0,forced:De},{Promise:B}),p(B,K,!1,!0),v(K),l=f(K),y({target:K,stat:!0,forced:De},{reject:function(Ge){var Me=ue(this);return Me.reject.call(void 0,Ge),Me.promise}}),y({target:K,stat:!0,forced:b||De},{resolve:function(Ge){return O(b&&this===l?B:this,Ge)}}),y({target:K,stat:!0,forced:We},{all:function(Ge){var Me=this,J=ue(Me),ne=J.resolve,Z=J.reject,oe=F(function(){var be=w(Me.resolve),Ie=[],Ne=0,Qe=1;I(Ge,function(tt){var rt=Ne++,ft=!1;Ie.push(void 0),Qe++,be.call(Me,tt).then(function(Qt){ft||(ft=!0,Ie[rt]=Qt,--Qe||ne(Ie))},Z)}),--Qe||ne(Ie)});return oe.error&&Z(oe.value),J.promise},race:function(Ge){var Me=this,J=ue(Me),ne=J.reject,Z=F(function(){var oe=w(Me.resolve);I(Ge,function(be){oe.call(Me,be).then(J.resolve,ne)})});return Z.error&&ne(Z.value),J.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(d,o,s){var a=d("../internals/export"),g=d("../internals/get-built-in"),c=d("../internals/a-function"),l=d("../internals/an-object"),u=d("../internals/is-object"),y=d("../internals/object-create"),b=d("../internals/function-bind"),d=d("../internals/fails"),f=g("Reflect","construct"),h=d(function(){function p(){}return!(f(function(){},[],p)instanceof p)}),m=!d(function(){f(function(){})}),g=h||m;a({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(p,v){c(p),l(v);var _=arguments.length<3?p:c(arguments[2]);if(m&&!h)return f(p,v,_);if(p==_){switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3])}var w=[null];return w.push.apply(w,v),new(b.apply(p,w))}return w=_.prototype,_=y(u(w)?w:Object.prototype),w=Function.apply.call(p,_,v),u(w)?w:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,o,s){var a=t("../internals/export"),c=t("../internals/is-object"),l=t("../internals/an-object"),u=t("../internals/has"),y=t("../internals/object-get-own-property-descriptor"),b=t("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function d(f,h){var m,g=arguments.length<3?f:arguments[2];return l(f)===g?f[h]:(m=y.f(f,h))?u(m,"value")?m.value:m.get===void 0?void 0:m.get.call(g):c(m=b(f))?d(m,h,g):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,o,s){var a=t("../internals/descriptors"),c=t("../internals/global"),l=t("../internals/is-forced"),u=t("../internals/inherit-if-required"),y=t("../internals/object-define-property").f,b=t("../internals/object-get-own-property-names").f,d=t("../internals/is-regexp"),f=t("../internals/regexp-flags"),h=t("../internals/regexp-sticky-helpers"),m=t("../internals/redefine"),g=t("../internals/fails"),p=t("../internals/internal-state").set,v=t("../internals/set-species"),_=t("../internals/well-known-symbol")("match"),w=c.RegExp,S=w.prototype,M=/a/g,j=/a/g,I=new w(M)!==M,D=h.UNSUPPORTED_Y;if(a&&l("RegExp",!I||D||g(function(){return j[_]=!1,w(M)!=M||w(j)==j||w(M,"i")!="/a/i"}))){for(var P=function(O,z){var U,F=this instanceof P,W=d(O),$=z===void 0;return!F&&W&&O.constructor===P&&$?O:(I?W&&!$&&(O=O.source):O instanceof P&&($&&(z=f.call(O)),O=O.source),D&&(U=!!z&&-1<z.indexOf("y"))&&(z=z.replace(/y/g,"")),W=u(I?new w(O,z):w(O,z),F?this:S,P),D&&U&&p(W,{sticky:U}),W)},A=b(w),N=0;A.length>N;)(function(O){O in P||y(P,O,{configurable:!0,get:function(){return w[O]},set:function(z){w[O]=z}})})(A[N++]);(S.constructor=P).prototype=S,m(c,"RegExp",P)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(c,o,s){"use strict";var a=c("../internals/export"),c=c("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(u,o,s){"use strict";var a=u("../internals/redefine"),c=u("../internals/an-object"),d=u("../internals/fails"),l=u("../internals/regexp-flags"),u="toString",y=RegExp.prototype,b=y[u],d=d(function(){return b.call({source:"a",flags:"b"})!="/a/b"}),f=b.name!=u;(d||f)&&a(RegExp.prototype,u,function(){var h=c(this),m=String(h.source),g=h.flags;return"/"+m+"/"+String(g===void 0&&h instanceof RegExp&&!("flags"in y)?l.call(h):g)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(c,o,s){"use strict";var a=c("../internals/collection"),c=c("../internals/collection-strong");o.exports=a("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},c)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(b,o,s){"use strict";var a=b("../internals/export"),c=b("../internals/object-get-own-property-descriptor").f,l=b("../internals/to-length"),u=b("../internals/not-a-regexp"),y=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),b=b("../internals/is-pure"),d="".endsWith,f=Math.min,h=h("endsWith");a({target:"String",proto:!0,forced:!!(b||h||!(a=c(String.prototype,"endsWith"))||a.writable)&&!h},{endsWith:function(m){var g=String(y(this)),p=(u(m),1<arguments.length?arguments[1]:void 0),v=l(g.length),p=p===void 0?v:f(l(p),v),v=String(m);return d?d.call(g,v,p):g.slice(p-v.length,p)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(l(this)).indexOf(c(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(l,o,s){"use strict";var a=l("../internals/string-multibyte").charAt,c=l("../internals/internal-state"),l=l("../internals/define-iterator"),u="String Iterator",y=c.set,b=c.getterFor(u);l(String,"String",function(d){y(this,{type:u,string:String(d),index:0})},function(){var d=b(this),f=d.string,h=d.index;return h>=f.length?{value:void 0,done:!0}:(f=a(f,h),d.index+=f.length,{value:f,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,o,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),l=t("../internals/to-length"),u=t("../internals/require-object-coercible"),y=t("../internals/advance-string-index"),b=t("../internals/regexp-exec-abstract");a("match",1,function(d,f,h){return[function(m){var g=u(this),p=m?.[d];return p!==void 0?p.call(m,g):new RegExp(m)[d](String(g))},function(m){var g=h(f,m,this);if(g.done)return g.value;var p=c(m),v=String(this);if(!p.global)return b(p,v);for(var _=p.unicode,w=[],S=p.lastIndex=0;(M=b(p,v))!==null;){var M=String(M[0]);(w[S]=M)===""&&(p.lastIndex=y(v,l(p.lastIndex),_)),S++}return S===0?null:w}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/string-pad").start;a({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(l){return c(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,o,s){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,o,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),l=t("../internals/to-object"),u=t("../internals/to-length"),y=t("../internals/to-integer"),b=t("../internals/require-object-coercible"),d=t("../internals/advance-string-index"),f=t("../internals/regexp-exec-abstract"),h=Math.max,m=Math.min,g=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;a("replace",2,function(_,w,S,M){var j=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,I=M.REPLACE_KEEPS_$0,D=j?"$":"$0";return[function(P,A){var N=b(this),O=P?.[_];return O!==void 0?O.call(P,N,A):w.call(String(N),P,A)},function(P,A){if(!j&&I||typeof A=="string"&&A.indexOf(D)===-1){var N=S(w,P,this,A);if(N.done)return N.value}for(var O,z=c(P),U=String(this),F=typeof A=="function",W=(F||(A=String(A)),z.global),$=(W&&(O=z.unicode,z.lastIndex=0),[]);(L=f(z,U))!==null&&($.push(L),W);)String(L[0])===""&&(z.lastIndex=d(U,u(z.lastIndex),O));for(var H,X="",K=0,ae=0;ae<$.length;ae++){for(var L=$[ae],E=String(L[0]),B=h(m(y(L.index),U.length),0),G=[],Q=1;Q<L.length;Q++)G.push((H=L[Q])===void 0?H:String(H));var ee=L.groups,se=F?(se=[E].concat(G,B,U),ee!==void 0&&se.push(ee),String(A.apply(void 0,se))):function(ue,ie,de,fe,te,he){var ve=de+ue.length,Ce=fe.length,ye=v;return te!==void 0&&(te=l(te),ye=p),w.call(he,ye,function(_e,De){var We;switch(De.charAt(0)){case"$":return"$";case"&":return ue;case"`":return ie.slice(0,de);case"'":return ie.slice(ve);case"<":We=te[De.slice(1,-1)];break;default:var Oe,st=+De;if(st==0)return _e;if(Ce<st)return(Oe=g(st/10))!==0&&Oe<=Ce?fe[Oe-1]===void 0?De.charAt(1):fe[Oe-1]+De.charAt(1):_e;We=fe[st-1]}return We===void 0?"":We})}(E,U,B,G,ee,A);K<=B&&(X+=U.slice(K,B)+se,K=B+E.length)}return X+U.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,o,s){"use strict";var a=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),l=t("../internals/require-object-coercible"),u=t("../internals/same-value"),y=t("../internals/regexp-exec-abstract");a("search",1,function(b,d,f){return[function(h){var m=l(this),g=h?.[b];return g!==void 0?g.call(h,m):new RegExp(h)[b](String(m))},function(h){var m,g=f(d,h,this);return g.done?g.value:(g=c(h),h=String(this),m=g.lastIndex,u(m,0)||(g.lastIndex=0),h=y(g,h),u(g.lastIndex,m)||(g.lastIndex=m),h===null?-1:h.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(m,o,s){"use strict";var a=m("../internals/fix-regexp-well-known-symbol-logic"),c=m("../internals/is-regexp"),l=m("../internals/an-object"),u=m("../internals/require-object-coercible"),y=m("../internals/species-constructor"),b=m("../internals/advance-string-index"),d=m("../internals/to-length"),f=m("../internals/regexp-exec-abstract"),h=m("../internals/regexp-exec"),m=m("../internals/fails"),g=[].push,p=Math.min,v=4294967295,_=!m(function(){return!RegExp(v,"y")});a("split",2,function(w,S,M){var j="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(I,D){var P=String(u(this)),A=D===void 0?v:D>>>0;if(A==0)return[];if(I===void 0)return[P];if(!c(I))return S.call(P,I,A);for(var N,O,z,U=[],D=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(I.sticky?"y":""),F=0,W=new RegExp(I.source,D+"g");(N=h.call(W,P))&&!(F<(O=W.lastIndex)&&(U.push(P.slice(F,N.index)),1<N.length&&N.index<P.length&&g.apply(U,N.slice(1)),z=N[0].length,F=O,U.length>=A));)W.lastIndex===N.index&&W.lastIndex++;return F===P.length?!z&&W.test("")||U.push(""):U.push(P.slice(F)),U.length>A?U.slice(0,A):U}:"0".split(void 0,0).length?function(I,D){return I===void 0&&D===0?[]:S.call(this,I,D)}:S;return[function(I,D){var P=u(this),A=I?.[w];return A!==void 0?A.call(I,P,D):j.call(String(P),I,D)},function(N,D){var P=M(j,N,this,D,j!==S);if(P.done)return P.value;var P=l(N),A=String(this),N=y(P,RegExp),O=P.unicode,z=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(_?"y":"g"),U=new N(_?P:"^(?:"+P.source+")",z),F=D===void 0?v:D>>>0;if(F==0)return[];if(A.length===0)return f(U,A)===null?[A]:[];for(var W=0,$=0,H=[];$<A.length;){U.lastIndex=_?$:0;var X,K=f(U,_?A:A.slice($));if(K===null||(X=p(d(U.lastIndex+(_?0:$)),A.length))===W)$=b(A,$,O);else{if(H.push(A.slice(W,$)),H.length===F)return H;for(var ae=1;ae<=K.length-1;ae++)if(H.push(K[ae]),H.length===F)return H;$=W=X}}return H.push(A.slice(W)),H}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(b,o,s){"use strict";var a=b("../internals/export"),c=b("../internals/object-get-own-property-descriptor").f,l=b("../internals/to-length"),u=b("../internals/not-a-regexp"),y=b("../internals/require-object-coercible"),h=b("../internals/correct-is-regexp-logic"),b=b("../internals/is-pure"),d="".startsWith,f=Math.min,h=h("startsWith");a({target:"String",proto:!0,forced:!!(b||h||!(a=c(String.prototype,"startsWith"))||a.writable)&&!h},{startsWith:function(v){var g=String(y(this)),p=(u(v),l(f(1<arguments.length?arguments[1]:void 0,g.length))),v=String(v);return d?d.call(g,v,p):g.slice(p,p+v.length)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/create-html");a({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return c(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,o,s){"use strict";var a=t("../internals/export"),c=t("../internals/string-trim").trim;a({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return c(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(p,o,s){"use strict";var a,c,l,u,y,b=p("../internals/export"),d=p("../internals/descriptors"),f=p("../internals/global"),h=p("../internals/has"),m=p("../internals/is-object"),g=p("../internals/object-define-property").f,p=p("../internals/copy-constructor-properties"),v=f.Symbol;!d||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(a={},p(c=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof c?new v(_):_===void 0?v():v(_);return _===""&&(a[w]=!0),w},v),(f=c.prototype=v.prototype).constructor=c,l=f.toString,u=String(v("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/,g(f,"description",{configurable:!0,get:function(){var _=m(this)?this.valueOf():this,w=l.call(_);return h(a,_)?"":(_=u?w.slice(7,-1):w.replace(y,"$1"))===""?void 0:_}}),b({global:!0,forced:!0},{Symbol:c}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,o,s){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(ie,o,s){"use strict";function a(Z,oe){var be=We[Z]=P(he[ue]);return de(be,{type:se,tag:Z,description:oe}),h||(be.description=oe),be}function c(Z,Ie){S(Z);var be=j(Ie),Ie=A(be).concat(ne(be));return Q(Ie,function(Ne){h&&!J.call(be,Ne)||Me(Z,Ne,be[Ne])}),Z}function l(Ie,Ne){var be,Ie=j(Ie),Ne=I(Ne,!0);if(Ie!==te||!v(We,Ne)||v(Oe,Ne))return!(be=Ce(Ie,Ne))||!v(We,Ne)||v(Ie,ee)&&Ie[ee][Ne]||(be.enumerable=!0),be}function u(oe){var oe=_e(j(oe)),be=[];return Q(oe,function(Ie){v(We,Ie)||v(K,Ie)||be.push(Ie)}),be}var y=ie("../internals/export"),b=ie("../internals/global"),d=ie("../internals/get-built-in"),f=ie("../internals/is-pure"),h=ie("../internals/descriptors"),m=ie("../internals/native-symbol"),g=ie("../internals/use-symbol-as-uid"),p=ie("../internals/fails"),v=ie("../internals/has"),_=ie("../internals/is-array"),w=ie("../internals/is-object"),S=ie("../internals/an-object"),M=ie("../internals/to-object"),j=ie("../internals/to-indexed-object"),I=ie("../internals/to-primitive"),D=ie("../internals/create-property-descriptor"),P=ie("../internals/object-create"),A=ie("../internals/object-keys"),N=ie("../internals/object-get-own-property-names"),O=ie("../internals/object-get-own-property-names-external"),z=ie("../internals/object-get-own-property-symbols"),U=ie("../internals/object-get-own-property-descriptor"),F=ie("../internals/object-define-property"),W=ie("../internals/object-property-is-enumerable"),$=ie("../internals/create-non-enumerable-property"),H=ie("../internals/redefine"),X=ie("../internals/shared"),it=ie("../internals/shared-key"),K=ie("../internals/hidden-keys"),ae=ie("../internals/uid"),L=ie("../internals/well-known-symbol"),E=ie("../internals/well-known-symbol-wrapped"),B=ie("../internals/define-well-known-symbol"),G=ie("../internals/set-to-string-tag"),ht=ie("../internals/internal-state"),Q=ie("../internals/array-iteration").forEach,ee=it("hidden"),se="Symbol",ue="prototype",ie=L("toPrimitive"),de=ht.set,fe=ht.getterFor(se),te=Object[ue],he=b.Symbol,ve=d("JSON","stringify"),Ce=U.f,ye=F.f,_e=O.f,De=W.f,We=X("symbols"),Oe=X("op-symbols"),st=X("string-to-symbol-registry"),nt=X("symbol-to-string-registry"),it=X("wks"),ht=b.QObject,at=!ht||!ht[ue]||!ht[ue].findChild,Se=h&&p(function(){return P(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!=7})?function(Z,oe,be){var Ie=Ce(te,oe);Ie&&delete te[oe],ye(Z,oe,be),Ie&&Z!==te&&ye(te,oe,Ie)}:ye,Ge=g?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof he},Me=function(Z,oe,be){return Z===te&&Me(Oe,oe,be),S(Z),oe=I(oe,!0),S(be),(v(We,oe)?(be.enumerable?(v(Z,ee)&&Z[ee][oe]&&(Z[ee][oe]=!1),be=P(be,{enumerable:D(0,!1)})):(v(Z,ee)||ye(Z,ee,D(1,{})),Z[ee][oe]=!0),Se):ye)(Z,oe,be)},J=function(oe){var oe=I(oe,!0),be=De.call(this,oe);return!(this===te&&v(We,oe)&&!v(Oe,oe))&&(!(be||!v(this,oe)||!v(We,oe)||v(this,ee)&&this[ee][oe])||be)},ne=function(be){var oe=be===te,be=_e(oe?Oe:j(be)),Ie=[];return Q(be,function(Ne){!v(We,Ne)||oe&&!v(te,Ne)||Ie.push(We[Ne])}),Ie};m||(H((he=function(){if(this instanceof he)throw TypeError("Symbol is not a constructor");var Z=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,oe=ae(Z),be=function(Ie){this===te&&be.call(Oe,Ie),v(this,ee)&&v(this[ee],oe)&&(this[ee][oe]=!1),Se(this,oe,D(1,Ie))};return h&&at&&Se(te,oe,{configurable:!0,set:be}),a(oe,Z)})[ue],"toString",function(){return fe(this).tag}),H(he,"withoutSetter",function(Z){return a(ae(Z),Z)}),W.f=J,F.f=Me,U.f=l,N.f=O.f=u,z.f=ne,E.f=function(Z){return a(L(Z),Z)},h&&(ye(he[ue],"description",{configurable:!0,get:function(){return fe(this).description}}),f||H(te,"propertyIsEnumerable",J,{unsafe:!0}))),y({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:he}),Q(A(it),function(Z){B(Z)}),y({target:se,stat:!0,forced:!m},{for:function(be){var oe,be=String(be);return v(st,be)?st[be]:(oe=he(be),st[be]=oe,nt[oe]=be,oe)},keyFor:function(Z){if(!Ge(Z))throw TypeError(Z+" is not a symbol");if(v(nt,Z))return nt[Z]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),y({target:"Object",stat:!0,forced:!m,sham:!h},{create:function(Z,oe){return oe===void 0?P(Z):c(P(Z),oe)},defineProperty:Me,defineProperties:c,getOwnPropertyDescriptor:l}),y({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:u,getOwnPropertySymbols:ne}),y({target:"Object",stat:!0,forced:p(function(){z.f(1)})},{getOwnPropertySymbols:function(Z){return z.f(M(Z))}}),ve&&y({target:"JSON",stat:!0,forced:!m||p(function(){var Z=he();return ve([Z])!="[null]"||ve({a:Z})!="{}"||ve(Object(Z))!="{}"})},{stringify:function(Z,oe,be){for(var Ie,Ne=[Z],Qe=1;Qe<arguments.length;)Ne.push(arguments[Qe++]);if((w(Ie=oe)||Z!==void 0)&&!Ge(Z))return _(oe)||(oe=function(tt,rt){if(typeof Ie=="function"&&(rt=Ie.call(this,tt,rt)),!Ge(rt))return rt}),Ne[1]=oe,ve.apply(null,Ne)}}),he[ue][ie]||$(he[ue],ie,he[ue].valueOf),G(he,se),K[ee]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-copy-within"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(u,y){return c.call(l(this),u,y,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-fill"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(u){return c.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").filter,l=t("../internals/species-constructor"),u=a.aTypedArray,y=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(b){for(var d=c(u(this),b,1<arguments.length?arguments[1]:void 0),b=l(this,this.constructor),f=0,h=d.length,m=new(y(b))(h);f<h;)m[f]=d[f++];return m})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,o,s){t("../internals/typed-array-constructor")("Float32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],220:[function(t,o,s){t("../internals/typed-array-constructor")("Float64",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],221:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(u){c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-includes").includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-includes").indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,o,s){t("../internals/typed-array-constructor")("Int16",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],225:[function(t,o,s){t("../internals/typed-array-constructor")("Int32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],226:[function(c,o,s){"use strict";function a(){return l.call(b(this))}var h=c("../internals/global"),f=c("../internals/array-buffer-view-core"),d=c("../modules/es.array.iterator"),c=c("../internals/well-known-symbol")("iterator"),h=h.Uint8Array,l=d.values,u=d.keys,y=d.entries,b=f.aTypedArray,d=f.exportTypedArrayMethod,f=h&&h.prototype[c],h=!!f&&(f.name=="values"||f.name==null);d("entries",function(){return y.call(b(this))}),d("keys",function(){return u.call(b(this))}),d("values",a,!h),d(c,a,!h)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(c,o,s){"use strict";var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=[].join;c("join",function(u){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-last-index-of"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(u){return c.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").map,l=t("../internals/species-constructor"),u=a.aTypedArray,y=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(b){return c(u(this),b,1<arguments.length?arguments[1]:void 0,function(d,f){return new(y(l(d,d.constructor)))(f)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-reduce").right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(u){return c(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-reduce").left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(u){return c(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(c,o,s){"use strict";var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=Math.floor;c("reverse",function(){for(var u,y=a(this).length,b=l(y/2),d=0;d<b;)u=this[d],this[d++]=this[--y],this[y]=u;return this})},{"../internals/array-buffer-view-core":12}],233:[function(y,o,s){"use strict";var a=y("../internals/array-buffer-view-core"),c=y("../internals/to-length"),l=y("../internals/to-offset"),u=y("../internals/to-object"),y=y("../internals/fails"),b=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(d){b(this);var f=l(1<arguments.length?arguments[1]:void 0,1),h=this.length,m=u(d),g=c(m.length),p=0;if(h<g+f)throw RangeError("Wrong length");for(;p<g;)this[f+p]=m[p++]},y(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(c,o,s){"use strict";var y=c("../internals/array-buffer-view-core"),a=c("../internals/species-constructor"),c=c("../internals/fails"),l=y.aTypedArray,u=y.aTypedArrayConstructor,y=y.exportTypedArrayMethod,b=[].slice;y("slice",function(d,f){for(var h=b.call(l(this),d,f),d=a(this,this.constructor),m=0,g=h.length,p=new(u(d))(g);m<g;)p[m]=h[m++];return p},c(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/array-iteration").some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(u){return c(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(c,o,s){"use strict";var c=c("../internals/array-buffer-view-core"),a=c.aTypedArray,c=c.exportTypedArrayMethod,l=[].sort;c("sort",function(u){return l.call(a(this),u)})},{"../internals/array-buffer-view-core":12}],237:[function(t,o,s){"use strict";var a=t("../internals/array-buffer-view-core"),c=t("../internals/to-length"),l=t("../internals/to-absolute-index"),u=t("../internals/species-constructor"),y=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(m,d){var f=y(this),h=f.length,m=l(m,h);return new(u(f,f.constructor))(f.buffer,f.byteOffset+m*f.BYTES_PER_ELEMENT,c((d===void 0?h:l(d,h))-m))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(c,o,s){"use strict";var y=c("../internals/global"),a=c("../internals/array-buffer-view-core"),c=c("../internals/fails"),l=y.Int8Array,u=a.aTypedArray,y=a.exportTypedArrayMethod,b=[].toLocaleString,d=[].slice,f=!!l&&c(function(){b.call(new l(1))});y("toLocaleString",function(){return b.apply(f?d.call(u(this)):u(this),arguments)},c(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!c(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(c,o,s){"use strict";var a=c("../internals/array-buffer-view-core").exportTypedArrayMethod,y=c("../internals/fails"),c=c("../internals/global").Uint8Array,c=c&&c.prototype||{},l=[].toString,u=[].join,y=(y(function(){l.call({})})&&(l=function(){return u.call(this)}),c.toString!=l);a("toString",l,y)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,o,s){t("../internals/typed-array-constructor")("Uint16",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],241:[function(t,o,s){t("../internals/typed-array-constructor")("Uint32",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],242:[function(t,o,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(c,l,u){return a(this,c,l,u)}})},{"../internals/typed-array-constructor":144}],243:[function(t,o,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(c,l,u){return a(this,c,l,u)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(v,S,s){"use strict";function a(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var c,l,u,y,b,_=v("../internals/global"),d=v("../internals/redefine-all"),f=v("../internals/internal-metadata"),h=v("../internals/collection"),m=v("../internals/collection-weak"),g=v("../internals/is-object"),p=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),_=!_.ActiveXObject&&"ActiveXObject"in _,w=Object.isExtensible,S=S.exports=h("WeakMap",a,m);v&&_&&(c=m.getConstructor(a,"WeakMap",!0),f.REQUIRED=!0,h=S.prototype,l=h.delete,u=h.has,y=h.get,b=h.set,d(h,{delete:function(M){var j;return g(M)&&!w(M)?((j=p(this)).frozen||(j.frozen=new c),l.call(this,M)||j.frozen.delete(M)):l.call(this,M)},has:function(M){var j;return g(M)&&!w(M)?((j=p(this)).frozen||(j.frozen=new c),u.call(this,M)||j.frozen.has(M)):u.call(this,M)},get:function(M){var j;return!g(M)||w(M)||((j=p(this)).frozen||(j.frozen=new c),u.call(this,M))?y.call(this,M):j.frozen.get(M)},set:function(M,j){var I;return!g(M)||w(M)||((I=p(this)).frozen||(I.frozen=new c),u.call(this,M))?b.call(this,M,j):I.frozen.set(M,j),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,o,s){var a,c=t("../internals/global"),l=t("../internals/dom-iterables"),u=t("../internals/array-for-each"),y=t("../internals/create-non-enumerable-property");for(a in l){var b=c[a],b=b&&b.prototype;if(b&&b.forEach!==u)try{y(b,"forEach",u)}catch{b.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(b,o,s){var a,c=b("../internals/global"),l=b("../internals/dom-iterables"),u=b("../modules/es.array.iterator"),y=b("../internals/create-non-enumerable-property"),b=b("../internals/well-known-symbol"),d=b("iterator"),f=b("toStringTag"),h=u.values;for(a in l){var m=c[a],g=m&&m.prototype;if(g){if(g[d]!==h)try{y(g,d,h)}catch{g[d]=h}if(g[f]||y(g,f,a),l[a]){for(var p in u)if(g[p]!==u[p])try{y(g,p,u[p])}catch{g[p]=u[p]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ee,o,s){"use strict";ee("../modules/es.array.iterator");function a(se){try{return decodeURIComponent(se)}catch{return se}}function c(se){return B[se]}function l(se){return encodeURIComponent(se).replace(E,c)}function u(se){this.entries.length=0,G(this.entries,se)}function y(se,ue){if(se<ue)throw TypeError("Not enough arguments")}function b(){_(this,b,F);var se,ue,ie,de,fe,te,he,ve,Ce=0<arguments.length?arguments[0]:void 0,ye=[];if($(this,{type:F,entries:ye,updateURL:function(){},updateSearchParams:u}),Ce!==void 0)if(I(Ce))if(typeof(se=N(Ce))=="function")for(ie=(ue=se.call(Ce)).next;!(de=ie.call(ue)).done;){if((te=(fe=(de=A(j(de.value))).next).call(de)).done||(he=fe.call(de)).done||!fe.call(de).done)throw TypeError("Expected sequence with length 2");ye.push({key:te.value+"",value:he.value+""})}else for(ve in Ce)w(Ce,ve)&&ye.push({key:ve,value:Ce[ve]+""});else G(ye,typeof Ce=="string"?Ce.charAt(0)==="?"?Ce.slice(1):Ce:Ce+"")}var d=ee("../internals/export"),U=ee("../internals/get-built-in"),f=ee("../internals/native-url"),h=ee("../internals/redefine"),m=ee("../internals/redefine-all"),g=ee("../internals/set-to-string-tag"),p=ee("../internals/create-iterator-constructor"),v=ee("../internals/internal-state"),_=ee("../internals/an-instance"),w=ee("../internals/has"),S=ee("../internals/function-bind-context"),M=ee("../internals/classof"),j=ee("../internals/an-object"),I=ee("../internals/is-object"),D=ee("../internals/object-create"),P=ee("../internals/create-property-descriptor"),A=ee("../internals/get-iterator"),N=ee("../internals/get-iterator-method"),ee=ee("../internals/well-known-symbol"),O=U("fetch"),z=U("Headers"),U=ee("iterator"),F="URLSearchParams",W=F+"Iterator",$=v.set,H=v.getterFor(F),X=v.getterFor(W),K=/\+/g,ae=Array(4),L=function(se){var ue,ie=se.replace(K," "),de=4;try{return decodeURIComponent(ie)}catch{for(;de;)ie=ie.replace((ue=de--,ae[ue-1]||(ae[ue-1]=RegExp("((?:%[\\da-f]{2}){"+ue+"})","gi"))),a);return ie}},E=/[!'()~]|%20/g,B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},G=function(se,ue){if(ue)for(var ie,de=ue.split("&"),fe=0;fe<de.length;)(ie=de[fe++]).length&&(ie=ie.split("="),se.push({key:L(ie.shift()),value:L(ie.join("="))}))},Q=p(function(se,ue){$(this,{type:W,iterator:A(H(se).entries),kind:ue})},"Iterator",function(){var ue=X(this),se=ue.kind,ue=ue.iterator.next(),ie=ue.value;return ue.done||(ue.value=se==="keys"?ie.key:se==="values"?ie.value:[ie.key,ie.value]),ue}),ee=b.prototype;m(ee,{append:function(se,ue){y(arguments.length,2);var ie=H(this);ie.entries.push({key:se+"",value:ue+""}),ie.updateURL()},delete:function(se){y(arguments.length,1);for(var ue=H(this),ie=ue.entries,de=se+"",fe=0;fe<ie.length;)ie[fe].key===de?ie.splice(fe,1):fe++;ue.updateURL()},get:function(se){y(arguments.length,1);for(var ue=H(this).entries,ie=se+"",de=0;de<ue.length;de++)if(ue[de].key===ie)return ue[de].value;return null},getAll:function(se){y(arguments.length,1);for(var ue=H(this).entries,ie=se+"",de=[],fe=0;fe<ue.length;fe++)ue[fe].key===ie&&de.push(ue[fe].value);return de},has:function(se){y(arguments.length,1);for(var ue=H(this).entries,ie=se+"",de=0;de<ue.length;)if(ue[de++].key===ie)return!0;return!1},set:function(se,ue){y(arguments.length,1);for(var ie,de=H(this),fe=de.entries,te=!1,he=se+"",ve=ue+"",Ce=0;Ce<fe.length;Ce++)(ie=fe[Ce]).key===he&&(te?fe.splice(Ce--,1):(te=!0,ie.value=ve));te||fe.push({key:he,value:ve}),de.updateURL()},sort:function(){for(var se,ue,ie=H(this),de=ie.entries,fe=de.slice(),te=de.length=0;te<fe.length;te++){for(se=fe[te],ue=0;ue<te;ue++)if(de[ue].key>se.key){de.splice(ue,0,se);break}ue===te&&de.push(se)}ie.updateURL()},forEach:function(se){for(var ue,ie=H(this).entries,de=S(se,1<arguments.length?arguments[1]:void 0,3),fe=0;fe<ie.length;)de((ue=ie[fe++]).value,ue.key,this)},keys:function(){return new Q(this,"keys")},values:function(){return new Q(this,"values")},entries:function(){return new Q(this,"entries")}},{enumerable:!0}),h(ee,U,ee.entries),h(ee,"toString",function(){for(var se,ue=H(this).entries,ie=[],de=0;de<ue.length;)se=ue[de++],ie.push(l(se.key)+"="+l(se.value));return ie.join("&")},{enumerable:!0}),g(b,F),d({global:!0,forced:!f},{URLSearchParams:b}),f||typeof O!="function"||typeof z!="function"||d({global:!0,enumerable:!0,forced:!0},{fetch:function(fe){var ue,ie,de,fe=[fe];return 1<arguments.length&&(I(ue=arguments[1])&&(ie=ue.body,M(ie)===F&&((de=ue.headers?new z(ue.headers):new z).has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ue=D(ue,{body:P(0,String(ie)),headers:P(0,de)}))),fe.push(ue)),O.apply(this,fe)}}),o.exports={URLSearchParams:b,getState:H}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,o,s){"use strict";A("../modules/es.string.iterator");function a(me){var Ze,mt,Ye,ur;if(typeof me=="number"){for(Ze=[],mt=0;mt<4;mt++)Ze.unshift(me%256),me=W(me/256);return Ze.join(".")}if(typeof me!="object")return me;for(Ze="",Ye=he(me),mt=0;mt<8;mt++)ur&&me[mt]===0||(ur=ur&&!1,Ye===mt?(Ze+=mt?":":"::",ur=!0):(Ze+=me[mt].toString(16),mt<7&&(Ze+=":")));return"["+Ze+"]"}function c(me){return!me.host||me.cannotBeABaseURL||me.scheme=="file"}function l(me,Ze,mt,Ye){var ur,qe,wr,ct=mt||Ge,fr=0,pt="",rn=!1,fn=!1,Kr=!1;for(mt||(me.scheme="",me.username="",me.password="",me.host=null,me.port=null,me.path=[],me.query=null,me.fragment=null,me.cannotBeABaseURL=!1,Ze=Ze.replace(de,"")),Ze=Ze.replace(fe,""),ur=M(Ze);fr<=ur.length;){switch(qe=ur[fr],ct){case Ge:if(!qe||!L.test(qe)){if(mt)return X;ct=J;continue}pt+=qe.toLowerCase(),ct=Me;break;case Me:if(qe&&(E.test(qe)||qe=="+"||qe=="-"||qe=="."))pt+=qe.toLowerCase();else{if(qe!=":"){if(mt)return X;pt="",ct=J,fr=0;continue}if(mt&&(Oe(me)!=w(We,pt)||pt=="file"&&(st(me)||me.port!==null)||me.scheme=="file"&&!me.host))return;if(me.scheme=pt,mt)return void(Oe(me)&&We[me.scheme]==me.port&&(me.port=null));pt="",me.scheme=="file"?ct=Qt:Oe(me)&&Ye&&Ye.scheme==me.scheme?ct=ne:Oe(me)?ct=Ie:ur[fr+1]=="/"?(ct=Z,fr++):(me.cannotBeABaseURL=!0,me.path.push(""),ct=Br)}break;case J:if(!Ye||Ye.cannotBeABaseURL&&qe!="#")return X;if(Ye.cannotBeABaseURL&&qe=="#"){me.scheme=Ye.scheme,me.path=Ye.path.slice(),me.query=Ye.query,me.fragment="",me.cannotBeABaseURL=!0,ct=ln;break}ct=Ye.scheme=="file"?Qt:oe;continue;case ne:if(qe!="/"||ur[fr+1]!="/"){ct=oe;continue}ct=Ne,fr++;break;case Z:if(qe=="/"){ct=Qe;break}ct=Pt;continue;case oe:if(me.scheme=Ye.scheme,qe==b)me.username=Ye.username,me.password=Ye.password,me.host=Ye.host,me.port=Ye.port,me.path=Ye.path.slice(),me.query=Ye.query;else if(qe=="/"||qe=="\\"&&Oe(me))ct=be;else if(qe=="?")me.username=Ye.username,me.password=Ye.password,me.host=Ye.host,me.port=Ye.port,me.path=Ye.path.slice(),me.query="",ct=Pn;else{if(qe!="#"){me.username=Ye.username,me.password=Ye.password,me.host=Ye.host,me.port=Ye.port,me.path=Ye.path.slice(),me.path.pop(),ct=Pt;continue}me.username=Ye.username,me.password=Ye.password,me.host=Ye.host,me.port=Ye.port,me.path=Ye.path.slice(),me.query=Ye.query,me.fragment="",ct=ln}break;case be:if(!Oe(me)||qe!="/"&&qe!="\\"){if(qe!="/"){me.username=Ye.username,me.password=Ye.password,me.host=Ye.host,me.port=Ye.port,ct=Pt;continue}ct=Qe}else ct=Ne;break;case Ie:if(ct=Ne,qe!="/"||pt.charAt(fr+1)!="/")continue;fr++;break;case Ne:if(qe=="/"||qe=="\\")break;ct=Qe;continue;case Qe:if(qe=="@"){rn&&(pt="%40"+pt);for(var rn=!0,_n=M(pt),co=0;co<_n.length;co++){var hi=_n[co];hi!=":"||Kr?(hi=De(hi,_e),Kr?me.password+=hi:me.username+=hi):Kr=!0}pt=""}else if(qe==b||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&Oe(me)){if(rn&&pt=="")return H;fr-=M(pt).length+1,pt="",ct=tt}else pt+=qe;break;case tt:case rt:if(mt&&me.scheme=="file"){ct=St;continue}if(qe!=":"||fn){if(qe==b||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&Oe(me)){if(Oe(me)&&pt=="")return K;if(mt&&pt==""&&(st(me)||me.port!==null))return;if(wr=te(me,pt))return wr;if(pt="",ct=zt,mt)return;continue}qe=="["?fn=!0:qe=="]"&&(fn=!1),pt+=qe}else{if(pt=="")return K;if(wr=te(me,pt))return wr;if(pt="",ct=ft,mt==rt)return}break;case ft:if(!B.test(qe)){if(qe==b||qe=="/"||qe=="?"||qe=="#"||qe=="\\"&&Oe(me)||mt){if(pt!=""){var uo=parseInt(pt,10);if(65535<uo)return ae;me.port=Oe(me)&&uo===We[me.scheme]?null:uo,pt=""}if(mt)return;ct=zt;continue}return ae}pt+=qe;break;case Qt:if(me.scheme="file",qe=="/"||qe=="\\")ct=Nt;else{if(!Ye||Ye.scheme!="file"){ct=Pt;continue}if(qe==b)me.host=Ye.host,me.path=Ye.path.slice(),me.query=Ye.query;else if(qe=="?")me.host=Ye.host,me.path=Ye.path.slice(),me.query="",ct=Pn;else{if(qe!="#"){it(ur.slice(fr).join(""))||(me.host=Ye.host,me.path=Ye.path.slice(),ht(me)),ct=Pt;continue}me.host=Ye.host,me.path=Ye.path.slice(),me.query=Ye.query,me.fragment="",ct=ln}}break;case Nt:if(qe=="/"||qe=="\\"){ct=St;break}Ye&&Ye.scheme=="file"&&!it(ur.slice(fr).join(""))&&(nt(Ye.path[0],!0)?me.path.push(Ye.path[0]):me.host=Ye.host),ct=Pt;continue;case St:if(qe==b||qe=="/"||qe=="\\"||qe=="?"||qe=="#"){if(!mt&&nt(pt))ct=Pt;else{if(pt==""){if(me.host="",mt)return}else{if(wr=te(me,pt))return wr;if(me.host=="localhost"&&(me.host=""),mt)return;pt=""}ct=zt}continue}pt+=qe;break;case zt:if(Oe(me)){if(ct=Pt,qe!="/"&&qe!="\\")continue}else if(mt||qe!="?")if(mt||qe!="#"){if(qe!=b&&(ct=Pt,qe!="/"))continue}else me.fragment="",ct=ln;else me.query="",ct=Pn;break;case Pt:if(qe==b||qe=="/"||qe=="\\"&&Oe(me)||!mt&&(qe=="?"||qe=="#")){if(Se(pt)?(ht(me),qe=="/"||qe=="\\"&&Oe(me)||me.path.push("")):at(pt)?qe=="/"||qe=="\\"&&Oe(me)||me.path.push(""):(me.scheme=="file"&&!me.path.length&&nt(pt)&&(me.host&&(me.host=""),pt=pt.charAt(0)+":"),me.path.push(pt)),pt="",me.scheme=="file"&&(qe==b||qe=="?"||qe=="#"))for(;1<me.path.length&&me.path[0]==="";)me.path.shift();qe=="?"?(me.query="",ct=Pn):qe=="#"&&(me.fragment="",ct=ln)}else pt+=De(qe,ye);break;case Br:qe=="?"?(me.query="",ct=Pn):qe=="#"?(me.fragment="",ct=ln):qe!=b&&(me.path[0]+=De(qe,ve));break;case Pn:mt||qe!="#"?qe!=b&&(qe=="'"&&Oe(me)?me.query+="%27":me.query+=qe=="#"?"%23":De(qe,ve)):(me.fragment="",ct=ln);break;case ln:qe!=b&&(me.fragment+=De(qe,Ce))}fr++}}function u(qe){var Ze,mt,Ye=_(this,u,"URL"),ur=1<arguments.length?arguments[1]:void 0,qe=String(qe),wr=U(Ye,{type:"URL"});if(ur!==void 0){if(ur instanceof u)Ze=F(ur);else if(mt=l(Ze={},String(ur)))throw TypeError(mt)}if(mt=l(wr,qe,null,Ze))throw TypeError(mt);var ct=wr.searchParams=new O;(ur=z(ct)).updateSearchParams(wr.query),ur.updateURL=function(){wr.query=String(ct)||null},m||(Ye.href=zr.call(Ye),Ye.origin=_r.call(Ye),Ye.protocol=In.call(Ye),Ye.username=bn.call(Ye),Ye.password=kr.call(Ye),Ye.host=Dn.call(Ye),Ye.hostname=Bc.call(Ye),Ye.port=Vc.call(Ye),Ye.pathname=Uc.call(Ye),Ye.search=Zd.call(Ye),Ye.searchParams=zc.call(Ye),Ye.hash=Hc.call(Ye))}function y(me,Ze){return{get:me,set:Ze,configurable:!0,enumerable:!0}}var b,d,f,h=A("../internals/export"),m=A("../internals/descriptors"),g=A("../internals/native-url"),Er=A("../internals/global"),p=A("../internals/object-define-properties"),v=A("../internals/redefine"),_=A("../internals/an-instance"),w=A("../internals/has"),S=A("../internals/object-assign"),M=A("../internals/array-from"),j=A("../internals/string-multibyte").codeAt,I=A("../internals/string-punycode-to-ascii"),D=A("../internals/set-to-string-tag"),P=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),N=Er.URL,O=P.URLSearchParams,z=P.getState,U=A.set,F=A.getterFor("URL"),W=Math.floor,$=Math.pow,H="Invalid authority",X="Invalid scheme",K="Invalid host",ae="Invalid port",L=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,B=/\d/,G=/^(0x|0X)/,Q=/^[0-7]+$/,ee=/^\d+$/,se=/^[\dA-Fa-f]+$/,ue=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ie=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,de=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,fe=/[\u0009\u000A\u000D]/g,te=function(me,Ze){var mt,Ye,ur;if(Ze.charAt(0)=="[")return Ze.charAt(Ze.length-1)=="]"&&(mt=function(qe){var wr=[0,0,0,0,0,0,0,0],ct=0,fr=null,pt=0,rn,fn,Kr,_n,co,hi,uo,wn=function(){return qe.charAt(pt)};if(wn()==":"){if(qe.charAt(1)!=":")return;pt+=2,ct++,fr=ct}for(;wn();){if(ct==8)return;if(wn()==":"){if(fr!==null)return;pt++,ct++,fr=ct;continue}for(rn=fn=0;fn<4&&se.test(wn());)rn=rn*16+parseInt(wn(),16),pt++,fn++;if(wn()=="."){if(fn==0||(pt-=fn,ct>6))return;for(Kr=0;wn();){if(_n=null,Kr>0)if(wn()=="."&&Kr<4)pt++;else return;if(!B.test(wn()))return;for(;B.test(wn());){if(co=parseInt(wn(),10),_n===null)_n=co;else{if(_n==0)return;_n=_n*10+co}if(_n>255)return;pt++}wr[ct]=wr[ct]*256+_n,Kr++,(Kr==2||Kr==4)&&ct++}if(Kr!=4)return;break}else if(wn()==":"){if(pt++,!wn())return}else if(wn())return;wr[ct++]=rn}if(fr!==null)for(hi=ct-fr,ct=7;ct!=0&&hi>0;)uo=wr[ct],wr[ct--]=wr[fr+hi-1],wr[fr+--hi]=uo;else if(ct!=8)return;return wr}(Ze.slice(1,-1)))?void(me.host=mt):K;if(Oe(me))return Ze=I(Ze),ue.test(Ze)||(mt=function(qe){var wr=qe.split("."),ct,fr,pt,rn,fn,Kr,_n;if(wr.length&&wr[wr.length-1]==""&&wr.pop(),(ct=wr.length)>4)return qe;for(fr=[],pt=0;pt<ct;pt++){if(rn=wr[pt],rn=="")return qe;if(fn=10,rn.length>1&&rn.charAt(0)=="0"&&(fn=G.test(rn)?16:8,rn=rn.slice(fn==8?1:2)),rn==="")Kr=0;else{if(!(fn==10?ee:fn==8?Q:se).test(rn))return qe;Kr=parseInt(rn,fn)}fr.push(Kr)}for(pt=0;pt<ct;pt++)if(Kr=fr[pt],pt==ct-1){if(Kr>=$(256,5-ct))return null}else if(Kr>255)return null;for(_n=fr.pop(),pt=0;pt<fr.length;pt++)_n+=fr[pt]*$(256,3-pt);return _n}(Ze))===null?K:void(me.host=mt);if(ie.test(Ze))return K;for(mt="",Ye=M(Ze),ur=0;ur<Ye.length;ur++)mt+=De(Ye[ur],ve);me.host=mt},he=function(me){for(var Ze=null,mt=1,Ye=null,ur=0,qe=0;qe<8;qe++)me[qe]!==0?(mt<ur&&(Ze=Ye,mt=ur),Ye=null,ur=0):(Ye===null&&(Ye=qe),++ur);return mt<ur&&(Ze=Ye,mt=ur),Ze},ve={},Ce=S({},ve,{" ":1,'"':1,"<":1,">":1,"`":1}),ye=S({},Ce,{"#":1,"?":1,"{":1,"}":1}),_e=S({},ye,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),De=function(me,Ze){var mt=j(me,0);return 32<mt&&mt<127&&!w(Ze,me)?me:encodeURIComponent(me)},We={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Oe=function(me){return w(We,me.scheme)},st=function(me){return me.username!=""||me.password!=""},nt=function(me,Ze){return me.length==2&&L.test(me.charAt(0))&&((me=me.charAt(1))==":"||!Ze&&me=="|")},it=function(me){return 1<me.length&&nt(me.slice(0,2))&&(me.length==2||(me=me.charAt(2))==="/"||me==="\\"||me==="?"||me==="#")},ht=function(me){var Ze=me.path,mt=Ze.length;!mt||me.scheme=="file"&&mt==1&&nt(Ze[0],!0)||Ze.pop()},at=function(me){return me==="."||me.toLowerCase()==="%2e"},Se=function(me){return(me=me.toLowerCase())===".."||me==="%2e."||me===".%2e"||me==="%2e%2e"},Ge={},Me={},J={},ne={},Z={},oe={},be={},Ie={},Ne={},Qe={},tt={},rt={},ft={},Qt={},Nt={},St={},zt={},Pt={},Br={},Pn={},ln={},Er=u.prototype,zr=function(){var me=F(this),Ze=me.scheme,mt=me.username,Ye=me.password,ur=me.host,qe=me.port,wr=me.path,ct=me.query,fr=me.fragment,pt=Ze+":";return ur!==null?(pt+="//",st(me)&&(pt+=mt+(Ye?":"+Ye:"")+"@"),pt+=a(ur),qe!==null&&(pt+=":"+qe)):Ze=="file"&&(pt+="//"),pt+=me.cannotBeABaseURL?wr[0]:wr.length?"/"+wr.join("/"):"",ct!==null&&(pt+="?"+ct),fr!==null&&(pt+="#"+fr),pt},_r=function(){var me=F(this),Ze=me.scheme,mt=me.port;if(Ze=="blob")try{return new URL(Ze.path[0]).origin}catch{return"null"}return Ze!="file"&&Oe(me)?Ze+"://"+a(me.host)+(mt!==null?":"+mt:""):"null"},In=function(){return F(this).scheme+":"},bn=function(){return F(this).username},kr=function(){return F(this).password},Dn=function(){var Ze=F(this),me=Ze.host,Ze=Ze.port;return me===null?"":Ze===null?a(me):a(me)+":"+Ze},Bc=function(){var me=F(this).host;return me===null?"":a(me)},Vc=function(){var me=F(this).port;return me===null?"":String(me)},Uc=function(){var me=F(this),Ze=me.path;return me.cannotBeABaseURL?Ze[0]:Ze.length?"/"+Ze.join("/"):""},Zd=function(){var me=F(this).query;return me?"?"+me:""},zc=function(){return F(this).searchParams},Hc=function(){var me=F(this).fragment;return me?"#"+me:""};m&&p(Er,{href:y(zr,function(mt){var Ze=F(this),mt=String(mt),mt=l(Ze,mt);if(mt)throw TypeError(mt);z(Ze.searchParams).updateSearchParams(Ze.query)}),origin:y(_r),protocol:y(In,function(me){var Ze=F(this);l(Ze,String(me)+":",Ge)}),username:y(bn,function(me){var Ze=F(this),mt=M(String(me));if(!c(Ze)){Ze.username="";for(var Ye=0;Ye<mt.length;Ye++)Ze.username+=De(mt[Ye],_e)}}),password:y(kr,function(me){var Ze=F(this),mt=M(String(me));if(!c(Ze)){Ze.password="";for(var Ye=0;Ye<mt.length;Ye++)Ze.password+=De(mt[Ye],_e)}}),host:y(Dn,function(me){var Ze=F(this);Ze.cannotBeABaseURL||l(Ze,String(me),tt)}),hostname:y(Bc,function(me){var Ze=F(this);Ze.cannotBeABaseURL||l(Ze,String(me),rt)}),port:y(Vc,function(me){var Ze=F(this);c(Ze)||((me=String(me))==""?Ze.port=null:l(Ze,me,ft))}),pathname:y(Uc,function(me){var Ze=F(this);Ze.cannotBeABaseURL||(Ze.path=[],l(Ze,me+"",zt))}),search:y(Zd,function(me){var Ze=F(this);(me=String(me))==""?Ze.query=null:(me.charAt(0)=="?"&&(me=me.slice(1)),Ze.query="",l(Ze,me,Pn)),z(Ze.searchParams).updateSearchParams(Ze.query)}),searchParams:y(zc),hash:y(Hc,function(me){var Ze=F(this);(me=String(me))==""?Ze.fragment=null:(me.charAt(0)=="#"&&(me=me.slice(1)),Ze.fragment="",l(Ze,me,ln))})}),v(Er,"toJSON",function(){return zr.call(this)},{enumerable:!0}),v(Er,"toString",function(){return zr.call(this)},{enumerable:!0}),N&&(d=N.createObjectURL,f=N.revokeObjectURL,d&&v(u,"createObjectURL",function(me){return d.apply(N,arguments)}),f&&v(u,"revokeObjectURL",function(me){return f.apply(N,arguments)})),D(u,"URL"),h({global:!0,forced:!g,sham:!m},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,o,s){"use strict";o.exports=t("./").polyfill()},{"./":250}],250:[function(t,o,s){(function(a,c){var l,u;l=this,u=function(){"use strict";function y(te){return typeof te=="function"}var b=Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"},d=0,f=void 0,h=void 0,m=function(te,he){S[d]=te,S[d+1]=he,(d+=2)===2&&(h?h(M):O())},g=typeof window<"u"?window:void 0,p=g||{},p=p.MutationObserver||p.WebKitMutationObserver,v=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var te=setTimeout;return function(){return te(M,1)}}var S=new Array(1e3);function M(){for(var te=0;te<d;te+=2)(0,S[te])(S[te+1]),S[te]=void 0,S[te+1]=void 0;d=0}function j(){try{var te=Function("return this")().require("vertx");return(f=te.runOnLoop||te.runOnContext)!==void 0?function(){f(M)}:w()}catch{return w()}}var I,D,P,O=void 0;function A(te,he){var ve,Ce=this,ye=new this.constructor(U),_e=(ye[z]===void 0&&se(ye),Ce._state);return _e?(ve=arguments[_e-1],m(function(){return Q(_e,ye,ve,Ce._result)})):B(Ce,ye,te,he),ye}function N(te){var he;return te&&typeof te=="object"&&te.constructor===this?te:(K(he=new this(U),te),he)}var O=v?function(){return a.nextTick(M)}:p?(D=0,v=new p(M),P=document.createTextNode(""),v.observe(P,{characterData:!0}),function(){P.data=D=++D%2}):_?((I=new MessageChannel).port1.onmessage=M,function(){return I.port2.postMessage(0)}):(g===void 0&&typeof t=="function"?j:w)(),z=Math.random().toString(36).substring(2);function U(){}var F=void 0,W=1,$=2;function H(te,he,ve){m(function(Ce){var ye=!1,_e=function(De,We,Oe,st){try{De.call(We,Oe,st)}catch(nt){return nt}}(ve,he,function(De){ye||(ye=!0,(he!==De?K:L)(Ce,De))},function(De){ye||(ye=!0,E(Ce,De))},Ce._label);!ye&&_e&&(ye=!0,E(Ce,_e))},te)}function X(te,he,ve){var Ce,ye;he.constructor===te.constructor&&ve===A&&he.constructor.resolve===N?(Ce=te,(ye=he)._state===W?L(Ce,ye._result):ye._state===$?E(Ce,ye._result):B(ye,void 0,function(_e){return K(Ce,_e)},function(_e){return E(Ce,_e)})):ve!==void 0&&y(ve)?H(te,he,ve):L(te,he)}function K(te,he){if(te===he)E(te,new TypeError("You cannot resolve a promise with itself"));else if(ve=typeof he,he===null||ve!="object"&&ve!="function")L(te,he);else{ve=void 0;try{ve=he.then}catch(Ce){return void E(te,Ce)}X(te,he,ve)}var ve}function ae(te){te._onerror&&te._onerror(te._result),G(te)}function L(te,he){te._state===F&&(te._result=he,te._state=W,te._subscribers.length!==0&&m(G,te))}function E(te,he){te._state===F&&(te._state=$,te._result=he,m(ae,te))}function B(te,he,ve,Ce){var ye=te._subscribers,_e=ye.length;te._onerror=null,ye[_e]=he,ye[_e+W]=ve,ye[_e+$]=Ce,_e===0&&te._state&&m(G,te)}function G(te){var he=te._subscribers,ve=te._state;if(he.length!==0){for(var Ce,ye=void 0,_e=te._result,De=0;De<he.length;De+=3)Ce=he[De],ye=he[De+ve],Ce?Q(ve,Ce,ye,_e):ye(_e);te._subscribers.length=0}}function Q(te,he,ve,Ce){var ye=y(ve),_e=void 0,De=void 0,We=!0;if(ye){try{_e=ve(Ce)}catch(Oe){We=!1,De=Oe}if(he===_e)return void E(he,new TypeError("A promises callback cannot return that same promise."))}else _e=Ce;he._state===F&&(ye&&We?K(he,_e):We===!1?E(he,De):te===W?L(he,_e):te===$&&E(he,_e))}var ee=0;function se(te){te[z]=ee++,te._state=void 0,te._result=void 0,te._subscribers=[]}ie.prototype._enumerate=function(te){for(var he=0;this._state===F&&he<te.length;he++)this._eachEntry(te[he],he)},ie.prototype._eachEntry=function(te,he){var ve=this._instanceConstructor,Ce=ve.resolve;if(Ce===N){var ye,_e=void 0,De=void 0,We=!1;try{_e=te.then}catch(Oe){We=!0,De=Oe}_e===A&&te._state!==F?this._settledAt(te._state,he,te._result):typeof _e!="function"?(this._remaining--,this._result[he]=te):ve===de?(ye=new ve(U),We?E(ye,De):X(ye,te,_e),this._willSettleAt(ye,he)):this._willSettleAt(new ve(function(Oe){return Oe(te)}),he)}else this._willSettleAt(Ce(te),he)},ie.prototype._settledAt=function(te,he,ve){var Ce=this.promise;Ce._state===F&&(this._remaining--,te===$?E(Ce,ve):this._result[he]=ve),this._remaining===0&&L(Ce,this._result)},ie.prototype._willSettleAt=function(te,he){var ve=this;B(te,void 0,function(Ce){return ve._settledAt(W,he,Ce)},function(Ce){return ve._settledAt($,he,Ce)})};var ue=ie;function ie(te,he){this._instanceConstructor=te,this.promise=new te(U),this.promise[z]||se(this.promise),b(he)?(this.length=he.length,this._remaining=he.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(he),this._remaining!==0)||L(this.promise,this._result)):E(this.promise,new Error("Array Methods must be provided an Array"))}fe.prototype.catch=function(te){return this.then(null,te)},fe.prototype.finally=function(te){var he=this.constructor;return y(te)?this.then(function(ve){return he.resolve(te()).then(function(){return ve})},function(ve){return he.resolve(te()).then(function(){throw ve})}):this.then(te,te)};var de=fe;function fe(te){if(this[z]=ee++,this._result=this._state=void 0,this._subscribers=[],U!==te){if(typeof te!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof fe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var he=this;try{te(function(ve){K(he,ve)},function(ve){E(he,ve)})}catch(ve){E(he,ve)}}}return de.prototype.then=A,de.all=function(te){return new ue(this,te).promise},de.race=function(te){var he=this;return b(te)?new he(function(ve,Ce){for(var ye=te.length,_e=0;_e<ye;_e++)he.resolve(te[_e]).then(ve,Ce)}):new he(function(ve,Ce){return Ce(new TypeError("You must pass an array to race."))})},de.resolve=N,de.reject=function(te){var he=new this(U);return E(he,te),he},de._setScheduler=function(te){h=te},de._setAsap=function(te){m=te},de._asap=m,de.polyfill=function(){var te=void 0;if(c!==void 0)te=c;else if(typeof self<"u")te=self;else try{te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var he=te.Promise;if(he){var ve=null;try{ve=Object.prototype.toString.call(he.resolve())}catch{}if(ve==="[object Promise]"&&!he.cast)return}te.Promise=de},de.Promise=de},typeof s=="object"&&o!==void 0?o.exports=u():typeof n=="function"&&n.amd?n(u):l.ES6Promise=u()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,o,s){var a,c;a=this,c=function(l,u){"use strict";var y=5e3,b="callback";function d(h){try{delete window[h]}catch{window[h]=void 0}}function f(h){h=document.getElementById(h),h&&document.getElementsByTagName("head")[0].removeChild(h)}u.exports=function(h){var m=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=h,p=m.timeout||y,v=m.jsonpCallback||b,_=void 0;return new Promise(function(w,S){var M=m.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=v+"_"+M,I=(window[M]=function(D){w({ok:!0,json:function(){return Promise.resolve(D)}}),_&&clearTimeout(_),f(j),d(M)},g+=g.indexOf("?")===-1?"?":"&",document.createElement("script"));I.setAttribute("src",""+g+v+"="+M),m.charset&&I.setAttribute("charset",m.charset),I.id=j,document.getElementsByTagName("head")[0].appendChild(I),_=setTimeout(function(){S(new Error("JSONP request to "+h+" timed out")),d(M),f(j),window[M]=function(){d(M)}},p),I.onerror=function(){S(new Error("JSONP request to "+h+" failed")),d(M),f(j),_&&clearTimeout(_)}})}},typeof n=="function"&&n.amd?n(["exports","module"],c):s!==void 0&&o!==void 0?c(0,o):(c(c={exports:{}},c),a.fetchJsonp=c.exports)},{}],252:[function(t,o,s){var a=function(c){"use strict";var l,u,y,b,d,f,h,m,g,p,v;if(!(c===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=c.document,l=function(){return c.URL||c.webkitURL||c},u=v.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in u,b=/constructor/i.test(c.HTMLElement)||c.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(_){(c.setImmediate||c.setTimeout)(function(){throw _},0)},h=4e4,m=function(_){setTimeout(function(){typeof _=="string"?l().revokeObjectURL(_):_.remove()},h)},g=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},v=(p=function(_,w,D){D||(_=g(_));var M,j,I=this,D=_.type==="application/octet-stream",P=function(){for(var A=I,N="writestart progress write writeend".split(" "),O=void 0,z=(N=[].concat(N)).length;z--;){var U=A["on"+N[z]];if(typeof U=="function")try{U.call(A,O||A)}catch(F){f(F)}}};I.readyState=I.INIT,y?(M=l().createObjectURL(_),setTimeout(function(){var A,N;u.href=M,u.download=w,A=u,N=new MouseEvent("click"),A.dispatchEvent(N),P(),m(M),I.readyState=I.DONE})):(d||D&&b)&&c.FileReader?((j=new FileReader).onloadend=function(){var A=d?j.result:j.result.replace(/^data:[^;]*;/,"data:attachment/file;");c.open(A,"_blank")||(c.location.href=A),A=void 0,I.readyState=I.DONE,P()},j.readAsDataURL(_),I.readyState=I.INIT):(M=M||l().createObjectURL(_),!D&&c.open(M,"_blank")||(c.location.href=M),I.readyState=I.DONE,P(),m(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,w,S){return w=w||_.name||"download",S||(_=g(_)),navigator.msSaveOrOpenBlob(_,w)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(_,w,S){return new p(_,w||_.name||"download",S)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);o!==void 0&&o.exports?o.exports.saveAs=a:n!=null&&n.amd!==null&&n("FileSaver.js",function(){return a})},{}],253:[function(t,o,s){var a,c=Object.defineProperty,l=(c(s,"__esModule",{value:!0}),s),u={GIFEncoder:()=>P,applyPalette:()=>function(F,W,$="rgb565"){if(!F||!F.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(F instanceof Uint8Array||F instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<W.length)throw new Error("applyPalette() only works with 256 colors or less");let H=new Uint32Array(F.buffer),X=H.length,K=$==="rgb444"?4096:65536,ae=new Uint8Array(X),L=new Array(K);if($==="rgba4444")for(let fe=0;fe<X;fe++){var Q=H[fe],E=Q>>24&255,B=Q>>16&255,G=Q>>8&255,Q=255&Q,ee=m(Q,G,B,E),ee=ee in L?L[ee]:L[ee]=function(te,he,ve,Ce,ye){let _e=0,De=1e100;for(let nt=0;nt<ye.length;nt++){var We,Oe=ye[nt],st=j(Oe[3]-Ce);st>De||(We=Oe[0],(st+=j(We-te))>De||(We=Oe[1],(st+=j(We-he))>De||(We=Oe[2],(st+=j(We-ve))>De||(De=st,_e=nt))))}return _e}(Q,G,B,E,W);ae[fe]=ee}else{let fe=$==="rgb444"?g:h;for(let te=0;te<X;te++){var ie=H[te],se=ie>>16&255,ue=ie>>8&255,ie=255&ie,de=fe(ie,ue,se),de=de in L?L[de]:L[de]=function(he,ve,Ce,ye){let _e=0,De=1e100;for(let nt=0;nt<ye.length;nt++){var We,Oe=ye[nt],st=j(Oe[0]-he);st>De||(We=Oe[1],(st+=j(We-ve))>De||(We=Oe[2],(st+=j(We-Ce))>De||(De=st,_e=nt)))}return _e}(ie,ue,se,W);ae[te]=de}}return ae},default:()=>U,nearestColor:()=>function(F,W,$=S){return F[I(F,W,$)]},nearestColorIndex:()=>I,nearestColorIndexWithDistance:()=>D,prequantize:()=>function(F,{roundRGB:W=5,roundAlpha:$=10,oneBitAlpha:H=null}={}){let X=new Uint32Array(F.buffer);for(let B=0;B<X.length;B++){var E=X[B];let G=E>>24&255;var K,ae=E>>16&255,L=E>>8&255,E=255&E;G=M(G,$),H&&(K=typeof H=="number"?H:127,G=G<=K?0:255),E=M(E,W),L=M(L,W),ae=M(ae,W),X[B]=G<<24|ae<<16|L<<8|E<<0}},quantize:()=>function(F,W,$={}){var{format:H="rgb565",clearAlpha:X=!0,clearAlphaColor:K=0,clearAlphaThreshold:ae=0,oneBitAlpha:L=!1}=$;if(!F||!F.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(F instanceof Uint8Array||F instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");F=new Uint32Array(F.buffer);let E=$.useSqrt!==!1,B=H==="rgba4444",G=function(it,ht){let at=ht==="rgb444"?4096:65536,Se=new Array(at),Ge=it.length;if(ht==="rgba4444")for(let Nt=0;Nt<Ge;++Nt){var Z=it[Nt],Me=Z>>24&255,J=Z>>16&255,ne=Z>>8&255,Z=255&Z,oe=m(Z,ne,J,Me);let St=oe in Se?Se[oe]:Se[oe]=w();St.rc+=Z,St.gc+=ne,St.bc+=J,St.ac+=Me,St.cnt++}else if(ht==="rgb444")for(let Nt=0;Nt<Ge;++Nt){var Ne=it[Nt],be=Ne>>16&255,Ie=Ne>>8&255,Ne=255&Ne,Qe=g(Ne,Ie,be);let St=Qe in Se?Se[Qe]:Se[Qe]=w();St.rc+=Ne,St.gc+=Ie,St.bc+=be,St.cnt++}else for(let Nt=0;Nt<Ge;++Nt){var ft=it[Nt],tt=ft>>16&255,rt=ft>>8&255,ft=255&ft,Qt=h(ft,rt,tt);let St=Qt in Se?Se[Qt]:Se[Qt]=w();St.rc+=ft,St.gc+=rt,St.bc+=tt,St.cnt++}return Se}(F,H),Q=G.length,ee=Q-1,se=new Uint32Array(Q+1);for(var ue=0,ie=0;ie<Q;++ie){let it=G[ie];it!=null&&(Oe=1/it.cnt,B&&(it.ac*=Oe),it.rc*=Oe,it.gc*=Oe,it.bc*=Oe,G[ue++]=it)}v(W)/ue<.022&&(E=!1);for(var de,fe,te,ie=0;ie<ue-1;++ie)G[ie].fw=ie+1,G[ie+1].bk=ie,E&&(G[ie].cnt=Math.sqrt(G[ie].cnt));for(E&&(G[ie].cnt=Math.sqrt(G[ie].cnt)),ie=0;ie<ue;++ie){_(G,ie,!1);var he=G[ie].err;for(fe=++se[0];1<fe&&(te=fe>>1,!(G[de=se[te]].err<=he));fe=te)se[fe]=de;se[fe]=ie}var ve,Ce=ue-W;for(ie=0;ie<Ce;){for(;;){var ye=se[1];if((ve=G[ye]).tm>=ve.mtm&&G[ve.nn].mtm<=ve.tm)break;for(ve.mtm==ee?ye=se[1]=se[se[0]--]:(_(G,ye,!1),ve.tm=ie),he=G[ye].err,fe=1;(te=fe+fe)<=se[0]&&(te<se[0]&&G[se[te]].err>G[se[te+1]].err&&te++,!(he<=G[de=se[te]].err));fe=te)se[fe]=de;se[fe]=ye}var _e=G[ve.nn],De=ve.cnt,We=_e.cnt,Oe=1/(De+We);B&&(ve.ac=Oe*(De*ve.ac+We*_e.ac)),ve.rc=Oe*(De*ve.rc+We*_e.rc),ve.gc=Oe*(De*ve.gc+We*_e.gc),ve.bc=Oe*(De*ve.bc+We*_e.bc),ve.cnt+=_e.cnt,ve.mtm=++ie,G[_e.bk].fw=_e.fw,G[_e.fw].bk=_e.bk,_e.mtm=ee}let st=[];for(ie=0;;0){let it=p(Math.round(G[ie].rc),0,255),ht=p(Math.round(G[ie].gc),0,255),at=p(Math.round(G[ie].bc),0,255),Se=255;B&&(Se=p(Math.round(G[ie].ac),0,255),L&&(nt=typeof L=="number"?L:127,Se=Se<=nt?0:255),X&&Se<=ae&&(it=ht=at=K,Se=0));var nt=B?[it,ht,at,Se]:[it,ht,at];if(function(Ge,Me){for(let Z=0;Z<Ge.length;Z++){var ne=Ge[Z],J=ne[0]===Me[0]&&ne[1]===Me[1]&&ne[2]===Me[2],ne=!(4<=ne.length&&4<=Me.length)||ne[3]===Me[3];if(J&&ne)return!0}return!1}(st,nt)||st.push(nt),(ie=G[ie].fw)==0)break}return st},snapColorsToPalette:()=>function(F,W,$=5){if(F.length&&W.length){var H=F.map(E=>E.slice(0,3)),X=$*$,K=F[0].length;for(let E=0;E<W.length;E++){let B=W[E];B=B.length<K?[B[0],B[1],B[2],255]:B.length>K?B.slice(0,3):B.slice();var L=D(H,B.slice(0,3),S),ae=L[0],L=L[1];0<L&&L<=X&&(F[ae]=B)}}}};for(a in u)c(l,a,{get:u[a],enumerable:!0});var y={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function b(F=256){let W=0,$=new Uint8Array(F);return{get buffer(){return $.buffer},reset(){W=0},bytesView(){return $.subarray(0,W)},bytes(){return $.slice(0,W)},writeByte(X){H(W+1),$[W]=X,W++},writeBytes(X,K=0,ae=X.length){H(W+ae);for(let L=0;L<ae;L++)$[W++]=X[L+K]},writeBytesView(X,K=0,ae=X.byteLength){H(W+ae),$.set(X.subarray(K,K+ae),W),W+=ae}};function H(X){var K=$.length;if(!(X<=K)){X=Math.max(X,K*(K<1048576?2:1.125)>>>0),K!=0&&(X=Math.max(X,256));let ae=$;$=new Uint8Array(X),0<W&&$.set(ae.subarray(0,W),0)}}}var d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],f=function(F,W,$,B,X=b(512),K=new Uint8Array(256),ae=new Int32Array(5003),L=new Int32Array(5003)){var E=ae.length,B=Math.max(2,B);K.fill(0),L.fill(0),ae.fill(-1);let G=0,Q=0;var ee=B+1;let se=ee,ue=!1,ie=se,de=(1<<ie)-1;var fe=1<<ee-1;let te=1+fe,he=2+fe,ve=0,Ce=$[0],ye=0;for(let nt=E;nt<65536;nt*=2)++ye;ye=8-ye,X.writeByte(B),st(fe);var _e=$.length;for(let nt=1;nt<_e;nt++)e:{var De=$[nt],We=(De<<12)+Ce;let it=De<<ye^Ce;if(ae[it]===We)Ce=L[it];else{for(var Oe=it===0?1:E-it;0<=ae[it];)if((it-=Oe)<0&&(it+=E),ae[it]===We){Ce=L[it];break e}st(Ce),Ce=De,he<4096?(L[it]=he++,ae[it]=We):(ae.fill(-1),he=2+fe,ue=!0,st(fe))}}return st(Ce),st(te),X.writeByte(0),X.bytesView();function st(nt){for(G&=d[Q],0<Q?G|=nt<<Q:G=nt,Q+=ie;8<=Q;)K[ve++]=255&G,254<=ve&&(X.writeByte(ve),X.writeBytesView(K,0,ve),ve=0),G>>=8,Q-=8;if((he>de||ue)&&(ue?(ie=se,de=(1<<ie)-1,ue=!1):(++ie,de=ie===12?1<<ie:(1<<ie)-1)),nt==te){for(;0<Q;)K[ve++]=255&G,254<=ve&&(X.writeByte(ve),X.writeBytesView(K,0,ve),ve=0),G>>=8,Q-=8;0<ve&&(X.writeByte(ve),X.writeBytesView(K,0,ve),ve=0)}}};function h(F,W,$){return F<<8&63488|W<<2&992|$>>3}function m(F,W,$,H){return F>>4|240&W|(240&$)<<4|(240&H)<<8}function g(F,W,$){return F>>4<<8|240&W|$>>4}function p(F,W,$){return F<W?W:$<F?$:F}function v(F){return F*F}function _(F,W,$){var H=0,X=1e100;let K=F[W];for(var ae=K.cnt,L=K.ac,E=K.rc,B=K.gc,G=K.bc,Q=K.fw;Q!=0;Q=F[Q].fw){var ee,se=F[Q],ue=se.cnt,ue=ae*ue/(ae+ue);X<=ue||(ee=0,$&&X<=(ee+=ue*v(se.ac-L))||X<=(ee+=ue*v(se.rc-E))||X<=(ee+=ue*v(se.gc-B))||X<=(ee+=ue*v(se.bc-G))||(X=ee,H=Q))}K.err=X,K.nn=H}function w(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function S(F,W){for(var $=0,H=0;H<F.length;H++){var X=F[H]-W[H];$+=X*X}return $}function M(F,W){return 1<W?Math.round(F/W)*W:F}function j(F){return F*F}function I(F,W,$=S){let H=1/0,X=-1;for(let ae=0;ae<F.length;ae++){var K=$(W,F[ae]);K<H&&(H=K,X=ae)}return X}function D(F,W,$=S){let H=1/0,X=-1;for(let ae=0;ae<F.length;ae++){var K=$(W,F[ae]);K<H&&(H=K,X=ae)}return[X,H]}function P(F={}){let{initialCapacity:W=4096,auto:$=!0}=F,H=b(W),X=new Uint8Array(256),K=new Int32Array(5003),ae=new Int32Array(5003),L=!1;return{reset(){H.reset(),L=!1},finish(){H.writeByte(y.trailer)},bytes(){return H.bytes()},bytesView(){return H.bytesView()},get buffer(){return H.buffer},get stream(){return H},writeHeader:E,writeFrame(B,G,Q,Ce={}){var{transparent:se=!1,transparentIndex:ue=0,delay:Oe=0,palette:ie=null,repeat:_e=0,colorDepth:de=8,dispose:fe=-1}=Ce;let te=!1;if($?L||(te=!0,E(),L=!0):te=!!Ce.first,G=Math.max(0,Math.floor(G)),Q=Math.max(0,Math.floor(Q)),te){if(!ie)throw new Error("First frame must include a { palette } option");var[Ce,De,ve,We,ye=8]=[H,G,Q,ie,de];We=z(We.length)-1,ye=128|ye-1<<4|We,N(Ce,De),N(Ce,ve),Ce.writeBytes([ye,0,0]),A(H,ie),0<=_e&&(We=H,De=_e,We.writeByte(33),We.writeByte(255),We.writeByte(11),O(We,"NETSCAPE2.0"),We.writeByte(3),We.writeByte(1),N(We,De),We.writeByte(0))}var he,ve=Math.round(Oe/10),Ce=H,ye=fe,_e=ve,De=se,We=ue,Oe=(Ce.writeByte(33),Ce.writeByte(249),Ce.writeByte(4),We<0&&(We=0,De=!1),De=De?(he=1,2):he=0,0<=ye&&(De=7&ye),De<<=2,Ce.writeByte(0|De|he),N(Ce,_e),Ce.writeByte(We||0),Ce.writeByte(0),!!ie&&!te);fe=H,se=G,ue=Q,he=Oe?ie:null,fe.writeByte(44),N(fe,0),N(fe,0),N(fe,se),N(fe,ue),he?(se=z(he.length)-1,fe.writeByte(128|se)):fe.writeByte(0),Oe&&A(H,ie),[_e,Ce,ue,se,fe=8,Oe,ie,B]=[H,B,G,Q,de,X,K,ae],f(ue,se,Ce,fe,_e,Oe,ie,B)}};function E(){O(H,"GIF89a")}}function A(F,W){var $=1<<z(W.length);for(let H=0;H<$;H++){let X=[0,0,0];H<W.length&&(X=W[H]),F.writeByte(X[0]),F.writeByte(X[1]),F.writeByte(X[2])}}function N(F,W){F.writeByte(255&W),F.writeByte(W>>8&255)}function O(F,W){for(var $=0;$<W.length;$++)F.writeByte(W.charCodeAt($))}function z(F){return Math.max(Math.ceil(Math.log2(F)),1)}var U=P},{}],254:[function(t,o,s){s.read=function(a,c,l,u,_){var b,d,f=8*_-u-1,h=(1<<f)-1,m=h>>1,g=-7,p=l?_-1:0,v=l?-1:1,_=a[c+p];for(p+=v,b=_&(1<<-g)-1,_>>=-g,g+=f;0<g;b=256*b+a[c+p],p+=v,g-=8);for(d=b&(1<<-g)-1,b>>=-g,g+=u;0<g;d=256*d+a[c+p],p+=v,g-=8);if(b===0)b=1-m;else{if(b===h)return d?NaN:1/0*(_?-1:1);d+=Math.pow(2,u),b-=m}return(_?-1:1)*d*Math.pow(2,b-u)},s.write=function(a,c,l,u,y,w){var d,f,h=8*w-y-1,m=(1<<h)-1,g=m>>1,p=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:w-1,_=u?1:-1,w=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(f=isNaN(c)?1:0,d=m):(d=Math.floor(Math.log(c)/Math.LN2),c*(u=Math.pow(2,-d))<1&&(d--,u*=2),2<=(c+=1<=d+g?p/u:p*Math.pow(2,1-g))*u&&(d++,u/=2),m<=d+g?(f=0,d=m):1<=d+g?(f=(c*u-1)*Math.pow(2,y),d+=g):(f=c*Math.pow(2,g-1)*Math.pow(2,y),d=0));8<=y;a[l+v]=255&f,v+=_,f/=256,y-=8);for(d=d<<y|f,h+=y;0<h;a[l+v]=255&d,v+=_,d/=256,h-=8);a[l+v-_]|=128*w}},{}],255:[function(t,o,s){"use strict";var a;function c(J,ne){return J.b===ne.b&&J.a===ne.a}function l(J,ne){return J.b<ne.b||J.b===ne.b&&J.a<=ne.a}function u(J,ne,Z){var oe=ne.b-J.b,be=Z.b-ne.b;return 0<oe+be?oe<be?ne.a-J.a+oe/(oe+be)*(J.a-Z.a):ne.a-Z.a+be/(oe+be)*(Z.a-J.a):0}function y(J,ne,Z){var oe=ne.b-J.b,be=Z.b-ne.b;return 0<oe+be?(ne.a-Z.a)*oe+(ne.a-J.a)*be:0}function b(J,ne){return J.a<ne.a||J.a===ne.a&&J.b<=ne.b}function d(J,ne,Z){var oe=ne.a-J.a,be=Z.a-ne.a;return 0<oe+be?oe<be?ne.b-J.b+oe/(oe+be)*(J.b-Z.b):ne.b-Z.b+be/(oe+be)*(Z.b-J.b):0}function f(J,ne,Z){var oe=ne.a-J.a,be=Z.a-ne.a;return 0<oe+be?(ne.b-Z.b)*oe+(ne.b-J.b)*be:0}function h(J,ne,Z,oe){return(J=J<0?0:J)<=(Z=Z<0?0:Z)?Z===0?(ne+oe)/2:ne+J/(J+Z)*(oe-ne):oe+Z/(J+Z)*(ne-oe)}function m(J){var ne=w(J.b);return M(ne,J.c),M(ne.b,J.c),j(ne,J.a),ne}function g(J,ne){var Z=!1,oe=!1;J!==ne&&(ne.a!==J.a&&(oe=!0,D(ne.a,J.a)),ne.d!==J.d&&(Z=!0,P(ne.d,J.d)),S(ne,J),oe||(M(ne,J.a),J.a.c=J),Z||(j(ne,J.d),J.d.a=J))}function p(J){var ne=J.b,Z=!1;J.d!==J.b.d&&(Z=!0,P(J.d,J.b.d)),J.c===J?D(J.a,null):(J.b.d.a=J.b.e,J.a.c=J.c,S(J,J.b.e),Z||j(J,J.d)),ne.c===ne?(D(ne.a,null),P(ne.d,null)):(J.d.a=ne.b.e,ne.a.c=ne.c,S(ne,ne.b.e)),I(J)}function v(J){var ne=w(J),Z=ne.b;return S(ne,J.e),ne.a=J.b.a,M(Z,ne.a),ne.d=Z.d=J.d,ne=ne.b,S(J.b,J.b.b.e),S(J.b,ne),J.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=J.b.d,ne.f=J.f,ne.b.f=J.b.f,ne}function _(J,ne){var Z=!1,oe=w(J),be=oe.b;return ne.d!==J.d&&(Z=!0,P(ne.d,J.d)),S(oe,J.e),S(be,ne),oe.a=J.b.a,be.a=ne.a,oe.d=be.d=J.d,J.d.a=be,Z||j(oe,J.d),oe}function w(J){var ne=new ve,Z=new ve,oe=J.b.h;return(((Z.h=oe).b.h=ne).h=J).b.h=Z,ne.b=Z,((ne.c=ne).e=Z).b=ne,(Z.c=Z).e=ne}function S(J,ne){var Z=J.c,oe=ne.c;Z.b.e=ne,(oe.b.e=J).c=oe,ne.c=Z}function M(J,ne){var Z=ne.f,oe=new ye(ne,Z);for(Z.e=oe,Z=(ne.f=oe).c=J;Z.a=oe,(Z=Z.c)!==J;);}function j(J,ne){var Z=ne.d,oe=new he(ne,Z);for(Z.b=oe,(ne.d=oe).a=J,oe.c=ne.c,Z=J;Z.d=oe,(Z=Z.e)!==J;);}function I(J){var ne=J.h;J=J.b.h,(ne.b.h=J).b.h=ne}function D(J,ne){for(var Z=J.c,oe=Z;oe.a=ne,(oe=oe.c)!==Z;);Z=J.f,((oe=J.e).f=Z).e=oe}function P(J,ne){for(var Z=J.a,oe=Z;oe.d=ne,(oe=oe.e)!==Z;);Z=J.d,((oe=J.b).d=Z).b=oe}function A(J){var ne=0;return Math.abs(J[1])>Math.abs(J[0])&&(ne=1),ne=Math.abs(J[2])>Math.abs(J[ne])?2:ne}function N(J,ne){J.f+=ne.f,J.b.f+=ne.b.f}function O(J,ne,Z){return J=J.a,ne=ne.a,Z=Z.a,ne.b.a===J?Z.b.a===J?l(ne.a,Z.a)?y(Z.b.a,ne.a,Z.a)<=0:0<=y(ne.b.a,Z.a,ne.a):y(Z.b.a,J,Z.a)<=0:Z.b.a===J?0<=y(ne.b.a,J,ne.a):(ne=u(ne.b.a,J,ne.a),(J=u(Z.b.a,J,Z.a))<=ne)}function z(J){J.a.i=null;var ne=J.e;ne.a.c=ne.c,ne.c.a=ne.a,J.e=null}function U(J,ne){p(J.a),J.c=!1,(J.a=ne).i=J}function F(J){for(var ne=J.a.a;(J=Me(J)).a.a===ne;);return J.c&&(U(J,ne=_(Ge(J).a.b,J.a.e)),J=Me(J)),J}function W(J,ne,Z){var oe=new Se;return oe.a=Z,oe.e=ue(J.f,ne.e,oe),Z.i=oe}function $(J,ne){switch(J.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function H(J){var ne=J.a,Z=ne.d;Z.c=J.d,Z.a=ne,z(J)}function X(J,ne,Z){for(ne=(J=ne).a;J!==Z;){J.c=!1;var oe=Ge(J),be=oe.a;if(be.a!==ne.a){if(!oe.c){H(J);break}U(oe,be=_(ne.c.b,be.b))}ne.c!==be&&(g(be.b.e,be),g(ne,be)),H(J),ne=oe.a,J=oe}return ne}function K(J,ne,Z,oe,be,Ie){for(var Ne=!0;W(J,ne,Z.b),(Z=Z.c)!==oe;);for(be===null&&(be=Ge(ne).a.b.c);(Z=(oe=Ge(ne)).a.b).a===be.a;)Z.c!==be&&(g(Z.b.e,Z),g(be.b.e,Z)),oe.f=ne.f-Z.f,oe.d=$(J,oe.f),ne.b=!0,!Ne&&B(J,ne)&&(N(Z,be),z(ne),p(be)),Ne=!1,ne=oe,be=Z;ne.b=!0,Ie&&Q(J,ne)}function ae(J,ne,Z,oe,be){var Ie=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=J.o&&J.o(Ie,Z,oe,J.c)||null,ne.d===null&&(be?J.n||(te(J,100156),J.n=!0):ne.d=Z[0])}function L(J,ne,Z){var oe=[null,null,null,null];oe[0]=ne.a.d,oe[1]=Z.a.d,ae(J,ne.a,oe,[.5,.5,0,0],!1),g(ne,Z)}function E(J,ne,Z,oe,be){var Ie=Math.abs(ne.b-J.b)+Math.abs(ne.a-J.a),Ne=Math.abs(Z.b-J.b)+Math.abs(Z.a-J.a),Qe=be+1;oe[be]=.5*Ne/(Ie+Ne),oe[Qe]=.5*Ie/(Ie+Ne),J.g[0]+=oe[be]*ne.g[0]+oe[Qe]*Z.g[0],J.g[1]+=oe[be]*ne.g[1]+oe[Qe]*Z.g[1],J.g[2]+=oe[be]*ne.g[2]+oe[Qe]*Z.g[2]}function B(J,ne){var Z=Ge(ne),oe=ne.a,be=Z.a;if(l(oe.a,be.a)){if(0<y(be.b.a,oe.a,be.a))return;if(c(oe.a,be.a)){if(oe.a!==be.a){var Z=J.e,Ie=oe.a.h;if(0<=Ie){var Ne=(Z=Z.b).d,Qe=Z.e,tt=Z.c,rt=tt[Ie];Ne[rt]=Ne[Z.a],(tt[Ne[rt]]=rt)<=--Z.a&&(rt<=1||l(Qe[Ne[rt>>1]],Qe[Ne[rt]])?ht:at)(Z,rt),Qe[Ie]=null,tt[Ie]=Z.b,Z.b=Ie}else for(Z.c[-(Ie+1)]=null;0<Z.a&&Z.c[Z.d[Z.a-1]]===null;)--Z.a;L(J,be.b.e,oe)}}else v(be.b),g(oe,be.b.e),ne.b=Z.b=!0}else{if(y(oe.b.a,be.a,oe.a)<0)return;Me(ne).b=ne.b=!0,v(oe.b),g(be.b.e,oe)}return 1}function G(J,ne){var Z=Ge(ne),oe=ne.a,be=Z.a,Ie=oe.a,Ne=be.a,Qe=oe.b.a,tt=be.b.a,rt=new ye;if(y(Qe,J.a,Ie),y(tt,J.a,Ne),!(Ie===Ne||Math.min(Ie.a,Qe.a)>Math.max(Ne.a,tt.a))){if(l(Ie,Ne)){if(0<y(tt,Ie,Ne))return}else if(y(Qe,Ne,Ie)<0)return;var ft,Qt,Nt=Qe,St=Ie,zt=tt,Pt=Ne;if(l(Nt,St)||(ft=Nt,Nt=St,St=ft),l(zt,Pt)||(ft=zt,zt=Pt,Pt=ft),l(Nt,zt)||(ft=Nt,Nt=zt,zt=ft,ft=St,St=Pt,Pt=ft),l(zt,St)?l(St,Pt)?((ft=u(Nt,zt,St))+(Qt=u(zt,St,Pt))<0&&(ft=-ft,Qt=-Qt),rt.b=h(ft,zt.b,Qt,St.b)):((ft=y(Nt,zt,St))+(Qt=-y(Nt,Pt,St))<0&&(ft=-ft,Qt=-Qt),rt.b=h(ft,zt.b,Qt,Pt.b)):rt.b=(zt.b+St.b)/2,b(Nt,St)||(ft=Nt,Nt=St,St=ft),b(zt,Pt)||(ft=zt,zt=Pt,Pt=ft),b(Nt,zt)||(ft=Nt,Nt=zt,zt=ft,ft=St,St=Pt,Pt=ft),b(zt,St)?b(St,Pt)?((ft=d(Nt,zt,St))+(Qt=d(zt,St,Pt))<0&&(ft=-ft,Qt=-Qt),rt.a=h(ft,zt.a,Qt,St.a)):((ft=f(Nt,zt,St))+(Qt=-f(Nt,Pt,St))<0&&(ft=-ft,Qt=-Qt),rt.a=h(ft,zt.a,Qt,Pt.a)):rt.a=(zt.a+St.a)/2,l(rt,J.a)&&(rt.b=J.a.b,rt.a=J.a.a),Nt=l(Ie,Ne)?Ie:Ne,l(Nt,rt)&&(rt.b=Nt.b,rt.a=Nt.a),c(rt,Ie)||c(rt,Ne))return B(J,ne),0;if(!c(Qe,J.a)&&0<=y(Qe,J.a,rt)||!c(tt,J.a)&&y(tt,J.a,rt)<=0){if(tt===J.a)v(oe.b),g(be.b,oe),oe=Ge(ne=F(ne)).a,X(J,Ge(ne),Z),K(J,ne,oe.b.e,oe,oe,!0);else{if(Qe!==J.a)return 0<=y(Qe,J.a,rt)&&(Me(ne).b=ne.b=!0,v(oe.b),oe.a.b=J.a.b,oe.a.a=J.a.a),void(y(tt,J.a,rt)<=0&&(ne.b=Z.b=!0,v(be.b),be.a.b=J.a.b,be.a.a=J.a.a));for(v(be.b),g(oe.e,be.b.e),Ne=(Ie=Z=ne).a.b.a;(Ie=Me(Ie)).a.b.a===Ne;);Ie=Ge(ne=Ie).a.b.c,Z.a=be.b.e,K(J,ne,(be=X(J,Z,null)).c,oe.b.c,Ie,!0)}return 1}v(oe.b),v(be.b),g(be.b.e,oe),oe.a.b=rt.b,oe.a.a=rt.a,oe.a.h=De(J.e,oe.a),oe=oe.a,be=[0,0,0,0],rt=[Ie.d,Qe.d,Ne.d,tt.d],oe.g[0]=oe.g[1]=oe.g[2]=0,E(oe,Ie,Qe,be,0),E(oe,Ne,tt,be,2),ae(J,oe,rt,be,!0),Me(ne).b=ne.b=Z.b=!0}}function Q(J,ne){for(var Z=Ge(ne);;){for(;Z.b;)Z=Ge(ne=Z);if(!ne.b&&((ne=Me(Z=ne))===null||!ne.b))break;ne.b=!1;var oe=ne.a,be=Z.a;if(Ie=oe.b.a!==be.b.a)e:{var Ie,Ne=Ge(Ie=ne),Qe=Ie.a,tt=Ne.a,rt=void 0;if(l(Qe.b.a,tt.b.a)){if(y(Qe.b.a,tt.b.a,Qe.a)<0){Ie=!1;break e}Me(Ie).b=Ie.b=!0,rt=v(Qe),g(tt.b,rt),rt.d.c=Ie.d}else{if(0<y(tt.b.a,Qe.b.a,tt.a)){Ie=!1;break e}Ie.b=Ne.b=!0,rt=v(tt),g(Qe.e,tt.b),rt.b.d.c=Ie.d}Ie=!0}if(Ie&&(Z.c?(z(Z),p(be),be=(Z=Ge(ne)).a):ne.c&&(z(ne),p(oe),oe=(ne=Me(Z)).a)),oe.a!==be.a){if(oe.b.a===be.b.a||ne.c||Z.c||oe.b.a!==J.a&&be.b.a!==J.a)B(J,ne);else if(G(J,ne))break}oe.a===be.a&&oe.b.a===be.b.a&&(N(be,oe),z(ne),p(oe),ne=Me(Z))}}function ee(J,ne){var Z=new Se,oe=m(J.b);oe.a.b=4e150,oe.a.a=ne,oe.b.a.b=-4e150,oe.b.a.a=ne,J.a=oe.b.a,Z.a=oe,Z.f=0,Z.d=!1,Z.c=!1,Z.h=!0,Z.b=!1,oe=ue(oe=J.f,oe.a,Z),Z.e=oe}function se(J){this.a=new ie,this.b=J,this.c=O}function ue(J,ne,Z){for(;(ne=ne.c).b!==null&&!J.c(J.b,ne.b,Z););return J=new ie(Z,ne.a,ne),ne.a.c=J,ne.a=J}function ie(J,ne,Z){this.b=J||null,this.a=ne||this,this.c=Z||this}function de(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function fe(J,ne){if(J.d!==ne)for(;J.d!==ne;)if(J.d<ne)switch(J.d){case 0:te(J,100151),J.u(null);break;case 1:te(J,100152),J.t()}else switch(J.d){case 2:te(J,100154),J.v();break;case 1:te(J,100153),J.w()}}function te(J,ne){J.p&&J.p(ne,J.c)}function he(J,ne){this.b=J||this,this.d=ne||this,this.a=null,this.c=!1}function ve(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ce(){this.c=new ye,this.a=new he,this.b=new ve,this.d=new ve,this.b.b=this.d,this.d.b=this.b}function ye(J,ne){this.e=J||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function _e(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Oe}function De(J,ne){var Z,oe,be;return J.e?(2*(oe=++(Z=J.b).a)>Z.f&&(Z.f*=2,Z.c=st(Z.c,Z.f+1)),Z.b===0?be=oe:(be=Z.b,Z.b=Z.c[Z.b]),Z.e[be]=ne,Z.c[be]=oe,Z.d[oe]=be,Z.h&&at(Z,oe),be):(Z=J.a++,J.c[Z]=ne,-(Z+1))}function We(J){if(J.a===0)return it(J.b);var ne=J.c[J.d[J.a-1]];if(J.b.a!==0&&l(nt(J.b),ne))return it(J.b);for(;--J.a,0<J.a&&J.c[J.d[J.a-1]]===null;);return ne}function Oe(){this.d=st([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function st(J,ne){for(var Z=Array(ne),oe=0;oe<J.length;oe++)Z[oe]=J[oe];for(;oe<ne;oe++)Z[oe]=0;return Z}function nt(J){return J.e[J.d[1]]}function it(J){var ne=J.d,Z=J.e,oe=J.c,be=ne[1],Ie=Z[be];return 0<J.a&&(ne[1]=ne[J.a],oe[ne[1]]=1,Z[be]=null,oe[be]=J.b,J.b=be,0<--J.a&&ht(J,1)),Ie}function ht(J,ne){for(var Z=J.d,oe=J.e,be=J.c,Ie=ne,Ne=Z[Ie];;){var Qe=Ie<<1,tt=(Qe<J.a&&l(oe[Z[Qe+1]],oe[Z[Qe]])&&(Qe+=1),Z[Qe]);if(Qe>J.a||l(oe[Ne],oe[tt])){be[Z[Ie]=Ne]=Ie;break}be[Z[Ie]=tt]=Ie,Ie=Qe}}function at(J,ne){for(var Z=J.d,oe=J.e,be=J.c,Ie=ne,Ne=Z[Ie];;){var Qe=Ie>>1,tt=Z[Qe];if(Qe==0||l(oe[tt],oe[Ne])){be[Z[Ie]=Ne]=Ie;break}be[Z[Ie]=tt]=Ie,Ie=Qe}}function Se(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ge(J){return J.e.c.b}function Me(J){return J.e.a.b}(a=de.prototype).x=function(){fe(this,0)},a.B=function(J,ne){switch(J){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void te(this,100900)}te(this,100901)},a.y=function(J){switch(J){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:te(this,100900)}return!1},a.A=function(J,ne,Z){this.j[0]=J,this.j[1]=ne,this.j[2]=Z},a.z=function(J,ne){var Z=ne||null;switch(J){case 100100:case 100106:this.h=Z;break;case 100104:case 100110:this.l=Z;break;case 100101:case 100107:this.k=Z;break;case 100102:case 100108:this.i=Z;break;case 100103:case 100109:this.p=Z;break;case 100105:case 100111:this.o=Z;break;case 100112:this.r=Z;break;default:te(this,100900)}},a.C=function(J,ne){var Z=!1,oe=[0,0,0];fe(this,2);for(var be=0;be<3;++be){var Ie=J[be];Ie<-1e150&&(Ie=-1e150,Z=!0),1e150<Ie&&(Ie=1e150,Z=!0),oe[be]=Ie}Z&&te(this,100155),(Z=this.q)===null?g(Z=m(this.b),Z.b):(v(Z),Z=Z.e),Z.a.d=ne,Z.a.g[0]=oe[0],Z.a.g[1]=oe[1],Z.a.g[2]=oe[2],Z.f=1,Z.b.f=-1,this.q=Z},a.u=function(J){fe(this,0),this.d=1,this.b=new Ce,this.c=J},a.t=function(){fe(this,1),this.d=2,this.q=null},a.v=function(){fe(this,2),this.d=1},a.w=function(){fe(this,1),this.d=0;var J,ne,Z=this.j[0],oe=this.j[1],be=this.j[2],Ie=!1,Ne=[Z,oe,be];if(Z===0&&oe===0&&be===0){for(var oe=[-2e150,-2e150,-2e150],Qe=[2e150,2e150,2e150],be=[],tt=[],Z=(Ie=this.b.c).e;Z!==Ie;Z=Z.e)for(var rt=0;rt<3;++rt){var ft=Z.g[rt];ft<Qe[rt]&&(Qe[rt]=ft,tt[rt]=Z),ft>oe[rt]&&(oe[rt]=ft,be[rt]=Z)}if(oe[1]-Qe[1]>oe[Z=0]-Qe[0]&&(Z=1),Qe[Z=oe[2]-Qe[2]>oe[Z]-Qe[Z]?2:Z]>=oe[Z])Ne[0]=0,Ne[1]=0,Ne[2]=1;else{for(Qe=tt[Z],be=be[Z],tt=[oe=0,0,0],Qe=[Qe.g[0]-be.g[0],Qe.g[1]-be.g[1],Qe.g[2]-be.g[2]],rt=[0,0,0],Z=Ie.e;Z!==Ie;Z=Z.e)rt[0]=Z.g[0]-be.g[0],rt[1]=Z.g[1]-be.g[1],rt[2]=Z.g[2]-be.g[2],tt[0]=Qe[1]*rt[2]-Qe[2]*rt[1],tt[1]=Qe[2]*rt[0]-Qe[0]*rt[2],tt[2]=Qe[0]*rt[1]-Qe[1]*rt[0],oe<(ft=tt[0]*tt[0]+tt[1]*tt[1]+tt[2]*tt[2])&&(oe=ft,Ne[0]=tt[0],Ne[1]=tt[1],Ne[2]=tt[2]);oe<=0&&(Ne[0]=Ne[1]=Ne[2]=0,Ne[A(Qe)]=1)}Ie=!0}for(tt=A(Ne),Z=this.b.c,oe=(tt+1)%3,be=(tt+2)%3,tt=0<Ne[tt]?1:-1,Ne=Z.e;Ne!==Z;Ne=Ne.e)Ne.b=Ne.g[oe],Ne.a=tt*Ne.g[be];if(Ie){for(Ne=0,Z=(Ie=this.b.a).b;Z!==Ie;Z=Z.b)if(!((oe=Z.a).f<=0))for(;Ne+=(oe.a.b-oe.b.a.b)*(oe.a.a+oe.b.a.a),(oe=oe.e)!==Z.a;);if(Ne<0)for(Ie=(Ne=this.b.c).e;Ie!==Ne;Ie=Ie.e)Ie.a=-Ie.a}for(this.n=!1,Ne=this.b.b,Z=Ne.h;Z!==Ne;Z=Ie)Ie=Z.h,oe=Z.e,c(Z.a,Z.b.a)&&Z.e.e!==Z&&(L(this,oe,Z),p(Z),oe=(Z=oe).e),oe.e===Z&&(oe!==Z&&(oe!==Ie&&oe!==Ie.b||(Ie=Ie.h),p(oe)),Z!==Ie&&Z!==Ie.b||(Ie=Ie.h),p(Z));for(this.e=Ne=new _e,Ie=this.b.c,Z=Ie.e;Z!==Ie;Z=Z.e)Z.h=De(Ne,Z);var Qt=Ne;Qt.d=[];for(var Nt=0;Nt<Qt.a;Nt++)Qt.d[Nt]=Nt;Qt.d.sort(function(Pt){return function(Br,Pn){return l(Pt[Br],Pt[Pn])?1:-1}}(Qt.c)),Qt.e=!0;for(var St=Qt.b,zt=St.a;1<=zt;--zt)ht(St,zt);for(St.h=!0,this.f=new se(this),ee(this,-4e150),ee(this,4e150);(Ne=We(this.e))!==null;){for(;;){e:if((Z=this.e).a===0)Ie=nt(Z.b);else if(Ie=Z.c[Z.d[Z.a-1]],Z.b.a!==0&&l(Z=nt(Z.b),Ie)){Ie=Z;break e}if(Ie===null||!c(Ie,Ne))break;Ie=We(this.e),L(this,Ne.c,Ie.c)}(function Pt(Br,Pn){for(var ln,Er=(Br.a=Pn).c;Er.i===null;)if((Er=Er.c)===Pn.c){var Er=Br,zr=Pn;(kr=new Se).a=zr.c.b;for(var Dn=(_r=Er.f).a;(Dn=Dn.a).b!==null&&!_r.c(_r.b,kr,Dn.b););var _r,In,bn=Ge(_r=Dn.b),kr=_r.a,Dn=bn.a;return void(y(kr.b.a,zr,kr.a)===0?c((kr=_r.a).a,zr)||c(kr.b.a,zr)||(v(kr.b),_r.c&&(p(kr.c),_r.c=!1),g(zr.c,kr),Pt(Er,zr)):(In=l(Dn.b.a,kr.b.a)?_r:bn,bn=void 0,_r.d||In.c?(bn=In===_r?_(zr.c.b,kr.e):_(Dn.b.c.b,zr.c).b,In.c?U(In,bn):((_r=W(kr=Er,_r,bn)).f=Me(_r).f+_r.a.f,_r.d=$(kr,_r.f)),Pt(Er,zr)):K(Er,_r,zr.c,zr.c,null,!0)))}_r=(kr=Ge(Er=F(Er.i))).a,(kr=X(Br,kr,null)).c===_r?(kr=(_r=kr).c,Dn=Ge(Er),bn=Er.a,In=Dn.a,ln=!1,bn.b.a!==In.b.a&&G(Br,Er),c(bn.a,Br.a)&&(g(kr.b.e,bn),kr=Ge(Er=F(Er)).a,X(Br,Ge(Er),Dn),ln=!0),c(In.a,Br.a)&&(g(_r,In.b.e),_r=X(Br,Dn,null),ln=!0),ln?K(Br,Er,_r.c,kr,kr,!0):(zr=l(In.a,bn.a)?In.b.e:bn,K(Br,Er,zr=_(_r.c.b,zr),zr.c,zr.c,!1),zr.b.i.c=!0,Q(Br,Er))):K(Br,Er,kr.c,_r,_r,!0)})(this,Ne)}for(this.a=this.f.a.a.b.a.a,Ne=0;(Ie=this.f.a.a.b)!==null;)Ie.h||++Ne,z(Ie);for(this.f=null,(Ne=this.e).b=null,Ne.d=null,this.e=Ne.c=null,Ne=this.b,Z=Ne.a.b;Z!==Ne.a;Z=Ie)Ie=Z.b,(Z=Z.a).e.e===Z&&(N(Z.c,Z),p(Z));if(!this.n){if(Ne=this.b,this.m)for(Z=Ne.b.h;Z!==Ne.b;Z=Ie)Ie=Z.h,Z.b.d.c!==Z.d.c?Z.f=Z.d.c?1:-1:p(Z);else for(Z=Ne.a.b;Z!==Ne.a;Z=Ie)if(Ie=Z.b,Z.c){for(Z=Z.a;l(Z.b.a,Z.a);Z=Z.c.b);for(;l(Z.a,Z.b.a);Z=Z.e);for(oe=Z.c.b,be=void 0;Z.e!==oe;)if(l(Z.b.a,oe.a)){for(;oe.e!==Z&&(l((ne=oe.e).b.a,ne.a)||y(oe.a,oe.b.a,oe.e.b.a)<=0);)oe=(be=_(oe.e,oe)).b;oe=oe.c.b}else{for(;oe.e!==Z&&(l((J=Z.c.b).a,J.b.a)||0<=y(Z.b.a,Z.a,Z.c.b.a));)Z=(be=_(Z,Z.c.b)).b;Z=Z.e}for(;oe.e.e!==Z;)be=_(oe.e,oe),oe=be.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ie=(Ne=this.b).a.b;Ie!==Ne.a;Ie=Ie.b)if(Ie.c){for(this.h&&this.h(2,this.c),Z=Ie.a;this.k&&this.k(Z.a.d,this.c),(Z=Z.e)!==Ie.a;);this.i&&this.i(this.c)}}else{for(Ne=this.b,Ie=!!this.l,Z=!1,oe=-1,be=Ne.a.d;be!==Ne.a;be=be.d)if(be.c)for(Z||(this.h&&this.h(4,this.c),Z=!0),tt=be.a;Ie&&(Qe=tt.b.d.c?0:1,oe!==Qe&&(oe=Qe,this.l&&this.l(!!oe,this.c))),this.k&&this.k(tt.a.d,this.c),(tt=tt.e)!==be.a;);Z&&this.i&&this.i(this.c)}if(this.r){for(Ne=this.b,Z=Ne.a.b;Z!==Ne.a;Z=Ie)if(Ie=Z.b,!Z.c){for(be=(oe=Z.a).e,tt=void 0;be=(tt=be).e,(tt.d=null)===tt.b.d&&(tt.c===tt?D(tt.a,null):(tt.a.c=tt.c,S(tt,tt.b.e)),(Qe=tt.b).c===Qe?D(Qe.a,null):(Qe.a.c=Qe.c,S(Qe,Qe.b.e)),I(tt)),tt!==oe;);oe=Z.d,((Z=Z.b).d=oe).b=Z}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:de,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},de.prototype.gluDeleteTess=de.prototype.x,de.prototype.gluTessProperty=de.prototype.B,de.prototype.gluGetTessProperty=de.prototype.y,de.prototype.gluTessNormal=de.prototype.A,de.prototype.gluTessCallback=de.prototype.z,de.prototype.gluTessVertex=de.prototype.C,de.prototype.gluTessBeginPolygon=de.prototype.u,de.prototype.gluTessBeginContour=de.prototype.t,de.prototype.gluTessEndContour=de.prototype.v,de.prototype.gluTessEndPolygon=de.prototype.w,o!==void 0&&(o.exports=this.libtess)},{}],256:[function(t,o,s){"use strict";function a(l,u,y,b){var d=0,f=(b=b===void 0?{}:b).loop===void 0?null:b.loop,h=b.palette===void 0?null:b.palette;if(u<=0||y<=0||65535<u||65535<y)throw new Error("Width/Height invalid.");function m(j){if(j=j.length,j<2||256<j||j&j-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return j}l[d++]=71,l[d++]=73,l[d++]=70,l[d++]=56,l[d++]=57,l[d++]=97;var g=0,p=0;if(h!==null){for(var v=m(h);v>>=1;)++g;if(v=1<<g,--g,b.background!==void 0){if(v<=(p=b.background))throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(l[d++]=255&u,l[d++]=u>>8&255,l[d++]=255&y,l[d++]=y>>8&255,l[d++]=(h!==null?128:0)|g,l[d++]=p,l[d++]=0,h!==null)for(var _=0,w=h.length;_<w;++_){var S=h[_];l[d++]=S>>16&255,l[d++]=S>>8&255,l[d++]=255&S}if(f!==null){if(f<0||65535<f)throw new Error("Loop count invalid.");l[d++]=33,l[d++]=255,l[d++]=11,l[d++]=78,l[d++]=69,l[d++]=84,l[d++]=83,l[d++]=67,l[d++]=65,l[d++]=80,l[d++]=69,l[d++]=50,l[d++]=46,l[d++]=48,l[d++]=3,l[d++]=1,l[d++]=255&f,l[d++]=f>>8&255,l[d++]=0}var M=!1;this.addFrame=function(j,I,D,P,A,N){if(M===!0&&(--d,M=!1),N=N===void 0?{}:N,j<0||I<0||65535<j||65535<I)throw new Error("x/y invalid.");if(D<=0||P<=0||65535<D||65535<P)throw new Error("Width/Height invalid.");if(A.length<D*P)throw new Error("Not enough pixels for the frame size.");var O=!0,z=N.palette;if(z==null&&(O=!1,z=h),z==null)throw new Error("Must supply either a local or global palette.");for(var F=m(z),U=0;F>>=1;)++U;var F=1<<U,W=N.delay===void 0?0:N.delay,$=N.disposal===void 0?0:N.disposal;if($<0||3<$)throw new Error("Disposal out of range.");var H=!1,X=0;if(N.transparent!==void 0&&N.transparent!==null&&(H=!0,(X=N.transparent)<0||F<=X))throw new Error("Transparent color index.");if($===0&&!H&&W===0||(l[d++]=33,l[d++]=249,l[d++]=4,l[d++]=$<<2|(H===!0?1:0),l[d++]=255&W,l[d++]=W>>8&255,l[d++]=X,l[d++]=0),l[d++]=44,l[d++]=255&j,l[d++]=j>>8&255,l[d++]=255&I,l[d++]=I>>8&255,l[d++]=255&D,l[d++]=D>>8&255,l[d++]=255&P,l[d++]=P>>8&255,l[d++]=O===!0?128|U-1:0,O===!0)for(var K=0,ae=z.length;K<ae;++K){var L=z[K];l[d++]=L>>16&255,l[d++]=L>>8&255,l[d++]=255&L}return d=function(E,B,G,Q){E[B++]=G;var ee=B++,se=1<<G,ue=se-1,ie=1+se,de=1+ie,fe=G+1,te=0,he=0;function ve(it){for(;it<=te;)E[B++]=255&he,he>>=8,te-=8,B===ee+256&&(E[ee]=255,ee=B++)}function Ce(it){he|=it<<te,te+=fe,ve(8)}var ye=Q[0]&ue,_e={};Ce(se);for(var De=1,We=Q.length;De<We;++De){var Oe=Q[De]&ue,st=ye<<8|Oe,nt=_e[st];if(nt===void 0){for(he|=ye<<te,te+=fe;8<=te;)E[B++]=255&he,he>>=8,te-=8,B===ee+256&&(E[ee]=255,ee=B++);de===4096?(Ce(se),de=1+ie,fe=G+1,_e={}):(1<<fe<=de&&++fe,_e[st]=de++),ye=Oe}else ye=nt}return Ce(ye),Ce(ie),ve(1),ee+1===B?E[ee]=0:(E[ee]=B-ee-1,E[B++]=0),B}(l,d,U<2?2:U,A)},this.end=function(){return M===!1&&(l[d++]=59,M=!0),d},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(j){l=j},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(j){d=j}}function c(l,u,y,b){for(var d=l[u++],f=1<<d,h=1+f,m=1+h,g=d+1,p=(1<<g)-1,v=0,_=0,w=0,S=l[u++],M=new Int32Array(4096),j=null;;){for(;v<16&&S!==0;)_|=l[u++]<<v,v+=8,S===1?S=l[u++]:--S;if(v<g)break;var I=_&p;if(_>>=g,v-=g,I==f)m=1+h,p=(1<<(g=d+1))-1,j=null;else{if(I==h)break;for(var D=I<m?I:j,P=0,A=D;f<A;)A=M[A]>>8,++P;var N=A;if(b<w+P+(D!==I?1:0))return void console.log("Warning, gif stream longer than expected.");y[w++]=N;var O=w+=P;for(D!==I&&(y[w++]=N),A=D;P--;)A=M[A],y[--O]=255&A,A>>=8;j!==null&&m<4096&&(M[m++]=j<<8|N,p+1<=m&&g<12&&(++g,p=p<<1|1)),j=I}}w!==b&&console.log("Warning, gif stream shorter than expected.")}try{s.GifWriter=a,s.GifReader=function(l){var u=0;if(l[u++]!==71||l[u++]!==73||l[u++]!==70||l[u++]!==56||(l[u++]+1&253)!=56||l[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var y=l[u++]|l[u++]<<8,b=l[u++]|l[u++]<<8,d=l[u++],f=1<<1+(7&d),h=(l[u++],l[u++],null),m=null,g=(d>>7&&(h=u,u+=3*(m=f)),!0),p=[],v=0,_=null,w=0,S=null;for(this.width=y,this.height=b;g&&u<l.length;)switch(l[u++]){case 33:switch(l[u++]){case 255:if(l[u]!==11||l[u+1]==78&&l[u+2]==69&&l[u+3]==84&&l[u+4]==83&&l[u+5]==67&&l[u+6]==65&&l[u+7]==80&&l[u+8]==69&&l[u+9]==50&&l[u+10]==46&&l[u+11]==48&&l[u+12]==3&&l[u+13]==1&&l[u+16]==0)u+=14,S=l[u++]|l[u++]<<8,u++;else for(u+=12;;){if(!(0<=(j=l[u++])))throw Error("Invalid block size");if(j===0)break;u+=j}break;case 249:if(l[u++]!==4||l[u+4]!==0)throw new Error("Invalid graphics extension block.");var M=l[u++],v=l[u++]|l[u++]<<8,_=l[u++];!(1&M)&&(_=null),w=M>>2&7,u++;break;case 254:for(;;){if(!(0<=(j=l[u++])))throw Error("Invalid block size");if(j===0)break;u+=j}break;default:throw new Error("Unknown graphic control label: 0x"+l[u-1].toString(16))}break;case 44:var j,I=l[u++]|l[u++]<<8,D=l[u++]|l[u++]<<8,P=l[u++]|l[u++]<<8,A=l[u++]|l[u++]<<8,W=l[u++],N=W>>6&1,O=1<<1+(7&W),z=h,U=m,F=!1,W=(W>>7&&(F=!0,z=u,u+=3*(U=O)),u);for(u++;;){if(!(0<=(j=l[u++])))throw Error("Invalid block size");if(j===0)break;u+=j}p.push({x:I,y:D,width:P,height:A,has_local_palette:F,palette_offset:z,palette_size:U,data_offset:W,data_length:u-W,transparent_index:_,interlaced:!!N,delay:v,disposal:w});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+l[u-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function($){if($<0||$>=p.length)throw new Error("Frame index out of range.");return p[$]},this.decodeAndBlitFrameBGRA=function($,H){for(var $=this.frameInfo($),X=$.width*$.height,K=new Uint8Array(X),ae=(c(l,$.data_offset,K,X),$.palette_offset),L=$.transparent_index,E=(L===null&&(L=256),$.width),B=y-E,G=E,Q=4*($.y*y+$.x),ee=4*(($.y+$.height)*y+$.x),se=Q,ue=4*B,ie=($.interlaced===!0&&(ue+=4*y*7),8),de=0,fe=K.length;de<fe;++de){var te,he,ve=K[de];G===0&&(G=E,ee<=(se+=ue)&&(ue=4*B+4*y*(ie-1),se=Q+(E+B)*(ie<<1),ie>>=1)),ve===L?se+=4:(te=l[ae+3*ve],he=l[ae+3*ve+1],ve=l[ae+3*ve+2],H[se++]=ve,H[se++]=he,H[se++]=te,H[se++]=255),--G}},this.decodeAndBlitFrameRGBA=function($,H){for(var $=this.frameInfo($),X=$.width*$.height,K=new Uint8Array(X),ae=(c(l,$.data_offset,K,X),$.palette_offset),L=$.transparent_index,E=(L===null&&(L=256),$.width),B=y-E,G=E,Q=4*($.y*y+$.x),ee=4*(($.y+$.height)*y+$.x),se=Q,ue=4*B,ie=($.interlaced===!0&&(ue+=4*y*7),8),de=0,fe=K.length;de<fe;++de){var te,he,ve=K[de];G===0&&(G=E,ee<=(se+=ue)&&(ue=4*B+4*y*(ie-1),se=Q+(E+B)*(ie<<1),ie>>=1)),ve===L?se+=4:(te=l[ae+3*ve],he=l[ae+3*ve+1],ve=l[ae+3*ve+2],H[se++]=te,H[se++]=he,H[se++]=ve,H[se++]=255),--G}}}}catch{}},{}],257:[function(t,o,s){(function(a){var c,l;c=this,l=function(u){"use strict";function y(V){if(this==null)throw TypeError();var C,k=String(this),R=k.length,V=V?Number(V):0;if(!((V=V!=V?0:V)<0||R<=V))return 55296<=(C=k.charCodeAt(V))&&C<=56319&&V+1<R&&56320<=(R=k.charCodeAt(V+1))&&R<=57343?1024*(C-55296)+R-56320+65536:C}String.prototype.codePointAt||((b=function(){try{var x={},C=Object.defineProperty,k=C(x,x,x)&&C}catch{}return k}())?b(String.prototype,"codePointAt",{value:y,configurable:!0,writable:!0}):String.prototype.codePointAt=y);var b,d=0,f=-3;function h(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function m(x,C){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=C,this.destLen=0,this.ltree=new h,this.dtree=new h}var g=new h,p=new h,v=new Uint8Array(30),_=new Uint16Array(30),w=new Uint8Array(30),S=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new h,I=new Uint8Array(320);function D(x,C,k,R){for(var V,q=0;q<k;++q)x[q]=0;for(q=0;q<30-k;++q)x[q+k]=q/k|0;for(V=R,q=0;q<30;++q)C[q]=V,V+=1<<x[q]}var P=new Uint16Array(16);function A(x,C,k,R){for(var V,q=0;q<16;++q)x.table[q]=0;for(q=0;q<R;++q)x.table[C[k+q]]++;for(q=V=x.table[0]=0;q<16;++q)P[q]=V,V+=x.table[q];for(q=0;q<R;++q)C[k+q]&&(x.trans[P[C[k+q]]++]=q)}function N(x,C,k){if(!C)return k;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var R=x.tag&65535>>>16-C;return x.tag>>>=C,x.bitcount-=C,R+k}function O(x,C){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var k=0,R=0,V=0,q=x.tag;R=2*R+(1&q),q>>>=1,k+=C.table[++V],0<=(R-=C.table[V]););return x.tag=q,x.bitcount-=V,C.trans[k+R]}function z(x,C,k){for(;;){var R=O(x,C);if(R===256)return d;if(R<256)x.dest[x.destLen++]=R;else for(var V,q=N(x,v[R-=257],_[R]),R=O(x,k),Y=V=x.destLen-N(x,w[R],S[R]);Y<V+q;++Y)x.dest[x.destLen++]=x.dest[Y]}}for(var U=g,F=p,W=0;W<7;++W)U.table[W]=0;for(U.table[7]=24,U.table[8]=152,U.table[9]=112,W=0;W<24;++W)U.trans[W]=256+W;for(W=0;W<144;++W)U.trans[24+W]=W;for(W=0;W<8;++W)U.trans[168+W]=280+W;for(W=0;W<112;++W)U.trans[176+W]=144+W;for(W=0;W<5;++W)F.table[W]=0;for(F.table[5]=32,W=0;W<32;++W)F.trans[W]=W;D(v,_,4,3),D(w,S,2,1),v[28]=0,_[28]=258;var $=function(x,C){var k,R,V,q=new m(x,C);do{switch(V=void 0,(R=q).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),V=1&R.tag,R.tag>>>=1,R=V,N(q,2,0)){case 0:k=function(Pe){for(var Tt,Kt;8<Pe.bitcount;)Pe.sourceIndex--,Pe.bitcount-=8;if((Tt=256*Pe.source[Pe.sourceIndex+1]+Pe.source[Pe.sourceIndex])!==(65535&~(256*Pe.source[Pe.sourceIndex+3]+Pe.source[Pe.sourceIndex+2])))return f;for(Pe.sourceIndex+=4,Kt=Tt;Kt;--Kt)Pe.dest[Pe.destLen++]=Pe.source[Pe.sourceIndex++];return Pe.bitcount=0,d}(q);break;case 1:k=z(q,g,p);break;case 2:Ve=Fe=$e=Re=Y=pe=Ee=Te=we=le=ce=re=void 0;for(var Y,re=q,ce=q.ltree,le=q.dtree,we=N(re,5,257),Te=N(re,5,1),Ee=N(re,4,4),pe=0;pe<19;++pe)I[pe]=0;for(pe=0;pe<Ee;++pe){var $e=N(re,3,0);I[M[pe]]=$e}for(A(j,I,0,19),Y=0;Y<we+Te;){var Fe=O(re,j);switch(Fe){case 16:for(var Ve=I[Y-1],Re=N(re,2,3);Re;--Re)I[Y++]=Ve;break;case 17:for(Re=N(re,3,3);Re;--Re)I[Y++]=0;break;case 18:for(Re=N(re,7,11);Re;--Re)I[Y++]=0;break;default:I[Y++]=Fe}}A(ce,I,0,we),A(le,I,we,Te),k=z(q,q.ltree,q.dtree);break;default:k=f}if(k!==d)throw new Error("Data error")}while(!R);return q.destLen<q.dest.length?typeof q.dest.slice=="function"?q.dest.slice(0,q.destLen):q.dest.subarray(0,q.destLen):q.dest};function H(x,C,k,R,V){return Math.pow(1-V,3)*x+3*Math.pow(1-V,2)*V*C+3*(1-V)*Math.pow(V,2)*k+Math.pow(V,3)*R}function X(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ae(x){throw new Error(x)}function L(x,C){x||ae(C)}X.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},X.prototype.addPoint=function(x,C){typeof x=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),typeof C=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=C,this.y2=C),C<this.y1&&(this.y1=C),C>this.y2&&(this.y2=C))},X.prototype.addX=function(x){this.addPoint(x,null)},X.prototype.addY=function(x){this.addPoint(null,x)},X.prototype.addBezier=function(x,C,k,R,V,q,Y,re){var ce=[x,C],le=[k,R],we=[V,q],Te=[Y,re];this.addPoint(x,C),this.addPoint(Y,re);for(var Ee=0;Ee<=1;Ee++){var pe,$e=6*ce[Ee]-12*le[Ee]+6*we[Ee],Fe=-3*ce[Ee]+9*le[Ee]-9*we[Ee]+3*Te[Ee],Ve=3*le[Ee]-3*ce[Ee];Fe==0?$e==0||0<(pe=-Ve/$e)&&pe<1&&(Ee===0&&this.addX(H(ce[Ee],le[Ee],we[Ee],Te[Ee],pe)),Ee===1&&this.addY(H(ce[Ee],le[Ee],we[Ee],Te[Ee],pe))):(pe=Math.pow($e,2)-4*Ve*Fe)<0||(0<(Ve=(-$e+Math.sqrt(pe))/(2*Fe))&&Ve<1&&(Ee===0&&this.addX(H(ce[Ee],le[Ee],we[Ee],Te[Ee],Ve)),Ee===1&&this.addY(H(ce[Ee],le[Ee],we[Ee],Te[Ee],Ve))),0<(Ve=(-$e-Math.sqrt(pe))/(2*Fe))&&Ve<1&&(Ee===0&&this.addX(H(ce[Ee],le[Ee],we[Ee],Te[Ee],Ve)),Ee===1&&this.addY(H(ce[Ee],le[Ee],we[Ee],Te[Ee],Ve))))}},X.prototype.addQuad=function(x,C,k,R,V,q){k=x+2/3*(k-x),R=C+2/3*(R-C),this.addBezier(x,C,k,R,k+1/3*(V-x),R+1/3*(q-C),V,q)},K.prototype.moveTo=function(x,C){this.commands.push({type:"M",x,y:C})},K.prototype.lineTo=function(x,C){this.commands.push({type:"L",x,y:C})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(x,C,k,R,V,q){this.commands.push({type:"C",x1:x,y1:C,x2:k,y2:R,x:V,y:q})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(x,C,k,R){this.commands.push({type:"Q",x1:x,y1:C,x:k,y:R})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(x){var C;if(x.commands)x=x.commands;else if(x instanceof X)return C=x,this.moveTo(C.x1,C.y1),this.lineTo(C.x2,C.y1),this.lineTo(C.x2,C.y2),this.lineTo(C.x1,C.y2),void this.close();Array.prototype.push.apply(this.commands,x)},K.prototype.getBoundingBox=function(){for(var x=new X,C=0,k=0,R=0,V=0,q=0;q<this.commands.length;q++){var Y=this.commands[q];switch(Y.type){case"M":x.addPoint(Y.x,Y.y),C=R=Y.x,k=V=Y.y;break;case"L":x.addPoint(Y.x,Y.y),R=Y.x,V=Y.y;break;case"Q":x.addQuad(R,V,Y.x1,Y.y1,Y.x,Y.y),R=Y.x,V=Y.y;break;case"C":x.addBezier(R,V,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),R=Y.x,V=Y.y;break;case"Z":R=C,V=k;break;default:throw new Error("Unexpected path command "+Y.type)}}return x.isEmpty()&&x.addPoint(0,0),x},K.prototype.draw=function(x){x.beginPath();for(var C=0;C<this.commands.length;C+=1){var k=this.commands[C];k.type==="M"?x.moveTo(k.x,k.y):k.type==="L"?x.lineTo(k.x,k.y):k.type==="C"?x.bezierCurveTo(k.x1,k.y1,k.x2,k.y2,k.x,k.y):k.type==="Q"?x.quadraticCurveTo(k.x1,k.y1,k.x,k.y):k.type==="Z"&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},K.prototype.toPathData=function(x){function C(){for(var q=arguments,Y="",re=0;re<arguments.length;re+=1){var ce=q[re];0<=ce&&0<re&&(Y+=" "),Y+=(ce=ce,Math.round(ce)===ce?""+Math.round(ce):ce.toFixed(x))}return Y}x=x!==void 0?x:2;for(var k="",R=0;R<this.commands.length;R+=1){var V=this.commands[R];V.type==="M"?k+="M"+C(V.x,V.y):V.type==="L"?k+="L"+C(V.x,V.y):V.type==="C"?k+="C"+C(V.x1,V.y1,V.x2,V.y2,V.x,V.y):V.type==="Q"?k+="Q"+C(V.x1,V.y1,V.x,V.y):V.type==="Z"&&(k+="Z")}return k},K.prototype.toSVG=function(x){var C=(C='<path d="')+this.toPathData(x)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?C+=' fill="none"':C+=' fill="'+this.fill+'"'),this.stroke&&(C+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),C+="/>"},K.prototype.toDOMElement=function(C){var C=this.toPathData(C),k=document.createElementNS("http://www.w3.org/2000/svg","path");return k.setAttribute("d",C),k};var E={fail:ae,argument:L,assert:L},B={},G={},Q={};function ee(x){return function(){return x}}G.BYTE=function(x){return E.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},Q.BYTE=ee(1),G.CHAR=function(x){return[x.charCodeAt(0)]},Q.CHAR=ee(1),G.CHARARRAY=function(x){for(var C=[],k=0;k<x.length;k+=1)C[k]=x.charCodeAt(k);return C},Q.CHARARRAY=function(x){return x.length},G.USHORT=function(x){return[x>>8&255,255&x]},Q.USHORT=ee(2),G.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},Q.SHORT=ee(2),G.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},Q.UINT24=ee(3),G.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},Q.ULONG=ee(4),G.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},Q.LONG=ee(4),G.FIXED=G.ULONG,Q.FIXED=Q.ULONG,G.FWORD=G.SHORT,Q.FWORD=Q.SHORT,G.UFWORD=G.USHORT,Q.UFWORD=Q.USHORT,G.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},Q.LONGDATETIME=ee(8),G.TAG=function(x){return E.argument(x.length===4,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},Q.TAG=ee(4),G.Card8=G.BYTE,Q.Card8=Q.BYTE,G.Card16=G.USHORT,Q.Card16=Q.USHORT,G.OffSize=G.BYTE,Q.OffSize=Q.BYTE,G.SID=G.USHORT,Q.SID=Q.USHORT,G.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?G.NUMBER16(x):G.NUMBER32(x)},Q.NUMBER=function(x){return G.NUMBER(x).length},G.NUMBER16=function(x){return[28,x>>8&255,255&x]},Q.NUMBER16=ee(3),G.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},Q.NUMBER32=ee(5),G.REAL=function(x){for(var C=x.toString(),k=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(C),R=(k&&(k=parseFloat("1e"+((k[2]?+k[2]:0)+k[1].length)),C=(Math.round(x*k)/k).toString()),""),V=0,q=C.length;V<q;V+=1){var Y=C[V];R+=Y==="e"?C[++V]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var re=[30],ce=0,le=(R+=1&R.length?"f":"ff").length;ce<le;ce+=2)re.push(parseInt(R.substr(ce,2),16));return re},Q.REAL=function(x){return G.REAL(x).length},G.NAME=G.CHARARRAY,Q.NAME=Q.CHARARRAY,G.STRING=G.CHARARRAY,Q.STRING=Q.CHARARRAY,B.UTF8=function(x,C,k){for(var R=[],V=k,q=0;q<V;q++,C+=1)R[q]=x.getUint8(C);return String.fromCharCode.apply(null,R)},B.UTF16=function(x,C,k){for(var R=[],V=k/2,q=0;q<V;q++,C+=2)R[q]=x.getUint16(C);return String.fromCharCode.apply(null,R)},G.UTF16=function(x){for(var C=[],k=0;k<x.length;k+=1){var R=x.charCodeAt(k);C[C.length]=R>>8&255,C[C.length]=255&R}return C},Q.UTF16=function(x){return 2*x.length};var se,ue={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},ie=(B.MACSTRING=function(x,C,k,R){var V=ue[R];if(V!==void 0){for(var q="",Y=0;Y<k;Y++){var re=x.getUint8(C+Y);q+=re<=127?String.fromCharCode(re):V[127&re]}return q}},typeof WeakMap=="function"&&new WeakMap);function de(x){return-128<=x&&x<=127}G.MACSTRING=function(x,C){var k=function(Y){if(!se)for(var re in se={},ue)se[re]=new String(re);var ce=se[Y];if(ce!==void 0){if(ie){var le=ie.get(ce);if(le!==void 0)return le}var we=ue[Y];if(we!==void 0){for(var Te={},Ee=0;Ee<we.length;Ee++)Te[we.charCodeAt(Ee)]=Ee+128;return ie&&ie.set(ce,Te),Te}}}(C);if(k!==void 0){for(var R=[],V=0;V<x.length;V++){var q=x.charCodeAt(V);if(128<=q&&(q=k[q])===void 0)return;R[V]=q}return R}},Q.MACSTRING=function(x,C){return x=G.MACSTRING(x,C),x!==void 0?x.length:0},G.VARDELTAS=function(x){for(var R=0,C=[];R<x.length;)var k=x[R],R=(k===0?function(V,q,Y){for(var re=0,ce=V.length;q<ce&&re<64&&V[q]===0;)++q,++re;return Y.push(128|re-1),q}:-128<=k&&k<=127?function(V,q,Y){for(var re=0,ce=V.length,le=q;le<ce&&re<64;){var we=V[le];if(!de(we)||we===0&&le+1<ce&&V[le+1]===0)break;++le,++re}Y.push(re-1);for(var Te=q;Te<le;++Te)Y.push(V[Te]+256&255);return le}:function(V,q,Y){for(var re=0,ce=V.length,le=q;le<ce&&re<64;){var we=V[le];if(we===0||de(we)&&le+1<ce&&de(V[le+1]))break;++le,++re}Y.push(64|re-1);for(var Te=q;Te<le;++Te){var Ee=V[Te];Y.push(Ee+65536>>8&255,Ee+256&255)}return le})(x,R,C);return C},G.INDEX=function(x){for(var C=1,k=[C],R=[],V=0;V<x.length;V+=1){var q=G.OBJECT(x[V]);Array.prototype.push.apply(R,q),C+=q.length,k.push(C)}if(R.length===0)return[0,0];for(var Y=[],re=1+Math.floor(Math.log(C)/Math.log(2))/8|0,ce=[void 0,G.BYTE,G.USHORT,G.UINT24,G.ULONG][re],le=0;le<k.length;le+=1){var we=ce(k[le]);Array.prototype.push.apply(Y,we)}return Array.prototype.concat(G.Card16(x.length),G.OffSize(re),Y,R)},Q.INDEX=function(x){return G.INDEX(x).length},G.DICT=function(x){for(var C=[],k=Object.keys(x),R=k.length,V=0;V<R;V+=1){var q=parseInt(k[V],0),Y=x[q];C=(C=C.concat(G.OPERAND(Y.value,Y.type))).concat(G.OPERATOR(q))}return C},Q.DICT=function(x){return G.DICT(x).length},G.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},G.OPERAND=function(x,C){var k=[];if(Array.isArray(C))for(var R=0;R<C.length;R+=1)E.argument(x.length===C.length,"Not enough arguments given for type"+C),k=k.concat(G.OPERAND(x[R],C[R]));else if(C==="SID")k=k.concat(G.NUMBER(x));else if(C==="offset")k=k.concat(G.NUMBER32(x));else if(C==="number")k=k.concat(G.NUMBER(x));else{if(C!=="real")throw new Error("Unknown operand type "+C);k=k.concat(G.REAL(x))}return k},G.OP=G.BYTE,Q.OP=Q.BYTE;var fe=typeof WeakMap=="function"&&new WeakMap;function te(x,C,k){for(var R=0;R<C.length;R+=1){var V=C[R];this[V.name]=V.value}if(this.tableName=x,this.fields=C,k)for(var q=Object.keys(k),Y=0;Y<q.length;Y+=1){var re=q[Y],ce=k[re];this[re]!==void 0&&(this[re]=ce)}}function he(x,C,k){k===void 0&&(k=C.length);var R=new Array(C.length+1);R[0]={name:x+"Count",type:"USHORT",value:k};for(var V=0;V<C.length;V++)R[V+1]={name:x+V,type:"USHORT",value:C[V]};return R}function ve(x,C,k){var R=C.length,V=new Array(R+1);V[0]={name:x+"Count",type:"USHORT",value:R};for(var q=0;q<R;q++)V[q+1]={name:x+q,type:"TABLE",value:k(C[q],q)};return V}function Ce(x,C,k){var R=C.length,V=[];V[0]={name:x+"Count",type:"USHORT",value:R};for(var q=0;q<R;q++)V=V.concat(k(C[q],q));return V}function ye(x){x.format===1?te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(he("glyph",x.glyphs))):E.assert(!1,"Can't create coverage table format 2 yet.")}function _e(x){te.call(this,"scriptListTable",Ce("scriptRecord",x,function(C,k){var R=C.script,V=R.defaultLangSys;return E.assert(!!V,"Unable to write GSUB: script "+C.tag+" has no default language system."),[{name:"scriptTag"+k,type:"TAG",value:C.tag},{name:"script"+k,type:"TABLE",value:new te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:V.reqFeatureIndex}].concat(he("featureIndex",V.featureIndexes)))}].concat(Ce("langSys",R.langSysRecords,function(q,Y){var re=q.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:q.tag},{name:"langSys"+Y,type:"TABLE",value:new te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(he("featureIndex",re.featureIndexes)))}]})))}]}))}function De(x){te.call(this,"featureListTable",Ce("featureRecord",x,function(C,k){var R=C.feature;return[{name:"featureTag"+k,type:"TAG",value:C.tag},{name:"feature"+k,type:"TABLE",value:new te("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(he("lookupListIndex",R.lookupListIndexes)))}]}))}function We(x,C){te.call(this,"lookupListTable",ve("lookup",x,function(k){var R=C[k.lookupType];return E.assert(!!R,"Unable to write GSUB lookup type "+k.lookupType+" tables."),new te("lookupTable",[{name:"lookupType",type:"USHORT",value:k.lookupType},{name:"lookupFlag",type:"USHORT",value:k.lookupFlag}].concat(ve("subtable",k.subtables,R)))}))}G.CHARSTRING=function(x){if(fe){var C=fe.get(x);if(C!==void 0)return C}for(var q=[],k=x.length,R=0;R<k;R+=1)var V=x[R],q=q.concat(G[V.type](V.value));return fe&&fe.set(x,q),q},Q.CHARSTRING=function(x){return G.CHARSTRING(x).length},G.OBJECT=function(x){var C=G[x.type];return E.argument(C!==void 0,"No encoding function for type "+x.type),C(x.value)},Q.OBJECT=function(x){var C=Q[x.type];return E.argument(C!==void 0,"No sizeOf function for type "+x.type),C(x.value)},G.TABLE=function(x){for(var C=[],k=x.fields.length,R=[],V=[],q=0;q<k;q+=1){var Y=x.fields[q],ce=G[Y.type],re=(E.argument(ce!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),x[Y.name]),ce=ce(re=re===void 0?Y.value:re);Y.type==="TABLE"?(V.push(C.length),C=C.concat([0,0]),R.push(ce)):C=C.concat(ce)}for(var le=0;le<R.length;le+=1){var we=V[le],Te=C.length;E.argument(Te<65536,"Table "+x.tableName+" too big."),C[we]=Te>>8,C[we+1]=255&Te,C=C.concat(R[le])}return C},Q.TABLE=function(x){for(var C=0,k=x.fields.length,R=0;R<k;R+=1){var V=x.fields[R],q=Q[V.type],Y=(E.argument(q!==void 0,"No sizeOf function for field type "+V.type+" ("+V.name+")"),x[V.name]);C+=q(Y=Y===void 0?V.value:Y),V.type==="TABLE"&&(C+=2)}return C},G.RECORD=G.TABLE,Q.RECORD=Q.TABLE,G.LITERAL=function(x){return x},Q.LITERAL=function(x){return x.length},te.prototype.encode=function(){return G.TABLE(this)},te.prototype.sizeOf=function(){return Q.TABLE(this)};var Oe={Table:te,Record:te,Coverage:(ye.prototype=Object.create(te.prototype)).constructor=ye,ScriptList:(_e.prototype=Object.create(te.prototype)).constructor=_e,FeatureList:(De.prototype=Object.create(te.prototype)).constructor=De,LookupList:(We.prototype=Object.create(te.prototype)).constructor=We,ushortList:he,tableList:ve,recordList:Ce};function st(x,C){return x.getUint8(C)}function nt(x,C){return x.getUint16(C,!1)}function it(x,C){return x.getUint32(C,!1)}function ht(x,C){return x.getInt16(C,!1)+x.getUint16(C+2,!1)/65535}var at={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Se(x,C){this.data=x,this.offset=C,this.relativeOffset=0}Se.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Se.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},Se.prototype.parseCard8=Se.prototype.parseByte,Se.prototype.parseCard16=Se.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Se.prototype.parseSID=Se.prototype.parseUShort,Se.prototype.parseOffset16=Se.prototype.parseUShort,Se.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},Se.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},Se.prototype.parseOffset32=Se.prototype.parseULong=function(){var x=it(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Se.prototype.parseFixed=function(){var x=ht(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},Se.prototype.parseString=function(x){var C=this.data,k=this.offset+this.relativeOffset,R="";this.relativeOffset+=x;for(var V=0;V<x;V++)R+=String.fromCharCode(C.getUint8(k+V));return R},Se.prototype.parseTag=function(){return this.parseString(4)},Se.prototype.parseLongDateTime=function(){var x=it(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},Se.prototype.parseVersion=function(x){var C=nt(this.data,this.offset+this.relativeOffset),k=nt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,C+k/(x=x===void 0?4096:x)/10},Se.prototype.skip=function(x,C){this.relativeOffset+=at[x]*(C=C===void 0?1:C)},Se.prototype.parseULongList=function(x){x===void 0&&(x=this.parseULong());for(var C=new Array(x),k=this.data,R=this.offset+this.relativeOffset,V=0;V<x;V++)C[V]=k.getUint32(R),R+=4;return this.relativeOffset+=4*x,C},Se.prototype.parseOffset16List=Se.prototype.parseUShortList=function(x){x===void 0&&(x=this.parseUShort());for(var C=new Array(x),k=this.data,R=this.offset+this.relativeOffset,V=0;V<x;V++)C[V]=k.getUint16(R),R+=2;return this.relativeOffset+=2*x,C},Se.prototype.parseShortList=function(x){for(var C=new Array(x),k=this.data,R=this.offset+this.relativeOffset,V=0;V<x;V++)C[V]=k.getInt16(R),R+=2;return this.relativeOffset+=2*x,C},Se.prototype.parseByteList=function(x){for(var C=new Array(x),k=this.data,R=this.offset+this.relativeOffset,V=0;V<x;V++)C[V]=k.getUint8(R++);return this.relativeOffset+=x,C},Se.prototype.parseList=function(x,C){C||(C=x,x=this.parseUShort());for(var k=new Array(x),R=0;R<x;R++)k[R]=C.call(this);return k},Se.prototype.parseList32=function(x,C){C||(C=x,x=this.parseULong());for(var k=new Array(x),R=0;R<x;R++)k[R]=C.call(this);return k},Se.prototype.parseRecordList=function(x,C){C||(C=x,x=this.parseUShort());for(var k=new Array(x),R=Object.keys(C),V=0;V<x;V++){for(var q={},Y=0;Y<R.length;Y++){var re=R[Y],ce=C[re];q[re]=ce.call(this)}k[V]=q}return k},Se.prototype.parseRecordList32=function(x,C){C||(C=x,x=this.parseULong());for(var k=new Array(x),R=Object.keys(C),V=0;V<x;V++){for(var q={},Y=0;Y<R.length;Y++){var re=R[Y],ce=C[re];q[re]=ce.call(this)}k[V]=q}return k},Se.prototype.parseStruct=function(x){if(typeof x=="function")return x.call(this);for(var C=Object.keys(x),k={},R=0;R<C.length;R++){var V=C[R],q=x[V];k[V]=q.call(this)}return k},Se.prototype.parseValueRecord=function(x){var C;if((x=x===void 0?this.parseUShort():x)!==0)return C={},1&x&&(C.xPlacement=this.parseShort()),2&x&&(C.yPlacement=this.parseShort()),4&x&&(C.xAdvance=this.parseShort()),8&x&&(C.yAdvance=this.parseShort()),16&x&&(C.xPlaDevice=void 0,this.parseShort()),32&x&&(C.yPlaDevice=void 0,this.parseShort()),64&x&&(C.xAdvDevice=void 0,this.parseShort()),128&x&&(C.yAdvDevice=void 0,this.parseShort()),C},Se.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),C=this.parseUShort(),k=new Array(C),R=0;R<C;R++)k[R]=this.parseValueRecord(x);return k},Se.prototype.parsePointer=function(x){var C=this.parseOffset16();if(0<C)return new Se(this.data,this.offset+C).parseStruct(x)},Se.prototype.parsePointer32=function(x){var C=this.parseOffset32();if(0<C)return new Se(this.data,this.offset+C).parseStruct(x)},Se.prototype.parseListOfLists=function(x){for(var C=this.parseOffset16List(),k=C.length,R=this.relativeOffset,V=new Array(k),q=0;q<k;q++){var Y=C[q];if(Y===0)V[q]=void 0;else if(this.relativeOffset=Y,x){for(var re=this.parseOffset16List(),ce=new Array(re.length),le=0;le<re.length;le++)this.relativeOffset=Y+re[le],ce[le]=x.call(this);V[q]=ce}else V[q]=this.parseUShortList()}return this.relativeOffset=R,V},Se.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,C=this.parseUShort(),k=this.parseUShort();if(C===1)return{format:1,glyphs:this.parseUShortList(k)};if(C!==2)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(k),V=0;V<k;V++)R[V]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},Se.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,C=this.parseUShort();if(C===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(C===2)return{format:2,ranges:this.parseRecordList({start:Se.uShort,end:Se.uShort,classId:Se.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},Se.list=function(x,C){return function(){return this.parseList(x,C)}},Se.list32=function(x,C){return function(){return this.parseList32(x,C)}},Se.recordList=function(x,C){return function(){return this.parseRecordList(x,C)}},Se.recordList32=function(x,C){return function(){return this.parseRecordList32(x,C)}},Se.pointer=function(x){return function(){return this.parsePointer(x)}},Se.pointer32=function(x){return function(){return this.parsePointer32(x)}},Se.tag=Se.prototype.parseTag,Se.byte=Se.prototype.parseByte,Se.uShort=Se.offset16=Se.prototype.parseUShort,Se.uShortList=Se.prototype.parseUShortList,Se.uLong=Se.offset32=Se.prototype.parseULong,Se.uLongList=Se.prototype.parseULongList,Se.struct=Se.prototype.parseStruct,Se.coverage=Se.prototype.parseCoverage,Se.classDef=Se.prototype.parseClassDef;var Ge={reserved:Se.uShort,reqFeatureIndex:Se.uShort,featureIndexes:Se.uShortList},Me=(Se.prototype.parseScriptList=function(){return this.parsePointer(Se.recordList({tag:Se.tag,script:Se.pointer({defaultLangSys:Se.pointer(Ge),langSysRecords:Se.recordList({tag:Se.tag,langSys:Se.pointer(Ge)})})}))||[]},Se.prototype.parseFeatureList=function(){return this.parsePointer(Se.recordList({tag:Se.tag,feature:Se.pointer({featureParams:Se.offset16,lookupListIndexes:Se.uShortList})}))||[]},Se.prototype.parseLookupList=function(x){return this.parsePointer(Se.list(Se.pointer(function(){var C=this.parseUShort(),k=(E.argument(1<=C&&C<=9,"GPOS/GSUB lookup type "+C+" unknown."),this.parseUShort()),R=16&k;return{lookupType:C,lookupFlag:k,subtables:this.parseList(Se.pointer(x[C])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},Se.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),C=this.parseUShort();return E.argument(x===1&&C<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Se.offset32,featureTableSubstitutionOffset:Se.offset32})})||[]},{getByte:st,getCard8:st,getUShort:nt,getCard16:nt,getShort:function(x,C){return x.getInt16(C,!1)},getULong:it,getFixed:ht,getTag:function(x,C){for(var k="",R=C;R<C+4;R+=1)k+=String.fromCharCode(x.getInt8(R));return k},getOffset:function(x,C,k){for(var R=0,V=0;V<k;V+=1)R=(R<<=8)+x.getUint8(C+V);return R},getBytes:function(x,C,k){for(var R=[],V=C;V<k;V+=1)R.push(x.getUint8(V));return R},bytesToString:function(x){for(var C="",k=0;k<x.length;k+=1)C+=String.fromCharCode(x[k]);return C},Parser:Se}),J={parse:function(x,C){for(var k={},R=(k.version=Me.getUShort(x,C),E.argument(k.version===0,"cmap table version should be 0."),k.numTables=Me.getUShort(x,C+2),-1),V=k.numTables-1;0<=V;--V){var q=Me.getUShort(x,C+4+8*V),Y=Me.getUShort(x,C+4+8*V+2);if(q===3&&(Y===0||Y===1||Y===10)||q===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){R=Me.getULong(x,C+4+8*V+4);break}}if(R===-1)throw new Error("No valid cmap sub-tables found.");var re=new Me.Parser(x,C+R);if(k.format=re.parseUShort(),k.format===12){var ce,le=k,we=re;we.parseUShort(),le.length=we.parseULong(),le.language=we.parseULong(),le.groupCount=ce=we.parseULong(),le.glyphIndexMap={};for(var Te=0;Te<ce;Te+=1)for(var Ee=we.parseULong(),pe=we.parseULong(),$e=we.parseULong(),Fe=Ee;Fe<=pe;Fe+=1)le.glyphIndexMap[Fe]=$e,$e++}else{if(k.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+k.format+").");var Ve=k,Re=x,Pe=C,Tt=R;Ve.length=re.parseUShort(),Ve.language=re.parseUShort(),Ve.segCount=Kt=re.parseUShort()>>1,re.skip("uShort",3),Ve.glyphIndexMap={};for(var Kt,kt=new Me.Parser(Re,Pe+Tt+14),jt=new Me.Parser(Re,Pe+Tt+16+2*Kt),sr=new Me.Parser(Re,Pe+Tt+16+4*Kt),Vr=new Me.Parser(Re,Pe+Tt+16+6*Kt),Jr=Pe+Tt+16+8*Kt,un=0;un<Kt-1;un+=1)for(var Fn=void 0,Nn=kt.parseUShort(),qi=jt.parseUShort(),Pr=sr.parseShort(),Hr=Vr.parseUShort(),Dr=qi;Dr<=Nn;Dr+=1)Hr!==0?(Jr=(Jr=Vr.offset+Vr.relativeOffset-2)+Hr+2*(Dr-qi),(Fn=Me.getUShort(Re,Jr))!==0&&(Fn=Fn+Pr&65535)):Fn=Dr+Pr&65535,Ve.glyphIndexMap[Dr]=Fn}return k},make:function(x){for(var C=!0,k=x.length-1;0<k;--k)if(65535<x.get(k).unicode){console.log("Adding CMAP format 12 (needed!)"),C=!1;break}var R,V,q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:C?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:C?12:20}],Y=(q=(q=C?q:q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Oe.Table("cmap",q));for(Y.segments=[],k=0;k<x.length;k+=1){for(var re=x.get(k),ce=0;ce<re.unicodes.length;ce+=1)R=re.unicodes[ce],V=k,Y.segments.push({end:R,start:R,delta:-(R-V),offset:0,glyphIndex:V});Y.segments=Y.segments.sort(function(Pe,Tt){return Pe.start-Tt.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var le=Y.segments.length,we=0,Te=[],Ee=[],pe=[],$e=[],Fe=[],Ve=[];for(k=0;k<le;k+=1){var Re=Y.segments[k];Re.end<=65535&&Re.start<=65535?(Te=Te.concat({name:"end_"+k,type:"USHORT",value:Re.end}),Ee=Ee.concat({name:"start_"+k,type:"USHORT",value:Re.start}),pe=pe.concat({name:"idDelta_"+k,type:"SHORT",value:Re.delta}),$e=$e.concat({name:"idRangeOffset_"+k,type:"USHORT",value:Re.offset}),Re.glyphId!==void 0&&(Fe=Fe.concat({name:"glyph_"+k,type:"USHORT",value:Re.glyphId}))):we+=1,C||Re.glyphIndex===void 0||(Ve=(Ve=(Ve=Ve.concat({name:"cmap12Start_"+k,type:"ULONG",value:Re.start})).concat({name:"cmap12End_"+k,type:"ULONG",value:Re.end})).concat({name:"cmap12Glyph_"+k,type:"ULONG",value:Re.glyphIndex}))}return Y.segCountX2=2*(le-we),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(le-we)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Te),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Ee),Y.fields=Y.fields.concat(pe),Y.fields=Y.fields.concat($e),Y.fields=Y.fields.concat(Fe),Y.cmap4Length=14+2*Te.length+2+2*Ee.length+2*pe.length+2*$e.length+2*Fe.length,C||(q=16+4*Ve.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ve.length/3}]),Y.fields=Y.fields.concat(Ve)),Y}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Z=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],oe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],be=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ie(x){this.font=x}function Ne(x){this.cmap=x}function Qe(x,C){this.encoding=x,this.charset=C}function tt(x){switch(x.version){case 1:this.names=be.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var C=0;C<x.numberOfGlyphs;C++)x.glyphNameIndex[C]<be.length?this.names[C]=be[x.glyphNameIndex[C]]:this.names[C]=x.names[x.glyphNameIndex[C]-be.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var k=0;k<x.numberOfGlyphs;k++)this.names[k]=be[k+x.glyphNameIndex[k]];break;default:this.names=[]}}Ie.prototype.charToGlyphIndex=function(x){var C=x.codePointAt(0),k=this.font.glyphs;if(k){for(var R=0;R<k.length;R+=1)for(var V=k.get(R),q=0;q<V.unicodes.length;q+=1)if(V.unicodes[q]===C)return R}return null},Ne.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},Qe.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),x=this.encoding[x],this.charset.indexOf(x)},tt.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},tt.prototype.glyphIndexToName=function(x){return this.names[x]};var rt={line:function(x,C,k,R,V){x.beginPath(),x.moveTo(C,k),x.lineTo(R,V),x.stroke()}};function ft(x){this.bindConstructorValues(x)}function Qt(x,C,k){Object.defineProperty(x,C,{get:function(){return x.path,x[k]},set:function(R){x[k]=R},enumerable:!0,configurable:!0})}function Nt(x,C){if(this.font=x,this.glyphs={},Array.isArray(C))for(var k=0;k<C.length;k++)this.glyphs[k]=C[k];this.length=C&&C.length||0}ft.prototype.bindConstructorValues=function(x){var C;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||x.unicode!==void 0?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(x=x.path,C=x||new K,{configurable:!0,get:function(){return C=typeof C=="function"?C():C},set:function(k){C=k}}))},ft.prototype.addUnicode=function(x){this.unicodes.length===0&&(this.unicode=x),this.unicodes.push(x)},ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ft.prototype.getPath=function(x,C,k,R,V){x=x!==void 0?x:0,C=C!==void 0?C:0,k=k!==void 0?k:72;for(var q,Y,re=(R=R||{}).xScale,ce=R.yScale,le=((q=R.hinting&&V&&V.hinting?this.path&&V.hinting.exec(this,k):q)?(Y=V.hinting.getCommands(q),x=Math.round(x),C=Math.round(C),re=ce=1):(Y=this.path.commands,R=1/this.path.unitsPerEm*k,re===void 0&&(re=R),ce===void 0&&(ce=R)),new K),we=0;we<Y.length;we+=1){var Te=Y[we];Te.type==="M"?le.moveTo(x+Te.x*re,C+-Te.y*ce):Te.type==="L"?le.lineTo(x+Te.x*re,C+-Te.y*ce):Te.type==="Q"?le.quadraticCurveTo(x+Te.x1*re,C+-Te.y1*ce,x+Te.x*re,C+-Te.y*ce):Te.type==="C"?le.curveTo(x+Te.x1*re,C+-Te.y1*ce,x+Te.x2*re,C+-Te.y2*ce,x+Te.x*re,C+-Te.y*ce):Te.type==="Z"&&le.closePath()}return le},ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var x=[],C=[],k=0;k<this.points.length;k+=1){var R=this.points[k];C.push(R),R.lastPointOfContour&&(x.push(C),C=[])}return E.argument(C.length===0,"There are still points left in the current contour."),x},ft.prototype.getMetrics=function(){for(var x=this.path.commands,C=[],k=[],R=0;R<x.length;R+=1){var V=x[R];V.type!=="Z"&&(C.push(V.x),k.push(V.y)),V.type!=="Q"&&V.type!=="C"||(C.push(V.x1),k.push(V.y1)),V.type==="C"&&(C.push(V.x2),k.push(V.y2))}var q={xMin:Math.min.apply(null,C),yMin:Math.min.apply(null,k),xMax:Math.max.apply(null,C),yMax:Math.max.apply(null,k),leftSideBearing:this.leftSideBearing};return isFinite(q.xMin)||(q.xMin=0),isFinite(q.xMax)||(q.xMax=this.advanceWidth),isFinite(q.yMin)||(q.yMin=0),isFinite(q.yMax)||(q.yMax=0),q.rightSideBearing=this.advanceWidth-q.leftSideBearing-(q.xMax-q.xMin),q},ft.prototype.draw=function(x,C,k,R,V){this.getPath(C,k,R,V).draw(x)},ft.prototype.drawPoints=function(x,C,k,R){function V(we,Te,Ee,pe){var $e=2*Math.PI;x.beginPath();for(var Fe=0;Fe<we.length;Fe+=1)x.moveTo(Te+we[Fe].x*pe,Ee+we[Fe].y*pe),x.arc(Te+we[Fe].x*pe,Ee+we[Fe].y*pe,2,0,$e,!1);x.closePath(),x.fill()}C=C!==void 0?C:0,k=k!==void 0?k:0;for(var R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),q=[],Y=[],re=this.path,ce=0;ce<re.commands.length;ce+=1){var le=re.commands[ce];le.x!==void 0&&q.push({x:le.x,y:-le.y}),le.x1!==void 0&&Y.push({x:le.x1,y:-le.y1}),le.x2!==void 0&&Y.push({x:le.x2,y:-le.y2})}x.fillStyle="blue",V(q,C,k,R),x.fillStyle="red",V(Y,C,k,R)},ft.prototype.drawMetrics=function(x,C,k,R){C=C!==void 0?C:0,k=k!==void 0?k:0,R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),x.lineWidth=1,x.strokeStyle="black",rt.line(x,C,-1e4,C,1e4),rt.line(x,-1e4,k,1e4,k);var V=this.xMin||0,q=this.yMin||0,Y=this.xMax||0,re=this.yMax||0,ce=this.advanceWidth||0;x.strokeStyle="blue",rt.line(x,C+V*R,-1e4,C+V*R,1e4),rt.line(x,C+Y*R,-1e4,C+Y*R,1e4),rt.line(x,-1e4,k+-q*R,1e4,k+-q*R),rt.line(x,-1e4,k+-re*R,1e4,k+-re*R),x.strokeStyle="green",rt.line(x,C+ce*R,-1e4,C+ce*R,1e4)},Nt.prototype.get=function(x){return typeof this.glyphs[x]=="function"&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},Nt.prototype.push=function(x,C){this.glyphs[x]=C,this.length++};var St={GlyphSet:Nt,glyphLoader:function(x,C){return new ft({index:C,font:x})},ttfGlyphLoader:function(x,C,k,R,V,q){return function(){var Y=new ft({index:C,font:x});return Y.path=function(){k(Y,R,V);var re=q(x.glyphs,Y);return re.unitsPerEm=x.unitsPerEm,re},Qt(Y,"xMin","_xMin"),Qt(Y,"xMax","_xMax"),Qt(Y,"yMin","_yMin"),Qt(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(x,C,k,R){return function(){var V=new ft({index:C,font:x});return V.path=function(){var q=k(x,V,R);return q.unitsPerEm=x.unitsPerEm,q},V}}};function zt(x){return x=x.length<1240?107:x.length<33900?1131:32768,x}function Pt(x,C,k){var R,V=[],q=[],Y=Me.getCard16(x,C);if(Y!==0){for(var re=Me.getByte(x,C+2),ce=C+(Y+1)*re+2,le=C+3,we=0;we<Y+1;we+=1)V.push(Me.getOffset(x,le,re)),le+=re;R=ce+V[Y]}else R=C+2;for(var Te=0;Te<V.length-1;Te+=1){var Ee=Me.getBytes(x,ce+V[Te],ce+V[Te+1]);k&&(Ee=k(Ee)),q.push(Ee)}return{objects:q,startOffset:C,endOffset:R}}function Br(x,C){if(C===28)return x.parseByte()<<8|x.parseByte();if(C===29)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(C===30){for(var k=x,R="",V=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=k.parseByte(),q=Y>>4,Y=15&Y;if(q==15||(R+=V[q],Y==15))break;R+=V[Y]}return parseFloat(R)}if(32<=C&&C<=246)return C-139;if(247<=C&&C<=250)return 256*(C-247)+x.parseByte()+108;if(251<=C&&C<=254)return 256*-(C-251)-x.parseByte()-108;throw new Error("Invalid b0 "+C)}function Pn(x,C,k){var R=new Me.Parser(x,C=C!==void 0?C:0),V=[],q=[];for(k=k!==void 0?k:x.length;R.relativeOffset<k;){var Y=R.parseByte();Y<=21?(Y===12&&(Y=1200+R.parseByte()),V.push([Y,q]),q=[]):q.push(Br(R,Y))}for(var re=V,ce={},le=0;le<re.length;le+=1){var we=re[le][0],Te=re[le][1],Ee=void 0,Ee=Te.length===1?Te[0]:Te;if(ce.hasOwnProperty(we)&&!isNaN(ce[we]))throw new Error("Object "+ce+" already has key "+we);ce[we]=Ee}return ce}function ln(x,C){return C=C<=390?ne[C]:x[C-391]}function Er(x,C,k){for(var R,V={},q=0;q<C.length;q+=1){var Y=C[q];if(Array.isArray(Y.type)){var re=[];re.length=Y.type.length;for(var ce=0;ce<Y.type.length;ce++)(R=x[Y.op]!==void 0?x[Y.op][ce]:void 0)===void 0&&(R=Y.value!==void 0&&Y.value[ce]!==void 0?Y.value[ce]:null),Y.type[ce]==="SID"&&(R=ln(k,R)),re[ce]=R;V[Y.name]=re}else(R=x[Y.op])===void 0&&(R=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(R=ln(k,R)),V[Y.name]=R}return V}var zr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],_r=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function In(x,C,k,R){return Er(Pn(x,C,k),_r,R)}function bn(x,C,k,R){for(var V=[],q=0;q<k.length;q+=1){var Y=new DataView(new Uint8Array(k[q]).buffer),Y=(re=R,Er(Pn(Y,0,Y.byteLength),zr,re)),re=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),ce=Y.private[1];re!==0&&ce!==0&&(re=In(x,ce+C,re,R),Y._defaultWidthX=re.defaultWidthX,Y._nominalWidthX=re.nominalWidthX,re.subrs!==0&&(ce=Pt(x,ce+re.subrs+C),Y._subrs=ce.objects,Y._subrsBias=zt(Y._subrs)),Y._privateDict=re),V.push(Y)}return V}function kr(x,C,k){var R,V,q,Y,re,ce,le,we,Te,Ee=new K,pe=[],$e=0,Fe=!1,Ve=!1,Re=0,Pe=0,Tt=(Te=(x.isCIDFont?(re=x.tables.cff.topDict._fdSelect[C.index],re=x.tables.cff.topDict._fdArray[re],ce=re._subrs,le=re._subrsBias,we=re._defaultWidthX,re):(ce=x.tables.cff.topDict._subrs,le=x.tables.cff.topDict._subrsBias,we=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,we);function Kt(jt,sr){Ve&&Ee.closePath(),Ee.moveTo(jt,sr),Ve=!0}function kt(){pe.length%2==0||Fe||(Tt=pe.shift()+Te),$e+=pe.length>>1,pe.length=0,Fe=!0}return function jt(sr){for(var Vr,Jr,un,Fn,Nn,qi,Pr,Hr,Dr,Ln,Yr,Mn,Gr=0;Gr<sr.length;){var xn=sr[Gr];switch(Gr+=1,xn){case 1:case 3:kt();break;case 4:1<pe.length&&!Fe&&(Tt=pe.shift()+Te,Fe=!0),Pe+=pe.pop(),Kt(Re,Pe);break;case 5:for(;0<pe.length;)Re+=pe.shift(),Pe+=pe.shift(),Ee.lineTo(Re,Pe);break;case 6:for(;0<pe.length&&(Re+=pe.shift(),Ee.lineTo(Re,Pe),pe.length!==0);)Pe+=pe.shift(),Ee.lineTo(Re,Pe);break;case 7:for(;0<pe.length&&(Pe+=pe.shift(),Ee.lineTo(Re,Pe),pe.length!==0);)Re+=pe.shift(),Ee.lineTo(Re,Pe);break;case 8:for(;0<pe.length;)R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y+pe.shift(),Ee.curveTo(R,V,q,Y,Re,Pe);break;case 10:Nn=pe.pop()+le,(qi=ce[Nn])&&jt(qi);break;case 11:return;case 12:switch(xn=sr[Gr],Gr+=1,xn){case 35:R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Pr=q+pe.shift(),Hr=Y+pe.shift(),Dr=Pr+pe.shift(),Ln=Hr+pe.shift(),Yr=Dr+pe.shift(),Mn=Ln+pe.shift(),Re=Yr+pe.shift(),Pe=Mn+pe.shift(),pe.shift(),Ee.curveTo(R,V,q,Y,Pr,Hr),Ee.curveTo(Dr,Ln,Yr,Mn,Re,Pe);break;case 34:R=Re+pe.shift(),V=Pe,q=R+pe.shift(),Y=V+pe.shift(),Pr=q+pe.shift(),Hr=Y,Dr=Pr+pe.shift(),Ln=Y,Yr=Dr+pe.shift(),Mn=Pe,Re=Yr+pe.shift(),Ee.curveTo(R,V,q,Y,Pr,Hr),Ee.curveTo(Dr,Ln,Yr,Mn,Re,Pe);break;case 36:R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Pr=q+pe.shift(),Hr=Y,Dr=Pr+pe.shift(),Ln=Y,Yr=Dr+pe.shift(),Mn=Ln+pe.shift(),Re=Yr+pe.shift(),Ee.curveTo(R,V,q,Y,Pr,Hr),Ee.curveTo(Dr,Ln,Yr,Mn,Re,Pe);break;case 37:R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Pr=q+pe.shift(),Hr=Y+pe.shift(),Dr=Pr+pe.shift(),Ln=Hr+pe.shift(),Yr=Dr+pe.shift(),Mn=Ln+pe.shift(),Math.abs(Yr-Re)>Math.abs(Mn-Pe)?Re=Yr+pe.shift():Pe=Mn+pe.shift(),Ee.curveTo(R,V,q,Y,Pr,Hr),Ee.curveTo(Dr,Ln,Yr,Mn,Re,Pe);break;default:console.log("Glyph "+C.index+": unknown operator 1200"+xn),pe.length=0}break;case 14:0<pe.length&&!Fe&&(Tt=pe.shift()+Te,Fe=!0),Ve&&(Ee.closePath(),Ve=!1);break;case 18:kt();break;case 19:case 20:kt(),Gr+=$e+7>>3;break;case 21:2<pe.length&&!Fe&&(Tt=pe.shift()+Te,Fe=!0),Pe+=pe.pop(),Kt(Re+=pe.pop(),Pe);break;case 22:1<pe.length&&!Fe&&(Tt=pe.shift()+Te,Fe=!0),Kt(Re+=pe.pop(),Pe);break;case 23:kt();break;case 24:for(;2<pe.length;)R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y+pe.shift(),Ee.curveTo(R,V,q,Y,Re,Pe);Re+=pe.shift(),Pe+=pe.shift(),Ee.lineTo(Re,Pe);break;case 25:for(;6<pe.length;)Re+=pe.shift(),Pe+=pe.shift(),Ee.lineTo(Re,Pe);R=Re+pe.shift(),V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y+pe.shift(),Ee.curveTo(R,V,q,Y,Re,Pe);break;case 26:for(pe.length%2&&(Re+=pe.shift());0<pe.length;)R=Re,V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q,Pe=Y+pe.shift(),Ee.curveTo(R,V,q,Y,Re,Pe);break;case 27:for(pe.length%2&&(Pe+=pe.shift());0<pe.length;)R=Re+pe.shift(),V=Pe,q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y,Ee.curveTo(R,V,q,Y,Re,Pe);break;case 28:Vr=sr[Gr],Jr=sr[Gr+1],pe.push((Vr<<24|Jr<<16)>>16),Gr+=2;break;case 29:Nn=pe.pop()+x.gsubrsBias,(qi=x.gsubrs[Nn])&&jt(qi);break;case 30:for(;0<pe.length&&(R=Re,V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y+(pe.length===1?pe.shift():0),Ee.curveTo(R,V,q,Y,Re,Pe),pe.length!==0);)R=Re+pe.shift(),V=Pe,q=R+pe.shift(),Y=V+pe.shift(),Pe=Y+pe.shift(),Re=q+(pe.length===1?pe.shift():0),Ee.curveTo(R,V,q,Y,Re,Pe);break;case 31:for(;0<pe.length&&(R=Re+pe.shift(),V=Pe,q=R+pe.shift(),Y=V+pe.shift(),Pe=Y+pe.shift(),Re=q+(pe.length===1?pe.shift():0),Ee.curveTo(R,V,q,Y,Re,Pe),pe.length!==0);)R=Re,V=Pe+pe.shift(),q=R+pe.shift(),Y=V+pe.shift(),Re=q+pe.shift(),Pe=Y+(pe.length===1?pe.shift():0),Ee.curveTo(R,V,q,Y,Re,Pe);break;default:xn<32?console.log("Glyph "+C.index+": unknown operator "+xn):xn<247?pe.push(xn-139):xn<251?(Vr=sr[Gr],Gr+=1,pe.push(256*(xn-247)+Vr+108)):xn<255?(Vr=sr[Gr],Gr+=1,pe.push(256*-(xn-251)-Vr-108)):(Vr=sr[Gr],Jr=sr[Gr+1],un=sr[Gr+2],Fn=sr[Gr+3],Gr+=4,pe.push((Vr<<24|Jr<<16|un<<8|Fn)/65536))}}}(k),C.advanceWidth=Tt,Ee}function Dn(x,C){var k,R=ne.indexOf(x);return 0<=R&&(k=R),0<=(R=C.indexOf(x))?k=R+ne.length:(k=ne.length+C.length,C.push(x)),k}function Bc(x,C,k){for(var R={},V=0;V<x.length;V+=1){var q=x[V],Y=C[q.name];Y===void 0||function re(ce,le){if(ce===le)return 1;if(Array.isArray(ce)&&Array.isArray(le)&&ce.length===le.length){for(var we=0;we<ce.length;we+=1)if(!re(ce[we],le[we]))return;return 1}}(Y,q.value)||(q.type==="SID"&&(Y=Dn(Y,k)),R[q.op]={name:q.name,type:q.type,value:Y})}return R}function Vc(x,C){var k=new Oe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return k.dict=Bc(zr,x,C),k}function Uc(x){var C=new Oe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return C.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],C}function Zd(x){for(var C=new Oe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),k=0;k<x.length;k+=1){var R=x.get(k),V=function(q){for(var Y=[],re=q.path,ce=(Y.push({name:"width",type:"NUMBER",value:q.advanceWidth}),0),le=0,we=0;we<re.commands.length;we+=1){var Te,Ee,pe,$e,Fe=void 0,Ve=void 0,Re=re.commands[we];(Re=Re.type==="Q"?{type:"C",x:Re.x,y:Re.y,x1:1/3*ce+2/3*Re.x1,y1:1/3*le+2/3*Re.y1,x2:1/3*Re.x+2/3*Re.x1,y2:1/3*Re.y+2/3*Re.y1}:Re).type==="M"?(Fe=Math.round(Re.x-ce),Ve=Math.round(Re.y-le),Y.push({name:"dx",type:"NUMBER",value:Fe}),Y.push({name:"dy",type:"NUMBER",value:Ve}),Y.push({name:"rmoveto",type:"OP",value:21}),ce=Math.round(Re.x),le=Math.round(Re.y)):Re.type==="L"?(Fe=Math.round(Re.x-ce),Ve=Math.round(Re.y-le),Y.push({name:"dx",type:"NUMBER",value:Fe}),Y.push({name:"dy",type:"NUMBER",value:Ve}),Y.push({name:"rlineto",type:"OP",value:5}),ce=Math.round(Re.x),le=Math.round(Re.y)):Re.type==="C"&&(Te=Math.round(Re.x1-ce),Ee=Math.round(Re.y1-le),pe=Math.round(Re.x2-Re.x1),$e=Math.round(Re.y2-Re.y1),Fe=Math.round(Re.x-Re.x2),Ve=Math.round(Re.y-Re.y2),Y.push({name:"dx1",type:"NUMBER",value:Te}),Y.push({name:"dy1",type:"NUMBER",value:Ee}),Y.push({name:"dx2",type:"NUMBER",value:pe}),Y.push({name:"dy2",type:"NUMBER",value:$e}),Y.push({name:"dx",type:"NUMBER",value:Fe}),Y.push({name:"dy",type:"NUMBER",value:Ve}),Y.push({name:"rrcurveto",type:"OP",value:8}),ce=Math.round(Re.x),le=Math.round(Re.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y}(R);C.charStrings.push({name:R.name,type:"CHARSTRING",value:V})}return C}var zc={parse:function(x,C,k){k.tables.cff={},re=x,R=C,(V={}).formatMajor=Me.getCard8(re,R),V.formatMinor=Me.getCard8(re,R+1),V.size=Me.getCard8(re,R+2),V.offsetSize=Me.getCard8(re,R+3),V.startOffset=R,V.endOffset=R+4;var re=Pt(x,V.endOffset,Me.bytesToString),R=Pt(x,re.endOffset),V=Pt(x,R.endOffset,Me.bytesToString),re=Pt(x,V.endOffset);if(k.gsubrs=re.objects,k.gsubrsBias=zt(k.gsubrs),(re=bn(x,C,R.objects,V.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+re.length);if(R=re[0],(k.tables.cff.topDict=R)._privateDict&&(k.defaultWidthX=R._privateDict.defaultWidthX,k.nominalWidthX=R._privateDict.nominalWidthX),R.ros[0]!==void 0&&R.ros[1]!==void 0&&(k.isCIDFont=!0),k.isCIDFont){var re=R.fdArray,q=R.fdSelect;if(re===0||q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");re=bn(x,C,Pt(x,re+=C).objects,V.objects),R._fdArray=re,R._fdSelect=function(Ee,pe,$e,Fe){var Ve,Re=[],Pe=new Me.Parser(Ee,pe);if((Ee=Pe.parseCard8())===0)for(var Tt=0;Tt<$e;Tt++){if(Fe<=(Ve=Pe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Fe+")");Re.push(Ve)}else{if(Ee!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ee);var Kt,kt=Pe.parseCard16(),jt=Pe.parseCard16();if(jt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+jt);for(var sr=0;sr<kt;sr++){if(Ve=Pe.parseCard8(),Kt=Pe.parseCard16(),Fe<=Ve)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ve+" (FD count "+Fe+")");if($e<Kt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Kt);for(;jt<Kt;jt++)Re.push(Ve);jt=Kt}if(Kt!==$e)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Kt)}return Re}(x,q+=C,k.numGlyphs,re.length)}var q=C+R.private[1],re=In(x,q,R.private[0],V.objects),Y=(k.defaultWidthX=re.defaultWidthX,k.nominalWidthX=re.nominalWidthX,re.subrs!==0?(q=Pt(x,q+re.subrs),k.subrs=q.objects,k.subrsBias=zt(k.subrs)):(k.subrs=[],k.subrsBias=0),Pt(x,C+R.charStrings)),re=(k.nGlyphs=Y.objects.length,function(we,Te,Ee,pe){var $e=new Me.Parser(we,Te),Fe=(--Ee,[".notdef"]);if((we=$e.parseCard8())===0)for(var Ve=0;Ve<Ee;Ve+=1)Re=$e.parseSID(),Fe.push(ln(pe,Re));else if(we===1)for(;Fe.length<=Ee;)for(var Re=$e.parseSID(),Pe=$e.parseCard8(),Tt=0;Tt<=Pe;Tt+=1)Fe.push(ln(pe,Re)),Re+=1;else{if(we!==2)throw new Error("Unknown charset format "+we);for(;Fe.length<=Ee;){Re=$e.parseSID(),Pe=$e.parseCard16();for(var Kt=0;Kt<=Pe;Kt+=1)Fe.push(ln(pe,Re)),Re+=1}}return Fe}(x,C+R.charset,k.nGlyphs,V.objects));R.encoding===0?k.cffEncoding=new Qe(Z,re):R.encoding===1?k.cffEncoding=new Qe(oe,re):k.cffEncoding=function(we,Te,Ee){var pe={},$e=new Me.Parser(we,Te);if((we=$e.parseCard8())===0)for(var Fe=$e.parseCard8(),Ve=0;Ve<Fe;Ve+=1)pe[Pe=$e.parseCard8()]=Ve;else{if(we!==1)throw new Error("Unknown encoding format "+we);for(var Re=$e.parseCard8(),Pe=1,Tt=0;Tt<Re;Tt+=1)for(var Kt=$e.parseCard8(),kt=$e.parseCard8(),jt=Kt;jt<=Kt+kt;jt+=1)pe[jt]=Pe,Pe+=1}return new Qe(pe,Ee)}(x,C+R.encoding,re),k.encoding=k.encoding||k.cffEncoding,k.glyphs=new St.GlyphSet(k);for(var ce=0;ce<k.nGlyphs;ce+=1){var le=Y.objects[ce];k.glyphs.push(ce,St.cffGlyphLoader(k,ce,kr,le))}},make:function(x,we){for(var k,R=new Oe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),V=1/we.unitsPerEm,V={version:we.version,fullName:we.fullName,familyName:we.familyName,weight:we.weightName,fontBBox:we.fontBBox||[0,0,0,0],fontMatrix:[V,0,0,V,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},q=[],Y=1;Y<x.length;Y+=1)k=x.get(Y),q.push(k.name);var re,ce,le=[],we=(R.header=new Oe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(Ee){var pe=new Oe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);pe.names=[];for(var $e=0;$e<Ee.length;$e+=1)pe.names.push({name:"name_"+$e,type:"NAME",value:Ee[$e]});return pe}([we.postScriptName]),Vc(V,le)),Te=(R.topDictIndex=Uc(we),R.globalSubrIndex=new Oe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(Ee,pe){for(var $e=new Oe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Fe=0;Fe<Ee.length;Fe+=1){var Ve=Dn(Ee[Fe],pe);$e.fields.push({name:"glyph_"+Fe,type:"SID",value:Ve})}return $e}(q,le),R.charStringsIndex=Zd(x),R.privateDict=(Te={},re=le,(ce=new Oe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Bc(_r,Te,re),ce),R.stringIndex=function(Ee){var pe=new Oe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);pe.strings=[];for(var $e=0;$e<Ee.length;$e+=1)pe.strings.push({name:"string_"+$e,type:"STRING",value:Ee[$e]});return pe}(le),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return V.charset=Te,V.encoding=0,V.charStrings=V.charset+R.charsets.sizeOf(),V.private[1]=V.charStrings+R.charStringsIndex.sizeOf(),we=Vc(V,le),R.topDictIndex=Uc(we),R}},Hc={parse:function(R,C){var k={},R=new Me.Parser(R,C);return k.version=R.parseVersion(),k.fontRevision=Math.round(1e3*R.parseFixed())/1e3,k.checkSumAdjustment=R.parseULong(),k.magicNumber=R.parseULong(),E.argument(k.magicNumber===1594834165,"Font header has wrong magic number."),k.flags=R.parseUShort(),k.unitsPerEm=R.parseUShort(),k.created=R.parseLongDateTime(),k.modified=R.parseLongDateTime(),k.xMin=R.parseShort(),k.yMin=R.parseShort(),k.xMax=R.parseShort(),k.yMax=R.parseShort(),k.macStyle=R.parseUShort(),k.lowestRecPPEM=R.parseUShort(),k.fontDirectionHint=R.parseShort(),k.indexToLocFormat=R.parseShort(),k.glyphDataFormat=R.parseShort(),k},make:function(x){var C=Math.round(new Date().getTime()/1e3)+2082844800,k=C;return x.createdTimestamp&&(k=x.createdTimestamp+2082844800),new Oe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:k},{name:"modified",type:"LONGDATETIME",value:C},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)}},me={parse:function(R,C){var k={},R=new Me.Parser(R,C);return k.version=R.parseVersion(),k.ascender=R.parseShort(),k.descender=R.parseShort(),k.lineGap=R.parseShort(),k.advanceWidthMax=R.parseUShort(),k.minLeftSideBearing=R.parseShort(),k.minRightSideBearing=R.parseShort(),k.xMaxExtent=R.parseShort(),k.caretSlopeRise=R.parseShort(),k.caretSlopeRun=R.parseShort(),k.caretOffset=R.parseShort(),R.relativeOffset+=8,k.metricDataFormat=R.parseShort(),k.numberOfHMetrics=R.parseUShort(),k},make:function(x){return new Oe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)}},Ze={parse:function(x,C,k,R,V){for(var q,Y,re=new Me.Parser(x,C),ce=0;ce<R;ce+=1){ce<k&&(q=re.parseUShort(),Y=re.parseShort());var le=V.get(ce);le.advanceWidth=q,le.leftSideBearing=Y}},make:function(x){for(var C=new Oe.Table("hmtx",[]),k=0;k<x.length;k+=1){var V=x.get(k),R=V.advanceWidth||0,V=V.leftSideBearing||0;C.fields.push({name:"advanceWidth_"+k,type:"USHORT",value:R}),C.fields.push({name:"leftSideBearing_"+k,type:"SHORT",value:V})}return C}},mt={make:function(x){for(var C=new Oe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),k="",R=12+4*x.length,V=0;V<x.length;++V){var q=k.indexOf(x[V]);q<0&&(q=k.length,k+=x[V]),C.fields.push({name:"offset "+V,type:"USHORT",value:R+q}),C.fields.push({name:"length "+V,type:"USHORT",value:x[V].length})}return C.fields.push({name:"stringPool",type:"CHARARRAY",value:k}),C},parse:function(x,C){for(var k=new Me.Parser(x,C),R=k.parseULong(),V=(E.argument(R===1,"Unsupported ltag table version."),k.skip("uLong",1),k.parseULong()),q=[],Y=0;Y<V;Y++){for(var re="",ce=C+k.parseUShort(),le=k.parseUShort(),we=ce;we<ce+le;++we)re+=String.fromCharCode(x.getInt8(we));q.push(re)}return q}},Ye={parse:function(R,C){var k={},R=new Me.Parser(R,C);return k.version=R.parseVersion(),k.numGlyphs=R.parseUShort(),k.version===1&&(k.maxPoints=R.parseUShort(),k.maxContours=R.parseUShort(),k.maxCompositePoints=R.parseUShort(),k.maxCompositeContours=R.parseUShort(),k.maxZones=R.parseUShort(),k.maxTwilightPoints=R.parseUShort(),k.maxStorage=R.parseUShort(),k.maxFunctionDefs=R.parseUShort(),k.maxInstructionDefs=R.parseUShort(),k.maxStackElements=R.parseUShort(),k.maxSizeOfInstructions=R.parseUShort(),k.maxComponentElements=R.parseUShort(),k.maxComponentDepth=R.parseUShort()),k},make:function(x){return new Oe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])}},ur=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},wr={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ct={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},fr="utf-16",pt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},rn={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function fn(x,C,k){switch(x){case 0:return fr;case 1:return rn[k]||pt[C];case 3:if(C===1||C===10)return fr}}function Kr(x){var C,k={};for(C in x)k[x[C]]=parseInt(C);return k}function _n(x,C,k,R,V,q){return new Oe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:C},{name:"languageID",type:"USHORT",value:k},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:V},{name:"offset",type:"USHORT",value:q}])}function co(x,C){if((k=function(q,Y){var re=q.length,ce=Y.length-re+1;e:for(var le=0;le<ce;le++)for(;le<ce;le++){for(var we=0;we<re;we++)if(Y[le+we]!==q[we])continue e;return le}return-1}(x,C))<0)for(var k=C.length,R=0,V=x.length;R<V;++R)C.push(x[R]);return k}var hi={parse:function(x,C,k){for(var R={},V=new Me.Parser(x,C),C=V.parseUShort(),q=V.parseUShort(),Y=V.offset+V.parseUShort(),re=0;re<q;re++){var $e=V.parseUShort(),ce=V.parseUShort(),le=V.parseUShort(),we=V.parseUShort(),we=ur[we]||we,Te=V.parseUShort(),Ee=V.parseUShort(),pe=function(Ve,Re,Pe){switch(Ve){case 0:if(Re===65535)return"und";if(Pe)return Pe[Re];break;case 1:return qe[Re];case 3:return ct[Re]}}($e,le,k),$e=fn($e,ce,le);$e!==void 0&&pe!==void 0&&(ce=void 0,(ce=$e===fr?B.UTF16(x,Y+Ee,Te):B.MACSTRING(x,Y+Ee,Te,$e))&&((le=(le=R[we])===void 0?R[we]={}:le)[pe]=ce))}return C===1&&V.parseUShort(),R},make:function(x,C){var k,R=[],V={},q=Kr(ur);for(k in x){var Y=q[k];if(Y===void 0&&(Y=k),Ee=parseInt(Y),isNaN(Ee))throw new Error('Name table entry "'+k+'" does not exist, see nameTableNames for complete list.');V[Ee]=x[k],R.push(Ee)}for(var re=Kr(qe),ce=Kr(ct),le=[],we=[],Te=0;Te<R.length;Te++){var Ee,pe,$e=V[Ee=R[Te]];for(pe in $e){var Fe=$e[pe],Kt=1,Ve=re[pe],Re=wr[Ve],Pe=fn(Kt,Re,Ve),Pe=G.MACSTRING(Fe,Pe),Tt=(Pe===void 0&&(Kt=0,(Ve=C.indexOf(pe))<0&&(Ve=C.length,C.push(pe)),Re=4,Pe=G.UTF16(Fe)),co(Pe,we)),Kt=(le.push(_n(Kt,Re,Ve,Ee,Pe.length,Tt)),ce[pe]);Kt!==void 0&&(Ve=co(Re=G.UTF16(Fe),we),le.push(_n(3,1,Kt,Ee,Re.length,Ve)))}}le.sort(function(sr,Vr){return sr.platformID-Vr.platformID||sr.encodingID-Vr.encodingID||sr.languageID-Vr.languageID||sr.nameID-Vr.nameID});for(var kt=new Oe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:le.length},{name:"stringOffset",type:"USHORT",value:6+12*le.length}]),jt=0;jt<le.length;jt++)kt.fields.push({name:"record_"+jt,type:"RECORD",value:le[jt]});return kt.fields.push({name:"strings",type:"LITERAL",value:we}),kt}},uo=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],wn={parse:function(x,C){var k={},R=new Me.Parser(x,C);k.version=R.parseUShort(),k.xAvgCharWidth=R.parseShort(),k.usWeightClass=R.parseUShort(),k.usWidthClass=R.parseUShort(),k.fsType=R.parseUShort(),k.ySubscriptXSize=R.parseShort(),k.ySubscriptYSize=R.parseShort(),k.ySubscriptXOffset=R.parseShort(),k.ySubscriptYOffset=R.parseShort(),k.ySuperscriptXSize=R.parseShort(),k.ySuperscriptYSize=R.parseShort(),k.ySuperscriptXOffset=R.parseShort(),k.ySuperscriptYOffset=R.parseShort(),k.yStrikeoutSize=R.parseShort(),k.yStrikeoutPosition=R.parseShort(),k.sFamilyClass=R.parseShort(),k.panose=[];for(var V=0;V<10;V++)k.panose[V]=R.parseByte();return k.ulUnicodeRange1=R.parseULong(),k.ulUnicodeRange2=R.parseULong(),k.ulUnicodeRange3=R.parseULong(),k.ulUnicodeRange4=R.parseULong(),k.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),k.fsSelection=R.parseUShort(),k.usFirstCharIndex=R.parseUShort(),k.usLastCharIndex=R.parseUShort(),k.sTypoAscender=R.parseShort(),k.sTypoDescender=R.parseShort(),k.sTypoLineGap=R.parseShort(),k.usWinAscent=R.parseUShort(),k.usWinDescent=R.parseUShort(),1<=k.version&&(k.ulCodePageRange1=R.parseULong(),k.ulCodePageRange2=R.parseULong()),2<=k.version&&(k.sxHeight=R.parseShort(),k.sCapHeight=R.parseShort(),k.usDefaultChar=R.parseUShort(),k.usBreakChar=R.parseUShort(),k.usMaxContent=R.parseUShort()),k},make:function(x){return new Oe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},unicodeRanges:uo,getUnicodeRange:function(x){for(var C=0;C<uo.length;C+=1){var k=uo[C];if(x>=k.begin&&x<k.end)return C}return-1}},Yw={parse:function(x,C){var k={},R=new Me.Parser(x,C);switch(k.version=R.parseVersion(),k.italicAngle=R.parseFixed(),k.underlinePosition=R.parseShort(),k.underlineThickness=R.parseShort(),k.isFixedPitch=R.parseULong(),k.minMemType42=R.parseULong(),k.maxMemType42=R.parseULong(),k.minMemType1=R.parseULong(),k.maxMemType1=R.parseULong(),k.version){case 1:k.names=be.slice();break;case 2:k.numberOfGlyphs=R.parseUShort(),k.glyphNameIndex=new Array(k.numberOfGlyphs);for(var V=0;V<k.numberOfGlyphs;V++)k.glyphNameIndex[V]=R.parseUShort();k.names=[];for(var q,Y=0;Y<k.numberOfGlyphs;Y++)k.glyphNameIndex[Y]>=be.length&&(q=R.parseChar(),k.names.push(R.parseString(q)));break;case 2.5:k.numberOfGlyphs=R.parseUShort(),k.offset=new Array(k.numberOfGlyphs);for(var re=0;re<k.numberOfGlyphs;re++)k.offset[re]=R.parseChar()}return k},make:function(){return new Oe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},$i=new Array(9),dl=($i[1]=function(){var x=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Se.coverage),deltaGlyphId:this.parseUShort()}:C===2?{substFormat:2,coverage:this.parsePointer(Se.coverage),substitute:this.parseOffset16List()}:void E.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},$i[2]=function(){var x=this.parseUShort();return E.argument(x===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Se.coverage),sequences:this.parseListOfLists()}},$i[3]=function(){var x=this.parseUShort();return E.argument(x===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Se.coverage),alternateSets:this.parseListOfLists()}},$i[4]=function(){var x=this.parseUShort();return E.argument(x===1,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Se.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Se.uShort,lookupListIndex:Se.uShort});$i[5]=function(){var x,C,k=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:R,coverage:this.parsePointer(Se.coverage),ruleSets:this.parseListOfLists(function(){var V=this.parseUShort(),q=this.parseUShort();return{input:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(q,dl)}})}:R===2?{substFormat:R,coverage:this.parsePointer(Se.coverage),classDef:this.parsePointer(Se.classDef),classSets:this.parseListOfLists(function(){var V=this.parseUShort(),q=this.parseUShort();return{classes:this.parseUShortList(V-1),lookupRecords:this.parseRecordList(q,dl)}})}:R===3?(x=this.parseUShort(),C=this.parseUShort(),{substFormat:R,coverages:this.parseList(x,Se.pointer(Se.coverage)),lookupRecords:this.parseRecordList(C,dl)}):void E.assert(!1,"0x"+k.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},$i[6]=function(){var x=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{substFormat:1,coverage:this.parsePointer(Se.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dl)}})}:C===2?{substFormat:2,coverage:this.parsePointer(Se.coverage),backtrackClassDef:this.parsePointer(Se.classDef),inputClassDef:this.parsePointer(Se.classDef),lookaheadClassDef:this.parsePointer(Se.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dl)}})}:C===3?{substFormat:3,backtrackCoverage:this.parseList(Se.pointer(Se.coverage)),inputCoverage:this.parseList(Se.pointer(Se.coverage)),lookaheadCoverage:this.parseList(Se.pointer(Se.coverage)),lookupRecords:this.parseRecordList(dl)}:void E.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},$i[7]=function(){var x=this.parseUShort(),x=(E.argument(x===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),C=new Se(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:x,extension:$i[x].call(C)}},$i[8]=function(){var x=this.parseUShort();return E.argument(x===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(Se.coverage),backtrackCoverage:this.parseList(Se.pointer(Se.coverage)),lookaheadCoverage:this.parseList(Se.pointer(Se.coverage)),substitutes:this.parseUShortList()}};var Kd=new Array(9);Kd[1]=function(x){return x.substFormat===1?new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]):new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Oe.Coverage(x.coverage)}].concat(Oe.ushortList("substitute",x.substitute)))},Kd[3]=function(x){return E.assert(x.substFormat===1,"Lookup type 3 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(x.coverage)}].concat(Oe.tableList("altSet",x.alternateSets,function(C){return new Oe.Table("alternateSetTable",Oe.ushortList("alternate",C))})))},Kd[4]=function(x){return E.assert(x.substFormat===1,"Lookup type 4 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(x.coverage)}].concat(Oe.tableList("ligSet",x.ligatureSets,function(C){return new Oe.Table("ligatureSetTable",Oe.tableList("ligature",C,function(k){return new Oe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:k.ligGlyph}].concat(Oe.ushortList("component",k.components,k.components.length+1)))}))})))};var Xw={parse:function(x,C){return C=(x=new Se(x,C=C||0)).parseVersion(1),E.argument(C===1||C===1.1,"Unsupported GSUB table version."),C===1?{version:C,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList($i)}:{version:C,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList($i),variations:x.parseFeatureVariationsList()}},make:function(x){return new Oe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(x.lookups,Kd)}])}},Qw={parse:function(x,C){for(var k=new Me.Parser(x,C),R=k.parseULong(),V=(E.argument(R===1,"Unsupported META table version."),k.parseULong(),k.parseULong(),k.parseULong()),q={},Y=0;Y<V;Y++){var re=k.parseTag(),le=k.parseULong(),ce=k.parseULong(),le=B.UTF8(x,C+le,ce);q[re]=le}return q},make:function(x){var C,k=Object.keys(x).length,R="",V=16+12*k,q=new Oe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:V},{name:"numTags",type:"ULONG",value:k}]);for(C in x){var Y=R.length;R+=x[C],q.fields.push({name:"tag "+C,type:"TAG",value:C}),q.fields.push({name:"offset "+C,type:"ULONG",value:V+Y}),q.fields.push({name:"length "+C,type:"ULONG",value:x[C].length})}return q.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),q}};function Zw(x){return Math.log(x)/Math.log(2)|0}function Cg(x){for(;x.length%4!=0;)x.push(0);for(var C=0,k=0;k<x.length;k+=4)C+=(x[k]<<24)+(x[k+1]<<16)+(x[k+2]<<8)+x[k+3];return C%=Math.pow(2,32)}function Kw(x,C,k,R){return new Oe.Record("Table Record",[{name:"tag",type:"TAG",value:x!==void 0?x:""},{name:"checkSum",type:"ULONG",value:C!==void 0?C:0},{name:"offset",type:"ULONG",value:k!==void 0?k:0},{name:"length",type:"ULONG",value:R!==void 0?R:0}])}function Jw(x){for(var C=new Oe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),k=(C.tables=x,C.numTables=x.length,Math.pow(2,Zw(C.numTables))),R=(C.searchRange=16*k,C.entrySelector=Zw(k),C.rangeShift=16*C.numTables-C.searchRange,[]),V=[],q=C.sizeOf()+Kw().sizeOf()*C.numTables;q%4!=0;)q+=1,V.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<x.length;Y+=1){var re=x[Y],ce=(E.argument(re.tableName.length===4,"Table name"+re.tableName+" is invalid."),re.sizeOf()),le=Kw(re.tableName,Cg(re.encode()),q,ce);for(R.push({name:le.tag+" Table Record",type:"RECORD",value:le}),V.push({name:re.tableName+" table",type:"RECORD",value:re}),q+=ce,E.argument(!isNaN(q),"Something went wrong calculating the offset.");q%4!=0;)q+=1,V.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(we,Te){return we.value.tag>Te.value.tag?1:-1}),C.fields=C.fields.concat(R),C.fields=C.fields.concat(V),C}function e1(x,C,k){for(var R=0;R<C.length;R+=1){var V=x.charToGlyphIndex(C[R]);if(0<V)return x.glyphs.get(V).getMetrics()}return k}var W2={make:Jw,fontToTable:function(x){for(var C,k=[],R=[],V=[],q=[],Y=[],re=[],ce=[],le=0,we=0,Te=0,Ee=0,pe=0,$e=0;$e<x.glyphs.length;$e+=1){var Fe=x.glyphs.get($e),Ve=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+$e+"): advanceWidth is not a number.");(Ve<C||C===void 0)&&0<Ve&&(C=Ve),le<Ve&&(le=Ve);var Ve=wn.getUnicodeRange(Ve);if(Ve<32)we|=1<<Ve;else if(Ve<64)Te|=1<<Ve-32;else if(Ve<96)Ee|=1<<Ve-64;else{if(!(Ve<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");pe|=1<<Ve-96}Fe.name!==".notdef"&&(Ve=Fe.getMetrics(),k.push(Ve.xMin),R.push(Ve.yMin),V.push(Ve.xMax),q.push(Ve.yMax),re.push(Ve.leftSideBearing),ce.push(Ve.rightSideBearing),Y.push(Fe.advanceWidth))}var Re,Pe={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,V),yMax:Math.max.apply(null,q),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:function(xn){for(var qc=0,pl=0;pl<xn.length;pl+=1)qc+=xn[pl];return qc/xn.length}(Y),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,ce)},Tt=(Pe.ascender=x.ascender,Pe.descender=x.descender,Hc.make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Pe.xMin,yMin:Pe.yMin,xMax:Pe.xMax,yMax:Pe.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Kt=me.make({ascender:Pe.ascender,descender:Pe.descender,advanceWidthMax:Pe.advanceWidthMax,minLeftSideBearing:Pe.minLeftSideBearing,minRightSideBearing:Pe.minRightSideBearing,xMaxExtent:Pe.maxLeftSideBearing+(Pe.xMax-Pe.xMin),numberOfHMetrics:x.glyphs.length}),kt=Ye.make(x.glyphs.length),jt=wn.make({xAvgCharWidth:Math.round(Pe.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:C,usLastCharIndex:le,ulUnicodeRange1:we,ulUnicodeRange2:Te,ulUnicodeRange3:Ee,ulUnicodeRange4:pe,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Pe.ascender,sTypoDescender:Pe.descender,sTypoLineGap:0,usWinAscent:Pe.yMax,usWinDescent:Math.abs(Pe.yMin),ulCodePageRange1:1,sxHeight:e1(x,"xyvw",{yMax:Math.round(Pe.ascender/2)}).yMax,sCapHeight:e1(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Pe).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),sr=Ze.make(x.glyphs),Vr=J.make(x.glyphs),Hr=x.getEnglishName("fontFamily"),Dr=x.getEnglishName("fontSubfamily"),Pr=Hr+" "+Dr,Jr=(Jr=x.getEnglishName("postScriptName"))||Hr.replace(/\s/g,"")+"-"+Dr,un={};for(Re in x.names)un[Re]=x.names[Re];un.uniqueID||(un.uniqueID={en:x.getEnglishName("manufacturer")+":"+Pr}),un.postScriptName||(un.postScriptName={en:Jr}),un.preferredFamily||(un.preferredFamily=x.names.fontFamily),un.preferredSubfamily||(un.preferredSubfamily=x.names.fontSubfamily);var Nn=[],Fn=hi.make(un,Nn),Nn=0<Nn.length?mt.make(Nn):void 0,qi=Yw.make(),Pr=zc.make(x.glyphs,{version:x.getEnglishName("version"),fullName:Pr,familyName:Hr,weightName:Dr,postScriptName:Jr,unitsPerEm:x.unitsPerEm,fontBBox:[0,Pe.yMin,Pe.ascender,Pe.advanceWidthMax]}),Hr=x.metas&&0<Object.keys(x.metas).length?Qw.make(x.metas):void 0,Dr=[Tt,Kt,kt,jt,Fn,Vr,qi,Pr,sr];Nn&&Dr.push(Nn),x.tables.gsub&&Dr.push(Xw.make(x.tables.gsub)),Hr&&Dr.push(Hr);for(var Ln=Cg((Jr=Jw(Dr)).encode()),Yr=Jr.fields,Mn=!1,Gr=0;Gr<Yr.length;Gr+=1)if(Yr[Gr].name==="head table"){Yr[Gr].value.checkSumAdjustment=2981146554-Ln,Mn=!0;break}if(Mn)return Jr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Cg};function Eg(x,C){for(var k=0,R=x.length-1;k<=R;){var V=k+R>>>1,q=x[V].tag;if(q===C)return V;q<C?k=1+V:R=V-1}return-k-1}function t1(x,C){for(var k=0,R=x.length-1;k<=R;){var V=k+R>>>1,q=x[V];if(q===C)return V;q<C?k=1+V:R=V-1}return-k-1}function r1(x,C){for(var k=0,R=x.length-1;k<=R;){var V,q=k+R>>>1,Y=(V=x[q]).start;if(Y===C)return V;Y<C?k=1+q:R=q-1}if(0<k)return C>(V=x[k-1]).end?0:V}function Jd(x,C){this.font=x,this.tableName=C}function eh(x){Jd.call(this,x,"gpos")}function ho(x){Jd.call(this,x,"gsub")}function n1(x,C,k){for(var R=x.subtables,V=0;V<R.length;V++){var q=R[V];if(q.substFormat===C)return q}if(k)return R.push(k),k}function i1(x){for(var C=new ArrayBuffer(x.length),k=new Uint8Array(C),R=0;R<x.length;++R)k[R]=x[R];return C}function hl(x,C){if(!x)throw C}function o1(x,C,k,R,V){var q=0<(C&R)?(q=x.parseByte(),k+(q=C&V?q:-q)):0<(C&V)?k:k+x.parseShort();return q}function q2(x,C,k){var R,V=new Me.Parser(C,k);if(x.numberOfContours=V.parseShort(),x._xMin=V.parseShort(),x._yMin=V.parseShort(),x._xMax=V.parseShort(),x._yMax=V.parseShort(),0<x.numberOfContours){for(var q=x.endPointIndices=[],Y=0;Y<x.numberOfContours;Y+=1)q.push(V.parseUShort());x.instructionLength=V.parseUShort(),x.instructions=[];for(var re=0;re<x.instructionLength;re+=1)x.instructions.push(V.parseByte());for(var ce=q[q.length-1]+1,le=[],we=0;we<ce;we+=1)if(R=V.parseByte(),le.push(R),0<(8&R))for(var Te=V.parseByte(),Ee=0;Ee<Te;Ee+=1)le.push(R),we+=1;if(E.argument(le.length===ce,"Bad flags."),0<q.length){var pe,$e=[];if(0<ce){for(var Fe=0;Fe<ce;Fe+=1)R=le[Fe],(pe={}).onCurve=!!(1&R),pe.lastPointOfContour=0<=q.indexOf(Fe),$e.push(pe);for(var Ve=0,Re=0;Re<ce;Re+=1)R=le[Re],(pe=$e[Re]).x=o1(V,R,Ve,2,16),Ve=pe.x;for(var Pe=0,Tt=0;Tt<ce;Tt+=1)R=le[Tt],(pe=$e[Tt]).y=o1(V,R,Pe,4,32),Pe=pe.y}x.points=$e}else x.points=[]}else if(x.numberOfContours===0)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Kt=!0;Kt;){le=V.parseUShort();var kt={glyphIndex:V.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&le)?0<(2&le)?(kt.dx=V.parseShort(),kt.dy=V.parseShort()):kt.matchedPoints=[V.parseUShort(),V.parseUShort()]:0<(2&le)?(kt.dx=V.parseChar(),kt.dy=V.parseChar()):kt.matchedPoints=[V.parseByte(),V.parseByte()],0<(8&le)?kt.xScale=kt.yScale=V.parseF2Dot14():0<(64&le)?(kt.xScale=V.parseF2Dot14(),kt.yScale=V.parseF2Dot14()):0<(128&le)&&(kt.xScale=V.parseF2Dot14(),kt.scale01=V.parseF2Dot14(),kt.scale10=V.parseF2Dot14(),kt.yScale=V.parseF2Dot14()),x.components.push(kt),Kt=!!(32&le)}if(256&le){x.instructionLength=V.parseUShort(),x.instructions=[];for(var jt=0;jt<x.instructionLength;jt+=1)x.instructions.push(V.parseByte())}}}function Ig(x,C){for(var k=[],R=0;R<x.length;R+=1){var V=x[R],V={x:C.xScale*V.x+C.scale01*V.y+C.dx,y:C.scale10*V.x+C.yScale*V.y+C.dy,onCurve:V.onCurve,lastPointOfContour:V.lastPointOfContour};k.push(V)}return k}function s1(x){var C=new K;if(x)for(var k=function(Te){for(var Ee=[],pe=[],$e=0;$e<Te.length;$e+=1){var Fe=Te[$e];pe.push(Fe),Fe.lastPointOfContour&&(Ee.push(pe),pe=[])}return E.argument(pe.length===0,"There are still points left in the current contour."),Ee}(x),R=0;R<k.length;++R){var V,q=k[R],Y=q[q.length-1],re=q[0];Y.onCurve?C.moveTo(Y.x,Y.y):re.onCurve?C.moveTo(re.x,re.y):(V={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)},C.moveTo(V.x,V.y));for(var ce=0;ce<q.length;++ce){var le,we=Y,Y=re,re=q[(ce+1)%q.length];Y.onCurve?C.lineTo(Y.x,Y.y):(le=re,we.onCurve||(Y.x,we.x,Y.y,we.y),re.onCurve||(le={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)}),C.quadraticCurveTo(Y.x,Y.y,le.x,le.y))}C.closePath()}return C}function Y2(x,C){if(C.isComposite)for(var k=0;k<C.components.length;k+=1){var R=C.components[k],V=x.get(R.glyphIndex);if(V.getPath(),V.points){var q=void 0;if(R.matchedPoints===void 0)q=Ig(V.points,R);else{if(R.matchedPoints[0]>C.points.length-1||R.matchedPoints[1]>V.points.length-1)throw Error("Matched points out of range in "+C.name);var Y=C.points[R.matchedPoints[0]],re=V.points[R.matchedPoints[1]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0},re=Ig([re],R)[0];R.dx=Y.x-re.x,R.dy=Y.y-re.y,q=Ig(V.points,R)}C.points=C.points.concat(q)}}return s1(C.points)}(eh.prototype=Jd.prototype={searchTag:Eg,binSearch:t1,getTable:function(x){var C=this.font.tables[this.tableName];return C=!C&&x?this.font.tables[this.tableName]=this.createDefaultTable():C},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(C){return C.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var C=!1,k=0;k<x.scripts.length;k++){var R=x.scripts[k].tag;if(R==="DFLT")return R;R==="latn"&&(C=!0)}return C?"latn":void 0}},getScriptTable:function(x,C){var k,R=this.getTable(C);if(R)return k=R.scripts,0<=(R=Eg(R.scripts,x=x||"DFLT"))?k[R].script:C?(k.splice(-1-R,0,C={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),C.script):void 0},getLangSysTable:function(V,C,k){var R,V=this.getScriptTable(V,k);if(V)return C&&C!=="dflt"&&C!=="DFLT"?0<=(R=Eg(V.langSysRecords,C))?V.langSysRecords[R].langSys:k?(V.langSysRecords.splice(-1-R,0,k={tag:C,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),k.langSys):void 0:V.defaultLangSys},getFeatureTable:function(x,C,k,R){if(x=this.getLangSysTable(x,C,R),x){for(var V,q=x.featureIndexes,Y=this.font.tables[this.tableName].features,re=0;re<q.length;re++)if((V=Y[q[re]]).tag===k)return V.feature;if(R)return C=Y.length,E.assert(C===0||k>=Y[C-1].tag,"Features must be added in alphabetical order."),Y.push(V={tag:k,feature:{params:0,lookupListIndexes:[]}}),q.push(C),V.feature}},getLookupTables:function(q,C,k,R,V){var q=this.getFeatureTable(q,C,k,V),Y=[];if(q){for(var re,ce=q.lookupListIndexes,le=this.font.tables[this.tableName].lookups,we=0;we<ce.length;we++)(re=le[ce[we]]).lookupType===R&&Y.push(re);if(Y.length===0&&V)return C=le.length,le.push(re={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ce.push(C),[re]}return Y},getGlyphClass:function(x,C){switch(x.format){case 1:return x.startGlyph<=C&&C<x.startGlyph+x.classes.length?x.classes[C-x.startGlyph]:0;case 2:var k=r1(x.ranges,C);return k?k.classId:0}},getCoverageIndex:function(x,C){switch(x.format){case 1:var k=t1(x.glyphs,C);return 0<=k?k:-1;case 2:return k=r1(x.ranges,C),k?k.index+C-k.start:-1}},expandCoverage:function(x){if(x.format===1)return x.glyphs;for(var C=[],k=x.ranges,R=0;R<k.length;R++)for(var V=k[R],q=V.start,Y=V.end,re=q;re<=Y;re++)C.push(re);return C}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},eh.prototype.getKerningValue=function(x,C,k){for(var R=0;R<x.length;R++)for(var V=x[R].subtables,q=0;q<V.length;q++){var Y=V[q],re=this.getCoverageIndex(Y.coverage,C);if(!(re<0))switch(Y.posFormat){case 1:for(var ce=Y.pairSets[re],le=0;le<ce.length;le++){var we=ce[le];if(we.secondGlyph===k)return we.value1&&we.value1.xAdvance||0}break;case 2:var Ee=this.getGlyphClass(Y.classDef1,C),Te=this.getGlyphClass(Y.classDef2,k),Ee=Y.classRecords[Ee][Te];return Ee.value1&&Ee.value1.xAdvance||0}}return 0},eh.prototype.getKerningTables=function(x,C){if(this.font.tables.gpos)return this.getLookupTables(x,C,"kern",2)},(ho.prototype=Jd.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ho.prototype.getSingle=function(x,C,k){for(var R=[],V=this.getLookupTables(C,k,x,1),q=0;q<V.length;q++)for(var Y=V[q].subtables,re=0;re<Y.length;re++){var ce=Y[re],le=this.expandCoverage(ce.coverage),we=void 0;if(ce.substFormat===1)for(var Te=ce.deltaGlyphId,we=0;we<le.length;we++){var Ee=le[we];R.push({sub:Ee,by:Ee+Te})}else{var pe=ce.substitute;for(we=0;we<le.length;we++)R.push({sub:le[we],by:pe[we]})}}return R},ho.prototype.getAlternates=function(x,C,k){for(var R=[],V=this.getLookupTables(C,k,x,3),q=0;q<V.length;q++)for(var Y=V[q].subtables,re=0;re<Y.length;re++)for(var ce=Y[re],le=this.expandCoverage(ce.coverage),we=ce.alternateSets,Te=0;Te<le.length;Te++)R.push({sub:le[Te],by:we[Te]});return R},ho.prototype.getLigatures=function(x,C,k){for(var R=[],V=this.getLookupTables(C,k,x,4),q=0;q<V.length;q++)for(var Y=V[q].subtables,re=0;re<Y.length;re++)for(var ce=Y[re],le=this.expandCoverage(ce.coverage),we=ce.ligatureSets,Te=0;Te<le.length;Te++)for(var Ee=le[Te],pe=we[Te],$e=0;$e<pe.length;$e++){var Fe=pe[$e];R.push({sub:[Ee].concat(Fe.components),by:Fe.ligGlyph})}return R},ho.prototype.addSingle=function(x,C,k,R){k=n1(this.getLookupTables(k,R,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),E.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format),R=C.sub,x=this.binSearch(k.coverage.glyphs,R),x<0&&(k.coverage.glyphs.splice(x=-1-x,0,R),k.substitute.splice(x,0,0)),k.substitute[x]=C.by},ho.prototype.addAlternate=function(x,C,k,R){k=n1(this.getLookupTables(k,R,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),E.assert(k.coverage.format===1,"Ligature: unable to modify coverage table format "+k.coverage.format),R=C.sub,x=this.binSearch(k.coverage.glyphs,R),x<0&&(k.coverage.glyphs.splice(x=-1-x,0,R),k.alternateSets.splice(x,0,0)),k.alternateSets[x]=C.by},ho.prototype.addLigature=function(q,ce,re,V){var re=this.getLookupTables(re,V,q,4,!0)[0],V=re.subtables[0],q=(V||(re.subtables[0]=V={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),E.assert(V.coverage.format===1,"Ligature: unable to modify coverage table format "+V.coverage.format),ce.sub[0]),Y=ce.sub.slice(1),re={ligGlyph:ce.by,components:Y},ce=this.binSearch(V.coverage.glyphs,q);if(0<=ce){for(var le=V.ligatureSets[ce],we=0;we<le.length;we++)if(function(Te,Ee){var pe=Te.length;if(pe===Ee.length){for(var $e=0;$e<pe;$e++)if(Te[$e]!==Ee[$e])return;return 1}}(le[we].components,Y))return;le.push(re)}else V.coverage.glyphs.splice(ce=-1-ce,0,q),V.ligatureSets.splice(ce,0,[re])},ho.prototype.getFeature=function(x,C,k){if(/ss\d\d/.test(x))return this.getSingle(x,C,k);switch(x){case"aalt":case"salt":return this.getSingle(x,C,k).concat(this.getAlternates(x,C,k));case"dlig":case"liga":case"rlig":return this.getLigatures(x,C,k)}},ho.prototype.add=function(x,C,k,R){if(/ss\d\d/.test(x))return this.addSingle(x,C,k,R);switch(x){case"aalt":case"salt":return typeof C.by=="number"?this.addSingle(x,C,k,R):this.addAlternate(x,C,k,R);case"dlig":case"liga":case"rlig":return this.addLigature(x,C,k,R)}};var a1={getPath:s1,parse:function(x,C,k,R){for(var V=new St.GlyphSet(R),q=0;q<k.length-1;q+=1){var Y=k[q];Y!==k[q+1]?V.push(q,St.ttfGlyphLoader(R,q,q2,x,C+Y,Y2)):V.push(q,St.glyphLoader(R,q))}return V}};function l1(x){this.font=x,this.getCommands=function(C){return a1.getPath(C).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function X2(x){return x}function c1(x){return Math.sign(x)*Math.round(Math.abs(x))}function Q2(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function Z2(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function K2(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function J2(x){return Math.sign(x)*Math.floor(Math.abs(x))}function u1(x){var C=this.srPeriod,k=this.srPhase,R=1;return x<0&&(x=-x,R=-1),x+=this.srThreshold-k,x=Math.trunc(x/C)*C,(x+=k)<0?k*R:x*R}var fo={x:1,y:0,axis:"x",distance:function(x,C,k,R){return(k?x.xo:x.x)-(R?C.xo:C.x)},interpolate:function(x,C,k,R){var V,q,Y,re,ce,le,we;if(!R||R===this)return V=x.xo-C.xo,q=x.xo-k.xo,ce=C.x-C.xo,le=k.x-k.xo,(we=(Y=Math.abs(V))+(re=Math.abs(q)))===0?void(x.x=x.xo+(ce+le)/2):void(x.x=x.xo+(ce*re+le*Y)/we);V=R.distance(x,C,!0,!0),q=R.distance(x,k,!0,!0),ce=R.distance(C,C,!1,!0),le=R.distance(k,k,!1,!0),(we=(Y=Math.abs(V))+(re=Math.abs(q)))===0?fo.setRelative(x,x,(ce+le)/2,R,!0):fo.setRelative(x,x,(ce*re+le*Y)/we,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,C,k,R,V){var q,Y;R&&R!==this?(q=V?C.xo:C.x,Y=V?C.yo:C.y,q+=k*R.x,Y+=k*R.y,x.x=q+(x.y-Y)/R.normalSlope):x.x=(V?C.xo:C.x)+k},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},Vo={x:0,y:1,axis:"y",distance:function(x,C,k,R){return(k?x.yo:x.y)-(R?C.yo:C.y)},interpolate:function(x,C,k,R){var V,q,Y,re,ce,le,we;if(!R||R===this)return V=x.yo-C.yo,q=x.yo-k.yo,ce=C.y-C.yo,le=k.y-k.yo,(we=(Y=Math.abs(V))+(re=Math.abs(q)))===0?void(x.y=x.yo+(ce+le)/2):void(x.y=x.yo+(ce*re+le*Y)/we);V=R.distance(x,C,!0,!0),q=R.distance(x,k,!0,!0),ce=R.distance(C,C,!1,!0),le=R.distance(k,k,!1,!0),(we=(Y=Math.abs(V))+(re=Math.abs(q)))===0?Vo.setRelative(x,x,(ce+le)/2,R,!0):Vo.setRelative(x,x,(ce*re+le*Y)/we,R,!0)},normalSlope:0,setRelative:function(x,C,k,R,V){var q,Y;R&&R!==this?(q=V?C.xo:C.x,Y=V?C.yo:C.y,q+=k*R.x,Y+=k*R.y,x.y=Y+R.normalSlope*(x.x-q)):x.y=(V?C.yo:C.y)+k},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function Gc(x,C){this.x=x,this.y=C,this.axis=void 0,this.slope=C/x,this.normalSlope=-x/C,Object.freeze(this)}function $c(x,C){var k=Math.sqrt(x*x+C*C);return C/=k,(x/=k)===1&&C===0?fo:x===0&&C===1?Vo:new Gc(x,C)}function Uo(x,C,k,R){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*C)/64,this.lastPointOfContour=k,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(fo),Object.freeze(Vo),Gc.prototype.distance=function(x,C,k,R){return this.x*fo.distance(x,C,k,R)+this.y*Vo.distance(x,C,k,R)},Gc.prototype.interpolate=function(x,V,q,R){var Y=R.distance(x,V,!0,!0),re=R.distance(x,q,!0,!0),V=R.distance(V,V,!1,!0),q=R.distance(q,q,!1,!0),Y=Math.abs(Y),re=Math.abs(re),ce=Y+re;ce===0?this.setRelative(x,x,(V+q)/2,R,!0):this.setRelative(x,x,(V*re+q*Y)/ce,R,!0)},Gc.prototype.setRelative=function(x,q,ce,le,re){var Y=re?q.xo:q.x,re=re?q.yo:q.y,q=Y+ce*(le=le||this).x,Y=re+ce*le.y,re=le.normalSlope,ce=this.slope,le=x.x,we=x.y;x.x=(ce*le-re*q+Y-we)/(ce-re),x.y=ce*(x.x-le)+we},Gc.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},Uo.prototype.nextTouched=function(x){for(var C=this.nextPointOnContour;!x.touched(C)&&C!==this;)C=C.nextPointOnContour;return C},Uo.prototype.prevTouched=function(x){for(var C=this.prevPointOnContour;!x.touched(C)&&C!==this;)C=C.prevPointOnContour;return C};var Wc=Object.freeze(new Uo(0,0)),ej={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function _s(x,C){switch(this.env=x,this.stack=[],this.prog=C,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=fo,this.round=c1}}function th(x){for(var C=x.tZone=new Array(x.gZone.length),k=0;k<C.length;k++)C[k]=new Uo(0,0)}function d1(x,C){var k,R=x.prog,V=x.ip,q=1;do if((k=R[++V])===88)q++;else if(k===89)q--;else if(k===64)V+=R[V+1]+1;else if(k===65)V+=2*R[V+1]+1;else if(176<=k&&k<=183)V+=k-176+1;else if(184<=k&&k<=191)V+=2*(k-184+1);else if(C&&q===1&&k===27)break;while(0<q);x.ip=V}function h1(x,C){u.DEBUG&&console.log(C.step,"SVTCA["+x.axis+"]"),C.fv=C.pv=C.dpv=x}function f1(x,C){u.DEBUG&&console.log(C.step,"SPVTCA["+x.axis+"]"),C.pv=C.dpv=x}function p1(x,C){u.DEBUG&&console.log(C.step,"SFVTCA["+x.axis+"]"),C.fv=x}function m1(x,C){var k,V=C.stack,R=V.pop(),V=V.pop(),q=C.z2[R],Y=C.z1[V];u.DEBUG&&console.log("SPVTL["+x+"]",R,V),R=x?(k=q.y-Y.y,Y.x-q.x):(k=Y.x-q.x,Y.y-q.y),C.pv=C.dpv=$c(k,R)}function g1(x,C){var k,V=C.stack,R=V.pop(),V=V.pop(),q=C.z2[R],Y=C.z1[V];u.DEBUG&&console.log("SFVTL["+x+"]",R,V),R=x?(k=q.y-Y.y,Y.x-q.x):(k=Y.x-q.x,Y.y-q.y),C.fv=$c(k,R)}function Dg(x){u.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function y1(x,C){var k=C.stack.pop(),R=C.z0[k],V=C.fv,q=C.pv,Y=(u.DEBUG&&console.log(C.step,"MDAP["+x+"]",k),q.distance(R,Wc));x&&(Y=C.round(Y)),V.setRelative(R,Wc,Y,q),V.touch(R),C.rp0=C.rp1=k}function v1(x,C){var k,R,V,q=C.z2,Y=q.length-2;u.DEBUG&&console.log(C.step,"IUP["+x.axis+"]");for(var re=0;re<Y;re++)k=q[re],x.touched(k)||(R=k.prevTouched(x))!==k&&(R===(V=k.nextTouched(x))&&x.setRelative(k,k,x.distance(R,R,!1,!0),x,!0),x.interpolate(k,R,V,x))}function b1(x,C){for(var k=C.stack,R=x?C.rp1:C.rp2,V=(x?C.z0:C.z1)[R],q=C.fv,Y=C.pv,re=C.loop,ce=C.z2;re--;){var le=k.pop(),we=ce[le],Te=Y.distance(V,V,!1,!0);q.setRelative(we,we,Te,Y),q.touch(we),u.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-re)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",le)}C.loop=1}function _1(x,C){for(var k=C.stack,Y=x?C.rp1:C.rp2,R=(x?C.z0:C.z1)[Y],V=C.fv,q=C.pv,Y=k.pop(),re=C.z2[C.contours[Y]],ce=re,le=(u.DEBUG&&console.log(C.step,"SHC["+x+"]",Y),q.distance(R,R,!1,!0));ce!==R&&V.setRelative(ce,ce,le,q),(ce=ce.nextPointOnContour)!==re;);}function w1(x,C){var k,R,re=C.stack,V=x?C.rp1:C.rp2,V=(x?C.z0:C.z1)[V],q=C.fv,Y=C.pv,re=re.pop();switch(u.DEBUG&&console.log(C.step,"SHZ["+x+"]",re),re){case 0:k=C.tZone;break;case 1:k=C.gZone;break;default:throw new Error("Invalid zone")}for(var ce=Y.distance(V,V,!1,!0),le=k.length-2,we=0;we<le;we++)R=k[we],q.setRelative(R,R,ce,Y)}function x1(x,C){var R=C.stack,k=R.pop()/64,R=R.pop(),V=C.z1[R],q=C.z0[C.rp0],Y=C.fv,re=C.pv;Y.setRelative(V,q,k,re),Y.touch(V),u.DEBUG&&console.log(C.step,"MSIRP["+x+"]",k,R),C.rp1=C.rp0,C.rp2=R,x&&(C.rp0=R)}function S1(x,C){var k=C.stack,re=k.pop(),k=k.pop(),R=C.z0[k],V=C.fv,q=C.pv,Y=C.cvt[re],re=(u.DEBUG&&console.log(C.step,"MIAP["+x+"]",re,"(",Y,")",k),q.distance(R,Wc));x&&(Math.abs(re-Y)<C.cvCutIn&&(re=Y),re=C.round(re)),V.setRelative(R,Wc,re,q),C.zp0===0&&(R.xo=R.x,R.yo=R.y),V.touch(R),C.rp0=C.rp1=k}function C1(x,C){var k=C.stack,R=k.pop(),V=C.z2[R];u.DEBUG&&console.log(C.step,"GC["+x+"]",R),k.push(64*C.dpv.distance(V,Wc,x,!1))}function E1(x,C){var R=C.stack,k=R.pop(),R=R.pop(),V=C.z1[k],q=C.z0[R],q=C.dpv.distance(q,V,x,x);u.DEBUG&&console.log(C.step,"MD["+x+"]",k,R,"->",q),C.stack.push(Math.round(64*q))}function Mg(x,C){var k=C.stack,R=k.pop(),V=C.fv,q=C.pv,Y=C.ppem,re=C.deltaBase+16*(x-1),ce=C.deltaShift,le=C.z0;u.DEBUG&&console.log(C.step,"DELTAP["+x+"]",R,k);for(var we=0;we<R;we++){var Te=k.pop(),Ee=k.pop();re+((240&Ee)>>4)===Y&&(0<=(Ee=(15&Ee)-8)&&Ee++,u.DEBUG&&console.log(C.step,"DELTAPFIX",Te,"by",Ee*ce),Te=le[Te],V.setRelative(Te,Te,Ee*ce,q))}}function rh(x,C){var k=C.stack,R=k.pop();u.DEBUG&&console.log(C.step,"ROUND[]"),k.push(64*C.round(R/64))}function Tg(x,C){var k=C.stack,R=k.pop(),V=C.ppem,q=C.deltaBase+16*(x-1),Y=C.deltaShift;u.DEBUG&&console.log(C.step,"DELTAC["+x+"]",R,k);for(var re=0;re<R;re++){var ce=k.pop(),le=k.pop();q+((240&le)>>4)===V&&(0<=(le=(15&le)-8)&&le++,le=le*Y,u.DEBUG&&console.log(C.step,"DELTACFIX",ce,"by",le),C.cvt[ce]+=le)}}function I1(x,C){var k,V=C.stack,R=V.pop(),V=V.pop(),q=C.z2[R],Y=C.z1[V];u.DEBUG&&console.log(C.step,"SDPVTL["+x+"]",R,V),R=x?(k=q.y-Y.y,Y.x-q.x):(k=Y.x-q.x,Y.y-q.y),C.dpv=$c(k,R)}function ws(x,C){var k=C.stack,R=C.prog,V=C.ip;u.DEBUG&&console.log(C.step,"PUSHB["+x+"]");for(var q=0;q<x;q++)k.push(R[++V]);C.ip=V}function xs(x,C){var k=C.ip,R=C.prog,V=C.stack;u.DEBUG&&console.log(C.ip,"PUSHW["+x+"]");for(var q=0;q<x;q++){var Y=R[++k]<<8|R[++k];32768&Y&&(Y=-(1+(65535^Y))),V.push(Y)}C.ip=k}function Ct(x,C,k,R,V,q){var Y,re,le=q.stack,ce=x&&le.pop(),le=le.pop(),we=q.rp0,we=q.z0[we],Te=q.z1[le],Ee=q.minDis,pe=q.fv,$e=q.dpv,Fe=Y=$e.distance(Te,we,!0,!0),Ve=0<=Fe?1:-1;Fe=Math.abs(Fe),x&&(re=q.cvt[ce],R&&Math.abs(Fe-re)<q.cvCutIn&&(Fe=re)),k&&Fe<Ee&&(Fe=Ee),R&&(Fe=q.round(Fe)),pe.setRelative(Te,we,Ve*Fe,$e),pe.touch(Te),u.DEBUG&&console.log(q.step,(x?"MIRP[":"MDRP[")+(C?"M":"m")+(k?">":"_")+(R?"R":"_")+(V===0?"Gr":V===1?"Bl":V===2?"Wh":"")+"]",x?ce+"("+q.cvt[ce]+","+re+")":"",le,"(d =",Y,"->",Ve*Fe,")"),q.rp1=q.rp0,q.rp2=le,C&&(q.rp0=le)}l1.prototype.exec=function(x,C){if(typeof C!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var k=this.font,R=this._prepState;if(!R||R.ppem!==C){var V=this._fpgmState;if(!V){_s.prototype=ej,(V=this._fpgmState=new _s("fpgm",k.tables.fpgm)).funcs=[],V.font=k,u.DEBUG&&(console.log("---EXEC FPGM---"),V.step=-1);try{fl(V)}catch(le){return console.log("Hinting error in FPGM:"+le),void(this._errorState=3)}}_s.prototype=V,(R=this._prepState=new _s("prep",k.tables.prep)).ppem=C;var q=k.tables.cvt;if(q)for(var Y=R.cvt=new Array(q.length),re=C/k.unitsPerEm,ce=0;ce<q.length;ce++)Y[ce]=q[ce]*re;else R.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{fl(R)}catch(le){this._errorState<2&&console.log("Hinting error in PREP:"+le),this._errorState=2}}if(!(1<this._errorState))try{return tj(x,R)}catch(le){this._errorState<1&&(console.log("Hinting error:"+le),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var tj=function(x,C){var k=C.ppem/C.font.unitsPerEm,R=k,V=x.components;if(_s.prototype=C,V){for(var q=C.font,Y=[],re=[],ce=0;ce<V.length;ce++){var le=V[ce],we=q.glyphs.get(le.glyphIndex),Te=new _s("glyf",we.instructions);u.DEBUG&&(console.log("---EXEC COMP "+ce+"---"),Te.step=-1),D1(we,Te,k,R);for(var Ee=Math.round(le.dx*k),pe=Math.round(le.dy*R),$e=Te.gZone,Fe=Te.contours,Ve=0;Ve<$e.length;Ve++){var Re=$e[Ve];Re.xTouched=Re.yTouched=!1,Re.xo=Re.x=Re.x+Ee,Re.yo=Re.y=Re.y+pe}var Pe=Y.length;Y.push.apply(Y,$e);for(var Tt=0;Tt<Fe.length;Tt++)re.push(Fe[Tt]+Pe)}x.instructions&&!Te.inhibitGridFit&&((Te=new _s("glyf",x.instructions)).gZone=Te.z0=Te.z1=Te.z2=Y,Te.contours=re,Y.push(new Uo(0,0),new Uo(Math.round(x.advanceWidth*k),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),Te.step=-1),fl(Te),Y.length-=2)}else Te=new _s("glyf",x.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),Te.step=-1),D1(x,Te,k,R),Y=Te.gZone;return Y},D1=function(x,C,k,R){for(var V,q,Y,re=x.points||[],ce=re.length,le=C.gZone=C.z0=C.z1=C.z2=[],we=C.contours=[],Te=0;Te<ce;Te++)V=re[Te],le[Te]=new Uo(V.x*k,V.y*R,V.lastPointOfContour,V.onCurve);for(var Ee=0;Ee<ce;Ee++)V=le[Ee],q||(q=V,we.push(Ee)),V.lastPointOfContour?((V.nextPointOnContour=q).prevPointOnContour=V,q=void 0):(Y=le[Ee+1],(V.nextPointOnContour=Y).prevPointOnContour=V);if(!C.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",C.stack);for(var pe=0;pe<ce;pe++)console.log(pe,le[pe].x,le[pe].y)}if(le.push(new Uo(0,0),new Uo(Math.round(x.advanceWidth*k),0)),fl(C),le.length-=2,u.DEBUG){console.log("FINISHED GLYPH",C.stack);for(var $e=0;$e<ce;$e++)console.log($e,le[$e].x,le[$e].y)}}},fl=function(x){var C=x.prog;if(C){var k,R=C.length;for(x.ip=0;x.ip<R;x.ip++){if(u.DEBUG&&x.step++,!(k=rj[C[x.ip]]))throw new Error("unknown instruction: 0x"+Number(C[x.ip]).toString(16));k(x)}}},rj=[h1.bind(void 0,Vo),h1.bind(void 0,fo),f1.bind(void 0,Vo),f1.bind(void 0,fo),p1.bind(void 0,Vo),p1.bind(void 0,fo),m1.bind(void 0,0),m1.bind(void 0,1),g1.bind(void 0,0),g1.bind(void 0,1),function(x){var C=(k=x.stack).pop(),k=k.pop();u.DEBUG&&console.log(x.step,"SPVFS[]",C,k),x.pv=x.dpv=$c(k,C)},function(x){var C=(k=x.stack).pop(),k=k.pop();u.DEBUG&&console.log(x.step,"SPVFS[]",C,k),x.fv=$c(k,C)},function(x){var C=x.stack,k=x.pv;u.DEBUG&&console.log(x.step,"GPV[]"),C.push(16384*k.x),C.push(16384*k.y)},function(x){var C=x.stack,k=x.fv;u.DEBUG&&console.log(x.step,"GFV[]"),C.push(16384*k.x),C.push(16384*k.y)},function(x){x.fv=x.pv,u.DEBUG&&console.log(x.step,"SFVTPV[]")},function(C){var k=(Y=C.stack).pop(),R=Y.pop(),V=Y.pop(),q=Y.pop(),Y=Y.pop(),ce=C.z0,we=C.z1,re=ce[k],ce=ce[R],le=we[V],we=we[q],C=C.z2[Y],k=(u.DEBUG&&console.log("ISECT[], ",k,R,V,q,Y),re.x),R=re.y,V=ce.x,q=ce.y,Y=le.x,re=le.y,ce=we.x,le=we.y,we=(k-V)*(re-le)-(R-q)*(Y-ce),Te=k*q-R*V,Ee=Y*le-re*ce;C.x=(Te*(Y-ce)-Ee*(k-V))/we,C.y=(Te*(re-le)-Ee*(R-q))/we},function(x){x.rp0=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),u.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var C=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP0[]",C),x.zp0=C){case 0:x.tZone||th(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var C=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP1[]",C),x.zp1=C){case 0:x.tZone||th(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var C=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZP2[]",C),x.zp2=C){case 0:x.tZone||th(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var C=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SZPS[]",C),x.zp0=x.zp1=x.zp2=C){case 0:x.tZone||th(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),u.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){u.DEBUG&&console.log(x.step,"RTG[]"),x.round=c1},function(x){u.DEBUG&&console.log(x.step,"RTHG[]"),x.round=Z2},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SMD[]",C),x.minDis=C/64},function(x){u.DEBUG&&console.log(x.step,"ELSE[]"),d1(x,!1)},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"JMPR[]",C),x.ip+=C-1},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SCVTCI[]",C),x.cvCutIn=C/64},void 0,void 0,function(x){var C=x.stack;u.DEBUG&&console.log(x.step,"DUP[]"),C.push(C[C.length-1])},Dg,function(x){u.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"SWAP[]"),C.push(k),C.push(R)},function(x){var C=x.stack;u.DEBUG&&console.log(x.step,"DEPTH[]"),C.push(C.length)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"CINDEX[]",k),C.push(C[C.length-k])},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"MINDEX[]",k),C.push(C.splice(C.length-k,1)[0])},void 0,void 0,void 0,function(x){var C=(R=x.stack).pop(),k=R.pop(),R=(u.DEBUG&&console.log(x.step,"LOOPCALL[]",C,k),x.ip),V=x.prog;x.prog=x.funcs[C];for(var q=0;q<k;q++)fl(x),u.DEBUG&&console.log(++x.step,q+1<k?"next loopcall":"done loopcall",q);x.ip=R,x.prog=V},function(x){var C=x.stack.pop(),k=(u.DEBUG&&console.log(x.step,"CALL[]",C),x.ip),R=x.prog;x.prog=x.funcs[C],fl(x),x.ip=k,x.prog=R,u.DEBUG&&console.log(++x.step,"returning from",C)},function(x){if(x.env!=="fpgm")throw new Error("FDEF not allowed here");var R=x.stack,C=x.prog,k=x.ip,R=R.pop(),V=k;for(u.DEBUG&&console.log(x.step,"FDEF[]",R);C[++k]!==45;);x.ip=k,x.funcs[R]=C.slice(V+1,k)},void 0,y1.bind(void 0,0),y1.bind(void 0,1),v1.bind(void 0,Vo),v1.bind(void 0,fo),b1.bind(void 0,0),b1.bind(void 0,1),_1.bind(void 0,0),_1.bind(void 0,1),w1.bind(void 0,0),w1.bind(void 0,1),function(x){for(var C=x.stack,k=x.loop,R=x.fv,V=C.pop()/64,q=x.z2;k--;){var Y=C.pop(),re=q[Y];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-k)+": ":"")+"SHPIX[]",Y,V),R.setRelative(re,re,V),R.touch(re)}x.loop=1},function(x){for(var C=x.stack,k=x.rp1,R=x.rp2,V=x.loop,q=x.z0[k],Y=x.z1[R],re=x.fv,ce=x.dpv,le=x.z2;V--;){var we=C.pop(),Te=le[we];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-V)+": ":"")+"IP[]",we,k,"<->",R),re.interpolate(Te,q,Y,ce),re.touch(Te)}x.loop=1},x1.bind(void 0,0),x1.bind(void 0,1),function(x){for(var C=x.stack,k=x.rp0,R=x.z0[k],V=x.loop,q=x.fv,Y=x.pv,re=x.z1;V--;){var ce=C.pop(),le=re[ce];u.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-V)+": ":"")+"ALIGNRP[]",ce),q.setRelative(le,R,0,Y),q.touch(le)}x.loop=1},function(x){u.DEBUG&&console.log(x.step,"RTDG[]"),x.round=Q2},S1.bind(void 0,0),S1.bind(void 0,1),function(x){var C=x.prog,k=x.ip,R=x.stack,V=C[++k];u.DEBUG&&console.log(x.step,"NPUSHB[]",V);for(var q=0;q<V;q++)R.push(C[++k]);x.ip=k},function(x){var C=x.ip,k=x.prog,R=x.stack,V=k[++C];u.DEBUG&&console.log(x.step,"NPUSHW[]",V);for(var q=0;q<V;q++){var Y=k[++C]<<8|k[++C];32768&Y&&(Y=-(1+(65535^Y))),R.push(Y)}x.ip=C},function(x){var R=x.stack,C=(C=x.store)||(x.store=[]),k=R.pop(),R=R.pop();u.DEBUG&&console.log(x.step,"WS",k,R),C[R]=k},function(V){var C=V.stack,k=V.store,R=C.pop(),V=(u.DEBUG&&console.log(V.step,"RS",R),k&&k[R]||0);C.push(V)},function(x){var C=(k=x.stack).pop(),k=k.pop();u.DEBUG&&console.log(x.step,"WCVTP",C,k),x.cvt[k]=C/64},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"RCVT",k),C.push(64*x.cvt[k])},C1.bind(void 0,0),C1.bind(void 0,1),void 0,E1.bind(void 0,0),E1.bind(void 0,1),function(x){u.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){u.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"LT[]",k,R),C.push(R<k?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"LTEQ[]",k,R),C.push(R<=k?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"GT[]",k,R),C.push(k<R?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"GTEQ[]",k,R),C.push(k<=R?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"EQ[]",k,R),C.push(k===R?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"NEQ[]",k,R),C.push(k!==R?1:0)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"ODD[]",k),C.push(Math.trunc(k)%2?1:0)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"EVEN[]",k),C.push(Math.trunc(k)%2?0:1)},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"IF[]",C),C||(d1(x,!0),u.DEBUG&&console.log(x.step,"EIF[]"))},function(x){u.DEBUG&&console.log(x.step,"EIF[]")},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"AND[]",k,R),C.push(k&&R?1:0)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"OR[]",k,R),C.push(k||R?1:0)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"NOT[]",k),C.push(k?0:1)},Mg.bind(void 0,1),function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SDB[]",C),x.deltaBase=C},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SDS[]",C),x.deltaShift=Math.pow(.5,C)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"ADD[]",k,R),C.push(R+k)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"SUB[]",k,R),C.push(R-k)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"DIV[]",k,R),C.push(64*R/k)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"MUL[]",k,R),C.push(R*k/64)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"ABS[]",k),C.push(Math.abs(k))},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"NEG[]",k),C.push(-k)},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"FLOOR[]",k),C.push(64*Math.floor(k/64))},function(x){var C=x.stack,k=C.pop();u.DEBUG&&console.log(x.step,"CEILING[]",k),C.push(64*Math.ceil(k/64))},rh.bind(void 0,0),rh.bind(void 0,1),rh.bind(void 0,2),rh.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var C=(k=x.stack).pop(),k=k.pop();u.DEBUG&&console.log(x.step,"WCVTF[]",C,k),x.cvt[k]=C*x.ppem/x.font.unitsPerEm},Mg.bind(void 0,2),Mg.bind(void 0,3),Tg.bind(void 0,1),Tg.bind(void 0,2),Tg.bind(void 0,3),function(x){var C,k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"SROUND[]",k),x.round=u1,192&k){case 0:C=.5;break;case 64:C=1;break;case 128:C=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=C,48&k){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*C;break;case 32:x.srPhase=.5*C;break;case 48:x.srPhase=.75*C;break;default:throw new Error("invalid SROUND value")}x.srThreshold=(k&=15)===0?0:(k/8-.5)*C},function(x){var C,k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"S45ROUND[]",k),x.round=u1,192&k){case 0:C=Math.sqrt(2)/2;break;case 64:C=Math.sqrt(2);break;case 128:C=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=C,48&k){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*C;break;case 32:x.srPhase=.5*C;break;case 48:x.srPhase=.75*C;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=(k&=15)===0?0:(k/8-.5)*C},void 0,void 0,function(x){u.DEBUG&&console.log(x.step,"ROFF[]"),x.round=X2},void 0,function(x){u.DEBUG&&console.log(x.step,"RUTG[]"),x.round=K2},function(x){u.DEBUG&&console.log(x.step,"RDTG[]"),x.round=J2},Dg,Dg,void 0,void 0,void 0,void 0,void 0,function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SCANCTRL[]",C)},I1.bind(void 0,0),I1.bind(void 0,1),function(x){var C=x.stack,k=C.pop(),R=0;u.DEBUG&&console.log(x.step,"GETINFO[]",k),1&k&&(R=35),32&k&&(R|=4096),C.push(R)},void 0,function(x){var C=x.stack,k=C.pop(),R=C.pop(),V=C.pop();u.DEBUG&&console.log(x.step,"ROLL[]"),C.push(R),C.push(k),C.push(V)},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"MAX[]",k,R),C.push(Math.max(R,k))},function(x){var C=x.stack,k=C.pop(),R=C.pop();u.DEBUG&&console.log(x.step,"MIN[]",k,R),C.push(Math.min(R,k))},function(x){var C=x.stack.pop();u.DEBUG&&console.log(x.step,"SCANTYPE[]",C)},function(x){var C=x.stack.pop(),k=x.stack.pop();switch(u.DEBUG&&console.log(x.step,"INSTCTRL[]",C,k),C){case 1:return void(x.inhibitGridFit=!!k);case 2:return void(x.ignoreCvt=!!k);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ws.bind(void 0,1),ws.bind(void 0,2),ws.bind(void 0,3),ws.bind(void 0,4),ws.bind(void 0,5),ws.bind(void 0,6),ws.bind(void 0,7),ws.bind(void 0,8),xs.bind(void 0,1),xs.bind(void 0,2),xs.bind(void 0,3),xs.bind(void 0,4),xs.bind(void 0,5),xs.bind(void 0,6),xs.bind(void 0,7),xs.bind(void 0,8),Ct.bind(void 0,0,0,0,0,0),Ct.bind(void 0,0,0,0,0,1),Ct.bind(void 0,0,0,0,0,2),Ct.bind(void 0,0,0,0,0,3),Ct.bind(void 0,0,0,0,1,0),Ct.bind(void 0,0,0,0,1,1),Ct.bind(void 0,0,0,0,1,2),Ct.bind(void 0,0,0,0,1,3),Ct.bind(void 0,0,0,1,0,0),Ct.bind(void 0,0,0,1,0,1),Ct.bind(void 0,0,0,1,0,2),Ct.bind(void 0,0,0,1,0,3),Ct.bind(void 0,0,0,1,1,0),Ct.bind(void 0,0,0,1,1,1),Ct.bind(void 0,0,0,1,1,2),Ct.bind(void 0,0,0,1,1,3),Ct.bind(void 0,0,1,0,0,0),Ct.bind(void 0,0,1,0,0,1),Ct.bind(void 0,0,1,0,0,2),Ct.bind(void 0,0,1,0,0,3),Ct.bind(void 0,0,1,0,1,0),Ct.bind(void 0,0,1,0,1,1),Ct.bind(void 0,0,1,0,1,2),Ct.bind(void 0,0,1,0,1,3),Ct.bind(void 0,0,1,1,0,0),Ct.bind(void 0,0,1,1,0,1),Ct.bind(void 0,0,1,1,0,2),Ct.bind(void 0,0,1,1,0,3),Ct.bind(void 0,0,1,1,1,0),Ct.bind(void 0,0,1,1,1,1),Ct.bind(void 0,0,1,1,1,2),Ct.bind(void 0,0,1,1,1,3),Ct.bind(void 0,1,0,0,0,0),Ct.bind(void 0,1,0,0,0,1),Ct.bind(void 0,1,0,0,0,2),Ct.bind(void 0,1,0,0,0,3),Ct.bind(void 0,1,0,0,1,0),Ct.bind(void 0,1,0,0,1,1),Ct.bind(void 0,1,0,0,1,2),Ct.bind(void 0,1,0,0,1,3),Ct.bind(void 0,1,0,1,0,0),Ct.bind(void 0,1,0,1,0,1),Ct.bind(void 0,1,0,1,0,2),Ct.bind(void 0,1,0,1,0,3),Ct.bind(void 0,1,0,1,1,0),Ct.bind(void 0,1,0,1,1,1),Ct.bind(void 0,1,0,1,1,2),Ct.bind(void 0,1,0,1,1,3),Ct.bind(void 0,1,1,0,0,0),Ct.bind(void 0,1,1,0,0,1),Ct.bind(void 0,1,1,0,0,2),Ct.bind(void 0,1,1,0,0,3),Ct.bind(void 0,1,1,0,1,0),Ct.bind(void 0,1,1,0,1,1),Ct.bind(void 0,1,1,0,1,2),Ct.bind(void 0,1,1,0,1,3),Ct.bind(void 0,1,1,1,0,0),Ct.bind(void 0,1,1,1,0,1),Ct.bind(void 0,1,1,1,0,2),Ct.bind(void 0,1,1,1,0,3),Ct.bind(void 0,1,1,1,1,0),Ct.bind(void 0,1,1,1,1,1),Ct.bind(void 0,1,1,1,1,2),Ct.bind(void 0,1,1,1,1,3)],nj=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Rr(x){(x=x||{}).empty||(hl(x.familyName,"When creating a new Font object, familyName is required."),hl(x.styleName,"When creating a new Font object, styleName is required."),hl(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),hl(x.ascender,"When creating a new Font object, ascender is required."),hl(x.descender,"When creating a new Font object, descender is required."),hl(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new St.GlyphSet(this,x.glyphs||[]),this.encoding=new Ie(this),this.position=new eh(this),this.substitution=new ho(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new l1(this):void 0)}})}function M1(x,C){var k,R=JSON.stringify(x),V=256;for(k in C){var q=parseInt(k);if(q&&!(q<256)){if(JSON.stringify(C[k])===R)return q;V<=q&&(V=q+1)}}return C[V]=x,V}Rr.prototype.hasChar=function(x){return this.encoding.charToGlyphIndex(x)!==null},Rr.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},Rr.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},Rr.prototype.stringToGlyphs=function(x,C){C=C||this.defaultRenderOptions;for(var k=nj(x),R=[],V=0;V<k.length;V+=1){var q=k[V];R.push(this.charToGlyphIndex(q))}var Y=R.length;if(C.features){var x=C.script||this.substitution.getDefaultScriptName(),re=[];C.features.liga&&(re=re.concat(this.substitution.getFeature("liga",x,C.language))),C.features.rlig&&(re=re.concat(this.substitution.getFeature("rlig",x,C.language)));for(var ce=0;ce<Y;ce+=1)for(var le=0;le<re.length;le++){for(var we=re[le],Te=we.sub,Ee=Te.length,pe=0;pe<Ee&&Te[pe]===R[ce+pe];)pe++;pe===Ee&&(R.splice(ce,Ee,we.by),Y=Y-Ee+1)}}for(var $e=new Array(Y),Fe=this.glyphs.get(0),Ve=0;Ve<Y;Ve+=1)$e[Ve]=this.glyphs.get(R[Ve])||Fe;return $e},Rr.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},Rr.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},Rr.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},Rr.prototype.getKerningValue=function(x,C){x=x.index||x,C=C.index||C;var k=this.position.defaultKerningTables;return k?this.position.getKerningValue(k,x,C):this.kerningPairs[x+","+C]||0},Rr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Rr.prototype.forEachGlyph=function(x,C,k,R,V,q){C=C!==void 0?C:0,k=k!==void 0?k:0,V=V||this.defaultRenderOptions;var Y,re=1/this.unitsPerEm*(R=R!==void 0?R:72),ce=this.stringToGlyphs(x,V);V.kerning&&(x=V.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(x,V.language));for(var le=0;le<ce.length;le+=1){var we=ce[le];q.call(this,we,C,k,R,V),we.advanceWidth&&(C+=we.advanceWidth*re),V.kerning&&le<ce.length-1&&(C+=(Y?this.position.getKerningValue(Y,we.index,ce[le+1].index):this.getKerningValue(we,ce[le+1]))*re),V.letterSpacing?C+=V.letterSpacing*R:V.tracking&&(C+=V.tracking/1e3*R)}return C},Rr.prototype.getPath=function(x,C,k,R,V){var q=new K;return this.forEachGlyph(x,C,k,R,V,function(Y,re,ce,le){Y=Y.getPath(re,ce,le,V,this),q.extend(Y)}),q},Rr.prototype.getPaths=function(x,C,k,R,V){var q=[];return this.forEachGlyph(x,C,k,R,V,function(Y,re,ce,le){Y=Y.getPath(re,ce,le,V,this),q.push(Y)}),q},Rr.prototype.getAdvanceWidth=function(x,C,k){return this.forEachGlyph(x,0,0,C,k,function(){})},Rr.prototype.draw=function(x,C,k,R,V,q){this.getPath(C,k,R,V,q).draw(x)},Rr.prototype.drawPoints=function(x,C,k,R,V,q){this.forEachGlyph(C,k,R,V,q,function(Y,re,ce,le){Y.drawPoints(x,re,ce,le)})},Rr.prototype.drawMetrics=function(x,C,k,R,V,q){this.forEachGlyph(C,k,R,V,q,function(Y,re,ce,le){Y.drawMetrics(x,re,ce,le)})},Rr.prototype.getEnglishName=function(x){if(x=this.names[x],x)return x.en},Rr.prototype.validate=function(){var x=this;function C(k){k=x.getEnglishName(k),k&&k.trim().length}C("fontFamily"),C("weightName"),C("manufacturer"),C("copyright"),C("version"),this.unitsPerEm},Rr.prototype.toTables=function(){return W2.fontToTable(this)},Rr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Rr.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),C=new ArrayBuffer(x.length),k=new Uint8Array(C),R=0;R<x.length;R++)k[R]=x[R];return C},Rr.prototype.download=function(x){var C=this.getEnglishName("fontFamily"),k=this.getEnglishName("fontSubfamily"),R=(x=x||C.replace(/\s/g,"")+"-"+k+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(V){V.root.getFile(x,{create:!0},function(q){q.createWriter(function(Y){var re=new DataView(R),re=new Blob([re],{type:"font/opentype"});Y.write(re),Y.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(V){throw new Error(V.name+": "+V.message)})):(C=t("fs"),k=function(V){for(var q=new a(V.byteLength),Y=new Uint8Array(V),re=0;re<q.length;++re)q[re]=Y[re];return q}(R),C.writeFileSync(x,k))},Rr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Rr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Rr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ij={make:function(x,C){var k=new Oe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x.axes.length}]);k.offsetToData=k.sizeOf();for(var R,V,q,Y=0;Y<x.axes.length;Y++)k.fields=k.fields.concat((R=Y,V=x.axes[Y],q=C,q=M1(V.name,C),[{name:"tag_"+R,type:"TAG",value:V.tag},{name:"minValue_"+R,type:"FIXED",value:V.minValue<<16},{name:"defaultValue_"+R,type:"FIXED",value:V.defaultValue<<16},{name:"maxValue_"+R,type:"FIXED",value:V.maxValue<<16},{name:"flags_"+R,type:"USHORT",value:0},{name:"nameID_"+R,type:"USHORT",value:q}]));for(var re=0;re<x.instances.length;re++)k.fields=k.fields.concat(function(ce,le,we,Te){for(var Ee=[{name:"nameID_"+ce,type:"USHORT",value:M1(le.name,Te)},{name:"flags_"+ce,type:"USHORT",value:0}],pe=0;pe<we.length;++pe){var $e=we[pe].tag;Ee.push({name:"axis_"+ce+" "+$e,type:"FIXED",value:le.coordinates[$e]<<16})}return Ee}(re,x.instances[re],x.axes,C));return k},parse:function(x,C,k){for(var R,V,q,Y,re=new Me.Parser(x,C),ce=re.parseULong(),le=(E.argument(ce===65536,"Unsupported fvar table version."),re.parseOffset16()),we=(re.skip("uShort",1),re.parseUShort()),Te=re.parseUShort(),Ee=re.parseUShort(),pe=re.parseUShort(),$e=[],Fe=0;Fe<we;Fe++)$e.push((R=x,V=C+le+Fe*Te,q=k,Y={},R=new Me.Parser(R,V),Y.tag=R.parseTag(),Y.minValue=R.parseFixed(),Y.defaultValue=R.parseFixed(),Y.maxValue=R.parseFixed(),R.skip("uShort",1),Y.name=q[R.parseUShort()]||{},Y));for(var Ve=[],Re=C+le+we*Te,Pe=0;Pe<Ee;Pe++)Ve.push(function(Tt,Kt,kt,jt){var sr={},Vr=new Me.Parser(Tt,Kt);sr.name=jt[Vr.parseUShort()]||{},Vr.skip("uShort",1),sr.coordinates={};for(var Jr=0;Jr<kt.length;++Jr)sr.coordinates[kt[Jr].tag]=Vr.parseFixed();return sr}(x,Re+Pe*pe,$e,k));return{axes:$e,instances:Ve}}},Wi=new Array(10);Wi[1]=function(){var x=this.offset+this.relativeOffset,C=this.parseUShort();return C===1?{posFormat:1,coverage:this.parsePointer(Se.coverage),value:this.parseValueRecord()}:C===2?{posFormat:2,coverage:this.parsePointer(Se.coverage),values:this.parseValueRecordList()}:void E.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Wi[2]=function(){var x,C,k,R,q=this.offset+this.relativeOffset,V=this.parseUShort(),q=(E.assert(V===1||V===2,"0x"+q.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Se.coverage)),Y=this.parseUShort(),re=this.parseUShort();return V===1?{posFormat:V,coverage:q,valueFormat1:Y,valueFormat2:re,pairSets:this.parseList(Se.pointer(Se.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}})))}:V===2?(x=this.parsePointer(Se.classDef),C=this.parsePointer(Se.classDef),k=this.parseUShort(),R=this.parseUShort(),{posFormat:V,coverage:q,valueFormat1:Y,valueFormat2:re,classDef1:x,classDef2:C,class1Count:k,class2Count:R,classRecords:this.parseList(k,Se.list(R,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}}))}):void 0},Wi[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Wi[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Wi[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Wi[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Wi[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Wi[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Wi[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var oj=new Array(10),sj={parse:function(x,C){return C=(x=new Se(x,C=C||0)).parseVersion(1),E.argument(C===1||C===1.1,"Unsupported GPOS table version "+C),C===1?{version:C,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Wi)}:{version:C,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Wi),variations:x.parseFeatureVariationsList()}},make:function(x){return new Oe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(x.lookups,oj)}])}},aj={parse:function(x,C){if(x=new Me.Parser(x,C),(C=x.parseUShort())===0){var k=x,R={},Te=(k.skip("uShort"),k.parseUShort()),V=(E.argument(Te===0,"Unsupported kern sub-table version."),k.skip("uShort",2),k.parseUShort());k.skip("uShort",3);for(var q=0;q<V;q+=1){var Y=k.parseUShort(),re=k.parseUShort(),ce=k.parseShort();R[Y+","+re]=ce}return R}if(C!==1)throw new Error("Unsupported kern table version ("+C+").");var le=x,we={},Te=(le.skip("uShort"),1<le.parseULong()&&console.warn("Only the first kern subtable is supported."),le.skip("uLong"),255&le.parseUShort());if(le.skip("uShort"),Te==0){var Ee=le.parseUShort();le.skip("uShort",3);for(var pe=0;pe<Ee;pe+=1){var $e=le.parseUShort(),Fe=le.parseUShort(),Ve=le.parseShort();we[$e+","+Fe]=Ve}}return we}},lj={parse:function(x,C,k,R){for(var V=new Me.Parser(x,C),q=R?V.parseUShort:V.parseULong,Y=[],re=0;re<k+1;re+=1){var ce=q.call(V);R&&(ce*=2),Y.push(ce)}return Y}};function cj(x,C){t("fs").readFile(x,function(k,R){if(k)return C(k.message);C(null,i1(R))})}function uj(x,C){var k=new XMLHttpRequest;k.open("get",x,!0),k.responseType="arraybuffer",k.onload=function(){return k.response?C(null,k.response):C("Font could not be loaded: "+k.statusText)},k.onerror=function(){C("Font could not be loaded")},k.send()}function T1(x,C){for(var k=[],R=12,V=0;V<C;V+=1){var q=Me.getTag(x,R),Y=Me.getULong(x,R+4),re=Me.getULong(x,R+8),ce=Me.getULong(x,R+12);k.push({tag:q,checksum:Y,offset:re,length:ce,compression:!1}),R+=16}return k}function cn(k,C){if(C.compression!=="WOFF")return{data:k,offset:C.offset};var k=new Uint8Array(k.buffer,C.offset+2,C.compressedLength-2),R=new Uint8Array(C.length);if($(k,R),R.byteLength!==C.length)throw new Error("Decompression error: "+C.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function kg(Pe){var C,k,R,V,q,Y,re,ce,le,we,Te,Ee,pe,$e,Fe=new Rr({empty:!0}),Ve=new DataView(Pe,0),Re=[],Pe=Me.getTag(Ve,0);if(Pe==="\0\0\0"||Pe==="true"||Pe==="typ1")Fe.outlinesFormat="truetype",Re=T1(Ve,R=Me.getUShort(Ve,4));else if(Pe==="OTTO")Fe.outlinesFormat="cff",Re=T1(Ve,R=Me.getUShort(Ve,4));else{if(Pe!=="wOFF")throw new Error("Unsupported OpenType signature "+Pe);var Tt=Me.getTag(Ve,4);if(Tt==="\0\0\0")Fe.outlinesFormat="truetype";else{if(Tt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Pe);Fe.outlinesFormat="cff"}Re=function(Hr,Dr){for(var Ln=[],Yr=44,Mn=0;Mn<Dr;Mn+=1){var Gr=Me.getTag(Hr,Yr),xn=Me.getULong(Hr,Yr+4),qc=Me.getULong(Hr,Yr+8),pl=Me.getULong(Hr,Yr+12),k1=void 0,k1=qc<pl&&"WOFF";Ln.push({tag:Gr,offset:xn,compression:k1,compressedLength:qc,length:pl}),Yr+=20}return Ln}(Ve,R=Me.getUShort(Ve,12))}for(var Kt=0;Kt<R;Kt+=1){var kt=Re[Kt],jt=void 0;switch(kt.tag){case"cmap":jt=cn(Ve,kt),Fe.tables.cmap=J.parse(jt.data,jt.offset),Fe.encoding=new Ne(Fe.tables.cmap);break;case"cvt ":jt=cn(Ve,kt),$e=new Me.Parser(jt.data,jt.offset),Fe.tables.cvt=$e.parseShortList(kt.length/2);break;case"fvar":q=kt;break;case"fpgm":jt=cn(Ve,kt),$e=new Me.Parser(jt.data,jt.offset),Fe.tables.fpgm=$e.parseByteList(kt.length);break;case"head":jt=cn(Ve,kt),Fe.tables.head=Hc.parse(jt.data,jt.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,C=Fe.tables.head.indexToLocFormat;break;case"hhea":jt=cn(Ve,kt),Fe.tables.hhea=me.parse(jt.data,jt.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":le=kt;break;case"ltag":jt=cn(Ve,kt),k=mt.parse(jt.data,jt.offset);break;case"maxp":jt=cn(Ve,kt),Fe.tables.maxp=Ye.parse(jt.data,jt.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":Ee=kt;break;case"OS/2":jt=cn(Ve,kt),Fe.tables.os2=wn.parse(jt.data,jt.offset);break;case"post":jt=cn(Ve,kt),Fe.tables.post=Yw.parse(jt.data,jt.offset),Fe.glyphNames=new tt(Fe.tables.post);break;case"prep":jt=cn(Ve,kt),$e=new Me.Parser(jt.data,jt.offset),Fe.tables.prep=$e.parseByteList(kt.length);break;case"glyf":Y=kt;break;case"loca":Te=kt;break;case"CFF ":V=kt;break;case"kern":we=kt;break;case"GPOS":re=kt;break;case"GSUB":ce=kt;break;case"meta":pe=kt}}if(Tt=cn(Ve,Ee),Fe.tables.name=hi.parse(Tt.data,Tt.offset,k),Fe.names=Fe.tables.name,Y&&Te)Pe=C===0,Tt=cn(Ve,Te),Tt=lj.parse(Tt.data,Tt.offset,Fe.numGlyphs,Pe),Pe=cn(Ve,Y),Fe.glyphs=a1.parse(Pe.data,Pe.offset,Tt,Fe);else{if(!V)throw new Error("Font doesn't contain TrueType or CFF outlines.");Pe=cn(Ve,V),zc.parse(Pe.data,Pe.offset,Fe)}for(var Tt=cn(Ve,le),sr=(Ze.parse(Tt.data,Tt.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),Fe),Vr=sr.tables.cmap.glyphIndexMap,Jr=Object.keys(Vr),un=0;un<Jr.length;un+=1){var Fn,Nn=Jr[un],qi=Vr[Nn];(Fn=sr.glyphs.get(qi)).addUnicode(parseInt(Nn))}for(var Pr=0;Pr<sr.glyphs.length;Pr+=1)Fn=sr.glyphs.get(Pr),sr.cffEncoding?sr.isCIDFont?Fn.name="gid"+Pr:Fn.name=sr.cffEncoding.charset[Pr]:sr.glyphNames.names&&(Fn.name=sr.glyphNames.glyphIndexToName(Pr));return we?(Pe=cn(Ve,we),Fe.kerningPairs=aj.parse(Pe.data,Pe.offset)):Fe.kerningPairs={},re&&(Tt=cn(Ve,re),Fe.tables.gpos=sj.parse(Tt.data,Tt.offset),Fe.position.init()),ce&&(Pe=cn(Ve,ce),Fe.tables.gsub=Xw.parse(Pe.data,Pe.offset)),q&&(Tt=cn(Ve,q),Fe.tables.fvar=ij.parse(Tt.data,Tt.offset,Fe.names)),pe&&(Pe=cn(Ve,pe),Fe.tables.meta=Qw.parse(Pe.data,Pe.offset),Fe.metas=Fe.tables.meta),Fe}u.Font=Rr,u.Glyph=ft,u.Path=K,u.BoundingBox=X,u._parse=Me,u.parse=kg,u.load=function(x,C){(typeof window>"u"?cj:uj)(x,function(k,R){if(k)return C(k);var V;try{V=kg(R)}catch(q){return C(q,null)}return C(null,V)})},u.loadSync=function(x){return kg(i1(t("fs").readFileSync(x)))},Object.defineProperty(u,"__esModule",{value:!0})},typeof s=="object"&&o!==void 0?l(s):typeof n=="function"&&n.amd?n(["exports"],l):l(c.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,o,s){(function(a){function c(y,b){for(var d=0,f=y.length-1;0<=f;f--){var h=y[f];h==="."?y.splice(f,1):h===".."?(y.splice(f,1),d++):d&&(y.splice(f,1),d--)}if(b)for(;d--;)y.unshift("..");return y}function l(y,b){if(y.filter)return y.filter(b);for(var d=[],f=0;f<y.length;f++)b(y[f],f,y)&&d.push(y[f]);return d}s.resolve=function(){for(var y="",b=!1,d=arguments.length-1;-1<=d&&!b;d--){var f=0<=d?arguments[d]:a.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");f&&(y=f+"/"+y,b=f.charAt(0)==="/")}return(b?"/":"")+(y=c(l(y.split("/"),function(h){return!!h}),!b).join("/"))||"."},s.normalize=function(y){var b=s.isAbsolute(y),d=u(y,-1)==="/";return(y=(y=c(l(y.split("/"),function(f){return!!f}),!b).join("/"))||b?y:".")&&d&&(y+="/"),(b?"/":"")+y},s.isAbsolute=function(y){return y.charAt(0)==="/"},s.join=function(){var y=Array.prototype.slice.call(arguments,0);return s.normalize(l(y,function(b,d){if(typeof b!="string")throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))},s.relative=function(y,b){function d(_){for(var w=0;w<_.length&&_[w]==="";w++);for(var S=_.length-1;0<=S&&_[S]==="";S--);return S<w?[]:_.slice(w,S-w+1)}y=s.resolve(y).substr(1),b=s.resolve(b).substr(1);for(var f=d(y.split("/")),h=d(b.split("/")),m=Math.min(f.length,h.length),g=m,p=0;p<m;p++)if(f[p]!==h[p]){g=p;break}for(var v=[],p=g;p<f.length;p++)v.push("..");return(v=v.concat(h.slice(g))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(y){if(typeof y!="string"&&(y+=""),y.length===0)return".";for(var b=y.charCodeAt(0)===47,d=-1,f=!0,h=y.length-1;1<=h;--h)if(y.charCodeAt(h)===47){if(!f){d=h;break}}else f=!1;return d===-1?b?"/":".":b&&d===1?"/":y.slice(0,d)},s.basename=function(y,b){return y=function(d){typeof d!="string"&&(d+="");for(var f=0,h=-1,m=!0,g=d.length-1;0<=g;--g)if(d.charCodeAt(g)===47){if(!m){f=g+1;break}}else h===-1&&(m=!1,h=g+1);return h===-1?"":d.slice(f,h)}(y),y=b&&y.substr(-1*b.length)===b?y.substr(0,y.length-b.length):y},s.extname=function(y){typeof y!="string"&&(y+="");for(var b=-1,d=0,f=-1,h=!0,m=0,g=y.length-1;0<=g;--g){var p=y.charCodeAt(g);if(p===47){if(h)continue;d=g+1;break}f===-1&&(h=!1,f=g+1),p===46?b===-1?b=g:m!==1&&(m=1):b!==-1&&(m=-1)}return b===-1||f===-1||m===0||m===1&&b===f-1&&b===d+1?"":y.slice(b,f)};var u="ab".substr(-1)==="b"?function(y,b,d){return y.substr(b,d)}:function(y,b,d){return b<0&&(b=y.length+b),y.substr(b,d)}}).call(this,t("_process"))},{_process:259}],259:[function(t,l,s){var a,c,l=l.exports={};function u(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{c=typeof clearTimeout=="function"?clearTimeout:y}catch{c=y}function b(w){if(a===setTimeout)return setTimeout(w,0);if((a===u||!a)&&setTimeout)return(a=setTimeout)(w,0);try{return a(w,0)}catch{try{return a.call(null,w,0)}catch{return a.call(this,w,0)}}}var d,f=[],h=!1,m=-1;function g(){h&&d&&(h=!1,d.length?f=d.concat(f):m=-1,f.length&&p())}function p(){if(!h){for(var w=b(g),S=(h=!0,f.length);S;){for(d=f,f=[];++m<S;)d&&d[m].run();m=-1,S=f.length}d=null,h=!1,function(M){if(c===clearTimeout)return clearTimeout(M);if((c===y||!c)&&clearTimeout)return(c=clearTimeout)(M);try{c(M)}catch{try{return c.call(null,M)}catch{return c.call(this,M)}}}(w)}}function v(w,S){this.fun=w,this.array=S}function _(){}l.nextTick=function(w){var S=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)S[M-1]=arguments[M];f.push(new v(w,S)),f.length!==1||h||b(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=_,l.addListener=_,l.once=_,l.off=_,l.removeListener=_,l.removeAllListeners=_,l.emit=_,l.prependListener=_,l.prependOnceListener=_,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],260:[function(t,o,s){o=function(a){"use strict";var c,l=Object.prototype,u=l.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},y=j.iterator||"@@iterator",b=j.asyncIterator||"@@asyncIterator",d=j.toStringTag||"@@toStringTag";function f(W,B,H,G){var K,ae,L,E,B=B&&B.prototype instanceof w?B:w,B=Object.create(B.prototype),G=new z(G||[]);return B._invoke=(K=W,ae=H,L=G,E=m,function(Q,ee){if(E===p)throw new Error("Generator is already running");if(E===v){if(Q==="throw")throw ee;return F()}for(L.method=Q,L.arg=ee;;){var se=L.delegate;if(se&&(se=function ue(ie,de){var fe=ie.iterator[de.method];if(fe===c){if(de.delegate=null,de.method==="throw"){if(ie.iterator.return&&(de.method="return",de.arg=c,ue(ie,de),de.method==="throw"))return _;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}if(fe=h(fe,ie.iterator,de.arg),fe.type==="throw")return de.method="throw",de.arg=fe.arg,de.delegate=null,_;if(fe=fe.arg,!fe)return de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,_;{if(!fe.done)return fe;de[ie.resultName]=fe.value,de.next=ie.nextLoc,de.method!=="return"&&(de.method="next",de.arg=c)}return de.delegate=null,_}(se,L),se)){if(se===_)continue;return se}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(E===m)throw E=v,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);if(E=p,se=h(K,ae,L),se.type==="normal"){if(E=L.done?v:g,se.arg!==_)return{value:se.arg,done:L.done}}else se.type==="throw"&&(E=v,L.method="throw",L.arg=se.arg)}}),B}function h(W,$,H){try{return{type:"normal",arg:W.call($,H)}}catch(X){return{type:"throw",arg:X}}}a.wrap=f;var m="suspendedStart",g="suspendedYield",p="executing",v="completed",_={};function w(){}function S(){}function M(){}var j={},I=(j[y]=function(){return this},Object.getPrototypeOf),I=I&&I(I(U([]))),D=(I&&I!==l&&u.call(I,y)&&(j=I),M.prototype=w.prototype=Object.create(j));function P(W){["next","throw","return"].forEach(function($){W[$]=function(H){return this._invoke($,H)}})}function A(W){var $;this._invoke=function(H,X){function K(){return new Promise(function(ae,L){(function E(ue,G,Q,ee){var se,ue=h(W[ue],W,G);if(ue.type!=="throw")return(G=(se=ue.arg).value)&&typeof G=="object"&&u.call(G,"__await")?Promise.resolve(G.__await).then(function(ie){E("next",ie,Q,ee)},function(ie){E("throw",ie,Q,ee)}):Promise.resolve(G).then(function(ie){se.value=ie,Q(se)},function(ie){return E("throw",ie,Q,ee)});ee(ue.arg)})(H,X,ae,L)})}return $=$?$.then(K,K):K()}}function N(W){var $={tryLoc:W[0]};1 in W&&($.catchLoc=W[1]),2 in W&&($.finallyLoc=W[2],$.afterLoc=W[3]),this.tryEntries.push($)}function O(W){var $=W.completion||{};$.type="normal",delete $.arg,W.completion=$}function z(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(N,this),this.reset(!0)}function U(W){if(W){var $,H=W[y];if(H)return H.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length))return $=-1,(H=function X(){for(;++$<W.length;)if(u.call(W,$))return X.value=W[$],X.done=!1,X;return X.value=c,X.done=!0,X}).next=H}return{next:F}}function F(){return{value:c,done:!0}}return(S.prototype=D.constructor=M).constructor=S,M[d]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(W){return W=typeof W=="function"&&W.constructor,!!W&&(W===S||(W.displayName||W.name)==="GeneratorFunction")},a.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,M):(W.__proto__=M,d in W||(W[d]="GeneratorFunction")),W.prototype=Object.create(D),W},a.awrap=function(W){return{__await:W}},P(A.prototype),A.prototype[b]=function(){return this},a.AsyncIterator=A,a.async=function(W,$,H,X){var K=new A(f(W,$,H,X));return a.isGeneratorFunction($)?K:K.next().then(function(ae){return ae.done?ae.value:K.next()})},P(D),D[d]="Generator",D[y]=function(){return this},D.toString=function(){return"[object Generator]"},a.keys=function(W){var $,H=[];for($ in W)H.push($);return H.reverse(),function X(){for(;H.length;){var K=H.pop();if(K in W)return X.value=K,X.done=!1,X}return X.done=!0,X}},a.values=U,z.prototype={constructor:z,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(O),!W)for(var $ in this)$.charAt(0)==="t"&&u.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=c)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var $=this;function H(B,G){return ae.type="throw",ae.arg=W,$.next=B,G&&($.method="next",$.arg=c),!!G}for(var X=this.tryEntries.length-1;0<=X;--X){var K=this.tryEntries[X],ae=K.completion;if(K.tryLoc==="root")return H("end");if(K.tryLoc<=this.prev){var L=u.call(K,"catchLoc"),E=u.call(K,"finallyLoc");if(L&&E){if(this.prev<K.catchLoc)return H(K.catchLoc,!0);if(this.prev<K.finallyLoc)return H(K.finallyLoc)}else if(L){if(this.prev<K.catchLoc)return H(K.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return H(K.finallyLoc)}}}},abrupt:function(W,$){for(var H=this.tryEntries.length-1;0<=H;--H){var X=this.tryEntries[H];if(X.tryLoc<=this.prev&&u.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var K=X;break}}var ae=(K=K&&(W==="break"||W==="continue")&&K.tryLoc<=$&&$<=K.finallyLoc?null:K)?K.completion:{};return ae.type=W,ae.arg=$,K?(this.method="next",this.next=K.finallyLoc,_):this.complete(ae)},complete:function(W,$){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&$&&(this.next=$),_},finish:function(W){for(var $=this.tryEntries.length-1;0<=$;--$){var H=this.tryEntries[$];if(H.finallyLoc===W)return this.complete(H.completion,H.afterLoc),O(H),_}},catch:function(W){for(var $=this.tryEntries.length-1;0<=$;--$){var H,X,K=this.tryEntries[$];if(K.tryLoc===W)return(H=K.completion).type==="throw"&&(X=H.arg,O(K)),X}throw new Error("illegal catch attempt")},delegateYield:function(W,$,H){return this.delegate={iterator:U(W),resultName:$,nextLoc:H},this.method==="next"&&(this.arg=c),_}},a}(typeof o=="object"?o.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],261:[function(t,o,s){(function(a){"use strict";var c,l,u,y,b,d,f,h,m,g;function p(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function v(O){return O=typeof O!="string"?String(O):O}function _(O){var z={next:function(){var U=O.shift();return{done:U===void 0,value:U}}};return l&&(z[Symbol.iterator]=function(){return z}),z}function w(O){this.map={},O instanceof w?O.forEach(function(z,U){this.append(U,z)},this):Array.isArray(O)?O.forEach(function(z){this.append(z[0],z[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(z){this.append(z,O[z])},this)}function S(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function M(O){return new Promise(function(z,U){O.onload=function(){z(O.result)},O.onerror=function(){U(O.error)}})}function j(O){var z=new FileReader,U=M(z);return z.readAsArrayBuffer(O),U}function I(O){var z;return O.slice?O.slice(0):((z=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),z.buffer)}function D(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(u&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(y&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(c&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(b&&u&&f(O))this._bodyArrayBuffer=I(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(O)&&!h(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=I(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var O=S(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var O,z,U=S(this);if(U)return U;if(this._bodyBlob)return U=this._bodyBlob,O=new FileReader,z=M(O),O.readAsText(U),z;if(this._bodyArrayBuffer)return Promise.resolve(function(F){for(var W=new Uint8Array(F),$=new Array(W.length),H=0;H<W.length;H++)$[H]=String.fromCharCode(W[H]);return $.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(O,z){var U,F=(z=z||{}).body;if(O instanceof P){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,z.headers||(this.headers=new w(O.headers)),this.method=O.method,this.mode=O.mode,F||O._bodyInit==null||(F=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=z.credentials||this.credentials||"omit",!z.headers&&this.headers||(this.headers=new w(z.headers)),this.method=(O=z.method||this.method||"GET",U=O.toUpperCase(),-1<m.indexOf(U)?U:O),this.mode=z.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(F)}function A(O){var z=new FormData;return O.trim().split("&").forEach(function(U){var F;U&&(F=(U=U.split("=")).shift().replace(/\+/g," "),U=U.join("=").replace(/\+/g," "),z.append(decodeURIComponent(F),decodeURIComponent(U)))}),z}function N(O,z){z=z||{},this.type="default",this.status=z.status===void 0?200:z.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in z?z.statusText:"OK",this.headers=new w(z.headers),this.url=z.url||"",this._initBody(O)}a.fetch||(c="URLSearchParams"in a,l="Symbol"in a&&"iterator"in Symbol,u="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),y="FormData"in a,(b="ArrayBuffer"in a)&&(d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(O){return O&&DataView.prototype.isPrototypeOf(O)},h=ArrayBuffer.isView||function(O){return O&&-1<d.indexOf(Object.prototype.toString.call(O))}),w.prototype.append=function(O,z){O=p(O),z=v(z);var U=this.map[O];this.map[O]=U?U+","+z:z},w.prototype.delete=function(O){delete this.map[p(O)]},w.prototype.get=function(O){return O=p(O),this.has(O)?this.map[O]:null},w.prototype.has=function(O){return this.map.hasOwnProperty(p(O))},w.prototype.set=function(O,z){this.map[p(O)]=v(z)},w.prototype.forEach=function(O,z){for(var U in this.map)this.map.hasOwnProperty(U)&&O.call(z,this.map[U],U,this)},w.prototype.keys=function(){var O=[];return this.forEach(function(z,U){O.push(U)}),_(O)},w.prototype.values=function(){var O=[];return this.forEach(function(z){O.push(z)}),_(O)},w.prototype.entries=function(){var O=[];return this.forEach(function(z,U){O.push([U,z])}),_(O)},l&&(w.prototype[Symbol.iterator]=w.prototype.entries),m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},D.call(P.prototype),D.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},N.error=function(){var O=new N(null,{status:0,statusText:""});return O.type="error",O},g=[301,302,303,307,308],N.redirect=function(O,z){if(g.indexOf(z)===-1)throw new RangeError("Invalid status code");return new N(null,{status:z,headers:{location:O}})},a.Headers=w,a.Request=P,a.Response=N,a.fetch=function(O,z){return new Promise(function(U,F){var W=new P(O,z),$=new XMLHttpRequest;$.onload=function(){var H,X={status:$.status,statusText:$.statusText,headers:(X=$.getAllResponseHeaders()||"",H=new w,X.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(L){var L=L.split(":"),E=L.shift().trim();E&&(L=L.join(":").trim(),H.append(E,L))}),H)},K=(X.url="responseURL"in $?$.responseURL:X.headers.get("X-Request-URL"),"response"in $?$.response:$.responseText);U(new N(K,X))},$.onerror=function(){F(new TypeError("Network request failed"))},$.ontimeout=function(){F(new TypeError("Network request failed"))},$.open(W.method,W.url,!0),W.credentials==="include"?$.withCredentials=!0:W.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&u&&($.responseType="blob"),W.headers.forEach(function(H,X){$.setRequestHeader(X,H)}),$.send(W._bodyInit===void 0?null:W._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,o,s){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,c=u(t("../core/main")),l=u(t("../color/color_conversion"));function u(d){return d&&d.__esModule?d:{default:d}}var y=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],b=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];c.default.prototype._rgbColorName=function(m){var f,h,m=l.default._rgbaToHSBA(m),g=[(a=m)[0],m[1],m[2]];g[0]!==0&&(g[0]=Math.round(100*g[0]),(m=g[0].toString().split(""))[h=m.length-1]=parseInt(m[h]),m[h]<2.5?m[h]=0:2.5<=m[h]&&m[h]<7.5&&(m[h]=5),m.length===2?(m[0]=parseInt(m[0]),7.5<=m[h]&&(m[h]=0,m[0]=m[0]+1),g[0]=10*m[0]+m[1]):7.5<=m[h]?g[0]=10:g[0]=m[h]),g[2]=g[2]/255;for(var p=g.length-1;1<=p;p--)g[p]<=.25?g[p]=0:.25<g[p]&&g[p]<.75?g[p]=.5:g[p]=1;if(g[0]===0&&g[1]===0&&g[2]===1){for(var v=2;0<=v;v--)a[v]=Math.round(1e4*a[v])/1e4;for(var _=0;_<y.length;_++){if(y[_].h===a[0]&&y[_].s===a[1]&&y[_].b===a[2]){f=y[_].name;break}f="white"}}else for(var w=0;w<b.length;w++)if(b[w].h===g[0]&&b[w].s===g[1]&&b[w].b===g[2]){f=b[w].name;break}return f},t=c.default,s.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t},c="_Description",l="_fallbackDesc",u="_fallbackTable",y="_Label",b="_labelDesc",d="_labelTable";function f(h){if(h==="label"||h==="fallback")throw new Error("description should not be LABEL or FALLBACK");return h.endsWith(".")||h.endsWith(";")||h.endsWith(",")||h.endsWith("?")||h.endsWith("!")||(h+="."),h}a.default.prototype.describe=function(h,m){var g;a.default._validateParameters("describe",arguments),typeof h=="string"&&(g=this.canvas.id,h=f(h),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==h&&(this.descriptions.fallback.innerHTML=h):this._describeHTML("fallback",h),m===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==h&&(this.descriptions.label.innerHTML=h):this._describeHTML("label",h)))},a.default.prototype.describeElement=function(h,m,g){var p,v;a.default._validateParameters("describeElement",arguments),typeof m=="string"&&typeof h=="string"&&(p=this.canvas.id,m=f(m),v=function(_){if(_==="label"||_==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return _.endsWith(".")||_.endsWith(";")||_.endsWith(",")?_=_.replace(/.$/,":"):_.endsWith(":")||(_+=":"),_}(h),h=h.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(m,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[h]?this.descriptions.fallbackElements[h].innerHTML!==v&&(this.descriptions.fallbackElements[h].innerHTML=v):this._describeElementHTML("fallback",h,v),g===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[h]?this.descriptions.labelElements[h].innerHTML!==v&&(this.descriptions.labelElements[h].innerHTML=v):this._describeElementHTML("label",h,v)))},a.default.prototype._describeHTML=function(h,m){var g,p=this.canvas.id;h==="fallback"?(this.dummyDOM.querySelector("#".concat(p+c))?this.dummyDOM.querySelector("#"+p+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(p+l,'"></p>')):(g='<div id="'.concat(p).concat(c,'" role="region" aria-label="Canvas Description"><p id="').concat(p).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#".concat(p)).innerHTML=g),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(p).concat(l)),this.descriptions.fallback.innerHTML=m):h==="label"&&(this.dummyDOM.querySelector("#".concat(p+y))?this.dummyDOM.querySelector("#".concat(p+d))&&this.dummyDOM.querySelector("#".concat(p+d)).insertAdjacentHTML("beforebegin",'<p id="'.concat(p).concat(b,'"></p>')):(g='<div id="'.concat(p).concat(y,'" class="p5Label"><p id="').concat(p).concat(b,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+p).insertAdjacentHTML("afterend",g)),this.descriptions.label=this.dummyDOM.querySelector("#"+p+b),this.descriptions.label.innerHTML=m)},a.default.prototype._describeElementHTML=function(h,m,g){var p,v=this.canvas.id;h==="fallback"?(this.dummyDOM.querySelector("#".concat(v+c))?this.dummyDOM.querySelector("#"+v+u)||this.dummyDOM.querySelector("#"+v+l).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(p='<div id="'.concat(v).concat(c,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).innerHTML=p),(p=document.createElement("tr")).id=v+"_fte_"+m,this.dummyDOM.querySelector("#"+v+u).appendChild(p),this.descriptions.fallbackElements[m]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(m)),this.descriptions.fallbackElements[m].innerHTML=g):h==="label"&&(this.dummyDOM.querySelector("#".concat(v+y))?this.dummyDOM.querySelector("#".concat(v+d))||this.dummyDOM.querySelector("#"+v+b).insertAdjacentHTML("afterend",'<table id="'.concat(v+d,'"></table>')):(p='<div id="'.concat(v).concat(y,'" class="p5Label"><table id="').concat(v).concat(d,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",p)),(h=document.createElement("tr")).id=v+"_lte_"+m,this.dummyDOM.querySelector("#"+v+d).appendChild(h),this.descriptions.labelElements[m]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(m)),this.descriptions.labelElements[m].innerHTML=g)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(a){var c,l,u,y;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(c=this._accessibleOutputs[a],u=function(b,d,f,h){return d="".concat(d," canvas, ").concat(f," by ").concat(h," pixels, contains ").concat(b[0]),d=(b[0]===1?"".concat(d," shape: "):"".concat(d," shapes: ")).concat(b[1]),d}((l=function(b,d){var f,h="",m="",g=0;for(f in d){var p,v=0;for(p in d[f]){var _='<li id="'.concat(b,"shape").concat(g,'">').concat(d[f][p].color," ").concat(f,",");f==="line"?_+=" location = ".concat(d[f][p].pos,", length = ").concat(d[f][p].length," pixels"):(_+=" location = ".concat(d[f][p].pos),f!=="point"&&(_+=", area = ".concat(d[f][p].area," %")),_+="</li>"),h+=_,v++,g++}m=1<v?"".concat(m," ").concat(v," ").concat(f,"s"):"".concat(m," ").concat(v," ").concat(f)}return{numShapes:[g,m],details:h}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(b,d){var f,h,m=0,g="",p=Array.from(Array(10),function(){return Array(10)});for(f in d)for(var v in d[f]){var _=void 0;_=f!=="line"?'<a href="#'.concat(b,"shape").concat(m,'">').concat(d[f][v].color," ").concat(f,"</a>"):'<a href="#'.concat(b,"shape").concat(m,'">').concat(d[f][v].color," ").concat(f," midpoint</a>"),d[f][v].loc.locY<p.length&&d[f][v].loc.locX<p[d[f][v].loc.locY].length&&(p[d[f][v].loc.locY][d[f][v].loc.locX]?p[d[f][v].loc.locY][d[f][v].loc.locX]=p[d[f][v].loc.locY][d[f][v].loc.locX]+"  "+_:p[d[f][v].loc.locY][d[f][v].loc.locX]=_,m++)}for(h in p){var w,S="<tr>";for(w in p[h])S+="<td>",p[h][w]!==void 0&&(S+=p[h][w]),S+="</td>";g=g+S+"</tr>"}return g}(a,this.ingredients.shapes),u!==c.summary.innerHTML&&(c.summary.innerHTML=u),y!==c.map.innerHTML&&(c.map.innerHTML=y),l.details!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=l.details),this._accessibleOutputs[a]=c)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u){return function(y){if(Array.isArray(y)){for(var b=0,d=new Array(y.length);b<y.length;b++)d[b]=y[b];return d}}(u)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(u,y,b){return y=Math.floor(u[0]/y*10),u=Math.floor(u[1]/b*10),y===10&&(y-=1),u===10&&(u-=1),{locX:y,locY:u}}a.default.prototype.textOutput=function(u){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(u){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(u,y){var b,d,f,h=this.canvas.id,m=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),"");y==="Fallback"?(b=h+u,this.dummyDOM.querySelector("#".concat(d=h+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(h,"_Description"))?this.dummyDOM.querySelector("#".concat(h,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(h)).innerHTML='<div id="'.concat(d,'" role="region" aria-label="Canvas Outputs"></div>'))):y==="Label"&&(b=h+u+(m=y),this.dummyDOM.querySelector("#".concat(d=h+"accessibleOutput"+y))||(this.dummyDOM.querySelector("#".concat(h,"_Label"))?this.dummyDOM.querySelector("#".concat(h,"_Label")):this.dummyDOM.querySelector("#".concat(h))).insertAdjacentHTML("afterend",'<div id="'.concat(d,'"></div>'))),this._accessibleOutputs[b]={},u==="textOutput"?(m="#".concat(h,"gridOutput").concat(m),f='<div id="'.concat(b,'">Text Output<div id="').concat(b,'Summary" aria-label="text output summary"><p id="').concat(b,'_summary"></p><ul id="').concat(b,'_list"></ul></div><table id="').concat(b,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(d)).innerHTML=f,this._accessibleOutputs[b].list=this.dummyDOM.querySelector("#".concat(b,"_list"))):u==="gridOutput"&&(m="#".concat(h,"textOutput").concat(m),f='<div id="'.concat(b,'">Grid Output<p id="').concat(b,'_summary" aria-label="grid output summary"><table id="').concat(b,'_map" summary="grid output content"></table><ul id="').concat(b,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("afterend",f):this.dummyDOM.querySelector("#".concat(d)).innerHTML=f,this._accessibleOutputs[b].map=this.dummyDOM.querySelector("#".concat(b,"_map"))),this._accessibleOutputs[b].shapeDetails=this.dummyDOM.querySelector("#".concat(b,"_shapeDetails")),this._accessibleOutputs[b].summary=this.dummyDOM.querySelector("#".concat(b,"_summary"))},a.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},a.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},a.default.prototype._accsCanvasColors=function(u,y){u==="fill"?this.ingredients.colors.fillRGBA!==y&&(this.ingredients.colors.fillRGBA=y,this.ingredients.colors.fill=this._rgbColorName(y)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==y&&(this.ingredients.colors.strokeRGBA=y,this.ingredients.colors.stroke=this._rgbColorName(y))},a.default.prototype._accsOutput=function(u,y){u==="ellipse"&&y[2]===y[3]?u="circle":u==="rectangle"&&y[2]===y[3]&&(u="square");var b,d,f={},h=!0,m=function(p,v){var _;return p=p==="rectangle"||p==="ellipse"||p==="arc"||p==="circle"||p==="square"?(_=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):p==="triangle"?(_=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):p==="quadrilateral"?(_=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):p==="line"?(_=(v[0]+v[2])/2,(v[1]+v[3])/2):(_=v[0],v[1]),[_,p]}(u,y);if(u==="line"?(f.color=this.ingredients.colors.stroke,f.length=Math.round(this.dist(y[0],y[1],y[2],y[3])),b=this._getPos(y[0],[1]),d=this._getPos(y[2],[3]),f.loc=l(m,this.width,this.height),f.pos=b===d?"at ".concat(b):"from ".concat(b," to ").concat(d)):(u==="point"?f.color=this.ingredients.colors.stroke:(f.color=this.ingredients.colors.fill,f.area=this._getArea(u,y)),f.pos=this._getPos.apply(this,c(m)),f.loc=l(m,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[f]){for(var g in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][g])===JSON.stringify(f)&&(h=!1);h===!0&&this.ingredients.shapes[u].push(f)}}else this.ingredients.shapes[u]=[f]},a.default.prototype._getPos=function(d,b){var d=new DOMPointReadOnly(d,b),b=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),d=d.matrixTransform(b),b=d.x,d=d.y,f=this.width*this._pixelDensity,h=this.height*this._pixelDensity;return b<.4*f?d<.4*h?"top left":.6*h<d?"bottom left":"mid left":.6*f<b?d<.4*h?"top right":.6*h<d?"bottom right":"mid right":d<.4*h?"top middle":.6*h<d?"bottom middle":"middle"},a.default.prototype._getArea=function(u,y){var b,d,f=0,h=(u==="arc"?(f=(b=((y[5]-y[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*y[2]*y[3]/8,y[6]!=="open"&&y[6]!=="chord"||(d=y[0],v=y[1],h=y[0]+y[2]/2*Math.cos(y[4]).toFixed(2),_=y[1]+y[3]/2*Math.sin(y[4]).toFixed(2),g=y[0]+y[2]/2*Math.cos(y[5]).toFixed(2),m=y[1]+y[3]/2*Math.sin(y[5]).toFixed(2),d=Math.abs(d*(_-m)+h*(m-v)+g*(v-_))/2,b>Math.PI?f+=d:f-=d)):u==="ellipse"||u==="circle"?f=3.14*y[2]/2*y[3]/2:u==="line"||u==="point"?f=0:u==="quadrilateral"?f=Math.abs((y[6]+y[0])*(y[7]-y[1])+(y[0]+y[2])*(y[1]-y[3])+(y[2]+y[4])*(y[3]-y[5])+(y[4]+y[6])*(y[5]-y[7]))/2:u==="rectangle"||u==="square"?f=y[2]*y[3]:u==="triangle"&&(f=Math.abs(y[0]*(y[3]-y[5])+y[2]*(y[5]-y[1])+y[4]*(y[1]-y[3]))/2),this.width*this._pixelDensity),m=this.height*this._pixelDensity,g=[new DOMPoint(0,0),new DOMPoint(h,0),new DOMPoint(h,m),new DOMPoint(0,m)],p=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),v=g.map(function(w){return w.matrixTransform(p)}),_=Math.abs((v[3].x+v[0].x)*(v[3].y-v[0].y)+(v[0].x+v[1].x)*(v[0].y-v[1].y)+(v[1].x+v[2].x)*(v[1].y-v[2].y)+(v[2].x+v[3].x)*(v[2].y-v[3].y))/2;return Math.round(100*f/_)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(a){var c,l,u,y;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(c=this._accessibleOutputs[a],u=function(b,d,f,h){return f="Your output is a, ".concat(f," by ").concat(h," pixels, ").concat(d," canvas containing the following"),f=b===1?"".concat(f," shape:"):"".concat(f," ").concat(b," shapes:"),f}((l=function(b,d){var f,h="",m=0;for(f in d)for(var g in d[f]){var p='<li><a href="#'.concat(b,"shape").concat(m,'">').concat(d[f][g].color," ").concat(f,"</a>");f==="line"?p+=", ".concat(d[f][g].pos,", ").concat(d[f][g].length," pixels long.</li>"):(p+=", at ".concat(d[f][g].pos),f!=="point"&&(p+=", covering ".concat(d[f][g].area,"% of the canvas")),p+=".</li>"),h+=p,m++}return{numShapes:m,listShapes:h}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),y=function(b,d){var f,h="",m=0;for(f in d)for(var g in d[f]){var p='<tr id="'.concat(b,"shape").concat(m,'"><th>').concat(d[f][g].color," ").concat(f,"</th>");f==="line"?p+="<td>location = ".concat(d[f][g].pos,"</td><td>length = ").concat(d[f][g].length," pixels</td></tr>"):(p+="<td>location = ".concat(d[f][g].pos,"</td>"),f!=="point"&&(p+="<td> area = ".concat(d[f][g].area,"%</td>")),p+="</tr>"),h+=p,m++}return h}(a,this.ingredients.shapes),u!==c.summary.innerHTML&&(c.summary.innerHTML=u),l.listShapes!==c.list.innerHTML&&(c.list.innerHTML=l.listShapes),y!==c.shapeDetails.innerHTML&&(c.shapeDetails.innerHTML=y),this._accessibleOutputs[a]=c)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,o,s){"use strict";var a=(a=t("./core/main"))&&a.__esModule?a:{default:a};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),o.exports=a.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(a){var c=a[0],l=a[1],u=a[2],y=(2-l)*u/2;return y!=0&&(y==1?l=0:y<.5?l/=2-l:l=l*u/(2-2*y)),[c,l,y,a[3]]},_hsbaToRGBA:function(a){var c,l,u,y,b,d=6*a[0],f=a[1],h=a[2];return f===0?[h,h,h,a[3]]:(l=h*(1-f),u=h*(1-f*(d-(c=Math.floor(d)))),f=h*(1-f*(1+c-d)),d=c===1?(y=u,b=h,l):c===2?(y=l,b=h,f):c===3?(y=l,b=u,h):c===4?(y=f,b=l,h):c===5?(y=h,b=l,u):(y=h,b=f,l),[y,b,d,a[3]])},_hslaToHSBA:function(a){var c=a[0],l=a[1],u=a[2],y=u<.5?(1+l)*u:u+l-u*l;return[c,l=2*(y-u)/y,y,a[3]]},_hslaToRGBA:function(a){var c,l=6*a[0],u=a[1],y=a[2];return u===0?[y,y,y,a[3]]:[(c=function(b,d,f){return b<0?b+=6:6<=b&&(b-=6),b<1?d+(f-d)*b:b<3?f:b<4?d+(f-d)*(4-b):d})(2+l,u=2*y-(y=y<.5?(1+u)*y:y+u-y*u),y),c(l,u,y),c(l-2,u,y),a[3]]},_rgbaToHSBA:function(a){var c,l,u=a[0],y=a[1],b=a[2],d=Math.max(u,y,b),f=d-Math.min(u,y,b);return f==0?l=c=0:(l=f/d,u===d?c=(y-b)/f:y===d?c=2+(b-u)/f:b===d&&(c=4+(u-y)/f),c<0?c+=6:6<=c&&(c-=6)),[c/6,l,d,a[3]]},_rgbaToHSLA:function(a){var c,l,u=a[0],y=a[1],b=a[2],d=Math.max(u,y,b),h=Math.min(u,y,b),f=d+h,h=d-h;return h==0?l=c=0:(l=f<1?h/f:h/(2-f),u===d?c=(y-b)/h:y===d?c=2+(b-u)/h:b===d&&(c=4+(u-y)/h),c<0?c+=6:6<=c&&(c-=6)),[c/6,l,f/2,a[3]]}},t=t.default.ColorConversion,s.default=t},{"../core/main":283}],269:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(d){return l.default._validateParameters("alpha",arguments),this.color(d)._getAlpha()},l.default.prototype.blue=function(d){return l.default._validateParameters("blue",arguments),this.color(d)._getBlue()},l.default.prototype.brightness=function(d){return l.default._validateParameters("brightness",arguments),this.color(d)._getBrightness()},l.default.prototype.color=function(){for(var d,f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return l.default._validateParameters("color",h),h[0]instanceof l.default.Color?h[0]:(d=Array.isArray(h[0])?h[0]:h,new l.default.Color(this,d))},l.default.prototype.green=function(d){return l.default._validateParameters("green",arguments),this.color(d)._getGreen()},l.default.prototype.hue=function(d){return l.default._validateParameters("hue",arguments),this.color(d)._getHue()},l.default.prototype.lerpColor=function(d,f,h){l.default._validateParameters("lerpColor",arguments),d instanceof l.default.Color||(d=color(d)),f instanceof l.default.Color||(f=color(f));var m,g,p,v=this._colorMode,_=this._colorMaxes;if(v===u.RGB)g=d.levels.map(function(w){return w/255}),p=f.levels.map(function(w){return w/255});else if(v===u.HSB)d._getBrightness(),f._getBrightness(),g=d.hsba,p=f.hsba;else{if(v!==u.HSL)throw new Error("".concat(v," cannot be used for interpolation."));d._getLightness(),f._getLightness(),g=d.hsla,p=f.hsla}return h=Math.max(Math.min(h,1),0),this.lerp===void 0&&(this.lerp=function(w,S,M){return M*(S-w)+w}),v===u.RGB?m=this.lerp(g[0],p[0],h):(.5<Math.abs(g[0]-p[0])&&(g[0]>p[0]?p[0]+=1:g[0]+=1),1<=(m=this.lerp(g[0],p[0],h))&&--m),d=this.lerp(g[1],p[1],h),f=this.lerp(g[2],p[2],h),g=this.lerp(g[3],p[3],h),m*=_[v][0],d*=_[v][1],f*=_[v][2],g*=_[v][3],this.color(m,d,f,g)},l.default.prototype.paletteLerp=function(d,f){var h=d[0];if(f<h[1])return this.color(h[0]);for(var m=1;m<d.length;m++){var g,p=d[m];if(f<p[1])return g=d[m-1],this.lerpColor(this.color(g[0]),this.color(p[0]),(f-g[1])/(p[1]-g[1]))}return this.color(d[d.length-1][0])},l.default.prototype.lightness=function(d){return l.default._validateParameters("lightness",arguments),this.color(d)._getLightness()},l.default.prototype.red=function(d){return l.default._validateParameters("red",arguments),this.color(d)._getRed()},l.default.prototype.saturation=function(d){return l.default._validateParameters("saturation",arguments),this.color(d)._getSaturation()};var b=l.default;s.default=b},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(m,o,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function c(w){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.includes"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.map"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.constructor"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.includes"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.string.trim"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.includes"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.map"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.constructor"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.includes"),m("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=d(m("../core/main")),u=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var S=b();if(S&&S.has(w))return S.get(w);var M,j={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in w){var D;Object.prototype.hasOwnProperty.call(w,M)&&((D=I?Object.getOwnPropertyDescriptor(w,M):null)&&(D.get||D.set)?Object.defineProperty(j,M,D):j[M]=w[M])}return j.default=w,S&&S.set(w,j),j}(m("../core/constants")),y=d(m("./color_conversion"));function b(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,b=function(){return w},w)}function d(w){return w&&w.__esModule?w:{default:w}}function f(w,S){for(var M=0;M<S.length;M++){var j=S[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}var h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},m=/\s*/,_=/(\d{1,3})/,g=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(g.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",_.source,",",_.source,",",_.source,"\\)$"].join(m.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(m.source),"i"),RGBA:new RegExp(["^rgba\\(",_.source,",",_.source,",",_.source,",",g.source,"\\)$"].join(m.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",g.source,"\\)$"].join(m.source),"i"),HSL:new RegExp(["^hsl\\(",_.source,",",p.source,",",p.source,"\\)$"].join(m.source),"i"),HSLA:new RegExp(["^hsla\\(",_.source,",",p.source,",",p.source,",",g.source,"\\)$"].join(m.source),"i"),HSB:new RegExp(["^hsb\\(",_.source,",",p.source,",",p.source,"\\)$"].join(m.source),"i"),HSBA:new RegExp(["^hsba\\(",_.source,",",p.source,",",p.source,",",g.source,"\\)$"].join(m.source),"i")},_=(l.default.Color=function(){function w(I,D){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(I._colorMode,I._colorMaxes),![u.RGB,u.HSL,u.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=w._parseInputs.apply(this,D),this._calculateLevels()}var S,M,j;return S=w,j=[{key:"_parseInputs",value:function(I,D,P,A){var N,O=arguments.length,z=this.mode,U=this.maxes[z],F=[];if(3<=O){for(F[0]=I/U[0],F[1]=D/U[1],F[2]=P/U[2],F[3]=typeof A=="number"?A/U[3]:1,N=F.length-1;0<=N;--N){var W=F[N];W<0?F[N]=0:1<W&&(F[N]=1)}return z===u.HSL?y.default._hslaToRGBA(F):z===u.HSB?y.default._hsbaToRGBA(F):F}if(O===1&&typeof I=="string"){if(P=I.trim().toLowerCase(),h[P])return w._parseInputs.call(this,h[P]);if(v.HEX3.test(P))return(F=v.HEX3.exec(P).slice(1).map(function($){return parseInt($+$,16)/255}))[3]=1,F;if(v.HEX6.test(P))return(F=v.HEX6.exec(P).slice(1).map(function($){return parseInt($,16)/255}))[3]=1,F;if(v.HEX4.test(P))return F=v.HEX4.exec(P).slice(1).map(function($){return parseInt($+$,16)/255});if(v.HEX8.test(P))return F=v.HEX8.exec(P).slice(1).map(function($){return parseInt($,16)/255});if(v.RGB.test(P))return(F=v.RGB.exec(P).slice(1).map(function($){return $/255}))[3]=1,F;if(v.RGB_PERCENT.test(P))return(F=v.RGB_PERCENT.exec(P).slice(1).map(function($){return parseFloat($)/100}))[3]=1,F;if(v.RGBA.test(P))return F=v.RGBA.exec(P).slice(1).map(function($,H){return H===3?parseFloat($):$/255});if(v.RGBA_PERCENT.test(P))return F=v.RGBA_PERCENT.exec(P).slice(1).map(function($,H){return H===3?parseFloat($):parseFloat($)/100});if(v.HSL.test(P)?(F=v.HSL.exec(P).slice(1).map(function($,H){return H===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:v.HSLA.test(P)&&(F=v.HSLA.exec(P).slice(1).map(function($,H){return H===0?parseInt($,10)/360:H===3?parseFloat($):parseInt($,10)/100})),(F=F.map(function($){return Math.max(Math.min($,1),0)})).length)return y.default._hslaToRGBA(F);if(v.HSB.test(P)?(F=v.HSB.exec(P).slice(1).map(function($,H){return H===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:v.HSBA.test(P)&&(F=v.HSBA.exec(P).slice(1).map(function($,H){return H===0?parseInt($,10)/360:H===3?parseFloat($):parseInt($,10)/100})),F.length){for(N=F.length-1;0<=N;--N)F[N]=Math.max(Math.min(F[N],1),0);return y.default._hsbaToRGBA(F)}F=[1,1,1,1]}else{if(O!==1&&O!==2||typeof I!="number")throw new Error("".concat(arguments,"is not a valid color representation."));F[0]=I/U[2],F[1]=I/U[2],F[2]=I/U[2],F[3]=typeof D=="number"?D/U[3]:1,F=F.map(function($){return Math.max(Math.min($,1),0)})}return F}}],(M=[{key:"toString",value:function(I){var D=this.levels,P=this._array,A=P[3];switch(I){case"#rrggbb":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16));case"#rrggbbaa":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16),D[3]<16?"0".concat(D[3].toString(16)):D[3].toString(16));case"#rgb":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*P[0]).toString(16),Math.round(15*P[1]).toString(16),Math.round(15*P[2]).toString(16),Math.round(15*P[3]).toString(16));case"rgb":return"rgb(".concat(D[0],", ",D[1],", ",D[2],")");case"rgb%":return"rgb(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*P[0]).toPrecision(3),"%, ",(100*P[1]).toPrecision(3),"%, ",(100*P[2]).toPrecision(3),"%, ",(100*P[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(D[0],",",D[1],",",D[2],",",A,")")}}},{key:"setRed",value:function(I){this._array[0]=I/this.maxes[u.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(I){this._array[1]=I/this.maxes[u.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(I){this._array[2]=I/this.maxes[u.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(I){this._array[3]=I/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var I=this._array,D=this.levels=new Array(I.length),P=I.length-1;0<=P;--P)D[P]=Math.round(255*I[P]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(I,D){this.mode=I,this.maxes=D}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[u.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[u.RGB][1]}},{key:"_getHue",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[u.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=y.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=y.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])}}])&&f(S.prototype,M),j&&f(S,j),w}(),l.default.Color);s.default=_},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(d,f){this._renderer.beginClip(f),d(),this._renderer.endClip(f)},l.default.prototype.background=function(){var d;return(d=this._renderer).background.apply(d,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(d,f,h,m,g){return l.default._validateParameters("colorMode",arguments),d!==u.RGB&&d!==u.HSB&&d!==u.HSL||(this._colorMode=d,d=this._colorMaxes[d],arguments.length===2?(d[0]=f,d[1]=f,d[2]=f,d[3]=f):arguments.length===4?(d[0]=f,d[1]=h,d[2]=m):arguments.length===5&&(d[0]=f,d[1]=h,d[2]=m,d[3]=g)),this},l.default.prototype.fill=function(){var d;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(d=this._renderer).fill.apply(d,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var d;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(d=this._renderer).stroke.apply(d,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var b=l.default;s.default=b},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.QUADRATIC=s.LINEAR=s._CTX_MIDDLE=s._DEFAULT_LEADMULT=s._DEFAULT_TEXT_FILL=s.WORD=s.CHAR=s.BOLDITALIC=s.BOLD=s.ITALIC=s.NORMAL=s.BLUR=s.ERODE=s.DILATE=s.POSTERIZE=s.INVERT=s.OPAQUE=s.GRAY=s.THRESHOLD=s.BURN=s.DODGE=s.SOFT_LIGHT=s.HARD_LIGHT=s.OVERLAY=s.REPLACE=s.SCREEN=s.MULTIPLY=s.EXCLUSION=s.SUBTRACT=s.DIFFERENCE=s.LIGHTEST=s.DARKEST=s.ADD=s.REMOVE=s.BLEND=s.UP_ARROW=s.TAB=s.SHIFT=s.RIGHT_ARROW=s.RETURN=s.OPTION=s.LEFT_ARROW=s.ESCAPE=s.ENTER=s.DOWN_ARROW=s.DELETE=s.CONTROL=s.BACKSPACE=s.ALT=s.AUTO=s.HSL=s.HSB=s.RGB=s.MITER=s.BEVEL=s.ROUND=s.SQUARE=s.PROJECT=s.PIE=s.CHORD=s.OPEN=s.CLOSE=s.TESS=s.QUAD_STRIP=s.QUADS=s.TRIANGLE_STRIP=s.TRIANGLE_FAN=s.TRIANGLES=s.LINE_LOOP=s.LINE_STRIP=s.LINES=s.POINTS=s.BASELINE=s.BOTTOM=s.TOP=s.CENTER=s.LEFT=s.RIGHT=s.RADIUS=s.CORNERS=s.CORNER=s.RAD_TO_DEG=s.DEG_TO_RAD=s.RADIANS=s.DEGREES=s.TWO_PI=s.TAU=s.QUARTER_PI=s.PI=s.HALF_PI=s.WAIT=s.TEXT=s.MOVE=s.HAND=s.CROSS=s.ARROW=s.WEBGL2=s.WEBGL=s.P2D=s.VERSION=void 0,s.RGBA=s.HALF_FLOAT=s.FLOAT=s.UNSIGNED_INT=s.UNSIGNED_BYTE=s.COVER=s.CONTAIN=s.FALLBACK=s.LABEL=s.AXES=s.GRID=s._DEFAULT_FILL=s._DEFAULT_STROKE=s.PORTRAIT=s.LANDSCAPE=s.SMOOTH=s.FLAT=s.MIRROR=s.CLAMP=s.REPEAT=s.NEAREST=s.IMAGE=s.IMMEDIATE=s.TEXTURE=s.FILL=s.STROKE=s.CURVE=s.BEZIER=void 0;var a=Math.PI,c=(s.VERSION="1.11.0",s.P2D="p2d",s.WEBGL="webgl",s.WEBGL2="webgl2",s.ARROW="default",s.CROSS="crosshair",s.HAND="pointer",s.MOVE="move",s.TEXT="text",s.WAIT="wait",a/2),c=(s.HALF_PI=c,a),c=(s.PI=c,a/4),c=(s.QUARTER_PI=c,2*a),c=(s.TAU=c,2*a),c=(s.TWO_PI=c,s.DEGREES="degrees",s.RADIANS="radians",a/180),c=(s.DEG_TO_RAD=c,180/a);s.RAD_TO_DEG=c,s.CORNER="corner",s.CORNERS="corners",s.RADIUS="radius",s.RIGHT="right",s.LEFT="left",s.CENTER="center",s.TOP="top",s.BOTTOM="bottom",s.BASELINE="alphabetic",s.POINTS=0,s.LINES=1,s.LINE_STRIP=3,s.LINE_LOOP=2,s.TRIANGLES=4,s.TRIANGLE_FAN=6,s.TRIANGLE_STRIP=5,s.QUADS="quads",s.QUAD_STRIP="quad_strip",s.TESS="tess",s.CLOSE="close",s.OPEN="open",s.CHORD="chord",s.PIE="pie",s.PROJECT="square",s.SQUARE="butt",s.ROUND="round",s.BEVEL="bevel",s.MITER="miter",s.RGB="rgb",s.HSB="hsb",s.HSL="hsl",s.AUTO="auto",s.ALT=18,s.BACKSPACE=8,s.CONTROL=17,s.DELETE=46,s.DOWN_ARROW=40,s.ENTER=13,s.ESCAPE=27,s.LEFT_ARROW=37,s.OPTION=18,s.RETURN=13,s.RIGHT_ARROW=39,s.SHIFT=16,s.TAB=9,s.UP_ARROW=38,s.BLEND="source-over",s.REMOVE="destination-out",s.ADD="lighter",s.DARKEST="darken",s.LIGHTEST="lighten",s.DIFFERENCE="difference",s.SUBTRACT="subtract",s.EXCLUSION="exclusion",s.MULTIPLY="multiply",s.SCREEN="screen",s.REPLACE="copy",s.OVERLAY="overlay",s.HARD_LIGHT="hard-light",s.SOFT_LIGHT="soft-light",s.DODGE="color-dodge",s.BURN="color-burn",s.THRESHOLD="threshold",s.GRAY="gray",s.OPAQUE="opaque",s.INVERT="invert",s.POSTERIZE="posterize",s.DILATE="dilate",s.ERODE="erode",s.BLUR="blur",s.NORMAL="normal",s.ITALIC="italic",s.BOLD="bold",s.BOLDITALIC="bold italic",s.CHAR="CHAR",s.WORD="WORD",s._DEFAULT_TEXT_FILL="#000000",s._DEFAULT_LEADMULT=1.25,s._CTX_MIDDLE="middle",s.LINEAR="linear",s.QUADRATIC="quadratic",s.BEZIER="bezier",s.CURVE="curve",s.STROKE="stroke",s.FILL="fill",s.TEXTURE="texture",s.IMMEDIATE="immediate",s.IMAGE="image",s.NEAREST="nearest",s.REPEAT="repeat",s.CLAMP="clamp",s.MIRROR="mirror",s.FLAT="flat",s.SMOOTH="smooth",s.LANDSCAPE="landscape",s.PORTRAIT="portrait",s._DEFAULT_STROKE="#000000",s._DEFAULT_FILL="#FFFFFF",s.GRID="grid",s.AXES="axes",s.LABEL="label",s.FALLBACK="fallback",s.CONTAIN="contain",s.COVER="cover",s.UNSIGNED_BYTE="unsigned-byte",s.UNSIGNED_INT="unsigned-int",s.FLOAT="float",s.HALF_FLOAT="half-float",s.RGBA="rgba"},{}],273:[function(t,o,s){"use strict";function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function c(g){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(u=t("./main"))&&u.__esModule?u:{default:u},u=function(g){if(g&&g.__esModule)return g;if(g===null||c(g)!=="object"&&typeof g!="function")return{default:g};var p=y();if(p&&p.has(g))return p.get(g);var v,_={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in g){var S;Object.prototype.hasOwnProperty.call(g,v)&&((S=w?Object.getOwnPropertyDescriptor(g,v):null)&&(S.get||S.set)?Object.defineProperty(_,v,S):_[v]=g[v])}return _.default=g,p&&p.set(g,_),_}(t("./constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}var b=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],d=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),f=!1;function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function m(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var g;arguments.length?(g=console).log.apply(g,arguments):f||(d(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(f=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(g,p,v){var _,w="auto",S=this._curElement.elt;b.includes(g)?w=g:typeof g=="string"&&(_="",p&&v&&typeof p=="number"&&typeof v=="number"&&(_="".concat(p," ").concat(v)),w=g.substring(0,7)==="http://"||g.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(g)?"url(".concat(g,") ").concat(_,", auto"):g),S.style.cursor=w},l.default.prototype.frameRate=function(g){return l.default._validateParameters("frameRate",arguments),typeof g!="number"||g<0?this._frameRate:(this._setProperty("_targetFrameRate",g),g===0&&this._setProperty("_frameRate",g),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(g){return this.frameRate(g)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=u.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=0,l.default.prototype.windowHeight=0,l.default.prototype._onresize=function(g){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",m());var p=this._isGlobal?window:this;typeof p.windowResized!="function"||(p=p.windowResized(g))===void 0||p||g.preventDefault()},l.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",m())},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(g){if(l.default._validateParameters("fullscreen",arguments),g===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(g){if(g=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.webkitRequestFullscreen?g.webkitRequestFullscreen():g.msRequestFullscreen&&g.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(g){var p;return l.default._validateParameters("pixelDensity",arguments),typeof g=="number"?(g!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=g),(p=this).resizeCanvas(this.width,this.height,!0)):p=this._pixelDensity,p},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(g){return g!==""})},l.default.prototype.getURLParams=function(){for(var g,p=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(g=p.exec(location.search))!=null;)g.index===p.lastIndex&&p.lastIndex++,v[g[1]]=g[2];return v},t=l.default,s.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(b=t("../main"))&&b.__esModule?b:{default:b};t("../internationalization");function c(d,f){f=f||console.log.bind(console),l||y(),l.some(function(h){var m;if(d.message&&d.message.match("\\W?".concat(h.name,"\\W"))!==null)return m=h.type==="function"?"".concat(h.name,"()"):h.name,f("Did you just try to use p5.js's ".concat(m," ").concat(h.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var l=null,y=null,u=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),y=function(){function d(h){return Object.getOwnPropertyNames(h).filter(function(m){return m[0]!=="_"&&!(m in f)&&(f[m]=!0)}).map(function(m){var g=typeof h[m]=="function"?"function":m===m.toUpperCase()?"constant":"variable";return{name:m,type:g}})}var f={};(l=[].concat(d(a.default.prototype),d(t("../constants")))).sort(function(h,m){return m.name.length-h.name.length})},b=(a.default.prototype._helpForMisusedAtTopLevelCode=c,document.readyState!=="complete"&&(window.addEventListener("error",c,!1),window.addEventListener("load",function(){window.removeEventListener("error",c,!1)})),a.default);s.default=b},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};t("../internationalization"),a.default._friendlyFileLoadError=function(){},t=a.default,s.default=t},{"../internationalization":281,"../main":283}],276:[function(t,o,s){"use strict";function a(E){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(E)}function c(E){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(B){return a(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":a(B)})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=$(t("../main")),u=t("../internationalization"),y=W(t("../constants")),b,d,f,h,m,g,p,v,_,w,S,M,j,I,D,P,A,N,O,z,U;function F(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,F=function(){return E},E)}function W(E){if(E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var B=F();if(B&&B.has(E))return B.get(E);var G,Q,ee={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(G in E)Object.prototype.hasOwnProperty.call(E,G)&&((Q=se?Object.getOwnPropertyDescriptor(E,G):null)&&(Q.get||Q.set)?Object.defineProperty(ee,G,Q):ee[G]=E[G]);return ee.default=E,B&&B.set(E,ee),ee}function $(E){return E&&E.__esModule?E:{default:E}}function H(E){return ae(E)||K(E)||X()}function X(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function K(E){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]")return Array.from(E)}function ae(E){if(Array.isArray(E)){for(var B=0,G=new Array(E.length);B<E.length;B++)G[B]=E[B];return G}}l.default._fesCodeReader=function(){};var L=l.default;s.default=L},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,o,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function a(){var c=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(y){return y.stacktrace!==void 0||y["opera#sourceloc"]!==void 0?this.parseOpera(y):y.stack&&y.stack.match(l)?this.parseV8OrIE(y):y.stack?this.parseFFOrSafari(y):void 0},extractLocation:function(y){return y.indexOf(":")===-1?[y]:[(y=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(y.replace(/[()]/g,"")))[1],y[2]||void 0,y[3]||void 0]},parseV8OrIE:function(y){return y.stack.split(`
`).filter(function(b){return!!b.match(l)},this).map(function(b){var d=(b=-1<b.indexOf("(eval ")?b.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):b).replace(/^\s+/,"").replace(/\(eval code/g,"("),f=d.match(/ (\((.+):(\d+):(\d+)\)$)/),d=(d=f?d.replace(f[0],""):d).split(/\s+/).slice(1),f=this.extractLocation(f?f[1]:d.pop());return{functionName:d.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(f[0])?void 0:f[0],lineNumber:f[1],columnNumber:f[2],source:b}},this)},parseFFOrSafari:function(y){return y.stack.split(`
`).filter(function(b){return!b.match(u)},this).map(function(b){var d,f;return(b=-1<b.indexOf(" > eval")?b.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):b).indexOf("@")===-1&&b.indexOf(":")===-1?{functionName:b}:{functionName:(f=b.match(d=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&f[1]?f[1]:void 0,fileName:(f=this.extractLocation(b.replace(d,"")))[0],lineNumber:f[1],columnNumber:f[2],source:b}},this)},parseOpera:function(y){return!y.stacktrace||-1<y.message.indexOf(`
`)&&y.message.split(`
`).length>y.stacktrace.split(`
`).length?this.parseOpera9(y):y.stack?this.parseOpera11(y):this.parseOpera10(y)},parseOpera9:function(y){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,d=y.message.split(`
`),f=[],h=2,m=d.length;h<m;h+=2){var g=b.exec(d[h]);g&&f.push({fileName:g[2],lineNumber:g[1],source:d[h]})}return f},parseOpera10:function(y){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=y.stacktrace.split(`
`),f=[],h=0,m=d.length;h<m;h+=2){var g=b.exec(d[h]);g&&f.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:d[h]})}return f},parseOpera11:function(y){return y.stack.split(`
`).filter(function(b){return!!b.match(c)&&!b.match(/^Error created at/)},this).map(function(b){var d,h=b.split("@"),f=this.extractLocation(h.pop()),h=h.shift()||"";return{functionName:h.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(d=h.match(/\(([^)]*)\)/)?h.replace(/^[^(]+\(([^)]*)\)$/,"$1"):d)===void 0||d==="[arguments not available]"?void 0:d.split(","),fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:b}},this)}}}t.default._getErrorStackParser=function(){return new a},t=t.default,s.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,o,s){"use strict";function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(c=t("../main"))&&c.__esModule?c:{default:c};(function(y){if(!(y&&y.__esModule)&&!(y===null||u(y)!=="object"&&typeof y!="function")){var b=l();if(b&&b.has(y))return b.get(y);var d,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in y){var m;Object.prototype.hasOwnProperty.call(y,d)&&((m=h?Object.getOwnPropertyDescriptor(y,d):null)&&(m.get||m.set)?Object.defineProperty(f,d,m):f[d]=y[d])}f.default=y,b&&b.set(y,f)}})(t("../constants")),t("../internationalization");function l(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,l=function(){return y},y)}function u(y){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(y)}c.default._validateParameters=c.default._clearValidateParamsCache=function(){},t=c.default,s.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,o,s){"use strict";function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function c(y){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(y){if(y&&y.__esModule)return y;if(y===null||c(y)!=="object"&&typeof y!="function")return{default:y};var b=u();if(b&&b.has(y))return b.get(y);var d,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in y){var m;Object.prototype.hasOwnProperty.call(y,d)&&((m=h?Object.getOwnPropertyDescriptor(y,d):null)&&(m.get||m.set)?Object.defineProperty(f,d,m):f[d]=y[d])}return f.default=y,b&&b.set(y,f),f}(t("./constants"));function u(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,u=function(){return y},y)}s.default={modeAdjust:function(y,b,d,f,h){return h===l.CORNER?{x:y,y:b,w:d,h:f}:h===l.CORNERS?{x:y,y:b,w:d-y,h:f-b}:h===l.RADIUS?{x:y-d,y:b-f,w:2*d,h:2*f}:h===l.CENTER?{x:y-.5*d,y:b-.5*f,w:d,h:f}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,o,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(c=t("../core/main"))&&c.__esModule?c:{default:c};t("./internationalization");var c=Promise.resolve();Promise.all([new Promise(function(l,u){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),c]).then(function(){var l;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(l=new Event("p5Ready"),window.dispatchEvent(l),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,o,s){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.setTranslatorLanguage=s.currentTranslatorLanguage=s.availableTranslatorLanguages=s.initialize=s.translator=void 0;var a,c,l=y(t("i18next")),u=y(t("i18next-browser-languagedetector"));function y(f){return f&&f.__esModule?f:{default:f}}function b(f,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}var d=function(){function f(p,v){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.init(p,v)}var h,m,g;return h=f,(m=[{key:"fetchWithTimeout",value:function(p,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(p,v),new Promise(function(w,S){return setTimeout(function(){return S(new Error("timeout"))},_)})])}},{key:"init",value:function(p){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=p,this.options=v}},{key:"read",value:function(p,v,_){var w=this.options.loadPath;p===this.options.fallback?_(null,a[p][v]):c.includes(p)?(w=this.services.interpolator.interpolate(w,{lng:p,ns:v}),this.loadUrl(w,_)):_("Not found",!1)}},{key:"loadUrl",value:function(p,v){this.fetchWithTimeout(p).then(function(_){if(_.ok)return _.json();throw new Error("failed loading ".concat(p))},function(){throw new Error("failed loading ".concat(p))}).then(function(_){return v(null,_)}).catch(v)}}])&&b(h.prototype,m),g&&b(h,g),f}();d.type="backend",s.translator=function(f,h){console.debug("p5.js translator called before translations were loaded"),l.default.t(f,h)},s.initialize=function(){return l.default.use(u.default).use(d).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(f){s.translator=f},function(f){return console.debug("Translations failed to load (".concat(f,")"))})},s.availableTranslatorLanguages=function(){return l.default.languages},s.currentTranslatorLanguage=function(f){return l.default.language},s.setTranslatorLanguage=function(f){return l.default.changeLanguage(f||void 0,function(h){return console.debug("Translations failed to load (".concat(h,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,s.default=t},{"./main":283}],283:[function(t,o,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("./shim");var l=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var h=u();if(h&&h.has(f))return h.get(f);var m,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=p?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(g,m,v):g[m]=f[m])}return g.default=f,h&&h.set(f,g),g}(t("./constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}function y(f,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}var b,d=function(){function f(p,w){var _=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(f.prototype._registeredMethods),S=!0,M=!1,j=void 0;try{for(var I,D=w[Symbol.iterator]();!(S=(I=D.next()).done);S=!0){var P=I.value;this._registeredMethods[P]=f.prototype._registeredMethods[P].slice()}}catch(H){M=!0,j=H}finally{try{S||D.return==null||D.return()}finally{if(M)throw j}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),f.prototype.callRegisteredHooksFor=function(H){var X=this||f.prototype,K=this._isGlobal?window:this;if(X._registeredMethods.hasOwnProperty(H)){var X=X._registeredMethods[H],ae=!0,H=!1,L=void 0;try{for(var E,B=X[Symbol.iterator]();!(ae=(E=B.next()).done);ae=!0){var G=E.value;typeof G=="function"&&G.call(K)}}catch(se){H=!0,L=se}finally{try{ae||B.return==null||B.return()}finally{if(H)throw L}}}},this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var H=_._isGlobal?window:_;if(H.preload){_.callRegisteredHooksFor("beforePreload");var X,K=document.getElementById(_._loadingScreenId),ae=(K||((K=document.createElement("div")).innerHTML="Loading...",K.style.position="absolute",K.id=_._loadingScreenId,(_._userNode||document.body).appendChild(K)),_._preloadMethods);for(X in ae){ae[X]=ae[X]||f;var L=ae[X];L!==f.prototype&&L!==f||(_._isGlobal&&(window[X]=_._wrapPreload(_,X)),L=_),_._registeredPreloadMethods[X]=L[X],L[X]=_._wrapPreload(L,X)}H.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._recording||_._draw()},this._runIfPreloadsAreDone=function(){var H,X=this._isGlobal?window:this;X._preloadCount===0&&((H=document.getElementById(X._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,X){var K=this;return function(){K._incrementPreload();for(var ae=arguments.length,L=new Array(ae),E=0;E<ae;E++)L[E]=arguments[E];return K._registeredPreloadMethods[X].apply(H,L)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){_.callRegisteredHooksFor("beforeSetup"),_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var H=_._isGlobal?window:_;if(typeof H.preload=="function")for(var X in _._preloadMethods)H[X]=_._preloadMethods[X][X],H[X]&&_&&(H[X]=H[X].bind(_));_._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var K=document.getElementsByTagName("canvas"),ae=!0,L=!1,E=void 0;try{for(var B,G=K[Symbol.iterator]();!(ae=(B=G.next()).done);ae=!0){var Q=B.value;Q.dataset.hidden==="true"&&(Q.style.visibility="",delete Q.dataset.hidden)}}catch(ee){L=!0,E=ee}finally{try{ae||G.return==null||G.return()}finally{if(L)throw E}}_._lastTargetFrameTime=window.performance.now(),_._lastRealFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput(),_.callRegisteredHooksFor("afterSetup")},this._draw=function(X){var X=X||window.performance.now(),K=X-_._lastTargetFrameTime,ae=1e3/_._targetFrameRate;(!_._loop||ae-5<=K)&&(_.deltaTime=X-_._lastRealFrameTime,_._setProperty("deltaTime",_.deltaTime),_._frameRate=1e3/_.deltaTime,_.redraw(),_._lastTargetFrameTime=Math.max(_._lastTargetFrameTime+ae,X),_._lastRealFrameTime=X,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(H,X){_[H]=X,_._isGlobal&&(window[H]=X)},this.remove=function(){_._startListener&&window.removeEventListener("load",_._startListener,!1);var H=document.getElementById(_._loadingScreenId);if(H&&(H.parentNode.removeChild(H),_._incrementPreload()),_._curElement){for(var X in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(X,_._events[X]);var K=!0,H=!1,ae=void 0;try{for(var L,E=_._elements[Symbol.iterator]();!(K=(L=E.next()).done);K=!0){var B,G=L.value;for(B in G.elt&&G.elt.parentNode&&G.elt.parentNode.removeChild(G.elt),G._events)G.elt.removeEventListener(B,G._events[B])}}catch(ie){H=!0,ae=ie}finally{try{K||E.return==null||E.return()}finally{if(H)throw ae}}var Q=_;_._registeredMethods.remove.forEach(function(ie){ie!==void 0&&ie.call(Q)})}if(_._isGlobal){for(var ee in f.prototype)try{delete window[ee]}catch{window[ee]=void 0}for(var se in _)if(_.hasOwnProperty(se))try{delete window[se]}catch{window[se]=void 0}f.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(H){H!==void 0&&H.call(this)},this),this._setupPromisePreloads();var A,N,O=this._createFriendlyGlobalFunctionBinder();if(p)p(this),f._checkForUserDefinedFunctions(this);else{for(var z in this._isGlobal=!0,f.instance=this,f.prototype)typeof f.prototype[z]=="function"?(A=z.substring(2),this._events.hasOwnProperty(A)||(Math.hasOwnProperty(z)&&Math[z]===f.prototype[z]?O(z,f.prototype[z]):O(z,f.prototype[z].bind(this)))):O(z,f.prototype[z]);for(var U in this)this.hasOwnProperty(U)&&O(U,this[U])}for(N in this._events){var F=this["_on".concat(N)];F&&(F=F.bind(this),window.addEventListener(N,F,{passive:!1}),this._events[N]=F)}function W(){_._setProperty("focused",!0)}function $(){_._setProperty("focused",!1)}window.addEventListener("focus",W),window.addEventListener("blur",$),this.registerMethod("remove",function(){window.removeEventListener("focus",W),window.removeEventListener("blur",$)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var h,m,g;return h=f,(m=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(p,v){f.prototype._preloadMethods.hasOwnProperty(p)||(f.prototype._preloadMethods[p]=v)}},{key:"registerMethod",value:function(p,v){var _=this||f.prototype;_._registeredMethods.hasOwnProperty(p)||(_._registeredMethods[p]=[]),_._registeredMethods[p].push(v)}},{key:"unregisterMethod",value:function(p,v){var _=this||f.prototype;if(_._registeredMethods.hasOwnProperty(p)){for(var w=_._registeredMethods[p],S=[],M=0;M<w.length;M++)w[M]===v&&S.push(M);for(var j=S.length-1;0<=j;j--)w.splice(S[j],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},v=p.globalObject||window;return p.log||console.log.bind(console),function(_,w){f.disableFriendlyErrors,v[_]=w}}}])&&y(h.prototype,m),g&&y(h,g),f}();for(b in d.instance=null,d.disableFriendlyErrors=!1,l)d.prototype[b]=l[b];d.VERSION=l.VERSION,d.prototype._preloadMethods={loadJSON:d.prototype,loadImage:d.prototype,loadStrings:d.prototype,loadXML:d.prototype,loadBytes:d.prototype,loadTable:d.prototype,loadFont:d.prototype,loadModel:d.prototype,loadShader:d.prototype},d.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},d.prototype._registeredPreloadMethods={},s.default=d},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function c(l,u){for(var y=0;y<u.length;y++){var b=u[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}a.default.Element=function(){function l(d,f){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=d,this._pInst=this._pixelsState=f,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var u,y,b;return u=l,b=[{key:"_adjustListener",value:function(d,f,h){return f===!1?a.default.Element._detachListener(d,h):a.default.Element._attachListener(d,f,h),this}},{key:"_attachListener",value:function(d,f,h){h._events[d]&&a.default.Element._detachListener(d,h),f=f.bind(h),h.elt.addEventListener(d,f,!1),h._events[d]=f}},{key:"_detachListener",value:function(d,f){var h=f._events[d];f.elt.removeEventListener(d,h,!1),f._events[d]=null}}],(y=[{key:"parent",value:function(d){return d===void 0?this.elt.parentNode:(typeof d=="string"?(d[0]==="#"&&(d=d.substring(1)),d=document.getElementById(d)):d instanceof a.default.Element&&(d=d.elt),d.appendChild(this.elt),this)}},{key:"id",value:function(d){return d===void 0?this.elt.id:(this.elt.id=d,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(d){return d===void 0?this.elt.className:(this.elt.className=d,this)}},{key:"mousePressed",value:function(d){return a.default.Element._adjustListener("mousedown",function(f){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(f),d.call(this,f)},this),this}},{key:"doubleClicked",value:function(d){return a.default.Element._adjustListener("dblclick",d,this),this}},{key:"mouseWheel",value:function(d){return a.default.Element._adjustListener("wheel",d,this),this}},{key:"mouseReleased",value:function(d){return a.default.Element._adjustListener("mouseup",d,this),this}},{key:"mouseClicked",value:function(d){return a.default.Element._adjustListener("click",d,this),this}},{key:"mouseMoved",value:function(d){return a.default.Element._adjustListener("mousemove",d,this),this}},{key:"mouseOver",value:function(d){return a.default.Element._adjustListener("mouseover",d,this),this}},{key:"mouseOut",value:function(d){return a.default.Element._adjustListener("mouseout",d,this),this}},{key:"touchStarted",value:function(d){return a.default.Element._adjustListener("touchstart",d,this),this}},{key:"touchMoved",value:function(d){return a.default.Element._adjustListener("touchmove",d,this),this}},{key:"touchEnded",value:function(d){return a.default.Element._adjustListener("touchend",d,this),this}},{key:"dragOver",value:function(d){return a.default.Element._adjustListener("dragover",d,this),this}},{key:"dragLeave",value:function(d){return a.default.Element._adjustListener("dragleave",d,this),this}},{key:"_setProperty",value:function(d,f){this[d]=f}}])&&c(u.prototype,y),b&&c(u,b),l}(),t=a.default.Element,s.default=t},{"./main":283}],285:[function(t,o,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function c(v){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(p=t("./main"))&&p.__esModule?p:{default:p},u=function(v){if(v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var _=y();if(_&&_.has(v))return _.get(v);var w,S={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var j;Object.prototype.hasOwnProperty.call(v,w)&&((j=M?Object.getOwnPropertyDescriptor(v,w):null)&&(j.get||j.set)?Object.defineProperty(S,w,j):S[w]=v[w])}return S.default=v,_&&_.set(v,S),S}(t("./constants"));function y(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,y=function(){return v},v)}function b(v,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function d(v,_){return(d=Object.setPrototypeOf||function(w,S){return w.__proto__=S,w})(v,_)}function f(v){return function(){var _,w=g(v);return h(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=g(this).constructor,Reflect.construct(w,arguments,_)):w.apply(this,arguments))}}function h(v,_){return!_||c(_)!=="object"&&typeof _!="function"?m(v):_}function m(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function g(v){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}l.default.Graphics=function(v){var _=M;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&d(_,v);var w,S=f(M);function M(j,I,U,P,A){var N;if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");z=A||document.createElement("canvas"),(N=S.call(this,z,P)).canvas=z;var O,z=U||u.P2D,U=P._userNode||document.body;for(O in A||U.appendChild(N.canvas),l.default.prototype)N[O]||(typeof l.default.prototype[O]=="function"?N[O]=l.default.prototype[O].bind(m(N)):N[O]=l.default.prototype[O]);return l.default.prototype._initializeInstanceVariables.apply(m(N)),N.width=j,N.height=I,N._pixelDensity=P._pixelDensity,z===u.WEBGL?(N._renderer=new l.default.RendererGL(N.canvas,m(N),!1),j=(A=N._renderer._adjustDimensions(j,I)).adjustedWidth,I=A.adjustedHeight):N._renderer=new l.default.Renderer2D(N.canvas,m(N),!1),P._elements.push(m(N)),Object.defineProperty(m(N),"deltaTime",{get:function(){return this._pInst.deltaTime}}),N._renderer.resize(j,I),N._renderer._applyDefaults(),h(N,m(N))}return _=M,(v=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var j,I=this._pInst._elements.indexOf(this);for(j in I!==-1&&this._pInst._elements.splice(I,1),this._events)this.elt.removeEventListener(j,this._events[j]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(j){return new l.default.Framebuffer(this,j)}}])&&b(_.prototype,v),w&&b(_,w),M}(l.default.Element);var p=l.default.Graphics;s.default=p},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,o,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(g=t("./main"))&&g.__esModule?g:{default:g},l=function(v){if(v&&v.__esModule)return v;if(v===null||y(v)!=="object"&&typeof v!="function")return{default:v};var _=u();if(_&&_.has(v))return _.get(v);var w,S={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var j;Object.prototype.hasOwnProperty.call(v,w)&&((j=M?Object.getOwnPropertyDescriptor(v,w):null)&&(j.get||j.set)?Object.defineProperty(S,w,j):S[w]=v[w])}return S.default=v,_&&_.set(v,S),S}(t("../core/constants"));function u(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,u=function(){return v},v)}function y(v){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}function b(v,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}function d(v,_){return(d=Object.setPrototypeOf||function(w,S){return w.__proto__=S,w})(v,_)}function f(v){return function(){var _,w,S=m(v);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=m(this).constructor,Reflect.construct(S,arguments,_)):S.apply(this,arguments),S=this,!(w=_)||y(w)!=="object"&&typeof w!="function"?h(S):w}}function h(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function m(v){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(v)}var g=function(v){var _=M;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),v&&d(_,v);var w,S=f(M);function M(j,I,D){var P;if(this instanceof M)return(P=S.call(this,j,I)).canvas=j,P._pixelsState=I,D?(P._isMainCanvas=!0,P._pInst._setProperty("_curElement",h(P)),P._pInst._setProperty("canvas",P.canvas),P._pInst._setProperty("width",P.width),P._pInst._setProperty("height",P.height)):(P.canvas.style.display="none",P._styles=[]),P._clipping=!1,P._clipInvert=!1,P._textSize=12,P._textLeading=15,P._textFont="sans-serif",P._textStyle=l.NORMAL,P._textAscent=null,P._textDescent=null,P._textAlign=l.LEFT,P._textBaseline=l.BASELINE,P._textWrap=l.WORD,P._rectMode=l.CORNER,P._ellipseMode=l.CENTER,P._curveTightness=0,P._imageMode=l.CORNER,P._tint=null,P._doStroke=!0,P._doFill=!0,P._strokeSet=!1,P._fillSet=!1,P._leadingSet=!1,P._pushPopDepth=0,P;throw new TypeError("Cannot call a class as a function")}return _=M,(v=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(j){this._pushPopDepth--,j.properties&&Object.assign(this,j.properties)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=j.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(j,I){this.width=j,this.height=I,this.elt.width=j*this._pInst._pixelDensity,this.elt.height=I*this._pInst._pixelDensity,this.elt.style.width="".concat(j,"px"),this.elt.style.height="".concat(I,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(j,I,D,P){var A=this._pixelsState,N=A._pixelDensity,O=this.canvas;if(j===void 0&&I===void 0)j=I=0,D=A.width,P=A.height;else if(j*=N,I*=N,D===void 0&&P===void 0)return j<0||I<0||j>=O.width||I>=O.height?[0,0,0,0]:this._getPixel(j,I);return A=new c.default.Image(D*N,P*N),A.pixelDensity(N),A.canvas.getContext("2d").drawImage(O,j,I,D*N,P*N,0,0,D*N,P*N),A}},{key:"textLeading",value:function(j){return typeof j=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",j),this._pInst):this._textLeading}},{key:"textStyle",value:function(j){return j?(j!==l.NORMAL&&j!==l.ITALIC&&j!==l.BOLD&&j!==l.BOLDITALIC||this._setProperty("_textStyle",j),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(j,I){return j!==void 0?(this._setProperty("_textAlign",j),I!==void 0&&this._setProperty("_textBaseline",I),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(j){return this._setProperty("_textWrap",j),this._textWrap}},{key:"text",value:function(j,I,D,P,A){var N,O,z,U,F=this._pInst,W=this._textWrap,$=Number.MAX_VALUE,H=D;if((this._doFill||this._doStroke)&&j!==void 0){if(N=(j=(j=typeof j!="string"?j.toString():j).replace(/(\t)/g,"  ")).split(`
`),P!==void 0){switch(this._rectMode===l.CENTER&&(I-=P/2),this._textAlign){case l.CENTER:I+=P/2;break;case l.RIGHT:I+=P}if(A!==void 0){this._rectMode===l.CENTER&&(D-=A/2,H-=A/2);var j=D,X=F.textAscent();switch(this._textBaseline){case l.BOTTOM:U=D+A,D=Math.max(U,D),H+=X;break;case l.CENTER:U=D+A/2,D=Math.max(U,D),H+=X/2}$=D+A-X,this._textBaseline===l.CENTER&&($=j+A-X/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(H=D-(j=F.textSize()*this._textLeading)/2,$=D+j/2);if(W===l.WORD){for(var K=[],ae=0;ae<N.length;ae++){for(var L="",E=N[ae].split(" "),B=0;B<E.length;B++)O="".concat(L+E[B])+" ",L=P<(z=this.textWidth(O))&&0<L.length?(K.push(L),"".concat(E[B])+" "):O;K.push(L)}var G=0;this._textBaseline===l.CENTER?G=(K.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(G=(K.length-1)*F.textLeading());for(var Q=0;Q<N.length;Q++){L="",E=N[Q].split(" ");for(var ee=0;ee<E.length;ee++)O="".concat(L+E[ee])+" ",P<(z=this.textWidth(O))&&0<L.length?(this._renderText(F,L.trim(),I,D-G,$,H),L="".concat(E[ee])+" ",D+=F.textLeading()):L=O;this._renderText(F,L.trim(),I,D-G,$,H),D+=F.textLeading()}}else{for(var se=[],ue=0;ue<N.length;ue++)for(var ie=N[ue].split(L=""),de=0;de<ie.length;de++)O="".concat(L+ie[de]),(z=this.textWidth(O))<=P?L+=ie[de]:P<z&&0<L.length&&(se.push(L),L="".concat(ie[de]));se.push(L);var fe=0;this._textBaseline===l.CENTER?fe=(se.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(fe=(se.length-1)*F.textLeading());for(var te=0;te<N.length;te++){ie=N[te].split(L="");for(var he=0;he<ie.length;he++)O="".concat(L+ie[he]),(z=this.textWidth(O))<=P?L+=ie[he]:P<z&&0<L.length&&(this._renderText(F,L.trim(),I,D-fe,$,H),D+=F.textLeading(),L="".concat(ie[he]))}this._renderText(F,L.trim(),I,D-fe,$,H),D+=F.textLeading()}}else{var ve=0;this._textBaseline===l.CENTER?ve=(N.length-1)*F.textLeading()/2:this._textBaseline===l.BOTTOM&&(ve=(N.length-1)*F.textLeading());for(var Ce=0;Ce<N.length;Ce++)this._renderText(F,N[Ce],I,D-ve,$,H-ve),D+=F.textLeading()}return F}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return y(j)==="object"&&j.font&&j.font.supported}},{key:"_updateTextMetrics",value:function(){var j,I,D,P,A,N;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((j=document.createElement("span")).style.fontFamily=this._textFont,j.style.fontSize="".concat(this._textSize,"px"),j.innerHTML="ABCjgq|",(N=document.createElement("div")).style.display="inline-block",N.style.width="1px",N.style.height="0px",P=((I=document.createElement("div")).appendChild(j),I.appendChild(N),I.style.height="0px",I.style.overflow="hidden",document.body.appendChild(I),N.style.verticalAlign="baseline",p(N)),A=p(j),D=P[1]-A[1],P=(N.style.verticalAlign="bottom",p(N)),A=p(j),N=P[1]-A[1]-D,document.body.removeChild(I),this._setProperty("_textAscent",D),this._setProperty("_textDescent",N)),this}}])&&b(_.prototype,v),w&&b(_,w),M}(c.default.Element);function p(v){var _=0,w=0;if(v.offsetParent)for(;_+=v.offsetLeft,w+=v.offsetTop,v=v.offsetParent;);else _+=v.offsetLeft,w+=v.offsetTop;return[_,w]}g.prototype.textSize=function(v){return typeof v=="number"?(this._setProperty("_textSize",v),this._leadingSet||this._setProperty("_textLeading",v*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},c.default.Renderer=g,t=c.default.Renderer,s.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(v,o,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}function c(_){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(_)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.reflect.construct"),v("core-js/modules/es.reflect.get"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.array.concat"),v("core-js/modules/es.array.fill"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.function.name"),v("core-js/modules/es.object.get-prototype-of"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(p=v("./main"))&&p.__esModule?p:{default:p},u=function(_){if(_&&_.__esModule)return _;if(_===null||c(_)!=="object"&&typeof _!="function")return{default:_};var w=y();if(w&&w.has(_))return w.get(_);var S,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var I;Object.prototype.hasOwnProperty.call(_,S)&&((I=j?Object.getOwnPropertyDescriptor(_,S):null)&&(I.get||I.set)?Object.defineProperty(M,S,I):M[S]=_[S])}return M.default=_,w&&w.set(_,M),M}(v("./constants"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function b(_,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function d(_,w,S){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(D,j,I){var D=function(P,A){for(;!Object.prototype.hasOwnProperty.call(P,A)&&(P=m(P))!==null;);return P}(D,j);if(D)return(D=Object.getOwnPropertyDescriptor(D,j)).get?D.get.call(I):D.value})(_,w,S||_)}function f(_,w){return(f=Object.setPrototypeOf||function(S,M){return S.__proto__=M,S})(_,w)}function h(_){return function(){var w,S=m(_),S=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=m(this).constructor,Reflect.construct(S,arguments,w)):S.apply(this,arguments),this);if(!w||c(w)!=="object"&&typeof w!="function"){if(S!==void 0)return S;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function m(_){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(_)}v("./p5.Renderer");var g="rgba(0,0,0,0)",p=function(_){var w=j;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),_&&f(w,_);var S,M=h(j);function j(I,D,P){if(this instanceof j)return(I=M.call(this,I,D,P)).drawingContext=I.canvas.getContext("2d"),I._pInst._setProperty("drawingContext",I.drawingContext),I;throw new TypeError("Cannot call a class as a function")}return w=j,(_=[{key:"getFilterGraphicsLayer",value:function(){var I;return this.filterGraphicsLayer||(I=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,u.WEBGL,I)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(I,D){d(m(j.prototype),"resize",this).call(this,I,D),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var I,D;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(I=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(I,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(I=this._getFill(),D=(D=this._pInst).color.apply(D,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(D.levels),D=D.toString(),this._setFill(D),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(I),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setFill(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",I.levels)}},{key:"stroke",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setStroke(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",I.levels)}},{key:"erase",value:function(I,D){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,I=this._pInst.color(255,I).toString(),this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,I=this._pInst.color(255,D).toString(),this.drawingContext.strokeStyle=I,D=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=D,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},I=(d(m(j.prototype),"beginClip",this).call(this,I),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),I=(this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),I=(this.drawingContext.strokeStyle=I,this._cachedBlendMode);this.blendMode(u.BLEND),this._cachedBlendMode=I,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),d(m(j.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(I,D,P,A,N,O,z,U,F){I.gifProperties&&I._animateGif(this._pInst);try{l.default.MediaElement&&I instanceof l.default.MediaElement&&I._ensureCanvas();var W=(W=this._tint&&I.canvas?this._getTintedImageCanvas(I):W)||I.canvas||I.elt,$=1;I.width&&0<I.width&&($=W.width/I.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(W,$*D,$*P,$*A,$*N,O,z,U,F),this._isErasing&&this._pInst.erase()}catch(H){if(H.name!=="NS_ERROR_NOT_AVAILABLE")throw H}}},{key:"_getTintedImageCanvas",value:function(I){if(!I.canvas)return I;I.tintCanvas||(I.tintCanvas=document.createElement("canvas")),I.tintCanvas.width!==I.canvas.width&&(I.tintCanvas.width=I.canvas.width),I.tintCanvas.height!==I.canvas.height&&(I.tintCanvas.height=I.canvas.height);var D=I.tintCanvas.getContext("2d");return D.save(),D.clearRect(0,0,I.canvas.width,I.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(D.drawImage(I.canvas,0,0),D.globalCompositeOperation="luminosity",D.drawImage(I.canvas,0,0),D.globalCompositeOperation="color",D.drawImage(I.canvas,0,0),D.globalCompositeOperation="multiply",D.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),D.fillRect(0,0,I.canvas.width,I.canvas.height),D.globalCompositeOperation="destination-in"),D.globalAlpha=this._tint[3]/255,D.drawImage(I.canvas,0,0),D.restore(),I.tintCanvas}},{key:"blendMode",value:function(I){if(I===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(I!==u.BLEND&&I!==u.REMOVE&&I!==u.DARKEST&&I!==u.LIGHTEST&&I!==u.DIFFERENCE&&I!==u.MULTIPLY&&I!==u.EXCLUSION&&I!==u.SCREEN&&I!==u.REPLACE&&I!==u.OVERLAY&&I!==u.HARD_LIGHT&&I!==u.SOFT_LIGHT&&I!==u.DODGE&&I!==u.BURN&&I!==u.ADD)throw new Error("Mode ".concat(I," not recognized."));this._cachedBlendMode=I,this.drawingContext.globalCompositeOperation=I}}},{key:"blend",value:function(){for(var I=this.drawingContext.globalCompositeOperation,D=arguments.length,P=new Array(D),A=0;A<D;A++)P[A]=arguments[A];var N=P[P.length-1],O=Array.prototype.slice.call(P,0,P.length-1);this.drawingContext.globalCompositeOperation=N,l.default.prototype.copy.apply(this,O),this.drawingContext.globalCompositeOperation=I}},{key:"_getPixel",value:function(I,D){return I=this.drawingContext.getImageData(I,D,1,1).data,[I[0],I[1],I[2],I[3]]}},{key:"loadPixels",value:function(){var I=this._pixelsState,D=I._pixelDensity,P=this.width*D,D=this.height*D,P=this.drawingContext.getImageData(0,0,P,D);I._setProperty("imageData",P),I._setProperty("pixels",P.data)}},{key:"set",value:function(I,D,P){I=Math.floor(I),D=Math.floor(D);var A=this._pixelsState;if(P instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(A._pixelDensity,A._pixelDensity),this.drawingContext.clearRect(I,D,P.width,P.height),this.drawingContext.drawImage(P.canvas,I,D),this.drawingContext.restore();else{var N=0,O=0,z=0,U=0,F=4*(D*A._pixelDensity*(this.width*A._pixelDensity)+I*A._pixelDensity);if(A.imageData||A.loadPixels(),typeof P=="number")F<A.pixels.length&&(z=O=N=P,U=255);else if(Array.isArray(P)){if(P.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");F<A.pixels.length&&(N=P[0],O=P[1],z=P[2],U=P[3])}else P instanceof l.default.Color&&F<A.pixels.length&&(N=P.levels[0],O=P.levels[1],z=P.levels[2],U=P.levels[3]);for(var W=0;W<A._pixelDensity;W++)for(var $=0;$<A._pixelDensity;$++)F=4*((D*A._pixelDensity+$)*this.width*A._pixelDensity+(I*A._pixelDensity+W)),A.pixels[F]=N,A.pixels[F+1]=O,A.pixels[F+2]=z,A.pixels[F+3]=U}}},{key:"updatePixels",value:function(I,D,P,A){var N=this._pixelsState,O=N._pixelDensity;I===void 0&&D===void 0&&P===void 0&&A===void 0&&(D=I=0,P=this.width,A=this.height),I*=O,D*=O,P*=O,A*=O,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=N.imageData),this.drawingContext.putImageData(N.imageData,0,0,I,D,P,A)}},{key:"arc",value:function(F,W,$,H,N,O,z){var U=this.drawingContext,F=F+$/2,W=W+H/2,$=$/2,H=H/2,X=!(z===u.CHORD||z===u.OPEN||(O-N)%u.TWO_PI==0);return this._doFill&&(this._clipping||U.beginPath(),U.ellipse(F,W,$,H,0,N,O),X&&U.lineTo(F,W),U.closePath(),this._clipping||U.fill()),this._doStroke&&(this._clipping||U.beginPath(),U.ellipse(F,W,$,H,0,N,O),z===u.PIE&&X&&U.lineTo(F,W),z!==u.PIE&&z!==u.CHORD||U.closePath(),this._clipping||U.stroke()),this}},{key:"ellipse",value:function(U){var D=this.drawingContext,P=this._doFill,A=this._doStroke,N=parseFloat(U[0]),O=parseFloat(U[1]),z=parseFloat(U[2]),U=parseFloat(U[3]);if(P&&!A){if(this._getFill()===g)return this}else if(!P&&A&&this._getStroke()===g)return this;N+=z/2,O+=U/2,z/=2,U/=2,this._clipping||D.beginPath(),D.ellipse(N,O,z,U,0,0,2*Math.PI),D.closePath(),!this._clipping&&P&&D.fill(),!this._clipping&&A&&D.stroke()}},{key:"line",value:function(I,D,P,A){var N=this.drawingContext;return this._doStroke&&this._getStroke()!==g&&(this._clipping||N.beginPath(),N.moveTo(I,D),N.lineTo(P,A),N.stroke()),this}},{key:"point",value:function(I,D){var P,A,N=this.drawingContext;return!this._doStroke||this._getStroke()===g?this:(P=this._getStroke(),A=this._getFill(),this._clipping||this._setFill(P),this._clipping||N.beginPath(),N.arc(I,D,N.lineWidth/2,0,u.TWO_PI,!1),void(this._clipping||(N.fill(),this._setFill(A))))}},{key:"quad",value:function(I,D,P,A,N,O,z,U){var F=this.drawingContext,W=this._doFill,$=this._doStroke;if(W&&!$){if(this._getFill()===g)return this}else if(!W&&$&&this._getStroke()===g)return this;return this._clipping||F.beginPath(),F.moveTo(I,D),F.lineTo(P,A),F.lineTo(N,O),F.lineTo(z,U),F.closePath(),!this._clipping&&W&&F.fill(),!this._clipping&&$&&F.stroke(),this}},{key:"rect",value:function($){var D,P,A=$[0],N=$[1],O=$[2],z=$[3],U=$[4],F=$[5],W=$[6],$=$[7],H=this.drawingContext,X=this._doFill,K=this._doStroke;if(X&&!K){if(this._getFill()===g)return this}else if(!X&&K&&this._getStroke()===g)return this;return this._clipping||H.beginPath(),U===void 0?H.rect(A,N,O,z):(F===void 0&&(F=U),W===void 0&&(W=F),$===void 0&&($=W),K=(X=Math.abs(O))/2,P=(D=Math.abs(z))/2,H.roundRect(A,N,O,z,[U=D<2*(U=X<2*U?K:U)?P:U,F=D<2*(F=X<2*F?K:F)?P:F,W=D<2*(W=X<2*W?K:W)?P:W,$=D<2*($=X<2*$?K:$)?P:$])),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(W){var D=this.drawingContext,P=this._doFill,A=this._doStroke,N=W[0],O=W[1],z=W[2],U=W[3],F=W[4],W=W[5];if(P&&!A){if(this._getFill()===g)return this}else if(!P&&A&&this._getStroke()===g)return this;this._clipping||D.beginPath(),D.moveTo(N,O),D.lineTo(z,U),D.lineTo(F,W),D.closePath(),!this._clipping&&P&&D.fill(),!this._clipping&&A&&D.stroke()}},{key:"endShape",value:function(I,D,P,A,N,O,z){if(D.length!==0&&(this._doStroke||this._doFill)){var U,F,W,$=I===u.CLOSE,H=($&&!O&&D.push(D[0]),D.length);if(P&&z===null){if(3<H){var X=[],K=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(D[1][0],D[1][1]),F=1;F+2<H;F++)U=D[F],X[0]=[U[0],U[1]],X[1]=[U[0]+(K*D[F+1][0]-K*D[F-1][0])/6,U[1]+(K*D[F+1][1]-K*D[F-1][1])/6],X[2]=[D[F+1][0]+(K*D[F][0]-K*D[F+2][0])/6,D[F+1][1]+(K*D[F][1]-K*D[F+2][1])/6],X[3]=[D[F+1][0],D[F+1][1]],this.drawingContext.bezierCurveTo(X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]);$&&this.drawingContext.lineTo(D[F+1][0],D[F+1][1]),this._doFillStrokeClose($)}}else if(A&&z===null){for(this._clipping||this.drawingContext.beginPath(),F=0;F<H;F++)D[F].isVert?D[F].moveTo?this.drawingContext.moveTo(D[F][0],D[F][1]):this.drawingContext.lineTo(D[F][0],D[F][1]):this.drawingContext.bezierCurveTo(D[F][0],D[F][1],D[F][2],D[F][3],D[F][4],D[F][5]);this._doFillStrokeClose($)}else if(N&&z===null){for(this._clipping||this.drawingContext.beginPath(),F=0;F<H;F++)D[F].isVert?D[F].moveTo?this.drawingContext.moveTo(D[F][0],D[F][1]):this.drawingContext.lineTo(D[F][0],D[F][1]):this.drawingContext.quadraticCurveTo(D[F][0],D[F][1],D[F][2],D[F][3]);this._doFillStrokeClose($)}else if(z===u.POINTS)for(F=0;F<H;F++)U=D[F],this._doStroke&&this._pInst.stroke(U[6]),this._pInst.point(U[0],U[1]);else if(z===u.LINES)for(F=0;F+1<H;F+=2)U=D[F],this._doStroke&&this._pInst.stroke(D[F+1][6]),this._pInst.line(U[0],U[1],D[F+1][0],D[F+1][1]);else if(z===u.TRIANGLES)for(F=0;F+2<H;F+=3)U=D[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(D[F+1][0],D[F+1][1]),this.drawingContext.lineTo(D[F+2][0],D[F+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(D[F+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(D[F+2][6]),this.drawingContext.stroke());else if(z===u.TRIANGLE_STRIP)for(F=0;F+1<H;F++)U=D[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(D[F+1][0],D[F+1][1]),this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(D[F+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(D[F+1][5]),F+2<H&&(this.drawingContext.lineTo(D[F+2][0],D[F+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(D[F+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(D[F+2][5])),this._doFillStrokeClose($);else if(z===u.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),F=2;F<H;F++)U=D[F],this.drawingContext.moveTo(D[0][0],D[0][1]),this.drawingContext.lineTo(D[F-1][0],D[F-1][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(D[0][0],D[0][1]),F<H-1&&(this._doFill&&U[5]!==D[F+1][5]||this._doStroke&&U[6]!==D[F+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(U[5]),this.drawingContext.fill(),this._pInst.fill(D[F+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(U[6]),this.drawingContext.stroke(),this._pInst.stroke(D[F+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose($)}}else if(z===u.QUADS)for(F=0;F+3<H;F+=4){for(U=D[F],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(U[0],U[1]),W=1;W<4;W++)this.drawingContext.lineTo(D[F+W][0],D[F+W][1]);this.drawingContext.lineTo(U[0],U[1]),!this._clipping&&this._doFill&&this._pInst.fill(D[F+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(D[F+3][6]),this._doFillStrokeClose($)}else if(z===u.QUAD_STRIP){if(3<H)for(F=0;F+1<H;F+=2)U=D[F],this._clipping||this.drawingContext.beginPath(),F+3<H?(this.drawingContext.moveTo(D[F+2][0],D[F+2][1]),this.drawingContext.lineTo(U[0],U[1]),this.drawingContext.lineTo(D[F+1][0],D[F+1][1]),this.drawingContext.lineTo(D[F+3][0],D[F+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(D[F+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(D[F+3][6])):(this.drawingContext.moveTo(U[0],U[1]),this.drawingContext.lineTo(D[F+1][0],D[F+1][1])),this._doFillStrokeClose($)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(D[0][0],D[0][1]),F=1;F<H;F++)(U=D[F]).isVert&&(U.moveTo?($&&this.drawingContext.closePath(),this.drawingContext.moveTo(U[0],U[1])):this.drawingContext.lineTo(U[0],U[1]));this._doFillStrokeClose($)}O=N=A=P=!1,$&&D.pop()}return this}},{key:"strokeCap",value:function(I){return I!==u.ROUND&&I!==u.SQUARE&&I!==u.PROJECT||(this.drawingContext.lineCap=I),this}},{key:"strokeJoin",value:function(I){return I!==u.ROUND&&I!==u.BEVEL&&I!==u.MITER||(this.drawingContext.lineJoin=I),this}},{key:"strokeWeight",value:function(I){return this.drawingContext.lineWidth=I===void 0||I===0?1e-4:I,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(I){I!==this._cachedFillStyle&&(this.drawingContext.fillStyle=I,this._cachedFillStyle=I)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(I){I!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=I,this._cachedStrokeStyle=I)}},{key:"bezier",value:function(I,D,P,A,N,O,z,U){return this._pInst.beginShape(),this._pInst.vertex(I,D),this._pInst.bezierVertex(P,A,N,O,z,U),this._pInst.endShape(),this}},{key:"curve",value:function(I,D,P,A,N,O,z,U){return this._pInst.beginShape(),this._pInst.curveVertex(I,D),this._pInst.curveVertex(P,A),this._pInst.curveVertex(N,O),this._pInst.curveVertex(z,U),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(I){I&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(I,D,P,A,N,O){this.drawingContext.transform(I,D,P,A,N,O)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(I){this.drawingContext.rotate(I)}},{key:"scale",value:function(I,D){return this.drawingContext.scale(I,D),this}},{key:"translate",value:function(I,D){return I instanceof l.default.Vector&&(D=I.y,I=I.x),this.drawingContext.translate(I,D),this}},{key:"_renderText",value:function(I,D,P,A,N,O){if(!(A<O||N<=A))return I.push(),this._isOpenType()?this._textFont._renderPath(D,P,A,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(D,P,A),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(D,P,A))),I.pop(),I}},{key:"textWidth",value:function(I){return this._isOpenType()?this._textFont._textWidth(I,this._textSize):this.drawingContext.measureText(I).width}},{key:"_applyTextProperties",value:function(){var I=this._pInst,D=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),D=this._textFont,this._isOpenType()&&(D=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),D||"sans-serif");return/\s/.exec(D)&&(D='"'.concat(D,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(D),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,I}},{key:"push",value:function(){return this.drawingContext.save(),d(m(j.prototype),"push",this).call(this)}},{key:"pop",value:function(I){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,d(m(j.prototype),"pop",this).call(this,I)}}])&&b(w.prototype,_),S&&b(w,S),j}(l.default.Renderer),v=(p.prototype.text=function(_,w,S,D,j){D!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(I=!0,this.drawingContext.textBaseline=u.TOP);var I,D=l.default.Renderer.prototype.text.apply(this,arguments);return I&&(this.drawingContext.textBaseline=u.BASELINE),D},l.default.Renderer2D=p,l.default.Renderer2D);s.default=v},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("./main"))&&t.__esModule?t:{default:t};a.default.prototype._promisePreloads=[];function c(){return{}}var l=!(a.default.prototype.registerPromisePreload=function(u){a.default.prototype._promisePreloads.push(u)});a.default.prototype._setupPromisePreloads=function(){var u=!0,y=!1,b=void 0;try{for(var d,f=this._promisePreloads[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value,m=this,g=h.method,p=h.addCallbacks,v=h.legacyPreloadSetup,_=h.target||this,w=_[g].bind(_);if(_===a.default.prototype){if(l)continue;m=null,w=_[g]}_[g]=this._wrapPromisePreload(m,w,p),v&&(_[v.method]=this._legacyPreloadGenerator(m,v,_[g]))}}catch(S){y=!0,b=S}finally{try{u||f.return==null||f.return()}finally{if(y)throw b}}l=!0},a.default.prototype._wrapPromisePreload=function(u,y,b){var d=function(){for(var f=this,h=(this._incrementPreload(),null),m=null,g=arguments.length,p=new Array(g),v=0;v<g;v++)p[v]=arguments[v];if(b)for(var _=p.length-1;0<=_&&!m&&typeof p[_]=="function";_--)m=h,h=p.pop();var w=Promise.resolve(y.apply(this,p));return h&&w.then(h),m&&w.catch(m),w.then(function(){return f._decrementPreload()}),w};return d=u?d.bind(u):d},a.default.prototype._legacyPreloadGenerator=function(u,f,b){var d=f.createBaseObject||c,f=function(){var h=this;this._incrementPreload();for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var v=d.apply(this,g);return b.apply(this,g).then(function(_){Object.assign(v,_),h._decrementPreload()}),v};return f=u?f.bind(u):f}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,o,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(d=t("./main"))&&d.__esModule?d:{default:d},l=function(f){if(f&&f.__esModule)return f;if(f===null||y(f)!=="object"&&typeof f!="function")return{default:f};var h=u();if(h&&h.has(f))return h.get(f);var m,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=p?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(g,m,v):g[m]=f[m])}return g.default=f,h&&h.set(f,g),g}(t("./constants"));function u(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,u=function(){return f},f)}function y(f){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(f)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var b="defaultCanvas0",d=(c.default.prototype.createCanvas=function(f,h,m,g){var p,v,_;if(c.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(m=l.P2D,g=arguments[2]):p=m||l.P2D,g)(_=document.getElementById(b))&&_.parentNode.removeChild(_),_=g,this._defaultGraphicsCreated=!1;else{if(p===l.WEBGL)(_=document.getElementById(b))&&(_.parentNode.removeChild(_),v=this._renderer,this._elements=this._elements.filter(function(S){return S!==v})),(_=document.createElement("canvas")).id=b,_.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)_=this.canvas;else{_=g||document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;b="defaultCanvas".concat(w),_.id=b,_.classList.add("p5Canvas")}this._setupDone||(_.dataset.hidden=!0,_.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(m=document.createElement("main"),document.body.appendChild(m)),document.getElementsByTagName("main")[0])).appendChild(_)}return p===l.WEBGL?(this._setProperty("_renderer",new c.default.RendererGL(_,this,!0)),this._elements.push(this._renderer),f=(g=this._renderer._adjustDimensions(f,h)).adjustedWidth,h=g.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new c.default.Renderer2D(_,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(f,h),this._renderer._applyDefaults(),this._renderer},c.default.prototype.resizeCanvas=function(f,h,m){if(c.default._validateParameters("resizeCanvas",arguments),this._renderer){var g,p,v,_={};for(g in this.drawingContext){var w=this.drawingContext[g];y(w)!=="object"&&typeof w!="function"&&(_[g]=w)}for(v in this._renderer instanceof c.default.RendererGL&&(f=(p=this._renderer._adjustDimensions(f,h)).adjustedWidth,h=p.adjustedHeight),this.width=f,this.height=h,this._renderer.resize(f,h),_)try{this.drawingContext[v]=_[v]}catch{}m||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},c.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},c.default.prototype.createGraphics=function(f,h){for(var m=arguments.length,g=new Array(2<m?m-2:0),p=2;p<m;p++)g[p-2]=arguments[p];return g[0]instanceof HTMLCanvasElement&&(g[1]=g[0],g[0]=l.P2D),c.default._validateParameters("createGraphics",arguments),new c.default.Graphics(f,h,g[0],this,g[1])},c.default.prototype.createFramebuffer=function(f){return new c.default.Framebuffer(this,f)},c.default.prototype.clearDepth=function(f){this._assert3d("clearDepth"),this._renderer.clearDepth(f)},c.default.prototype.blendMode=function(f){c.default._validateParameters("blendMode",arguments),f===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),f=l.BLEND),this._renderer.blendMode(f)},c.default);s.default=d},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,o,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}function c(h){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=d(t("../main")),u=function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var m=b();if(m&&m.has(h))return m.get(h);var g,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var _;Object.prototype.hasOwnProperty.call(h,g)&&((_=v?Object.getOwnPropertyDescriptor(h,g):null)&&(_.get||_.set)?Object.defineProperty(p,g,_):p[g]=h[g])}return p.default=h,m&&m.set(h,p),p}(t("../constants")),y=d(t("../helpers"));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}function d(h){return h&&h.__esModule?h:{default:h}}function f(h){return function(m){if(Array.isArray(m)){for(var g=0,p=new Array(m.length);g<m.length;g++)p[g]=m[g];return p}}(h)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(h,m,g,p,v){var _;return h-=u.TWO_PI*Math.floor(h/u.TWO_PI),m-=u.TWO_PI*Math.floor(m/u.TWO_PI),_=Math.min(Math.abs(h-m),u.TWO_PI-Math.abs(h-m)),v&&(h=h<=u.HALF_PI?Math.atan(g/p*Math.tan(h)):h>u.HALF_PI&&h<=3*u.HALF_PI?Math.atan(g/p*Math.tan(h))+u.PI:Math.atan(g/p*Math.tan(h))+u.TWO_PI,m=m<=u.HALF_PI?Math.atan(g/p*Math.tan(m)):m>u.HALF_PI&&m<=3*u.HALF_PI?Math.atan(g/p*Math.tan(m))+u.PI:Math.atan(g/p*Math.tan(m))+u.TWO_PI),m<h&&(m+=u.TWO_PI),{start:h,stop:m,correspondToSamePoint:_<1e-5}},l.default.prototype.arc=function(h,m,g,p,v,_,w,S){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==_&&(v=this._toRadians(v),_=this._toRadians(_),g=Math.abs(g),p=Math.abs(p),h=y.default.modeAdjust(h,m,g,p,this._renderer._ellipseMode),(m=this._normalizeArcAngles(v,_,h.w,h.h,!0)).correspondToSamePoint?this._renderer.ellipse([h.x,h.y,h.w,h.h,S]):(this._renderer.arc(h.x,h.y,h.w,h.h,m.start,m.stop,w,S),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[h.x,h.y,h.w,h.h,m.start,m.stop,w]))),this},l.default.prototype.ellipse=function(h,m,g,p,v){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];l.default._validateParameters("circle",m);var p=m.slice(0,2);return p.push(m[2],m[2]),this._renderEllipse.apply(this,f(p))},l.default.prototype._renderEllipse=function(h,m,g,p,v){return(this._renderer._doStroke||this._renderer._doFill)&&(g<0&&(g=Math.abs(g)),p===void 0?p=g:p<0&&(p=Math.abs(p)),h=y.default.modeAdjust(h,m,g,p,this._renderer._ellipseMode),this._renderer.ellipse([h.x,h.y,h.w,h.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[h.x,h.y,h.w,h.h])),this},l.default.prototype.line=function(){for(var h,m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];return l.default._validateParameters("line",g),this._renderer._doStroke&&(h=this._renderer).line.apply(h,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",g),this},l.default.prototype.point=function(){for(var h,m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];return l.default._validateParameters("point",g),this._renderer._doStroke&&(g.length===1&&g[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,g[0].x,g[0].y,g[0].z):((h=this._renderer).point.apply(h,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",g))),this},l.default.prototype.quad=function(){for(var h,m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];return l.default._validateParameters("quad",g),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&g.length<12?this._renderer.quad.call(this._renderer,g[0],g[1],0,g[2],g[3],0,g[4],g[5],0,g[6],g[7],0,g[8],g[9]):((h=this._renderer).quad.apply(h,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",g))),this},l.default.prototype.rect=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return l.default._validateParameters("rect",m),this._renderRect.apply(this,m)},l.default.prototype.square=function(h,m,g,p,v,_,w){return l.default._validateParameters("square",arguments),this._renderRect.call(this,h,m,g,g,p,v,_,w)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var h=y.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),m=[h.x,h.y,h.w,h.h],g=4;g<arguments.length;g++)m[g]=arguments[g];this._renderer.rect(m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[h.x,h.y,h.w,h.h])}return this},l.default.prototype.triangle=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return l.default._validateParameters("triangle",m),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",m),this},t=l.default,s.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../main"))&&b.__esModule?b:{default:b},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}l.default.prototype.ellipseMode=function(d){return l.default._validateParameters("ellipseMode",arguments),d!==u.CORNER&&d!==u.CORNERS&&d!==u.RADIUS&&d!==u.CENTER||(this._renderer._ellipseMode=d),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(d){return l.default._validateParameters("rectMode",arguments),d!==u.CORNER&&d!==u.CORNERS&&d!==u.RADIUS&&d!==u.CENTER||(this._renderer._rectMode=d),this},l.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(d){return l.default._validateParameters("strokeCap",arguments),d!==u.ROUND&&d!==u.SQUARE&&d!==u.PROJECT||this._renderer.strokeCap(d),this},l.default.prototype.strokeJoin=function(d){return l.default._validateParameters("strokeJoin",arguments),d!==u.ROUND&&d!==u.BEVEL&&d!==u.MITER||this._renderer.strokeJoin(d),this},l.default.prototype.strokeWeight=function(d){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(d),this};var b=l.default;s.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(c=t("../main"))&&c.__esModule?c:{default:c};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var l,u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("bezier",y),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,y),this},a.default.prototype.bezierDetail=function(l){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},a.default.prototype.bezierPoint=function(l,u,y,b,d){a.default._validateParameters("bezierPoint",arguments);var f=1-d;return Math.pow(f,3)*l+3*Math.pow(f,2)*d*u+3*f*Math.pow(d,2)*y+Math.pow(d,3)*b},a.default.prototype.bezierTangent=function(l,u,y,b,d){a.default._validateParameters("bezierTangent",arguments);var f=1-d;return 3*b*Math.pow(d,2)-3*y*Math.pow(d,2)+6*y*f*d-6*u*f*d+3*u*Math.pow(f,2)-3*l*Math.pow(f,2)},a.default.prototype.curve=function(){for(var l,u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("curve",y),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,y),this},a.default.prototype.curveDetail=function(l){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},a.default.prototype.curveTightness=function(l){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},a.default.prototype.curvePoint=function(l,u,y,b,d){a.default._validateParameters("curvePoint",arguments);var f=this._renderer._curveTightness,h=d*d*d,m=d*d;return l*((f-1)/2*h+(1-f)*m+(f-1)/2*d)+u*((f+3)/2*h+(-5-f)/2*m+1)+y*((-3-f)/2*h+(f+2)*m+(1-f)/2*d)+b*((1-f)/2*h+(f-1)/2*m)},a.default.prototype.curveTangent=function(l,u,y,b,m){a.default._validateParameters("curveTangent",arguments);var f=this._renderer._curveTightness,h=m*m*3,m=2*m;return l*((f-1)/2*h+(1-f)*m+(f-1)/2)+u*((f+3)/2*h+(-5-f)/2*m)+y*((-3-f)/2*h+(f+2)*m+(1-f)/2)+b*((1-f)/2*h+(f-1)/2*m)};var c=a.default;s.default=c},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,o,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function c(w){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(_=t("../main"))&&_.__esModule?_:{default:_},u=function(w){if(w&&w.__esModule)return w;if(w===null||c(w)!=="object"&&typeof w!="function")return{default:w};var S=y();if(S&&S.has(w))return S.get(w);var M,j={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in w){var D;Object.prototype.hasOwnProperty.call(w,M)&&((D=I?Object.getOwnPropertyDescriptor(w,M):null)&&(D.get||D.set)?Object.defineProperty(j,M,D):j[M]=w[M])}return j.default=w,S&&S.set(w,j),j}(t("../constants"));function y(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,y=function(){return w},w)}var b=null,d=[],f=[],h=!1,m=!1,g=!1,p=!1,v=!0,_=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(f=[],p=!0),this},l.default.prototype.beginShape=function(w){var S;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(S=this._renderer).beginShape.apply(S,arguments):(b=w===u.POINTS||w===u.LINES||w===u.TRIANGLES||w===u.TRIANGLE_FAN||w===u.TRIANGLE_STRIP||w===u.QUADS||w===u.QUAD_STRIP?w:null,d=[],f=[]),this},l.default.prototype.bezierVertex=function(){for(var w,S=arguments.length,M=new Array(S),j=0;j<S;j++)M[j]=arguments[j];if(l.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,M);else if(d.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var I=[],D=0;D<M.length;D++)I[D]=M[D];I.isVert=!1,(p?f:d).push(I)}return this},l.default.prototype.curveVertex=function(){for(var w,S=arguments.length,M=new Array(S),j=0;j<S;j++)M[j]=arguments[j];return l.default._validateParameters("curveVertex",M),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,M):(m=!0,this.vertex(M[0],M[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var w=f[0].slice();w.isVert=f[0].isVert,w.moveTo=!1,f.push(w),v&&(d.push(d[0]),v=!1);for(var S=0;S<f.length;S++)d.push(f[S])}return this},l.default.prototype.endShape=function(w){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),S<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),S=1),this._renderer.isP3D)this._renderer.endShape(w,m,h,g,p,b,S);else{if(S!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),d.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;S=w===u.CLOSE,S&&!p&&d.push(d[0]),this._renderer.endShape(w,d,m,h,g,p,b),v=!(p=g=h=m=!1),S&&d.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var w,S=arguments.length,M=new Array(S),j=0;j<S;j++)M[j]=arguments[j];if(l.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,M);else{if(this._contourInited)return(w={}).x=M[0],w.y=M[1],w.x3=M[2],w.y3=M[3],w.type=u.QUADRATIC,this._contourVertices.push(w),this;if(0<d.length){g=!0;for(var I=[],D=0;D<M.length;D++)I[D]=M[D];I.isVert=!1,(p?f:d).push(I)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(w,S,M,j,I){var D;return this._renderer.isP3D?(D=this._renderer).vertex.apply(D,arguments):((D=[]).isVert=!0,D[0]=w,D[1]=S,D[2]=0,D[3]=0,D[4]=0,D[5]=this._renderer._getFill(),D[6]=this._renderer._getStroke(),M&&(D.moveTo=M),(p?(f.length===0&&(D.moveTo=!0),f):d).push(D)),this},l.default.prototype.normal=function(w,S,M){var j;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(j=this._renderer).normal.apply(j,arguments),this},l.default);s.default=_},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,o,s){},{}],295:[function(t,o,s){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var c=parseInt(a),l=((isNaN(c)||c<1)&&(c=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var u=0;u<c;u++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,s.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function c(l){return function(u){if(Array.isArray(u)){for(var y=0,b=new Array(u.length);y<u.length;y++)b[y]=u[y];return b}}(l)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,c(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(l,u){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),u),this},a.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},a.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},a.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},a.default.prototype.scale=function(l,u,y){var b;return a.default._validateParameters("scale",arguments),l instanceof a.default.Vector?(l=(b=l).x,u=b.y,y=b.z):Array.isArray(l)&&(l=(b=l)[0],u=b[1],y=b[2]||1),isNaN(u)?u=y=l:isNaN(y)&&(y=1),this._renderer.scale(l,u,y),this},a.default.prototype.shearX=function(l){return a.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},a.default.prototype.shearY=function(l){return a.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},a.default.prototype.translate=function(l,u,y){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,u,y):this._renderer.translate(l,u),this},t=a.default,s.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,o,s){"use strict";function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(y){return function(b){if(Array.isArray(b)){for(var d=0,f=new Array(b.length);d<b.length;d++)f[d]=b[d];return f}}(y)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(y){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(b){return a(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":a(b)})(y)}c.default.prototype.storeItem=function(y,b){typeof y!="string"&&console.log("The argument that you passed to storeItem() - ".concat(y," is not a string.")),y.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(y," must not end with 'p5TypeID'.")),b===void 0&&console.log("You cannot store undefined variables using storeItem().");var d=u(b);switch(d){case"number":case"boolean":b=b.toString();break;case"object":b instanceof c.default.Color?d="p5.Color":b instanceof c.default.Vector&&(d="p5.Vector",b=[b.x,b.y,b.z]),b=JSON.stringify(b)}localStorage.setItem(y,b),y="".concat(y,"p5TypeID"),localStorage.setItem(y,d)},c.default.prototype.getItem=function(y){var b=localStorage.getItem(y),d=localStorage.getItem("".concat(y,"p5TypeID"));if(d===void 0)console.log("Unable to determine type of item stored under ".concat(y,"in local storage. Did you save the item with something other than setItem()?"));else if(b!==null)switch(d){case"number":b=parseFloat(b);break;case"boolean":b=b==="true";break;case"object":b=JSON.parse(b);break;case"p5.Color":b=JSON.parse(b),b=this.color.apply(this,l(b.levels));break;case"p5.Vector":b=JSON.parse(b),b=this.createVector.apply(this,l(b))}return b},c.default.prototype.clearStorage=function(){var y=this;Object.keys(localStorage).forEach(function(b){b.endsWith("p5TypeID")&&y.removeItem(b.replace("p5TypeID",""))})},c.default.prototype.removeItem=function(y){typeof y!="string"&&console.log("The argument that you passed to removeItem() - ".concat(y," is not a string.")),localStorage.removeItem(y),localStorage.removeItem("".concat(y,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,o,s){"use strict";function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}function c(g){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),p&&y(g,p)}function y(g,p){return(y=Object.setPrototypeOf||function(v,_){return v.__proto__=_,v})(g,p)}function b(g){return function(){var p,v=d(g),v=(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=d(this).constructor,Reflect.construct(v,arguments,p)):v.apply(this,arguments),this);if(!p||c(p)!=="object"&&typeof p!="function"){if(v!==void 0)return v;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return p}}function d(g){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(g)}function f(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){for(var v=0;v<p.length;v++){var _=p[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}function m(g,p,v){p&&h(g.prototype,p),v&&h(g,v)}l.default.prototype.createStringDict=function(g,p){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(g,p)},l.default.prototype.createNumberDict=function(g,p){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(g,p)},l.default.TypedDict=function(){function g(p,v){return f(this,g),p instanceof Object?this.data=p:(this.data={},this.data[p]=v),this}return m(g,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(p){return this.data.hasOwnProperty(p)}},{key:"get",value:function(p){if(this.data.hasOwnProperty(p))return this.data[p];console.log("".concat(p," does not exist in this Dictionary"))}},{key:"set",value:function(p,v){this._validate(v)?this.data[p]=v:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(p){for(var v in p)this.set(v,p[v])}},{key:"create",value:function(p,v){p instanceof Object&&v===void 0?this._addObj(p):p!==void 0?this.set(p,v):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(p){if(!this.data.hasOwnProperty(p))throw new Error("".concat(p," does not exist in this Dictionary"));delete this.data[p]}},{key:"print",value:function(){for(var p in this.data)console.log("key:".concat(p," value:").concat(this.data[p]))}},{key:"saveTable",value:function(p){var v,_="";for(v in this.data)_+="".concat(v,",").concat(this.data[v],`
`);var w=new Blob([_],{type:"text/csv"});l.default.prototype.downloadFile(w,p||"mycsv","csv")}},{key:"saveJSON",value:function(p,v){l.default.prototype.saveJSON(this.data,p,v)}},{key:"_validate",value:function(p){return!0}}]),g}(),l.default.StringDict=function(){u(p,l.default.TypedDict);var g=b(p);function p(){f(this,p);for(var v=arguments.length,_=new Array(v),w=0;w<v;w++)_[w]=arguments[w];return g.call.apply(g,[this].concat(_))}return m(p,[{key:"_validate",value:function(v){return typeof v=="string"}}]),p}(),l.default.NumberDict=function(){u(p,l.default.TypedDict);var g=b(p);function p(){f(this,p);for(var v=arguments.length,_=new Array(v),w=0;w<v;w++)_[w]=arguments[w];return g.call.apply(g,[this].concat(_))}return m(p,[{key:"_validate",value:function(v){return typeof v=="number"}},{key:"add",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]+=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"sub",value:function(v,_){this.add(v,-_)}},{key:"mult",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]*=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"div",value:function(v,_){this.data.hasOwnProperty(v)?this.data[v]/=_:console.log("The key - ".concat(v," does not exist in this dictionary."))}},{key:"_valueTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var _,w=this.data[Object.keys(this.data)[0]];for(_ in this.data)this.data[_]*v<w*v&&(w=this.data[_]);return w}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(v){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var _=Object.keys(this.data)[0],w=1;w<Object.keys(this.data).length;w++)Object.keys(this.data)[w]*v<_*v&&(_=Object.keys(this.data)[w]);return _}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),p}(),t=l.default.TypedDict,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,o,s){"use strict";function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(w,S){for(var M=0;M<S.length;M++){var j=S[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}function u(w,S,M){S&&l(w.prototype,S),M&&l(w,M)}function y(w,S){return(y=Object.setPrototypeOf||function(M,j){return M.__proto__=j,M})(w,S)}function b(w){return function(){var S,M,j=f(w);return S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=f(this).constructor,Reflect.construct(j,arguments,S)):j.apply(this,arguments),j=this,!(M=S)||m(M)!=="object"&&typeof M!="function"?d(j):M}}function d(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function h(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function m(w){return(m=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(S){return a(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":a(S)})(w)}function g(w,S,M){return(S._userNode||document.body).appendChild(w),M=new(M?c.default.MediaElement:c.default.Element)(w,S),S._elements.push(M),M}c.default.prototype.select=function(w,S){return c.default._validateParameters("select",arguments),S=this._getContainer(S).querySelector(w),S?this._wrapElement(S):null},c.default.prototype.selectAll=function(w,S){c.default._validateParameters("selectAll",arguments);var M=[],j=this._getContainer(S).querySelectorAll(w);if(j)for(var I=0;I<j.length;I++){var D=this._wrapElement(j[I]);M.push(D)}return M},c.default.prototype._getContainer=function(w){var S=document;return typeof w=="string"?S=document.querySelector(w)||document:w instanceof c.default.Element?S=w.elt:w instanceof HTMLElement&&(S=w),S},c.default.prototype._wrapElement=function(w){var S,M=Array.prototype.slice.call(w.children);return w.tagName==="INPUT"&&w.type==="checkbox"?((S=new c.default.Element(w,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},S):w.tagName==="VIDEO"||w.tagName==="AUDIO"?new c.default.MediaElement(w,this):w.tagName==="SELECT"?this.createSelect(new c.default.Element(w,this)):0<M.length&&M.every(function(j){return j.tagName==="INPUT"||j.tagName==="LABEL"})&&(w.tagName==="DIV"||w.tagName==="SPAN")?this.createRadio(new c.default.Element(w,this)):new c.default.Element(w,this)},c.default.prototype.removeElements=function(w){c.default._validateParameters("removeElements",arguments),this._elements.filter(function(S){return!(S.elt instanceof HTMLCanvasElement)}).map(function(S){return S.remove()})},c.default.Element.prototype.changed=function(w){return c.default.Element._adjustListener("change",w,this),this},c.default.Element.prototype.input=function(w){return c.default.Element._adjustListener("input",w,this),this},c.default.prototype.createDiv=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("div");return S.innerHTML=w,g(S,this)},c.default.prototype.createP=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("p");return S.innerHTML=w,g(S,this)},c.default.prototype.createSpan=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=document.createElement("span");return S.innerHTML=w,g(S,this)},c.default.prototype.createImg=function(){c.default._validateParameters("createImg",arguments);var w,S=document.createElement("img"),M=arguments;return 1<M.length&&typeof M[1]=="string"&&(S.alt=M[1]),2<M.length&&typeof M[2]=="string"&&(S.crossOrigin=M[2]),S.src=M[0],w=g(S,this),S.addEventListener("load",function(){w.width=S.offsetWidth||S.width,w.height=S.offsetHeight||S.height;var j=M[M.length-1];typeof j=="function"&&j(w)}),w},c.default.prototype.createA=function(w,S,M){c.default._validateParameters("createA",arguments);var j=document.createElement("a");return j.href=w,j.innerHTML=S,M&&(j.target=M),g(j,this)},c.default.prototype.createSlider=function(w,S,M,j){c.default._validateParameters("createSlider",arguments);var I=document.createElement("input");return I.type="range",I.min=w,I.max=S,j===0?I.step=1e-18:j&&(I.step=j),typeof M=="number"&&(I.value=M),g(I,this)},c.default.prototype.createButton=function(w,S){c.default._validateParameters("createButton",arguments);var M=document.createElement("button");return M.innerHTML=w,S&&(M.value=S),g(M,this)},c.default.prototype.createCheckbox=function(){for(var w=arguments.length,S=new Array(w),M=0;M<w;M++)S[M]=arguments[M];c.default._validateParameters("createCheckbox",S);var j=document.createElement("div"),I=document.createElement("input"),D=(I.type="checkbox",document.createElement("label")),P=(D.appendChild(I),j.appendChild(D),g(j,this));return P.checked=function(){var A=P.elt.firstElementChild.getElementsByTagName("input")[0];if(A){if(arguments.length===0)return A.checked;A.checked=!(arguments.length<=0||!arguments[0])}return P},this.value=function(A){return P.value=A,this},S[0]&&(P.value(S[0]),(j=document.createElement("span")).innerHTML=S[0],D.appendChild(j)),S[1]&&(I.checked=!0),P},c.default.prototype.createSelect=function(){for(var w,S=arguments.length,M=new Array(S),j=0;j<S;j++)M[j]=arguments[j];c.default._validateParameters("createSelect",M);var I,D=M[0];return D instanceof c.default.Element&&D.elt instanceof HTMLSelectElement?this.elt=(w=D).elt:D instanceof HTMLSelectElement?(w=g(D,this),this.elt=D):(I=document.createElement("select"),D&&typeof D=="boolean"&&I.setAttribute("multiple","true"),w=g(I,this),this.elt=I),w.option=function(P,A){var N;if(P!==void 0){for(var O,z=0;z<this.elt.length;z+=1)if(this.elt[z].textContent===P){N=z;break}N!==void 0?A===!1?this.elt.remove(N):this.elt[N].value=A:((O=document.createElement("option")).textContent=P,O.value=A===void 0?P:A,this.elt.appendChild(O),this._pInst._elements.push(O))}},w.selected=function(P){if(P!==void 0){for(var A=0;A<this.elt.length;A+=1)this.elt[A].value.toString()===P.toString()&&(this.elt.selectedIndex=A);return this}if(this.elt.getAttribute("multiple")){var N=[],O=!0,z=!1,U=void 0;try{for(var F,W=this.elt.selectedOptions[Symbol.iterator]();!(O=(F=W.next()).done);O=!0){var $=F.value;N.push($.value)}}catch(H){z=!0,U=H}finally{try{O||W.return==null||W.return()}finally{if(z)throw U}}return N}return this.elt.value},w.disable=function(P){if(typeof P=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===P&&(this.elt[A].disabled=!0,this.elt[A].selected=!1);else this.elt.disabled=!0;return this},w.enable=function(P){if(typeof P=="string")for(var A=0;A<this.elt.length;A++)this.elt[A].value.toString()===P&&(this.elt[A].disabled=!1,this.elt[A].selected=!1);else{this.elt.disabled=!1;for(var N=0;N<this.elt.length;N++)this.elt[N].disabled=!1,this.elt[N].selected=!1}return this},w};var p=0;function v(w,P,M,j){var I=document.createElement(P),D=(typeof(M=M||"")=="string"&&(M=[M]),!0),P=!1,A=void 0;try{for(var N,O=M[Symbol.iterator]();!(D=(N=O.next()).done);D=!0){var z=N.value,U=document.createElement("source");U.setAttribute("src",z),I.appendChild(U)}}catch(W){P=!0,A=W}finally{try{D||O.return==null||O.return()}finally{if(P)throw A}}typeof j=="function"&&I.addEventListener("canplaythrough",function W(){j(),I.removeEventListener("canplaythrough",W)});var F=g(I,w,!0);return F.loadedmetadata=!1,I.addEventListener("loadedmetadata",function(){F.width=I.videoWidth,F.height=I.videoHeight,F.elt.width===0&&(F.elt.width=I.videoWidth),F.elt.height===0&&(F.elt.height=I.videoHeight),F.presetPlaybackRate&&(F.elt.playbackRate=F.presetPlaybackRate,delete F.presetPlaybackRate),F.loadedmetadata=!0}),F}c.default.prototype.createRadio=function(){function w(P){return P instanceof HTMLInputElement&&P.type==="radio"}function S(P){return P instanceof HTMLLabelElement}var M,j,I,D=arguments.length<=0?void 0:arguments[0];return D instanceof c.default.Element&&(D.elt instanceof HTMLDivElement||D.elt instanceof HTMLSpanElement)?(M=D,this.elt=D.elt):D instanceof HTMLDivElement||D instanceof HTMLSpanElement?(M=g(D,this),j=this.elt=D,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(I=arguments.length<=1?void 0:arguments[1])):(typeof D=="string"&&(I=D),j=document.createElement("div"),M=g(j,this),this.elt=j),M._name=I||"radioOption_".concat(p++),M._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(P){return w(P)||S(P)&&w(P.firstElementChild)}).map(function(P){return w(P)?P:P.firstElementChild})},M.option=function(P,A){var N,O,z,U=!0,F=!1,W=void 0;try{for(var $,H=M._getOptionsArray()[Symbol.iterator]();!(U=($=H.next()).done);U=!0){var X=$.value;if(X.value===P){N=X;break}}}catch(K){F=!0,W=K}finally{try{U||H.return==null||H.return()}finally{if(F)throw W}}return N===void 0&&((N=document.createElement("input")).setAttribute("type","radio"),N.setAttribute("value",P)),N.setAttribute("name",M._name),S(N.parentElement)?O=N.parentElement:(O=document.createElement("label")).insertAdjacentElement("afterbegin",N),O.lastElementChild instanceof HTMLSpanElement?z=O.lastElementChild:(z=document.createElement("span"),N.insertAdjacentElement("afterend",z)),z.innerHTML=A===void 0?P:A,this.elt.appendChild(O),N},M.remove=function(P){var A=!0,N=!1,O=void 0;try{for(var z,U=M._getOptionsArray()[Symbol.iterator]();!(A=(z=U.next()).done);A=!0){var F=z.value;if(F.value===P)return void(S(F.parentElement)?F.parentElement:F).remove()}}catch(W){N=!0,O=W}finally{try{A||U.return==null||U.return()}finally{if(N)throw O}}},M.value=function(){var P="",A=!0,N=!1,O=void 0;try{for(var z,U=M._getOptionsArray()[Symbol.iterator]();!(A=(z=U.next()).done);A=!0){var F=z.value;if(F.checked){P=F.value;break}}}catch(W){N=!0,O=W}finally{try{A||U.return==null||U.return()}finally{if(N)throw O}}return P},M.selected=function(P){var A=null;if(P===void 0){var N=!0,O=!1,z=void 0;try{for(var U,F=M._getOptionsArray()[Symbol.iterator]();!(N=(U=F.next()).done);N=!0){var W=U.value;if(W.checked){A=W;break}}}catch(ae){O=!0,z=ae}finally{try{N||F.return==null||F.return()}finally{if(O)throw z}}}else{M._getOptionsArray().forEach(function(E){E.checked=!1,E.removeAttribute("checked")});var $=!0,O=!1,z=void 0;try{for(var H,X=M._getOptionsArray()[Symbol.iterator]();!($=(H=X.next()).done);$=!0){var K=H.value;K.value===P&&(K.setAttribute("checked",!0),K.checked=!0,A=K)}}catch(E){O=!0,z=E}finally{try{$||X.return==null||X.return()}finally{if(O)throw z}}}return A},M.disable=function(){var P=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],A=!0,N=!1,O=void 0;try{for(var z,U=M._getOptionsArray()[Symbol.iterator]();!(A=(z=U.next()).done);A=!0)z.value.setAttribute("disabled",P)}catch(F){N=!0,O=F}finally{try{A||U.return==null||U.return()}finally{if(N)throw O}}},M},c.default.prototype.createColorPicker=function(w){c.default._validateParameters("createColorPicker",arguments);var S=document.createElement("input");return S.type="color",w?w instanceof c.default.Color?S.value=w.toString("#rrggbb"):(c.default.prototype._colorMode="rgb",c.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},S.value=c.default.prototype.color(w).toString("#rrggbb")):S.value="#000000",(S=g(S,this)).color=function(){return w&&(w.mode&&(c.default.prototype._colorMode=w.mode),w.maxes&&(c.default.prototype._colorMaxes=w.maxes)),c.default.prototype.color(this.elt.value)},S},c.default.prototype.createInput=function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",M=(c.default._validateParameters("createInput",arguments),document.createElement("input"));return M.setAttribute("value",w),M.setAttribute("type",S),g(M,this)},c.default.prototype.createFileInput=function(w){var S,M=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(c.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(S=document.createElement("input")).setAttribute("type","file"),M&&S.setAttribute("multiple",!0),S.addEventListener("change",function(j){var I=!0,D=!1,P=void 0;try{for(var A,N=j.target.files[Symbol.iterator]();!(I=(A=N.next()).done);I=!0){var O=A.value;c.default.File._load(O,w)}}catch(z){D=!0,P=z}finally{try{I||N.return==null||N.return()}finally{if(D)throw P}}},!1),g(S,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},c.default.prototype.createVideo=function(w,S){return c.default._validateParameters("createVideo",arguments),v(this,"video",w,S)},c.default.prototype.createAudio=function(w,S){return c.default._validateParameters("createAudio",arguments),v(this,"audio",w,S)},c.default.prototype.VIDEO="video",c.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(w){var S=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return S?new Promise(function(M,j){S.call(navigator,w,M,j)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),c.default.prototype.createCapture=function(){for(var w=arguments.length,S=new Array(w),M=0;M<w;M++)S[M]=arguments[M];if(c.default._validateParameters("createCapture",S),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var j,I=!0,D=!0,P=!1,A=0,N=S;A<N.length;A++){var O=N[A];O===c.default.prototype.VIDEO?D=!1:O===c.default.prototype.AUDIO?I=!1:m(O)==="object"?(O.flipped!==void 0&&(P=O.flipped,delete O.flipped),z=Object.assign({},z,O)):typeof O=="function"&&(j=O)}var z=Object.assign({},{video:I,audio:D},z),U=document.createElement("video"),F=(U.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(z).then(function(W){try{"srcObject"in U?U.srcObject=W:U.src=window.URL.createObjectURL(W)}catch{U.src=W}}).catch(function(W){W.name==="NotFoundError"&&c.default._friendlyError("No webcam found on this device","createCapture"),W.name==="NotAllowedError"&&c.default._friendlyError("Access to the camera was denied","createCapture"),console.error(W)}),g(U,this,!0));return F.loadedmetadata=!1,U.addEventListener("loadedmetadata",function(){U.play(),U.width?(F.width=U.width,F.height=U.height,P&&(F.elt.style.transform="scaleX(-1)")):(F.width=F.elt.width=U.videoWidth,F.height=F.elt.height=U.videoHeight),F.loadedmetadata=!0,j&&j(U.srcObject)}),F.flipped=P,F},c.default.prototype.createElement=function(w,S){return c.default._validateParameters("createElement",arguments),w=document.createElement(w),S!==void 0&&(w.innerHTML=S),g(w,this)},c.default.Element.prototype.addClass=function(w){return this.elt.className?this.hasClass(w)||(this.elt.className=this.elt.className+" "+w):this.elt.className=w,this},c.default.Element.prototype.removeClass=function(w){return this.elt.classList.remove(w),this},c.default.Element.prototype.hasClass=function(w){return this.elt.classList.contains(w)},c.default.Element.prototype.toggleClass=function(w){return this.elt.classList.contains(w)?this.elt.classList.remove(w):this.elt.classList.add(w),this},c.default.Element.prototype.child=function(w){return w===void 0?this.elt.childNodes:(typeof w=="string"?(w[0]==="#"&&(w=w.substring(1)),w=document.getElementById(w)):w instanceof c.default.Element&&(w=w.elt),w instanceof HTMLElement&&this.elt.appendChild(w),this)},c.default.Element.prototype.center=function(w){var S=this.elt.style.display,M=this.elt.style.display==="none",j=this.parent().style.display==="none",I={x:this.elt.offsetLeft,y:this.elt.offsetTop},D=(M&&this.show(),j&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),P=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return w==="both"||w===void 0?this.position(D/2+this.parent().offsetLeft,P/2+this.parent().offsetTop):w==="horizontal"?this.position(D/2+this.parent().offsetLeft,I.y):w==="vertical"&&this.position(I.x,P/2+this.parent().offsetTop),this.style("display",S),M&&this.hide(),j&&this.parent().hide(),this},c.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},c.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},c.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var w="";return this.elt.style.transform&&(w=(w=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=w,this},c.default.Element.prototype._rotate=function(){var w="";return this.elt.style.transform&&(w=(w=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=w,this},c.default.Element.prototype.style=function(w,S){if((S=S instanceof c.default.Color?"rgba("+S.levels[0]+","+S.levels[1]+","+S.levels[2]+","+S.levels[3]/255+")":S)===void 0){if(w.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(w);for(var M=w.split(";"),j=0;j<M.length;j++){var I=M[j].split(":");I[0]&&I[1]&&(this.elt.style[I[0].trim()]=I[1].trim())}}else this.elt.style[w]=S,w!=="width"&&w!=="height"&&w!=="left"&&w!=="top"||(S=window.getComputedStyle(this.elt).getPropertyValue(w).replace(/[^\d.]/g,""),this[w]=Math.round(parseFloat(S,10)));return this},c.default.Element.prototype.attribute=function(w,S){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return S===void 0?this.elt.getAttribute(w):(this.elt.setAttribute(w,S),this);if(S===void 0)return this.elt.firstChild.getAttribute(w);for(var M=0;M<this.elt.childNodes.length;M++)this.elt.childNodes[M].setAttribute(w,S)},c.default.Element.prototype.removeAttribute=function(w){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var S=0;S<this.elt.childNodes.length;S++)this.elt.childNodes[S].removeAttribute(w);return this.elt.removeAttribute(w),this},c.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},c.default.Element.prototype.show=function(){return this.elt.style.display="block",this},c.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},c.default.Element.prototype.size=function(w,S){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var M=w,j=S,I=c.default.prototype.AUTO;if(M!==I||j!==I){if(M===I?M=S*this.width/this.height:j===I&&(j=w*this.height/this.width),this.elt instanceof HTMLCanvasElement){var D,P={},A=this.elt.getContext("2d");for(D in A)P[D]=A[D];for(D in this.elt.setAttribute("width",M*this._pInst._pixelDensity),this.elt.setAttribute("height",j*this._pInst._pixelDensity),this.elt.style.width=M+"px",this.elt.style.height=j+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),P)this.elt.getContext("2d")[D]=P[D]}else this.elt.style.width=M+"px",this.elt.style.height=j+"px",this.elt.width=M,this.elt.height=j;this.width=M,this.height=j,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",M),this._pInst._setProperty("height",j))}return this},c.default.Element.prototype.remove=function(){this instanceof c.default.MediaElement&&(this.stop(),(S=this.elt.srcObject)!==null&&S.getTracks().forEach(function(M){M.stop()}));var w,S=this._pInst._elements.indexOf(this);for(w in S!==-1&&this._pInst._elements.splice(S,1),this._events)this.elt.removeEventListener(w,this._events[w]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},c.default.Element.prototype.drop=function(w,S){var M;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",M=function(j){j.preventDefault()}),this.elt.addEventListener("dragleave",M)),c.default.Element._attachListener("drop",function(I){I.preventDefault(),typeof S=="function"&&S.call(this,I);var I=I.dataTransfer.files,D=!0,P=!1,A=void 0;try{for(var N,O=I[Symbol.iterator]();!(D=(N=O.next()).done);D=!0){var z=N.value;c.default.File._load(z,w)}}catch(U){P=!0,A=U}finally{try{D||O.return==null||O.return()}finally{if(P)throw A}}},this)):console.log("The File APIs are not fully supported in this browser."),this},c.default.Element.prototype.draggable=function(w){var S,M="ontouchstart"in window,j=0,I=0,D=0,P=0,A=M?"touchend":"mouseup",N=M?"touchmove":"mousemove";function O(U){var F;U=U||window.event,P=M?(F=U.changedTouches,j=D-parseInt(F[0].clientX),I=P-parseInt(F[0].clientY),D=parseInt(F[0].clientX),parseInt(F[0].clientY)):(j=D-parseInt(U.clientX),I=P-parseInt(U.clientY),D=parseInt(U.clientX),parseInt(U.clientY)),w.style.left=w.offsetLeft-j+"px",w.style.top=w.offsetTop-I+"px"}function z(){document.removeEventListener(A,z,!1),document.removeEventListener(N,O,!1)}return w===void 0?S=w=this.elt:w!==this.elt&&w.elt!==this.elt&&(w=w.elt,S=this.elt),S.addEventListener(M?"touchstart":"mousedown",function(U){{var F;U=U||window.event,P=M?(F=U.changedTouches,D=parseInt(F[0].clientX),parseInt(F[0].clientY)):(D=parseInt(U.clientX),parseInt(U.clientY))}return document.addEventListener(A,z,!1),document.addEventListener(N,O,!1),!1},!1),S.style.cursor="move",this};function _(w,S,M,j){h(this,_),this.callback=w,this.time=S,this.id=M,this.val=j}t=function(w){var S=j;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),w&&y(S,w);var M=b(j);function j(I,D){h(this,j);var P=d(D=M.call(this,I,D));return D.elt.crossOrigin="anonymous",D._prevTime=0,D._cueIDCounter=0,D._cues=[],D.pixels=[],D._pixelsState=d(D),D._pixelDensity=1,D._modified=!1,D._frameOnCanvas=-1,Object.defineProperty(P,"src",{get:function(){var A=P.elt.children[0].src,N=P.elt.src===window.location.href?"":P.elt.src;return A===window.location.href?N:A},set:function(A){for(var N=0;N<P.elt.children.length;N++)P.elt.removeChild(P.elt.children[N]);var O=document.createElement("source");O.src=A,I.appendChild(O),P.elt.src=A,P.modified=!0}}),P._onended=function(){},P.elt.onended=function(){P._onended(P)},D}return u(j,[{key:"play",value:function(){var I;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(I=this.elt.play())&&I.catch&&I.catch(function(D){D.name==="NotAllowedError"?console.error(D):console.error("Media play method encountered an unexpected error",D)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var I=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(I)},{passive:!0,once:!0})}},{key:"autoplay",value:function(I){var D=this,P=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",I),I&&!P&&(I=function(){return D._setupAutoplayFailDetection()},this.elt.readyState===4?I():this.elt.addEventListener("canplay",I,{passive:!0,once:!0})),this}},{key:"volume",value:function(I){if(I===void 0)return this.elt.volume;this.elt.volume=I}},{key:"speed",value:function(I){if(I===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=I:this.presetPlaybackRate=I}},{key:"time",value:function(I){return I===void 0?this.elt.currentTime:(this.elt.currentTime=I,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var I=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&I&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var I=arguments.length,D=new Array(I),P=0;P<I;P++)D[P]=arguments[P];return c.default.Renderer2D.prototype.loadPixels.apply(this,D)}},{key:"updatePixels",value:function(I,D,P,A){return this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.updatePixels.call(this,I,D,P,A)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var I=arguments.length,D=new Array(I),P=0;P<I;P++)D[P]=arguments[P];return c.default.Renderer2D.prototype.get.apply(this,D)}},{key:"_getPixel",value:function(){this.loadPixels();for(var I=arguments.length,D=new Array(I),P=0;P<I;P++)D[P]=arguments[P];return c.default.Renderer2D.prototype._getPixel.apply(this,D)}},{key:"set",value:function(I,D,P){this.loadedmetadata&&(this._ensureCanvas(),c.default.Renderer2D.prototype.set.call(this,I,D,P),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var I=arguments.length,D=new Array(I),P=0;P<I;P++)D[P]=arguments[P];c.default.prototype.copy.apply(this,D)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var I=arguments.length,D=new Array(I),P=0;P<I;P++)D[P]=arguments[P];c.default.Image.prototype.mask.apply(this,D)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(I){this._modified=I}},{key:"onended",value:function(I){return this._onended=I,this}},{key:"connect",value:function(I){var D,P;if(typeof c.default.prototype.getAudioContext=="function")D=c.default.prototype.getAudioContext(),P=c.default.soundOut.input;else try{P=(D=I.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=D.createMediaElementSource(this.elt),this.audioSourceNode.connect(P)),I?I.input?this.audioSourceNode.connect(I.input):this.audioSourceNode.connect(I):this.audioSourceNode.connect(P)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(I,N,P){var A=this._cueIDCounter++,N=new _(N,I,A,P);return this._cues.push(N),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),A}},{key:"removeCue",value:function(I){for(var D=0;D<this._cues.length;D++)this._cues[D].id===I&&(console.log(I),this._cues.splice(D,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var I=this.time(),D=0;D<this._cues.length;D++){var P=this._cues[D].time,A=this._cues[D].val;this._prevTime<P&&P<=I&&this._cues[D].callback(A)}this._prevTime=I}}]),j}(c.default.Element),c.default.MediaElement=t,t=function(){function w(S,M){h(this,w),this.file=S,this._pInst=M,M=S.type.split("/"),this.type=M[0],this.subtype=M[1],this.name=S.name,this.size=S.size,this.data=void 0}return u(w,null,[{key:"_createLoader",value:function(S,M){var j=new FileReader;return j.onload=function(I){var D,P=new c.default.File(S);P.file.type==="application/json"?P.data=JSON.parse(I.target.result):P.file.type==="text/xml"?(D=new DOMParser().parseFromString(I.target.result,"text/xml"),P.data=new c.default.XML(D.documentElement)):P.data=I.target.result,M(P)},j}},{key:"_load",value:function(S,M){var j;/^text\//.test(S.type)||S.type==="application/json"?c.default.File._createLoader(S,M).readAsText(S):/^(video|audio)\//.test(S.type)?((j=new c.default.File(S)).data=URL.createObjectURL(S),M(j)):c.default.File._createLoader(S,M).readAsDataURL(S)}}]),w}(),c.default.File=t,t=c.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(m,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(m=m("../core/main"))&&m.__esModule?m:{default:m};a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var c=a.default.prototype.pRotationZ=0,l=0,u=0,y="clockwise",b="clockwise",d="clockwise",f=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),h=30,m=(a.default.prototype.setMoveThreshold=function(g){a.default._validateParameters("setMoveThreshold",arguments),f=g},a.default.prototype.setShakeThreshold=function(g){a.default._validateParameters("setShakeThreshold",arguments),h=g},a.default.prototype._ondeviceorientation=function(g){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(g.beta)),this._setProperty("rotationY",this._fromDegrees(g.gamma)),this._setProperty("rotationZ",this._fromDegrees(g.alpha)),this._handleMotion()},a.default.prototype._ondevicemotion=function(g){this._updatePAccelerations(),this._setProperty("accelerationX",2*g.acceleration.x),this._setProperty("accelerationY",2*g.acceleration.y),this._setProperty("accelerationZ",2*g.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var g,p,v,_,w,S=this._isGlobal?window:this;typeof S.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&S.deviceMoved(),typeof S.deviceTurned=="function"&&(p=this._toDegrees(this.rotationX)+180,v=this._toDegrees(this.pRotationX)+180,g=c+180,0<p-v&&p-v<270||p-v<-270?y="clockwise":(p-v<0||270<p-v)&&(y="counter-clockwise"),y!==this.pRotateDirectionX&&(g=p),90<Math.abs(p-g)&&Math.abs(p-g)<270&&(g=p,this._setProperty("turnAxis","X"),S.deviceTurned()),this.pRotateDirectionX=y,c=g-180,v=this._toDegrees(this.rotationY)+180,p=this._toDegrees(this.pRotationY)+180,g=l+180,0<v-p&&v-p<270||v-p<-270?b="clockwise":(v-p<0||270<v-this.pRotationY)&&(b="counter-clockwise"),b!==this.pRotateDirectionY&&(g=v),90<Math.abs(v-g)&&Math.abs(v-g)<270&&(g=v,this._setProperty("turnAxis","Y"),S.deviceTurned()),this.pRotateDirectionY=b,l=g-180,0<(p=this._toDegrees(this.rotationZ))-(v=this._toDegrees(this.pRotationZ))&&p-v<270||p-v<-270?d="clockwise":(p-v<0||270<p-v)&&(d="counter-clockwise"),d!==this.pRotateDirectionZ&&(u=p),90<Math.abs(p-u)&&Math.abs(p-u)<270&&(u=p,this._setProperty("turnAxis","Z"),S.deviceTurned()),this.pRotateDirectionZ=d,this._setProperty("turnAxis",void 0)),typeof S.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),w=Math.abs(this.accelerationY-this.pAccelerationY)),h<_+w&&S.deviceShaken())},a.default);s.default=m},{"../core/main":283}],301:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(c){var l;this._downKeys[c.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",c.which),this._downKeys[c.which]=!0,this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(l=this._isGlobal?window:this).keyPressed!="function"||c.charCode||l.keyPressed(c)===!1&&c.preventDefault())},a.default.prototype._onkeyup=function(c){this._downKeys[c.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),this._setProperty("keyCode",c.which);var l=this._isGlobal?window:this;typeof l.keyReleased=="function"&&l.keyReleased(c)===!1&&c.preventDefault()},a.default.prototype._onkeypress=function(c){var l;c.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",c.which),this._setProperty("key",c.key||String.fromCharCode(c.which)||c.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(c)===!1&&c.preventDefault())},a.default.prototype._onblur=function(c){this._downKeys={}},a.default.prototype.keyIsDown=function(c){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[c]||!1},a.default.prototype._areDownKeys=function(){for(var c in this._downKeys)if(this._downKeys.hasOwnProperty(c)&&this._downKeys[c]===!0)return!0;return!1},t=a.default,s.default=t},{"../core/main":283}],302:[function(t,o,s){"use strict";function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(b)}function c(b){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},u=function(b){if(b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var d=y();if(d&&d.has(b))return d.get(b);var f,h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in b){var g;Object.prototype.hasOwnProperty.call(b,f)&&((g=m?Object.getOwnPropertyDescriptor(b,f):null)&&(g.get||g.set)?Object.defineProperty(h,f,g):h[f]=b[f])}return h.default=b,d&&d.set(b,h),h}(t("../core/constants"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(b){var d,f,h,m,g;this._curElement!==null&&(!b.touches||0<b.touches.length)&&(d=this._curElement.elt,f=this.width,h=this.height,(m=b)&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0])),g=d.getBoundingClientRect(),f=d.scrollWidth/f||1,d=d.scrollHeight/h||1,h={x:(m.clientX-g.left)/f,y:(m.clientY-g.top)/d,winX:m.clientX,winY:m.clientY,id:m.identifier},this._setProperty("movedX",b.movementX),this._setProperty("movedY",b.movementY),this._setProperty("mouseX",h.x),this._setProperty("mouseY",h.y),this._setProperty("winMouseX",h.winX),this._setProperty("winMouseY",h.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(b){b.button===1?this._setProperty("mouseButton",u.CENTER):b.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},l.default.prototype._onmousemove=function(b){var d=this._isGlobal?window:this;this._updateNextMouseCoords(b),this.mouseIsPressed?typeof d.mouseDragged=="function"?d.mouseDragged(b)===!1&&b.preventDefault():typeof d.touchMoved=="function"&&d.touchMoved(b)===!1&&b.preventDefault():typeof d.mouseMoved=="function"&&d.mouseMoved(b)===!1&&b.preventDefault()},l.default.prototype._onmousedown=function(b){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(b),this._updateNextMouseCoords(b),this.touchstart||(typeof d.mousePressed=="function"?d.mousePressed(b)===!1&&b.preventDefault():typeof d.touchStarted=="function"&&d.touchStarted(b)===!1&&b.preventDefault(),this.touchstart=!1)},l.default.prototype._onmouseup=function(b){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof d.mouseReleased=="function"?d.mouseReleased(b)===!1&&b.preventDefault():typeof d.touchEnded=="function"&&d.touchEnded(b)===!1&&b.preventDefault(),this.touchend=!1)},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(b){var d=this._isGlobal?window:this;typeof d.mouseClicked=="function"&&d.mouseClicked(b)===!1&&b.preventDefault()},l.default.prototype._ondblclick=function(b){var d=this._isGlobal?window:this;typeof d.doubleClicked=="function"&&d.doubleClicked(b)===!1&&b.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(b){var d=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",b.deltaY),typeof d.mouseWheel=="function"&&(b.delta=b.deltaY,d.mouseWheel(b)===!1&&b.preventDefault())},l.default.prototype.requestPointerLock=function(){var b=this._curElement.elt;return b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock,b.requestPointerLock?(b.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=l.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var c=[],l=0;l<a.touches.length;l++)c[l]=function(g,m,p,d){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,h=g.getBoundingClientRect(),m=g.scrollWidth/m||1,g=g.scrollHeight/p||1,p=d.touches[f]||d.changedTouches[f];return{x:(p.clientX-h.left)/m,y:(p.clientY-h.top)/g,winX:p.clientX,winY:p.clientY,id:p.identifier}}(this._curElement.elt,this.width,this.height,a,l);this._setProperty("touches",c)}},t.default.prototype._ontouchstart=function(a){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof c.touchStarted=="function"&&(c.touchStarted(a)===!1&&a.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(a){var c=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof c.touchMoved=="function"?c.touchMoved(a)===!1&&a.preventDefault():typeof c.mouseDragged=="function"&&c.mouseDragged(a)===!1&&a.preventDefault()},t.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var c=this._isGlobal?window:this;typeof c.touchEnded=="function"&&(c.touchEnded(a)===!1&&a.preventDefault(),this.touchend=!0)},t=t.default,s.default=t},{"../core/main":283}],304:[function(t,o,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,c,l,u,y={_toPixels:function(b){var d,f;return b instanceof ImageData?b.data:b.getContext("2d")?b.getContext("2d").getImageData(0,0,b.width,b.height).data:b.getContext("webgl")?(f=(d=b.getContext("webgl")).drawingBufferWidth*d.drawingBufferHeight*4,f=new Uint8Array(f),d.readPixels(0,0,b.width,b.height,d.RGBA,d.UNSIGNED_BYTE,f),f):void 0},_getARGB:function(b,d){return d*=4,b[3+d]<<24&4278190080|b[d]<<16&16711680|b[1+d]<<8&65280|255&b[2+d]},_setPixels:function(b,d){for(var f,h=0,m=b.length;h<m;h++)b[0+(f=4*h)]=(16711680&d[h])>>>16,b[1+f]=(65280&d[h])>>>8,b[2+f]=255&d[h],b[3+f]=(4278190080&d[h])>>>24},_toImageData:function(b){return b instanceof ImageData?b:b.getContext("2d").getImageData(0,0,b.width,b.height)},_createImageData:function(b,d){return y._tmpCanvas=document.createElement("canvas"),y._tmpCtx=y._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(b,d)},apply:function(b,g,f){var h=b.getContext("2d"),m=h.getImageData(0,0,b.width,b.height),g=g(m,f);g instanceof ImageData?h.putImageData(g,0,0,0,0,b.width,b.height):h.putImageData(m,0,0,0,0,b.width,b.height)},threshold:function(b){for(var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,f=y._toPixels(b),h=Math.floor(255*d),m=0;m<f.length;m+=4){var g=void 0,g=h<=.2126*f[m]+.7152*f[m+1]+.0722*f[m+2]?255:0;f[m]=f[m+1]=f[m+2]=g}},gray:function(b){for(var d=y._toPixels(b),f=0;f<d.length;f+=4){var h=d[f],m=d[f+1],g=d[f+2];d[f]=d[f+1]=d[f+2]=.2126*h+.7152*m+.0722*g}},opaque:function(b){for(var d=y._toPixels(b),f=0;f<d.length;f+=4)d[f+3]=255;return d},invert:function(b){for(var d=y._toPixels(b),f=0;f<d.length;f+=4)d[f]=255-d[f],d[f+1]=255-d[f+1],d[f+2]=255-d[f+2]},posterize:function(b){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,f=y._toPixels(b);if(d<2||255<d)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var h=d-1,m=0;m<f.length;m+=4){var g=f[m],p=f[m+1],v=f[m+2];f[m]=255*(g*d>>8)/h,f[m+1]=255*(p*d>>8)/h,f[m+2]=255*(v*d>>8)/h}},dilate:function(b){for(var d,f,h,m,g,p,v,_,w,S=y._toPixels(b),M=0,j=S.length?S.length/4:0,I=new Int32Array(j);M<j;)for(f=(d=M)+b.width;M<f;)m=h=y._getARGB(S,M),(w=M-1)<d&&(w=M),f<=(_=M+1)&&(_=M),(g=M-b.width)<0&&(g=0),j<=(p=M+b.width)&&(p=M),g=y._getARGB(S,g),w=y._getARGB(S,w),p=y._getARGB(S,p),(m=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(v=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(h=w,m=v),m<(v=77*((w=y._getARGB(S,_))>>16&255)+151*(w>>8&255)+28*(255&w))&&(h=w,m=v),m<(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(h=g,m=_),m<(w=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(h=p,m=w),I[M++]=h;y._setPixels(S,I)},erode:function(b){for(var d,f,h,m,g,p,v,_,w,S=y._toPixels(b),M=0,j=S.length?S.length/4:0,I=new Int32Array(j);M<j;)for(f=(d=M)+b.width;M<f;)m=h=y._getARGB(S,M),(w=M-1)<d&&(w=M),f<=(_=M+1)&&(_=M),(g=M-b.width)<0&&(g=0),j<=(p=M+b.width)&&(p=M),g=y._getARGB(S,g),w=y._getARGB(S,w),p=y._getARGB(S,p),(v=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<(m=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(h=w,m=v),(v=77*((w=y._getARGB(S,_))>>16&255)+151*(w>>8&255)+28*(255&w))<m&&(h=w,m=v),(_=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<m&&(h=g,m=_),(w=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<m&&(h=p,m=w),I[M++]=h;y._setPixels(S,I)},blur:function(b,d){for(var f,h,m,g,p,v,_,w,S,M,j=y._toPixels(b),I=b.width,D=b.height,P=I*D,A=new Int32Array(P),N=0;N<P;N++)A[N]=y._getARGB(j,N);var O,z,U,F,W,$,H,X,K=new Int32Array(P),ae=new Int32Array(P),L=new Int32Array(P),E=new Int32Array(P),B=0,G=3.5*d|0;if(a!==(G=G<1?1:G<248?G:248)){c=1+(a=G)<<1,l=new Int32Array(c),u=new Array(c);for(var Q=0;Q<c;Q++)u[Q]=new Int32Array(256);for(var ee=1,se=G-1;ee<G;ee++){l[G+ee]=l[se]=$=se*se,H=u[G+ee],X=u[se--];for(var ue=0;ue<256;ue++)H[ue]=X[ue]=$*ue}W=l[G]=G*G,H=u[G];for(var ie=0;ie<256;ie++)H[ie]=W*ie}for(z=0;z<D;z++){for(O=0;O<I;O++){if(g=m=h=p=f=0,(v=O-a)<0)M=-v,v=0;else{if(I<=v)break;M=0}for(U=M;U<c&&!(I<=v);U++){var de=A[v+B];F=u[U],p+=F[(-16777216&de)>>>24],h+=F[(16711680&de)>>16],m+=F[(65280&de)>>8],g+=F[255&de],f+=l[U],v++}K[_=B+O]=p/f,ae[_]=h/f,L[_]=m/f,E[_]=g/f}B+=I}for(S=(w=-a)*I,z=B=0;z<D;z++){for(O=0;O<I;O++){if(g=m=h=p=f=0,w<0)M=_=-w,v=O;else{if(D<=w)break;M=0,_=w,v=O+S}for(U=M;U<c&&!(D<=_);U++)F=u[U],p+=F[K[v]],h+=F[ae[v]],m+=F[L[v]],g+=F[E[v]],f+=l[U],_++,v+=I;A[O+B]=p/f<<24|h/f<<16|m/f<<8|g/f}B+=I,S+=I,w++}y._setPixels(j,A)}};s.default=y},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),c=l(t("omggif"));function l(y){return y&&y.__esModule?y:{default:y}}function u(y){return function(b){if(Array.isArray(b)){for(var d=0,f=new Array(b.length);d<b.length;d++)f[d]=b[d];return f}}(y)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(y,b){return a.default._validateParameters("createImage",arguments),new a.default.Image(y,b)},a.default.prototype.saveCanvas=function(){for(var y,b,d,f,h,m,g=arguments.length,p=new Array(g),v=0;v<g;v++)p[v]=arguments[v];switch(a.default._validateParameters("saveCanvas",p),p[0]instanceof HTMLCanvasElement?(y=p[0],p.shift()):p[0]instanceof a.default.Element?(y=p[0].elt,p.shift()):p[0]instanceof a.default.Framebuffer?(f=p[0],(h=this.createGraphics(f.width,f.height)).pixelDensity(pixelDensity()),f.loadPixels(),h.loadPixels(),h.pixels.set(f.pixels),h.updatePixels(),y=h.elt,p.shift()):y=this._curElement&&this._curElement.elt,1<=p.length&&(b=p[0]),d=(d=2<=p.length?p[1]:d)||a.default.prototype._checkFileExtension(b,d)[1]||"png"){default:m="image/png";break;case"webp":m="image/webp";break;case"jpeg":case"jpg":m="image/jpeg"}y.toBlob(function(_){a.default.prototype.downloadFile(_,b,d),h&&h.remove()},m)},a.default.prototype.encodeAndDownloadGif=function(y,b){for(var d=y.gifProperties,f=d.loopLimit,h=(f===1?f=null:f===null&&(f=0),new Uint8Array(y.width*y.height*d.numFrames)),m=[],g={},p=0;p<d.numFrames;p++){for(var v=new Set,_=d.frames[p].image.data,w=_.length,S=new Uint32Array(y.width*y.height),M=0,j=0;M<w;M+=4,j++){var I=_[M+0]<<16|_[M+1]<<8|_[M+2]<<0;v.add(I),S[j]=I}var D=u(v).sort().toString();g[D]===void 0?g[D]={freq:1,frames:[p]}:(g[D].freq+=1,g[D].frames.push(p)),m.push(S)}for(var N=[],P=Object.keys(g).sort(function(L,E){return g[E].freq-g[L].freq}),A=P[0].split(",").map(function(L){return parseInt(L)}),N=N.concat(g[A].frames),O=new Set(A),z=1;z<P.length;z++){var U=P[z].split(",").map(function(L){return parseInt(L)}).filter(function(L){return!O.has(L)});if(A.length+U.length<=256){for(var F=0;F<U.length;F++)A.push(U[F]),O.add(U[F]);N=N.concat(g[P[z]].frames)}}N=new Set(N);for(var W={},$=0;$<A.length;$++)W[A[$]]||(W[A[$]]=$);for(var H=1;H<A.length;)H<<=1;A.length=H;for(var f={loop:f,palette:new Uint32Array(A)},X=new c.default.GifWriter(h,y.width,y.height,f),K={},ae=0;ae<d.numFrames;ae++)(function(E){var B=!N.has(E),G=B?[]:A,Q=new Uint8Array(y.width*y.height),ee={},se=new Set,ue=(m[E].forEach(function(he,ve){B?(ee[he]===void 0&&(ee[he]=G.length,G.push(he)),Q[ve]=ee[he]):Q[ve]=W[he],0<E&&m[E-1][ve]!==he&&se.add(he)}),{}),ie=G.filter(function(he){return!se.has(he)});if(0<ie.length){var ie=ie[0],de=(B?ee:W)[ie];if(0<E){for(var fe=0;fe<m[E].length;fe++)m[E-1][fe]===m[E][fe]&&(Q[fe]=de);ue.transparent=de,K.frameOpts.disposal=1}}if(ue.delay=d.frames[E].delay/10,B){for(var te=1;te<G.length;)te<<=1;G.length=te,ue.palette=new Uint32Array(G)}0<E&&X.addFrame(0,0,y.width,y.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:Q,frameOpts:ue}})(ae);K.frameOpts.disposal=1,X.addFrame(0,0,y.width,y.height,K.pixelPaletteIndex,K.frameOpts),f=new Blob([h.slice(0,X.end())],{type:"image/gif"}),a.default.prototype.downloadFile(f,b,"gif")},a.default.prototype.saveFrames=function(y,b,d,m,h){a.default._validateParameters("saveFrames",arguments),d=a.default.prototype.constrain(d=d||3,0,15),d*=1e3;var m=a.default.prototype.constrain(m||15,0,22),g=0,p=a.default.prototype._makeFrame,v=this._curElement.elt,_=[],w=setInterval(function(){_.push(p(y+g,b,v)),g++},1e3/m);setTimeout(function(){if(clearInterval(w),h)h(_);else for(var S=0,M=_;S<M.length;S++){var j=M[S];a.default.prototype.downloadFile(j.imageData,j.filename,j.ext)}_=[]},.01+d)},a.default.prototype._makeFrame=function(y,b,h){var f,h=this?this._curElement.elt:h;if(b)switch(b.toLowerCase()){case"png":f="image/png";break;case"jpeg":case"jpg":f="image/jpeg";break;default:f="image/png"}else b="png",f="image/png";var h=(h=h.toDataURL(f)).replace(f,"image/octet-stream"),m={};return m.imageData=h,m.filename=y,m.ext=b,m},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,o,s){"use strict";function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function c(v){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var l=h(t("../core/main")),u=h(t("../core/helpers")),y=function(v){if(v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var _=f();if(_&&_.has(v))return _.get(v);var w,S={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var j;Object.prototype.hasOwnProperty.call(v,w)&&((j=M?Object.getOwnPropertyDescriptor(v,w):null)&&(j.get||j.set)?Object.defineProperty(S,w,j):S[w]=v[w])}return S.default=v,_&&_.set(v,S),S}(t("../core/constants")),b=h(t("omggif")),d=t("gifenc");function f(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,f=function(){return v},v)}function h(v){return v&&v.__esModule?v:{default:v}}function m(v,_,w,S,M,j,I){try{var D=v[j](I),P=D.value}catch(A){return void w(A)}D.done?_(P):Promise.resolve(P).then(S,M)}function g(v,_,w,S,M,j,I,D,P,A,N){var O,z,U,F,W,$,H,X,K;return v===y.COVER&&(O=_,U=w,H=j,X=I,$=D,K=P,z=A,F=N,W=Math.max(H/z,X/F),H/=W,X/=W,W=$,$=K,O===y.CENTER?W+=(z-H)/2:O===y.RIGHT&&(W+=z-H),U===y.CENTER?$+=(F-X)/2:U===y.BOTTOM&&($+=F-X),D=(K={x:W,y:$,w:H,h:X}).x,P=K.y,A=K.w,N=K.h),v===y.CONTAIN&&(O=_,z=w,U=S,F=M,W=j,$=I,H=A,X=N,K=Math.max(H/W,X/$),H/=K,X/=K,K=U,U=F,O===y.CENTER?K+=(W-H)/2:O===y.RIGHT&&(K+=W-H),z===y.CENTER?U+=($-X)/2:z===y.BOTTOM&&(U+=$-X),S=(v={x:K,y:U,w:H,h:X}).x,M=v.y,j=v.w,I=v.h),{sx:D,sy:P,sw:A,sh:N,dx:S,dy:M,dw:j,dh:I}}function p(v,_){return 0<v&&v<_?v:_}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(v,_,w){l.default._validateParameters("loadImage",arguments);var S=new l.default.Image(1,1,this),M=this,j=new Request(v,{method:"GET",mode:"cors"});return fetch(v,j).then(function(I){var D,P=I.headers.get("content-type");P===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),P&&P.includes("image/gif")?I.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),N=S,O=_,z=w,U=function(B){M._decrementPreload()}.bind(M),F=new b.default.GifReader(A),W=(N.width=N.canvas.width=F.width,N.height=N.canvas.height=F.height,[]),$=F.numFrames(),H=new Uint8ClampedArray(N.width*N.height*4),X=0;X<$;X++){var K=F.frameInfo(X),ae=N.drawingContext.getImageData(0,0,N.width,N.height),L=(H=ae.data.slice(),function(B,G){try{G.decodeAndBlitFrameRGBA(B,H)}catch(Q){l.default._friendlyFileLoadError(8,N.src),typeof z=="function"?z(Q):console.error(Q)}}(X,F),new ImageData(H,N.width,N.height)),L=(N.drawingContext.putImageData(L,0,0),K.delay);L===0&&(L=10),W.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*L}),K.disposal===2?N.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&N.drawingContext.putImageData(ae,0,0,K.x,K.y,K.width,K.height)}(A=F.loopCount())===null?A=1:A===0&&(A=null),N.drawingContext.putImageData(W[0].image,0,0),1<W.length&&(N.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:W,numFrames:$,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(N),U()}},function(A){typeof w=="function"?(w(A),M._decrementPreload()):console.error(A)}):((D=new Image).onload=function(){S.width=S.canvas.width=D.width,S.height=S.canvas.height=D.height,S.drawingContext.drawImage(D,0,0),S.modified=!0,typeof _=="function"&&_(S),M._decrementPreload()},D.onerror=function(A){l.default._friendlyFileLoadError(0,D.src),typeof w=="function"?(w(A),M._decrementPreload()):console.error(A)},v.indexOf("data:image/")!==0&&(D.crossOrigin="Anonymous"),D.src=v),S.modified=!0}).catch(function(I){l.default._friendlyFileLoadError(0,v),typeof w=="function"?(w(I),M._decrementPreload()):console.error(I)}),S},l.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function w(S,M){var j,I,D,P,A,N,O,z,U,F,W,$,H,X,K,ae,L,E,B,G,Q,ee,se,ue,ie,de,fe=arguments;return regeneratorRuntime.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(j=2<fe.length&&fe[2]!==void 0?fe[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof S!="string")throw TypeError("fileName parameter must be a string");te.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");te.next=5;break;case 5:if(I=j&&j.delay||0,D=j&&j.units||"seconds",P=j&&j.silent||!1,A=j&&j.notificationDuration||0,N=j&&j.notificationID||"progressBar",typeof I!="number")throw TypeError("Delay parameter must be a number");te.next=12;break;case 12:if(D!=="seconds"&&D!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');te.next=14;break;case 14:if(typeof P!="boolean")throw TypeError("Silent parameter must be a boolean");te.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");te.next=18;break;case 18:if(typeof N!="string")throw TypeError("Notification ID parameter must be a string");te.next=20;break;case 20:return this._recording=!0,F=this._targetFrameRate,O=(O=1/(F=F!==1/0&&F!==void 0&&F!==0?F:60)*1e3)<20?20:O,U=(z=D==="seconds"?M*F:M)+(F=D==="seconds"?I*F:I),F=F,this.frameCount=F,W=this._pixelDensity,this.pixelDensity(1),$=[],document.getElementById(N)!==null&&document.getElementById(N).remove(),P||((H=this.createP("")).id(N),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0)),this._renderer instanceof l.default.RendererGL&&(K=this.drawingContext,X=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),te.next=39,Promise.resolve();case 39:if(F<U)return this.redraw(),ue=void 0,ue=this._renderer instanceof l.default.RendererGL?(X=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,X),function(he,ve,Ce){for(var ye=parseInt(Ce/2),_e=4*ve,De=new Uint8Array(4*ve),We=0;We<ye;++We){var Oe=We*_e,st=(Ce-We-1)*_e;De.set(he.subarray(Oe,Oe+_e)),he.copyWithin(Oe,st,st+_e),he.set(De,st)}return he}(X,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,$.push(ue),F++,P||H.html("Saved frame <b>"+$.length.toString()+"</b> out of "+z.toString()),te.next=48,new Promise(function(he){return setTimeout(he,0)});te.next=50;break;case 48:te.next=39;break;case 50:P||H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(W),ae=(0,d.GIFEncoder)(),L=function(he){for(var ve=new Uint8Array(he.length*he[0].length),Ce=0;Ce<he.length;Ce++)ve.set(he[Ce],Ce*he[0].length);var ye=(0,d.quantize)(ve,256,{format:"rgba4444",oneBitAlpha:!0});return ye.length===256?ye[ye.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ye.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ye}($),E={},B=function(he){for(var ve=he.length/4,Ce=new Uint8Array(ve),ye=0;ye<ve;ye++){var _e=he[4*ye]<<24|he[4*ye+1]<<16|he[4*ye+2]<<8|he[4*ye+3];E[_e]===void 0&&(E[_e]=(0,d.nearestColorIndex)(L,he.slice(4*ye,4*(ye+1)))),Ce[ye]=E[_e]}return Ce},G=L.length-1,Q=[],ee=0;case 60:if(!(ee<$.length)){te.next=71;break}if(se=B($[ee]),ue=se.slice(),ee===0)ae.writeFrame(se,this.width,this.height,{palette:L,delay:O,dispose:1});else{for(ie=0;ie<se.length;ie++)se[ie]===Q[ie]&&(se[ie]=G);ae.writeFrame(se,this.width,this.height,{delay:O,transparent:!0,transparentIndex:G,dispose:1})}return Q=ue,P||H.html("Rendered frame <b>"+ee.toString()+"</b> out of "+z.toString()),te.next=68,new Promise(function(he){return setTimeout(he,0)});case 68:ee++,te.next=60;break;case 71:ae.finish(),de=ae.bytesView(),de=new Blob([de],{type:"image/gif"}),$=[],this._recording=!1,this.loop(),P||(H.html("Done. Downloading your gif!\u{1F338}"),0<A&&setTimeout(function(){return H.remove()},1e3*A)),l.default.prototype.downloadFile(de,S,"gif");case 80:case"end":return te.stop()}},w,this)});var v,_=function(){var w=this,S=arguments;return new Promise(function(M,j){var I=v.apply(w,S);function D(A){m(I,M,j,D,P,"next",A)}function P(A){m(I,M,j,D,P,"throw",A)}D(void 0)})};return function(w,S){return _.apply(this,arguments)}}(),l.default.prototype.image=function(v,_,w,S,F,W,$,H,K,A,N,O){l.default._validateParameters("image",arguments);var X=v.width,z=v.height,U=(O=O||y.CENTER,N=N||y.CENTER,v.elt&&(X=X!==void 0?X:v.elt.width,z=z!==void 0?z:v.elt.height),v.elt&&v.elt.videoWidth&&!v.canvas&&(X=X!==void 0?X:v.elt.videoWidth,z=z!==void 0?z:v.elt.videoHeight),S||X),F=F||z,W=W||0,$=$||0,H=p(H!==void 0?H:X,X),X=p(K!==void 0?K:z,z),K=1;v.elt&&!v.canvas&&v.elt.style.width&&(K=v.elt.videoWidth&&!S?v.elt.videoWidth:v.elt.width,K/=parseInt(v.elt.style.width,10)),W*=K,$*=K,X*=K,H*=K,z=g(A,N,O,(z=u.default.modeAdjust(_,w,U,F,this._renderer._imageMode)).x,z.y,z.w,z.h,W,$,H,X),this._renderer.image(v,z.sx,z.sy,z.sw,z.sh,z.dx,z.dy,z.dw,z.dh)},l.default.prototype.tint=function(){for(var v=arguments.length,_=new Array(v),w=0;w<v;w++)_[w]=arguments[w];l.default._validateParameters("tint",_);var S=this.color.apply(this,_);this._renderer._tint=S.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(v){l.default._validateParameters("imageMode",arguments),v!==y.CORNER&&v!==y.CORNERS&&v!==y.CENTER||(this._renderer._imageMode=v)},t=l.default,s.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),c=l(t("./filters"));function l(y){return y&&y.__esModule?y:{default:y}}function u(y,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}a.default.Image=function(){function y(h,m){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var b,d,f;return b=y,(d=[{key:"pixelDensity",value:function(h){return h!==void 0?(h<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(p){var m,g=this.gifProperties,p=p._lastRealFrameTime||window.performance.now();g.lastChangeTime===0&&(g.lastChangeTime=p),g.playing&&(g.timeDisplayed=p-g.lastChangeTime,m=g.frames[g.displayIndex].delay,g.timeDisplayed>=m&&(m=Math.floor(g.timeDisplayed/m),g.timeDisplayed=0,g.lastChangeTime=p,g.displayIndex+=m,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(p=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[p].image,0,0),g.displayIndex=p,this.setModified(!0))))}},{key:"_setProperty",value:function(h,m){this[h]=m,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,m,g,p){a.default.Renderer2D.prototype.updatePixels.call(this,h,m,g,p),this.setModified(!0)}},{key:"get",value:function(h,m,g,p){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return a.default.Renderer2D.prototype._getPixel.apply(this,m)}},{key:"set",value:function(h,m,g){a.default.Renderer2D.prototype.set.call(this,h,m,g),this.setModified(!0)}},{key:"resize",value:function(h,m){h===0&&m===0?(h=this.canvas.width,m=this.canvas.height):h===0?h=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*h/this.canvas.width),h=Math.floor(h),m=Math.floor(m);var g=document.createElement("canvas");if(g.width=h,g.height=m,this.gifProperties)for(var p=this.gifProperties,v=0;v<p.numFrames;v++){for(var _=this.drawingContext.createImageData(h,m),w=(D=D=I=j=M=void 0,p.frames[v].image),S=_,M=0,j=0;j<S.height;j++)for(var I=0;I<S.width;I++){var D=Math.floor(I*w.width/S.width),D=4*(Math.floor(j*w.height/S.height)*w.width+D);S.data[M++]=w.data[D++],S.data[M++]=w.data[D++],S.data[M++]=w.data[D++],S.data[M++]=w.data[+D]}p.frames[v].image=_}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=h,this.canvas.height=this.height=m,this.drawingContext.drawImage(g,0,0,h,m,0,0,h,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];a.default.prototype.copy.apply(this,m)}},{key:"mask",value:function(h){var m=this.drawingContext.globalCompositeOperation,g=this._pixelDensity,p=1,v=[h=h===void 0?this:h,0,0,(p=h instanceof a.default.Renderer?h._pInst._pixelDensity:p)*h.width,p*h.height,0,0,g*this.width,g*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var _=0;_<this.gifProperties.frames.length;_++)this.drawingContext.putImageData(this.gifProperties.frames[_].image,0,0),this.copy.apply(this,v),this.gifProperties.frames[_].image=this.drawingContext.getImageData(0,0,g*this.width,g*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,v);this.drawingContext.globalCompositeOperation=m,this.setModified(!0)}},{key:"filter",value:function(h,m){c.default.apply(this.canvas,c.default[h],m),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,m),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,m){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,h):a.default.prototype.saveCanvas(this.canvas,h,m)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var m;this.gifProperties&&(h<(m=this.gifProperties).numFrames&&0<=h?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=h,this.drawingContext.putImageData(m.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,m){if(this.gifProperties){var g=this.gifProperties;if(m<g.numFrames&&0<=m)g.frames[m].delay=h;else{var p=!0,m=!1,v=void 0;try{for(var _,w=g.frames[Symbol.iterator]();!(p=(_=w.next()).done);p=!0)_.value.delay=h}catch(M){m=!0,v=M}finally{try{p||w.return==null||w.return()}finally{if(m)throw v}}}}}}])&&u(b.prototype,d),f&&u(b,f),y}(),t=a.default.Image,s.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,o,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),c=l(t("./filters"));function l(u){return u&&u.__esModule?u:{default:u}}t("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var u,y=arguments.length,b=new Array(y),d=0;d<y;d++)b[d]=arguments[d];a.default._validateParameters("blend",b),this._renderer?(u=this._renderer).blend.apply(u,b):a.default.Renderer2D.prototype.blend.apply(this,b)},a.default.prototype.copy=function(){for(var u,y,b,d,f,h,m,g,p,v=arguments.length,_=new Array(v),w=0;w<v;w++)_[w]=arguments[w];if(a.default._validateParameters("copy",_),_.length===9)u=_[0],y=_[1],b=_[2],d=_[3],f=_[4],h=_[5],m=_[6],g=_[7],p=_[8];else{if(_.length!==8)throw new Error("Signature not supported");u=this,y=_[0],b=_[1],d=_[2],f=_[3],h=_[4],m=_[5],g=_[6],p=_[7]}a.default.prototype._copyHelper(this,u,y,b,d,f,h,m,g,p)},a.default.prototype._copyHelper=function(u,y,b,d,f,h,m,g,p,v){var _=y.canvas.width/y.width,w=0,S=0;y._renderer&&y._renderer.isP3D&&(w=y.width/2,S=y.height/2),u._renderer&&u._renderer.isP3D?(u.push(),u.resetMatrix(),u.noLights(),u.blendMode(u.BLEND),u.imageMode(u.CORNER),a.default.RendererGL.prototype.image.call(u._renderer,y,b+w,d+S,f,h,m,g,p,v),u.pop()):u.drawingContext.drawImage(y.canvas,_*(b+w),_*(d+S),_*f,_*h,m,g,p,v)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];a.default._validateParameters("filter",y);var m=function(){var g,p={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?p.shader=arguments.length<=0?void 0:arguments[0]:(p.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(p.value=arguments.length<=1?void 0:arguments[1]),((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])===!1&&(p.useWebGL=!1)),p}.apply(void 0,y),d=m.shader,f=m.operation,h=m.value,m=m.useWebGL;this._renderer.isP3D&&d?a.default.RendererGL.prototype.filter.call(this._renderer,d):m||this._renderer.isP3D?(!m&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,f,h):((d=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),d.filter.apply(d,y),this.copy(d._renderer,0,0,this.width,this.height,0,0,this.width,this.height),d.clear())):this.canvas!==void 0?c.default.apply(this.canvas,c.default[f],h):c.default.apply(this.elt,c.default[f],h)},a.default.prototype.get=function(u,y,b,d){var f;return a.default._validateParameters("get",arguments),(f=this._renderer).get.apply(f,arguments)},a.default.prototype.loadPixels=function(){for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];a.default._validateParameters("loadPixels",y),this._renderer.loadPixels()},a.default.prototype.set=function(u,y,b){this._renderer.set(u,y,b)},a.default.prototype.updatePixels=function(u,y,b,d){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,y,b,d)},t=a.default,s.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,o,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=y(t("../core/main")),l=(t("whatwg-fetch"),t("es6-promise/auto"),y(t("fetch-jsonp"))),u=y(t("file-saver"));function y(h){return h&&h.__esModule?h:{default:h}}function b(h){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(h)}function d(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(h,m){m&&m!==!0&&m!=="true"||(m="");var g="";return(h=h||"untitled")&&h.includes(".")&&(g=h.split(".").pop()),m&&g!==m&&(g=m,h="".concat(h,".").concat(g)),[h,g]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadJSON=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];c.default._validateParameters("loadJSON",m);for(var p,v,_,w=m[0],S={},M="json",j=1;j<m.length;j++){var I=m[j];typeof I=="string"?I!=="jsonp"&&I!=="json"||(M=I):typeof I=="function"?p?v=I:p=I:b(I)==="object"&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",_=I)}var D=this;return this.httpDo(w,"GET",_,M,function(P){for(var A in P)S[A]=P[A];p!==void 0&&p(P),D._decrementPreload()},function(P){if(c.default._friendlyFileLoadError(5,w),!v)throw P;v(P)}),S},c.default.prototype.loadStrings=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];c.default._validateParameters("loadStrings",m);for(var p,v,_=[],w=1;w<m.length;w++){var S=m[w];typeof S=="function"&&(p===void 0?p=S:v===void 0&&(v=S))}var M=this;return c.default.prototype.httpDo.call(this,m[0],"GET","text",function(j){for(var I=j.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),D=0,P=I.length;D<P;D+=32768)Array.prototype.push.apply(_,I.slice(D,Math.min(D+32768,P)));p!==void 0&&p(_),M._decrementPreload()},function(j){if(c.default._friendlyFileLoadError(3,j),!v)throw j;v(j)}),_},c.default.prototype.loadTable=function(h){var m,g,p,v=[],_=!1,w=h.substring(h.lastIndexOf(".")+1,h.length);w==="csv"?p=",":w==="ssv"?p=";":w==="tsv"&&(p="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?m===void 0?m=arguments[S]:g===void 0&&(g=arguments[S]):typeof arguments[S]=="string"&&(v.push(arguments[S]),arguments[S]==="header"&&(_=!0),arguments[S]==="csv"?p=",":arguments[S]==="ssv"?p=";":arguments[S]==="tsv"&&(p="	"));var M=new c.default.Table,j=this;return this.httpDo(h,"GET","table",function(I){for(var D,P,A={},N=0,O=[],z=0,U=null,F=function(){A.currentState=N,A.token=""},W=function(){U.push(A.token),F()},$=function(){A.currentState=4,O.push(U),U=null};;){if((D=I[z++])==null){if(A.escaped)throw new Error("Unclosed quote in file.");if(U){W(),$();break}}if(U===null&&(A.escaped=!1,U=[],F()),A.currentState===N){if(D==='"'){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(A.currentState===1&&A.escaped)if(D==='"')I[z]==='"'?(A.token+='"',z++):(A.escaped=!1,A.currentState=2);else{if(D==="\r")continue;A.token+=D}else D==="\r"?(I[z]===`
`&&z++,W(),$()):D===`
`?(W(),$()):D===p?W():A.currentState===1&&(A.token+=D)}if(_)M.columns=O.shift();else for(var H=0;H<O[0].length;H++)M.columns[H]="null";for(var X=0;X<O.length;X++)(O[X].length!==1||O[X][0]!=="undefined"&&O[X][0]!=="")&&((P=new c.default.TableRow).arr=O[X],P.obj=function(K,ae){if((ae=ae||[])===void 0)for(var L=0;L<K.length;L++)ae[L.toString()]=L;return Object.fromEntries(ae.map(function(E,B){return[E,K[B]]}))}(O[X],M.columns),M.addRow(P));typeof m=="function"&&m(M),j._decrementPreload()},function(I){c.default._friendlyFileLoadError(2,h),g?g(I):console.error(I)}),M},c.default.prototype.loadXML=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];for(var p,v,_=new c.default.XML,w=1;w<m.length;w++){var S=m[w];typeof S=="function"&&(p===void 0?p=S:v===void 0&&(v=S))}var M=this;return this.httpDo(m[0],"GET","xml",function(j){for(var I in j)_[I]=j[I];p!==void 0&&p(_),M._decrementPreload()},function(j){if(c.default._friendlyFileLoadError(1,j),!v)throw j;v(j)}),_},c.default.prototype.loadBytes=function(h,m,g){var p={},v=this;return this.httpDo(h,"GET","arrayBuffer",function(_){p.bytes=new Uint8Array(_),typeof m=="function"&&m(p),v._decrementPreload()},function(_){if(c.default._friendlyFileLoadError(6,h),!g)throw _;g(_)}),p},c.default.prototype.httpGet=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return c.default._validateParameters("httpGet",m),m.splice(1,0,"GET"),c.default.prototype.httpDo.apply(this,m)},c.default.prototype.httpPost=function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return c.default._validateParameters("httpPost",m),m.splice(1,0,"POST"),c.default.prototype.httpDo.apply(this,m)},c.default.prototype.httpDo=function(){for(var h,m,g,p={},v=0,_="text/plain",w=arguments.length-1;0<w&&typeof(w<0||arguments.length<=w?void 0:arguments[w])=="function";w--)v++;var S=arguments.length-v,M=arguments.length<=0?void 0:arguments[0];if(S==2&&typeof M=="string"&&b(arguments.length<=1?void 0:arguments[1])==="object")N=new Request(M,arguments.length<=1?void 0:arguments[1]),m=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3];else{for(var j,I="GET",D=1;D<arguments.length;D++){var P=D<0||arguments.length<=D?void 0:arguments[D];if(typeof P=="string")P==="GET"||P==="POST"||P==="PUT"||P==="DELETE"?I=P:P==="json"||P==="jsonp"||P==="binary"||P==="arrayBuffer"||P==="xml"||P==="text"||P==="table"?h=P:j=P;else if(typeof P=="number")j=P.toString();else if(b(P)==="object")if(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))for(var A in P)p[A]=P[A];else _=P instanceof c.default.XML?(j=P.serialize(),"application/xml"):(j=JSON.stringify(P),"application/json");else typeof P=="function"&&(m?g=P:m=P)}var S=I==="GET"?new Headers:new Headers({"Content-Type":_}),N=new Request(M,{method:I,mode:"cors",body:j,headers:S})}return(S=(S=(h=h||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(M,p):fetch(N)).then(function(O){if(!O.ok)throw(z=new Error(O.body)).status=O.status,z.ok=!1,z;var z=0;switch((z=h!=="jsonp"?O.headers.get("content-length"):z)&&64e6<z&&c.default._friendlyFileLoadError(7,M),h){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(U){return U=new DOMParser().parseFromString(U,"text/xml"),new c.default.XML(U.documentElement)});default:return O.text()}})).then(m||function(){}),S.catch(g||console.error),S},window.URL=window.URL||window.webkitURL,c.default.prototype._pWriters=[],c.default.prototype.createWriter=function(h,m){var g,p;for(p in c.default.prototype._pWriters)if(c.default.prototype._pWriters[p].name===h)return g=new c.default.PrintWriter(h+this.millis(),m),c.default.prototype._pWriters.push(g),g;return g=new c.default.PrintWriter(h,m),c.default.prototype._pWriters.push(g),g},c.default.PrintWriter=function(h,m){var g=this;this.name=h,this.content="",this.write=function(p){this.content+=p},this.print=function(p){this.content+="".concat(p,`
`)},this.clear=function(){this.content=""},this.close=function(){var p,v=[];for(p in v.push(this.content),c.default.prototype.writeFile(v,h,m),c.default.prototype._pWriters)c.default.prototype._pWriters[p].name===this.name&&c.default.prototype._pWriters.splice(p,1);g.clear(),g={}}},c.default.prototype.save=function(h,m,g){var p=arguments,v=(this._curElement||this).elt;if(p.length===0)c.default.prototype.saveCanvas(v);else if(p[0]instanceof c.default.Renderer||p[0]instanceof c.default.Graphics)c.default.prototype.saveCanvas(p[0].elt,p[1],p[2]);else if(p.length===1&&typeof p[0]=="string")c.default.prototype.saveCanvas(v,p[0]);else switch(f(p[1],p[2])[1]){case"json":return void c.default.prototype.saveJSON(p[0],p[1],p[2]);case"txt":return void c.default.prototype.saveStrings(p[0],p[1],p[2]);default:p[0]instanceof Array?c.default.prototype.saveStrings(p[0],p[1],p[2]):p[0]instanceof c.default.Table?c.default.prototype.saveTable(p[0],p[1],p[2]):p[0]instanceof c.default.Image?c.default.prototype.saveCanvas(p[0].canvas,p[1]):p[0]instanceof c.default.SoundFile&&c.default.prototype.saveSound(p[0],p[1],p[2],p[3])}},c.default.prototype.saveJSON=function(h,m,g){c.default._validateParameters("saveJSON",arguments),g=g?JSON.stringify(h):JSON.stringify(h,void 0,2),this.saveStrings(g.split(`
`),m,"json")},c.default.prototype.saveJSONObject=c.default.prototype.saveJSON,c.default.prototype.saveJSONArray=c.default.prototype.saveJSON,c.default.prototype.saveStrings=function(h,m,g,p){c.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(m,g||"txt"),_=0;_<h.length;_++)p?v.write(h[_]+`\r
`):v.write(h[_]+`
`);v.close(),v.clear()},c.default.prototype.saveTable=function(h,m,g){c.default._validateParameters("saveTable",arguments),p=g===void 0?m.substring(m.lastIndexOf(".")+1,m.length):g;var p,v=this.createWriter(m,p),_=h.columns,w=p==="tsv"?"	":",";if(p!=="html"){if(_[0]!=="0"){for(var S=0;S<_.length;S++)S<_.length-1?v.write(_[S]+w):v.write(_[S]);v.write(`
`)}for(var M=0;M<h.rows.length;M++){for(var j=void 0,j=0;j<h.rows[M].arr.length;j++)j<h.rows[M].arr.length-1?p==="csv"&&String(h.rows[M].arr[j]).includes(",")?v.write('"'+h.rows[M].arr[j]+'"'+w):v.write(h.rows[M].arr[j]+w):p==="csv"&&String(h.rows[M].arr[j]).includes(",")?v.write('"'+h.rows[M].arr[j]+'"'):v.write(h.rows[M].arr[j]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),_[0]!=="0"){v.print("    <tr>");for(var I=0;I<_.length;I++){var D=d(_[I]);v.print("      <td>".concat(D)),v.print("      </td>")}v.print("    </tr>")}for(var P=0;P<h.rows.length;P++){v.print("    <tr>");for(var A=0;A<h.columns.length;A++){var N=d(h.rows[P].getString(A));v.print("      <td>".concat(N)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},c.default.prototype.writeFile=function(v,m,g){var p="application/octet-stream",v=(c.default.prototype._isSafari()&&(p="text/plain"),new Blob(v,{type:p}));c.default.prototype.downloadFile(v,m,g)},c.default.prototype.downloadFile=function(h,v,_){var p,v=f(v,_),_=v[0];h instanceof Blob?u.default.saveAs(h,_):((p=document.createElement("a")).href=h,p.download=_,p.onclick=function(w){document.body.removeChild(w.target),w.stopPropagation()},p.style.display="none",document.body.appendChild(p),c.default.prototype._isSafari()&&(h=(h=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(h)),p.click())},c.default.prototype._checkFileExtension=f,c.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=c.default,s.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(l,u){for(var y=0;y<u.length;y++){var b=u[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}a.default.Table=function(){function l(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],f=this,h=l;if(!(f instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=d}var u,y,b;return u=l,(y=[{key:"addRow",value:function(d){if(d=d||new a.default.TableRow,d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d}},{key:"removeRow",value:function(d){this.rows[d].table=null,d=this.rows.splice(d+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(d)}},{key:"getRow",value:function(d){return this.rows[d]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(d,f){if(typeof f=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[f]===d)return this.rows[h]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[f]===d)return this.rows[m];return null}},{key:"findRows",value:function(d,f){var h=[];if(typeof f=="string")for(var m=0;m<this.rows.length;m++)this.rows[m].obj[f]===d&&h.push(this.rows[m]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[f]===d&&h.push(this.rows[g]);return h}},{key:"matchRow",value:function(d,f){if(typeof f=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[f].match(d))return this.rows[h]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[f].match(d))return this.rows[m];return null}},{key:"matchRows",value:function(d,f){var h=[];if(typeof f=="number")for(var m=0;m<this.rows.length;m++)this.rows[m].arr[f].match(d)&&h.push(this.rows[m]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[f].match(d)&&h.push(this.rows[g]);return h}},{key:"getColumn",value:function(d){var f=[];if(typeof d=="string")for(var h=0;h<this.rows.length;h++)f.push(this.rows[h].obj[d]);else for(var m=0;m<this.rows.length;m++)f.push(this.rows[m].arr[d]);return f}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(d){this.columns.push(d||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(d,f){for(var h=[],m=0;m<d.length;m++)h.push(d.charAt(m).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(h.join("|"),"g");if(f===void 0)for(var p=0;p<this.columns.length;p++)for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].arr[p]).replace(g,"");this.rows[v].arr[p]=_,this.rows[v].obj[this.columns[p]]=_}else if(typeof f=="string")for(var w=0;w<this.rows.length;w++){var S=(S=this.rows[w].obj[f]).replace(g,""),M=(this.rows[w].obj[f]=S,this.columns.indexOf(f));this.rows[w].arr[M]=S}else for(var j=0;j<this.rows.length;j++){var I=(I=this.rows[j].arr[f]).replace(g,"");this.rows[j].arr[f]=I,this.rows[j].obj[this.columns[f]]=I}}},{key:"trim",value:function(d){var f=new RegExp(" ","g");if(d===void 0)for(var h=0;h<this.columns.length;h++)for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].arr[h]).replace(f,"");this.rows[m].arr[h]=g,this.rows[m].obj[this.columns[h]]=g}else if(typeof d=="string")for(var p=0;p<this.rows.length;p++){var v=(v=this.rows[p].obj[d]).replace(f,""),_=(this.rows[p].obj[d]=v,this.columns.indexOf(d));this.rows[p].arr[_]=v}else for(var w=0;w<this.rows.length;w++){var S=(S=this.rows[w].arr[d]).replace(f,"");this.rows[w].arr[d]=S,this.rows[w].obj[this.columns[d]]=S}}},{key:"removeColumn",value:function(m){typeof m=="string"?h=this.columns.indexOf(f=m):f=this.columns[h=m];var f,h,m=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(m);for(var g=0;g<this.rows.length;g++){var p=this.rows[g].arr,v=p.splice(h+1,p.length);p.pop(),this.rows[g].arr=p.concat(v),delete this.rows[g].obj[f]}}},{key:"set",value:function(d,f,h){this.rows[d].set(f,h)}},{key:"setNum",value:function(d,f,h){this.rows[d].setNum(f,h)}},{key:"setString",value:function(d,f,h){this.rows[d].setString(f,h)}},{key:"get",value:function(d,f){return this.rows[d].get(f)}},{key:"getNum",value:function(d,f){return this.rows[d].getNum(f)}},{key:"getString",value:function(d,f){return this.rows[d].getString(f)}},{key:"getObject",value:function(d){for(var f,h={},m=0;m<this.rows.length;m++)if(f=this.rows[m].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));h[f[d]]=f}else h[m]=this.rows[m].obj;return h}},{key:"getArray",value:function(){for(var d=[],f=0;f<this.rows.length;f++)d.push(this.rows[f].arr);return d}}])&&c(u.prototype,y),b&&c(u,b),l}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,o,s){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(c,l){for(var u=0;u<l.length;u++){var y=l[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}t.default.TableRow=function(){function c(b,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f=[];b&&(f=b.split(d=d||",")),this.arr=f,this.obj=Object.fromEntries(f.entries()),this.table=null}var l,u,y;return l=c,(u=[{key:"set",value:function(b,d){if(typeof b=="string"){var f=this.table.columns.indexOf(b);if(!(0<=f))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=d,this.arr[f]=d}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=d,f=this.table.columns[b],this.obj[f]=d}}},{key:"setNum",value:function(b,d){d=parseFloat(d),this.set(b,d)}},{key:"setString",value:function(b,d){d=d.toString(),this.set(b,d)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var d=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(d.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return d}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&a(l.prototype,u),y&&a(l,y),c}(),t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,y){for(var b=0;b<y.length;b++){var d=y[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function l(u){for(var y=[],b=0;b<u.length;b++)y.push(new a.default.XML(u[b]));return y}a.default.XML=function(){function u(f){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");f?this.DOM=f:(f=document.implementation.createDocument(null,"doc"),this.DOM=f.createElement("root"))}var y,b,d;return y=u,(b=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(f){var h=this.DOM.innerHTML,m=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(f);g.innerHTML=h;for(var p=0;p<m.length;p++)g.setAttribute(m[p].nodeName,m[p].nodeValue);this.DOM=g}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var f=[],h=0;h<this.DOM.childNodes.length;h++)f.push(this.DOM.childNodes[h].nodeName);return f}},{key:"getChildren",value:function(f){return l(f?this.DOM.getElementsByTagName(f):this.DOM.children)}},{key:"getChild",value:function(f){if(typeof f!="string")return new a.default.XML(this.DOM.children[f]);var h=!0,m=!1,g=void 0;try{for(var p,v=this.DOM.children[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var _=p.value;if(_.tagName===f)return new a.default.XML(_)}}catch(w){m=!0,g=w}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}}},{key:"addChild",value:function(f){f instanceof a.default.XML&&this.DOM.appendChild(f.DOM)}},{key:"removeChild",value:function(f){var h=-1;if(typeof f=="string"){for(var m=0;m<this.DOM.children.length;m++)if(this.DOM.children[m].tagName===f){h=m;break}}else h=f;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var f=[],h=!0,m=!1,g=void 0;try{for(var p,v=this.DOM.attributes[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var _=p.value;f.push(_.nodeName)}}catch(w){m=!0,g=w}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}return f}},{key:"hasAttribute",value:function(f){var h={},m=!0,g=!1,p=void 0;try{for(var v,_=this.DOM.attributes[Symbol.iterator]();!(m=(v=_.next()).done);m=!0){var w=v.value;h[w.nodeName]=w.nodeValue}}catch(S){g=!0,p=S}finally{try{m||_.return==null||_.return()}finally{if(g)throw p}}return!!h[f]}},{key:"getNum",value:function(f,h){var m={},g=!0,p=!1,v=void 0;try{for(var _,w=this.DOM.attributes[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var S=_.value;m[S.nodeName]=S.nodeValue}}catch(M){p=!0,v=M}finally{try{g||w.return==null||w.return()}finally{if(p)throw v}}return Number(m[f])||h||0}},{key:"getString",value:function(f,h){var m={},g=!0,p=!1,v=void 0;try{for(var _,w=this.DOM.attributes[Symbol.iterator]();!(g=(_=w.next()).done);g=!0){var S=_.value;m[S.nodeName]=S.nodeValue}}catch(M){p=!0,v=M}finally{try{g||w.return==null||w.return()}finally{if(p)throw v}}return m[f]?String(m[f]):h||null}},{key:"setAttribute",value:function(f,h){this.DOM.setAttribute(f,h)}},{key:"getContent",value:function(f){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||f||null}},{key:"setContent",value:function(f){this.DOM.children.length||(this.DOM.textContent=f)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&c(y.prototype,b),d&&c(y,d),u}(),t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(l){return function(u){if(Array.isArray(u)){for(var y=0,b=new Array(u.length);y<u.length;y++)b[y]=u[y];return b}}(l)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(l,u,y){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(l,y),u)},a.default.prototype.dist=function(){for(var l=arguments.length,u=new Array(l),y=0;y<l;y++)u[y]=arguments[y];return a.default._validateParameters("dist",u),u.length===4?Math.hypot(u[2]-u[0],u[3]-u[1]):u.length===6?Math.hypot(u[3]-u[0],u[4]-u[1],u[5]-u[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(l,u,y){return a.default._validateParameters("lerp",arguments),y*(u-l)+l},a.default.prototype.log=Math.log,a.default.prototype.mag=function(l,u){return a.default._validateParameters("mag",arguments),Math.hypot(l,u)},a.default.prototype.map=function(l,u,y,b,d,f){return a.default._validateParameters("map",arguments),l=(l-u)/(y-u)*(d-b)+b,f?b<d?this.constrain(l,b,d):this.constrain(l,d,b):l},a.default.prototype.max=function(){for(var l=function(d){return Math.max.apply(Math,c(d))},u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return Array.isArray(y[0])?l(y[0]):l(y)},a.default.prototype.min=function(){for(var l=function(d){return Math.min.apply(Math,c(d))},u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return Array.isArray(y[0])?l(y[0]):l(y)},a.default.prototype.norm=function(l,u,y){return a.default._validateParameters("norm",arguments),this.map(l,u,y,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(l,u){return u?(u=Math.pow(10,u),Math.round(l*u)/u):Math.round(l)},a.default.prototype.sq=function(l){return l*l},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(b){a.default._validateParameters("fract",arguments);var u,y=0,b=Number(b);return isNaN(b)||Math.abs(b)===1/0?b:(b<0&&(b=-b,y=1),String(b).includes(".")&&!String(b).includes("e")?(u=String(b),u=+("0"+u.slice(u.indexOf("."))),Math.abs(y-u)):b<1?Math.abs(y-b):0)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,y,b){return(c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(d,f,h){var m=[null];return m.push.apply(m,f),f=new(Function.bind.apply(d,m)),h&&l(f,h.prototype),f}).apply(null,arguments)}function l(u,y){return(l=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b})(u,y)}a.default.prototype.createVector=function(u,y,b){return this instanceof a.default?c(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(u,y,b)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(b,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,b=(b=b("../core/main"))&&b.__esModule?b:{default:b};function a(d){return .5*(1-Math.cos(d*Math.PI))}var c,l=4095,u=4,y=.5,b=(b.default.prototype.noise=function(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(c==null){c=new Array(4096);for(var m=0;m<4096;m++)c[m]=Math.random()}d<0&&(d=-d),f<0&&(f=-f),h<0&&(h=-h);for(var g,p,v=Math.floor(d),_=Math.floor(f),w=Math.floor(h),S=d-v,M=f-_,j=h-w,I=0,D=.5,P=0;P<u;P++){var A=v+(_<<4)+(w<<8),N=a(S),O=a(M),z=c[A&l];z+=N*(c[A+1&l]-z),g=c[A+16&l],z+=O*((g+=N*(c[A+16+1&l]-g))-z),g=c[(A+=256)&l],g+=N*(c[A+1&l]-g),p=c[A+16&l],g+=O*((p+=N*(c[A+16+1&l]-p))-g),I+=(z+=a(j)*(g-z))*D,D*=y,v<<=1,_<<=1,w<<=1,1<=(S*=2)&&(v++,S--),1<=(M*=2)&&(_++,M--),1<=(j*=2)&&(w++,j--)}return I},b.default.prototype.noiseDetail=function(d,f){0<d&&(u=d),0<f&&(y=f)},b.default.prototype.noiseSeed=function(d){m=4294967296;var f,h,m,g={setSeed:function(v){h=f=(v??Math.random()*m)>>>0},getSeed:function(){return f},rand:function(){return(h=(1664525*h+1013904223)%m)/m}};g.setSeed(d),c=new Array(4096);for(var p=0;p<4096;p++)c[p]=g.rand()},b.default);s.default=b},{"../core/main":283}],316:[function(t,o,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var h=y();if(h&&h.has(f))return h.get(f);var m,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=p?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(g,m,v):g[m]=f[m])}return g.default=f,h&&h.set(f,g),g}(t("../core/constants"));function y(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,y=function(){return f},f)}function b(f,h){for(var m=0;m<h.length;m++){var g=h[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}l.default.Vector=function(){function f(){var w=this,p=f;if(!(w instanceof p))throw new TypeError("Cannot call a class as a function");var v,_,w=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],v=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(v=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=v,this.y=_,this.z=w}var h,m,g;return h=f,g=[{key:"fromAngle",value:function(p){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new l.default.Vector(v*Math.cos(p),v*Math.sin(p),0)}},{key:"fromAngles",value:function(j,S){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,w=Math.cos(S),S=Math.sin(S),M=Math.cos(j),j=Math.sin(j);return new l.default.Vector(_*j*S,-_*M,_*j*w)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*u.TWO_PI)}},{key:"random3D",value:function(){var p=Math.random()*u.TWO_PI,v=2*Math.random()-1,w=Math.sqrt(1-v*v),_=w*Math.cos(p),w=w*Math.sin(p);return new l.default.Vector(_,w,v)}},{key:"copy",value:function(p){return p.copy(p)}},{key:"add",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return M?M.set(w):(M=w.copy(),v.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),M.add(S),M}},{key:"rem",value:function(p,v){if(p instanceof l.default.Vector&&v instanceof l.default.Vector)return(p=p.copy()).rem(v),p}},{key:"sub",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return M?M.set(w):(M=w.copy(),v.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),M.sub(S),M}},{key:"mult",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return M?M.set(w):(M=w.copy(),v.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),M.mult(S),M}},{key:"rotate",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return v.length===2?M=w.copy():(M instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),M.set(w)),M.rotate(S),M}},{key:"div",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return M?M.set(w):(M=w.copy(),v.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),M.div(S),M}},{key:"dot",value:function(p,v){return p.dot(v)}},{key:"cross",value:function(p,v){return p.cross(v)}},{key:"dist",value:function(p,v){return p.dist(v)}},{key:"lerp",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2],j=v[3];return j?j.set(w):(j=w.copy(),v.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),j.lerp(S,M),j}},{key:"slerp",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2],j=v[3];return j?j.set(w):(j=w.copy(),v.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),j.slerp(S,M),j}},{key:"mag",value:function(p){return p.mag()}},{key:"magSq",value:function(p){return p.magSq()}},{key:"normalize",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1];return v.length<2?S=w.copy():(S instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),S.set(w)),S.normalize()}},{key:"limit",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return v.length<3?M=w.copy():(M instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),M.set(w)),M.limit(S)}},{key:"setMag",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return v.length<3?M=w.copy():(M instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),M.set(w)),M.setMag(S)}},{key:"heading",value:function(p){return p.heading()}},{key:"angleBetween",value:function(p,v){return p.angleBetween(v)}},{key:"reflect",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];return v.length<3?M=w.copy():(M instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),M.set(w)),M.reflect(S)}},{key:"array",value:function(p){return p.array()}},{key:"equals",value:function(p,v){var _;return p instanceof l.default.Vector?_=p:Array.isArray(p)?_=new l.default.Vector().set(p):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),_.equals(v)}}],(m=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(p,v,_){return p instanceof l.default.Vector?(this.x=p.x||0,this.y=p.y||0,this.z=p.z||0):Array.isArray(p)?(this.x=p[0]||0,this.y=p[1]||0,this.z=p[2]||0):(this.x=p||0,this.y=v||0,this.z=_||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(p,v,_){return p instanceof l.default.Vector?(this.x+=p.x||0,this.y+=p.y||0,this.z+=p.z||0):Array.isArray(p)?(this.x+=p[0]||0,this.y+=p[1]||0,this.z+=p[2]||0):(this.x+=p||0,this.y+=v||0,this.z+=_||0),this}},{key:"calculateRemainder2D",value:function(p,v){return p!==0&&(this.x=this.x%p),v!==0&&(this.y=this.y%v),this}},{key:"calculateRemainder3D",value:function(p,v,_){return p!==0&&(this.x=this.x%p),v!==0&&(this.y=this.y%v),_!==0&&(this.z=this.z%_),this}},{key:"rem",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w,S,M,j=v[0],I=v[1],D=v[2];if(j instanceof l.default.Vector){if([j.x,j.y,j.z].every(Number.isFinite))return w=parseFloat(j.x),S=parseFloat(j.y),M=parseFloat(j.z),this.calculateRemainder3D(w,S,M)}else if(Array.isArray(j)){if(j.every(Number.isFinite))return j.length===2?this.calculateRemainder2D(j[0],j[1]):j.length===3?this.calculateRemainder3D(j[0],j[1],j[2]):void 0}else if(v.length===1){if(Number.isFinite(j)&&j!==0)return this.x=this.x%j,this.y=this.y%j,this.z=this.z%j,this}else if(v.length===2){if(v.every(Number.isFinite))return this.calculateRemainder2D(j,I)}else if(v.length===3&&v.every(Number.isFinite))return this.calculateRemainder3D(j,I,D)}},{key:"sub",value:function(p,v,_){return p instanceof l.default.Vector?(this.x-=p.x||0,this.y-=p.y||0,this.z-=p.z||0):Array.isArray(p)?(this.x-=p[0]||0,this.y-=p[1]||0,this.z-=p[2]||0):(this.x-=p||0,this.y-=v||0,this.z-=_||0),this}},{key:"mult",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w,S=v[0],M=v[1],j=v[2];return S instanceof l.default.Vector?Number.isFinite(S.x)&&Number.isFinite(S.y)&&Number.isFinite(S.z)&&typeof S.x=="number"&&typeof S.y=="number"&&typeof S.z=="number"?(this.x*=S.x,this.y*=S.y,this.z*=S.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(S)?S.every(function(I){return Number.isFinite(I)})&&S.every(function(I){return typeof I=="number"})?S.length===1?(this.x*=S[0],this.y*=S[0],this.z*=S[0]):S.length===2?(this.x*=S[0],this.y*=S[1]):S.length===3&&(this.x*=S[0],this.y*=S[1],this.z*=S[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(w=v).every(function(I){return Number.isFinite(I)})&&w.every(function(I){return typeof I=="number"})?(v.length===1&&(this.x*=S,this.y*=S,this.z*=S),v.length===2&&(this.x*=S,this.y*=M),v.length===3&&(this.x*=S,this.y*=M,this.z*=j)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];var w=v[0],S=v[1],M=v[2];if(w instanceof l.default.Vector)if(Number.isFinite(w.x)&&Number.isFinite(w.y)&&Number.isFinite(w.z)&&typeof w.x=="number"&&typeof w.y=="number"&&typeof w.z=="number"){var j=w.z===0&&this.z===0;if(w.x===0||w.y===0||!j&&w.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=w.x,this.y/=w.y,j||(this.z/=w.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(w))if(w.every(Number.isFinite)&&w.every(function(I){return typeof I=="number"})){if(w.some(function(I){return I===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;w.length===1?(this.x/=w[0],this.y/=w[0],this.z/=w[0]):w.length===2?(this.x/=w[0],this.y/=w[1]):w.length===3&&(this.x/=w[0],this.y/=w[1],this.z/=w[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(v.every(Number.isFinite)&&v.every(function(I){return typeof I=="number"})){if(v.some(function(I){return I===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1&&(this.x/=w,this.y/=w,this.z/=w),v.length===2&&(this.x/=w,this.y/=S),v.length===3&&(this.x/=w,this.y/=S,this.z/=M)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var p=this.x,v=this.y,_=this.z;return p*p+v*v+_*_}},{key:"dot",value:function(p,v,_){return p instanceof l.default.Vector?this.dot(p.x,p.y,p.z):this.x*(p||0)+this.y*(v||0)+this.z*(_||0)}},{key:"cross",value:function(w){var v=this.y*w.z-this.z*w.y,_=this.z*w.x-this.x*w.z,w=this.x*w.y-this.y*w.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,v,_,w):new l.default.Vector(v,_,w)}},{key:"dist",value:function(p){return p.copy().sub(this).mag()}},{key:"normalize",value:function(){var p=this.mag();return p!==0&&this.mult(1/p),this}},{key:"limit",value:function(p){var v=this.magSq();return p*p<v&&this.div(Math.sqrt(v)).mult(p),this}},{key:"setMag",value:function(p){return this.normalize().mult(p)}},{key:"heading",value:function(){var p=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(p):p}},{key:"setHeading",value:function(p){this.isPInst&&(p=this._toRadians(p));var v=this.mag();return this.x=v*Math.cos(p),this.y=v*Math.sin(p),this}},{key:"rotate",value:function(v){var v=this.heading()+v,_=(this.isPInst&&(v=this._toRadians(v)),this.mag());return this.x=Math.cos(v)*_,this.y=Math.sin(v)*_,this}},{key:"angleBetween",value:function(p){var v;return this.magSq()*p.magSq()==0?NaN:(v=this.cross(p),p=Math.atan2(v.mag(),this.dot(p))*Math.sign(v.z||1),this.isPInst?this._fromRadians(p):p)}},{key:"lerp",value:function(p,v,_,w){return p instanceof l.default.Vector?this.lerp(p.x,p.y,p.z,v):(this.x+=(p-this.x)*w||0,this.y+=(v-this.y)*w||0,this.z+=(_-this.z)*w||0,this)}},{key:"slerp",value:function(p,v){if(v!==0){if(v===1)return this.set(p);var _=this.mag(),w=p.mag();if(_*w==0)this.mult(1-v).add(p.x*v,p.y*v,p.z*v);else{var S=this.cross(p),M=S.mag(),j=Math.atan2(M,this.dot(p));if(0<M)S.x/=M,S.y/=M,S.z/=M;else{if(j<.5*Math.PI)return this.mult(1-v).add(p.x*v,p.y*v,p.z*v),this;this.z===0&&p.z===0?S.set(0,0,1):this.x!==0?S.set(this.y,-this.x,0).normalize():S.set(1,0,0)}M=S.cross(this),p=1-v+v*w/_,S=p*Math.cos(v*j),w=p*Math.sin(v*j),this.x=this.x*S+M.x*w,this.y=this.y*S+M.y*w,this.z=this.z*S+M.z*w}}return this}},{key:"reflect",value:function(p){return p=l.default.Vector.normalize(p),this.sub(p.mult(2*this.dot(p)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(M,v,_){var w,S,M=M instanceof l.default.Vector?(w=M.x||0,S=M.y||0,M.z||0):Array.isArray(M)?(w=M[0]||0,S=M[1]||0,M[2]||0):(w=M||0,S=v||0,_||0);return this.x===w&&this.y===S&&this.z===M}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(p){return Math.abs(+(p||0))<=Number.EPSILON?0:p}}])&&b(h.prototype,m),g&&b(h,g),f}();var d=l.default.Vector;s.default=d},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(y,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(y=y("../core/main"))&&y.__esModule?y:{default:y},c="_lcg_random_state",l=4294967296,u=0,y=(a.default.prototype._lcg=function(b){return this[b]=(1664525*this[b]+1013904223)%l,this[b]/l},a.default.prototype._lcgSetSeed=function(b,d){this[b]=(d??Math.random()*l)>>>0},a.default.prototype.randomSeed=function(b){this._lcgSetSeed(c,b),this._gaussian_previous=!1},a.default.prototype.random=function(b,d){var f,h;return a.default._validateParameters("random",arguments),f=this[c]!=null?this._lcg(c):Math.random(),b===void 0?f:d===void 0?Array.isArray(b)?b[Math.floor(f*b.length)]:f*b:(d<b&&(h=b,b=d,d=h),f*(d-b)+b)},a.default.prototype.randomGaussian=function(b){var d,f,h,m,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)d=u,this._gaussian_previous=!1;else{for(;1<=(m=(f=this.random(2)-1)*f+(h=this.random(2)-1)*h););d=f*(m=Math.sqrt(-2*Math.log(m)/m)),u=h*m,this._gaussian_previous=!0}return d*g+(b||0)},a.default);s.default=y},{"../core/main":283}],318:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}l.default.prototype._angleMode=u.RADIANS,l.default.prototype.acos=function(d){return this._fromRadians(Math.acos(d))},l.default.prototype.asin=function(d){return this._fromRadians(Math.asin(d))},l.default.prototype.atan=function(d){return this._fromRadians(Math.atan(d))},l.default.prototype.atan2=function(d,f){return this._fromRadians(Math.atan2(d,f))},l.default.prototype.cos=function(d){return Math.cos(this._toRadians(d))},l.default.prototype.sin=function(d){return Math.sin(this._toRadians(d))},l.default.prototype.tan=function(d){return Math.tan(this._toRadians(d))},l.default.prototype.degrees=function(d){return d*u.RAD_TO_DEG},l.default.prototype.radians=function(d){return d*u.DEG_TO_RAD},l.default.prototype.angleMode=function(d){if(l.default._validateParameters("angleMode",arguments),d===void 0)return this._angleMode;d!==u.DEGREES&&d!==u.RADIANS||d!==this._angleMode&&(d===u.RADIANS?(this._setProperty("pRotationX",this.pRotationX*u.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*u.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*u.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*u.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*u.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*u.RAD_TO_DEG)),this._angleMode=d)},l.default.prototype._toRadians=function(d){return this._angleMode===u.DEGREES?d*u.DEG_TO_RAD:d},l.default.prototype._toDegrees=function(d){return this._angleMode===u.RADIANS?d*u.RAD_TO_DEG:d},l.default.prototype._fromRadians=function(d){return this._angleMode===u.DEGREES?d*u.RAD_TO_DEG:d},l.default.prototype._fromDegrees=function(d){return this._angleMode===u.RADIANS?d*u.DEG_TO_RAD:d};var b=l.default;s.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,o,s){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.textAlign=function(c,l){var u;return a.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},a.default.prototype.textLeading=function(c){var l;return a.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},a.default.prototype.textSize=function(c){var l;return a.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},a.default.prototype.textStyle=function(c){var l;return a.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},a.default.prototype.textWidth=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];if(l[0]+="",a.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var y=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),b=[],d=0;d<y.length;d++)b.push(this._renderer.textWidth(y[d]));return Math.max.apply(Math,b)},a.default.prototype.textAscent=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("textAscent",l),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("textDescent",l),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(c){return a.default._validateParameters("textWrap",[c]),this._renderer.textWrap(c)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,o,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}function c(h){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(f=t("../core/main"))&&f.__esModule?f:{default:f},u=d(t("../core/constants")),y=d(t("opentype.js"));function b(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,b=function(){return h},h)}function d(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var m=b();if(m&&m.has(h))return m.get(h);var g,p,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&((p=_?Object.getOwnPropertyDescriptor(h,g):null)&&(p.get||p.set)?Object.defineProperty(v,g,p):v[g]=h[g]);return v.default=h,m&&m.set(h,v),v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(h,m,g){l.default._validateParameters("loadFont",arguments);var p=new l.default.Font(this),v=this;return y.load(h,function(S,M){if(S)return l.default._friendlyFileLoadError(4,h),g!==void 0?g(S):void console.error(S,h);p.font=M,m!==void 0&&m(p),v._decrementPreload();var S=h.split("\\").pop().split("/").pop(),M=S.lastIndexOf("."),j=M<1?null:S.slice(M+1);["ttf","otf","woff","woff2"].includes(j)&&(j=S.slice(0,M!==-1?M:0),(S=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(h,`);
}
`))),document.head.appendChild(S))}),p},l.default.prototype.text=function(h,m,g,p,v){var _;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},l.default.prototype.textFont=function(h,m){if(l.default._validateParameters("textFont",arguments),arguments.length){if(h)return this._renderer._setProperty("_textFont",h),m&&(this._renderer._setProperty("_textSize",m),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",m*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var f=l.default;s.default=f},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,o,s){"use strict";function a(I){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(I)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(c=t("../core/main"))&&c.__esModule?c:{default:c},l=function(I){if(I&&I.__esModule)return I;if(I===null||y(I)!=="object"&&typeof I!="function")return{default:I};var D=u();if(D&&D.has(I))return D.get(I);var P,A={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in I){var O;Object.prototype.hasOwnProperty.call(I,P)&&((O=N?Object.getOwnPropertyDescriptor(I,P):null)&&(O.get||O.set)?Object.defineProperty(A,P,O):A[P]=I[P])}return A.default=I,D&&D.set(I,A),A}(t("../core/constants"));function u(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,u=function(){return I},I)}function y(I){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(D){return a(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":a(D)})(I)}function b(I,D){for(var P=0;P<D.length;P++){var A=D[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(I,A.key,A)}}function d(I,D){var P=I.length;return I[D<0?D%P+P:D%P]}function f(I,D,P,A){var N,O,z;return A?(f.tmpPoint1===void 0&&(f.tmpPoint1=[],f.tmpPoint2=[]),O=f.tmpPoint1,z=f.tmpPoint2,O.x=D.x-I.x,O.y=D.y-I.y,z.x=P.x-D.x,z.y=P.y-D.y,N=O.x*z.x+O.y*z.y,O=Math.sqrt(O.x*O.x+O.y*O.y),z=Math.sqrt(z.x*z.x+z.y*z.y),Math.acos(N/(O*z))<A):(D[0]-I[0])*(P[1]-I[1])-(P[0]-I[0])*(D[1]-I[1])==0}function h(E,G,B,Q,ee,O,z,U,F){var W=1-F,H=Math.pow(W,3),X=Math.pow(W,2),L=F*F,K=L*F,$=H*E+3*X*F*B+3*W*F*F*ee+K*z,H=H*G+3*X*F*Q+3*W*F*F*O+K*U,X=E+2*F*(B-E)+L*(ee-2*B+E),K=G+2*F*(Q-G)+L*(O-2*Q+G),ae=B+2*F*(ee-B)+L*(z-2*ee+B),L=Q+2*F*(O-Q)+L*(U-2*O+Q),E=W*E+F*B,B=W*G+F*Q,G=W*ee+F*z,Q=W*O+F*U,ee=90-180*Math.atan2(X-ae,K-L)/Math.PI;return(ae<X||K<L)&&(ee+=180),{x:$,y:H,m:{x:X,y:K},n:{x:ae,y:L},start:{x:E,y:B},end:{x:G,y:Q},alpha:ee}}function m(I,D,P,A,N,O,z,U,F){return F==null?M(I,D,P,A,N,O,z,U):h(I,D,P,A,N,O,z,U,function(W,$,H,X,K,ae,L,E,B){if(!(B<0||M(W,$,H,X,K,ae,L,E)<B)){var G,Q=.5,ee=1-Q;for(G=M(W,$,H,X,K,ae,L,E,ee);.01<Math.abs(G-B);)G=M(W,$,H,X,K,ae,L,E,ee+=(G<B?1:-1)*(Q/=2));return ee}}(I,D,P,A,N,O,z,U,F))}function g(I,D,P){for(var A,N,O,z,U,F=0,W=0,$=(I=function(H,X){function K(ye,_e,De){var We,Oe;if(!ye)return["C",_e.x,_e.y,_e.x,_e.y,_e.x,_e.y];switch(ye[0]in{T:1,Q:1}||(_e.qx=_e.qy=null),ye[0]){case"M":_e.X=ye[1],_e.Y=ye[2];break;case"A":ye=["C"].concat(v.apply(0,[_e.x,_e.y].concat(ye.slice(1))));break;case"S":Oe=De==="C"||De==="S"?(We=2*_e.x-_e.bx,2*_e.y-_e.by):(We=_e.x,_e.y),ye=["C",We,Oe].concat(ye.slice(1));break;case"T":De==="Q"||De==="T"?(_e.qx=2*_e.x-_e.qx,_e.qy=2*_e.y-_e.qy):(_e.qx=_e.x,_e.qy=_e.y),ye=["C"].concat(S(_e.x,_e.y,_e.qx,_e.qy,ye[1],ye[2]));break;case"Q":_e.qx=ye[1],_e.qy=ye[2],ye=["C"].concat(S(_e.x,_e.y,ye[1],ye[2],ye[3],ye[4]));break;case"L":ye=["C"].concat(w(_e.x,_e.y,ye[1],ye[2]));break;case"H":ye=["C"].concat(w(_e.x,_e.y,ye[1],_e.y));break;case"V":ye=["C"].concat(w(_e.x,_e.y,_e.x,ye[1]));break;case"Z":ye=["C"].concat(w(_e.x,_e.y,_e.X,_e.Y))}return ye}function ae(ye,_e){if(7<ye[_e].length){ye[_e].shift();for(var De=ye[_e];De.length;)se[_e]="A",G&&(ue[_e]="A"),ye.splice(_e++,0,["C"].concat(De.splice(0,6)));ye.splice(_e,1),E=Math.max(B.length,G&&G.length||0)}}function L(ye,_e,De,We,Oe){ye&&_e&&ye[Oe][0]==="M"&&_e[Oe][0]!=="M"&&(_e.splice(Oe,0,["M",We.x,We.y]),De.bx=0,De.by=0,De.x=ye[Oe][1],De.y=ye[Oe][2],E=Math.max(B.length,G&&G.length||0))}var E,B=p(H),G=X&&p(X),Q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se=[],ue=[],ie="",de="";E=Math.max(B.length,G&&G.length||0);for(var fe=0;fe<E;fe++){(ie=B[fe]?B[fe][0]:ie)!=="C"&&(se[fe]=ie,fe&&(de=se[fe-1])),B[fe]=K(B[fe],Q,de),se[fe]!=="A"&&ie==="C"&&(se[fe]="C"),ae(B,fe),G&&((ie=G[fe]?G[fe][0]:ie)!=="C"&&(ue[fe]=ie,fe&&(de=ue[fe-1])),G[fe]=K(G[fe],ee,de),ue[fe]!=="A"&&ie==="C"&&(ue[fe]="C"),ae(G,fe)),L(B,G,Q,ee,fe),L(G,B,ee,Q,fe);var te=B[fe],he=G&&G[fe],ve=te.length,Ce=G&&he.length;Q.x=te[ve-2],Q.y=te[ve-1],Q.bx=parseFloat(te[ve-4])||Q.x,Q.by=parseFloat(te[ve-3])||Q.y,ee.bx=G&&(parseFloat(he[Ce-4])||ee.x),ee.by=G&&(parseFloat(he[Ce-3])||ee.y),ee.x=G&&he[Ce-2],ee.y=G&&he[Ce-1]}return G?[B,G]:B}(I)).length;W<$;W++){if((O=I[W])[0]==="M")A=+O[1],N=+O[2];else{if(D<F+(z=m(A,N,O[1],O[2],O[3],O[4],O[5],O[6]))&&!P)return{x:(U=m(A,N,O[1],O[2],O[3],O[4],O[5],O[6],D-F)).x,y:U.y,alpha:U.alpha};F+=z,A=+O[5],N=+O[6]}O.shift()}return U=(U=P?F:h(A,N,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:U.x,y:U.y,alpha:U.alpha}:U}function p(I){var D=[],P=0,A=0,N=0,O=0,z=0;if(I){I[0][0]==="M"&&(N=P=+I[0][1],O=A=+I[0][2],z++,D[0]=["M",P,A]);for(var U,F,W=I.length===3&&I[0][0]==="M"&&I[1][0].toUpperCase()==="R"&&I[2][0].toUpperCase()==="Z",$=z,H=I.length;$<H;$++){if(D.push(U=[]),(F=I[$])[0]!==F[0].toUpperCase())switch(U[0]=F[0].toUpperCase(),U[0]){case"A":U[1]=F[1],U[2]=F[2],U[3]=F[3],U[4]=F[4],U[5]=F[5],U[6]=+(F[6]+P),U[7]=+(F[7]+A);break;case"V":U[1]=+F[1]+A;break;case"H":U[1]=+F[1]+P;break;case"R":for(var X,K=2,ae=(X=[P,A].concat(F.slice(1))).length;K<ae;K++)X[K]=+X[K]+P,X[++K]=+X[K]+A;D.pop(),D=D.concat(_(X,W));break;case"M":N=+F[1]+P,O=+F[2]+A;break;default:for(var L=1,E=F.length;L<E;L++)U[L]=+F[L]+(L%2?P:A)}else if(F[0]==="R")X=[P,A].concat(F.slice(1)),D.pop(),D=D.concat(_(X,W)),U=["R"].concat(F.slice(-2));else for(var B=0,G=F.length;B<G;B++)U[B]=F[B];switch(U[0]){case"Z":P=N,A=O;break;case"H":P=U[1];break;case"V":A=U[1];break;case"M":N=U[U.length-2],O=U[U.length-1];break;default:P=U[U.length-2],A=U[U.length-1]}}}return D}function v(I,D,P,A,G,se,Q,U,F,W){function $(Ce,ye,_e){return{x:Ce*Math.cos(_e)-ye*Math.sin(_e),y:Ce*Math.sin(_e)+ye*Math.cos(_e)}}var H,E=Math.PI,B=120*E/180,X=E/180*(+G||0),K=[],ae=(W?(fe=W[0],H=W[1],ie=W[2],de=W[3]):(I=(ee=$(I,D,-X)).x,D=ee.y,1<(ae=(L=(I-(U=(ee=$(U,F,-X)).x))/2)*L/(P*P)+(ee=(D-(F=ee.y))/2)*ee/(A*A))&&(P*=ae=Math.sqrt(ae),A*=ae),ae=P*P,ue=A*A,ie=(se=(se===Q?-1:1)*Math.sqrt(Math.abs((ae*ue-ae*ee*ee-ue*L*L)/(ae*ee*ee+ue*L*L))))*P*ee/A+(I+U)/2,de=se*-A*L/P+(D+F)/2,fe=Math.asin(((D-de)/A).toFixed(9)),H=Math.asin(((F-de)/A).toFixed(9)),(fe=I<ie?E-fe:fe)<0&&(fe=2*E+fe),(H=U<ie?E-H:H)<0&&(H=2*E+H),Q&&H<fe&&(fe-=2*E),!Q&&fe<H&&(H-=2*E)),H-fe),L=(Math.abs(ae)>B&&(ue=H,ee=U,se=F,H=fe+B*(Q&&fe<H?1:-1),K=v(U=ie+P*Math.cos(H),F=de+A*Math.sin(H),P,A,G,0,Q,ee,se,[H,ue,ie,de])),ae=H-fe,Math.cos(fe)),E=Math.sin(fe),B=Math.cos(H),G=Math.sin(H),Q=Math.tan(ae/4),ee=4/3*P*Q,se=4/3*A*Q,ue=[I,D],ie=[I+ee*E,D-se*L],de=[U+ee*G,F-se*B],fe=[U,F];if(ie[0]=2*ue[0]-ie[0],ie[1]=2*ue[1]-ie[1],W)return[ie,de,fe].concat(K);for(var te=[],he=0,ve=(K=[ie,de,fe].concat(K).join().split(",")).length;he<ve;he++)te[he]=he%2?$(K[he-1],K[he],X).y:$(K[he],K[he+1],X).x;return te}function _(I,D){for(var P=[],A=0,N=I.length;A<N-2*!D;A+=2){var O=[{x:+I[A-2],y:+I[A-1]},{x:+I[A],y:+I[A+1]},{x:+I[A+2],y:+I[A+3]},{x:+I[A+4],y:+I[A+5]}];D?A?N-4===A?O[3]={x:+I[0],y:+I[1]}:N-2===A&&(O[2]={x:+I[0],y:+I[1]},O[3]={x:+I[2],y:+I[3]}):O[0]={x:+I[N-2],y:+I[N-1]}:N-4===A?O[3]=O[2]:A||(O[0]={x:+I[A],y:+I[A+1]}),P.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return P}function w(I,D,P,A){return[I,D,P,A,P,A]}function S(I,D,P,A,N,O){return[1/3*I+2/3*P,1/3*D+2/3*A,1/3*N+2/3*P,1/3*O+2/3*A,N,O]}function M(I,D,P,A,N,O,z,U,F){for(var W=(F=1<(F=F??1)?1:F<0?0:F)/2,$=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var L=W*$[K]+W,ae=j(L,I,P,N,z),L=j(L,D,A,O,U);H+=X[K]*Math.sqrt(ae*ae+L*L)}return W*H}function j(I,D,P,A,N){return I*(I*(-3*D+9*P-9*A+3*N)+6*D-12*P+6*A)-3*D+3*P}c.default.Font=function(){function I(N){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");this.parent=N,this.cache={},this.font=void 0}var D,P,A;return D=I,(P=[{key:"textBounds",value:function(N){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,$=3<arguments.length?arguments[3]:void 0,U=4<arguments.length?arguments[4]:void 0,F=U&&U.renderer&&U.renderer._pInst||this.parent,W=F._renderer.drawingContext,$=(W.textAlign||l.LEFT,W.textBaseline||l.BASELINE,$||F._renderer._textSize);if(!se){for(var H=[],X=[],K=[],ae=(K[0]=[],[]),L=this._scale($),E=F._renderer.textLeading(),B=0,G=(this.font.forEachGlyph(N,O,z,$,U,function(de,fe,te,he){var ve=de.getMetrics();de.index===0?K[B+=1]=[]:(K[B].push(fe+ve.xMin*L),K[B].push(fe+ve.xMax*L),ae.push(te+B*E+-ve.yMin*L),ae.push(te+B*E+-ve.yMax*L))}),0<K[B].length&&(H[B]=Math.min.apply(null,K[B]),X[B]=Math.max.apply(null,K[B])),0),Q=0;Q<=B;Q++){H[Q]=Math.min.apply(null,K[Q]),X[Q]=Math.max.apply(null,K[Q]);var ee=X[Q]-H[Q];G<ee&&(G=ee)}var W=Math.min.apply(null,H),se={x:W,y:z=Math.min.apply(null,ae),h:Math.max.apply(null,ae)-z,w:G,advance:W-O},$=this._handleAlignment(F._renderer,N,se.x,se.y,se.w+se.advance);se.x=$.x,se.y=$.y}return se}},{key:"textToPoints",value:function(N,O,z,U,F){var W,$=O,H=[],X=this.parent,K=N.split(/\r?\n|\r|\n/g);U=U||this.parent._renderer._textSize;for(var ae,L,E,B=0;B<K.length;B++){var G=0;O=$;for(var Q=(Q=K[B]).replace("	","  "),ee=this._getGlyphs(Q),se=0;se<ee.length;se++){if(L=Q,!((E=ee)[ae=se].name&&E[ae].name==="space"||L.length===E.length&&L[ae]===" "))for(var ue=function(te){for(var he,ve=[],Ce=0;Ce<te.length;Ce++)te[Ce].type==="M"&&(he&&ve.push(he),he=[]),he.push(function(ye){var _e=[ye.type];return ye.type==="M"||ye.type==="L"?_e.push(ye.x,ye.y):ye.type==="C"?_e.push(ye.x1,ye.y1,ye.x2,ye.y2,ye.x,ye.y):ye.type==="Q"&&_e.push(ye.x1,ye.y1,ye.x,ye.y),_e}(te[Ce]));return ve.push(he),ve}(ee[se].getPath(O,z,U).commands),ie=0;ie<ue.length;ie++)for(var de=function(te,he){for(var he=function(We,Oe){if(y(We)!=="object")We=Oe;else for(var st in Oe)We[st]===void 0&&(We[st]=Oe[st]);return We}(he,{sampleFactor:.1,simplifyThreshold:0}),ve=g(te,0,1),Ce=ve/(ve*he.sampleFactor),ye=[],_e=0;_e<ve;_e+=Ce)ye.push(g(te,_e));return he.simplifyThreshold&&function(De){for(var We=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Oe=0,st=De.length-1;3<De.length&&0<=st;--st)f(d(De,st-1),d(De,st),d(De,st+1),We)&&(De.splice(st%De.length,1),Oe++)}(ye,he.simplifyThreshold),ye}(ue[ie],F),fe=0;fe<de.length;fe++)de[fe].x+=G,W=this._handleAlignment(X._renderer,Q,de[fe].x,de[fe].y),de[fe].x=W.x,de[fe].y=W.y,H.push(de[fe]);G+=ee[se].advanceWidth*this._scale(U)}z+=this.parent._renderer._textLeading}return H}},{key:"_getGlyphs",value:function(N){return this.font.stringToGlyphs(N)}},{key:"_getPath",value:function(N,W,z,U){var F=(U&&U.renderer&&U.renderer._pInst||this.parent)._renderer,W=this._handleAlignment(F,N,W,z);return this.font.getPath(N,W.x,W.y,F._textSize,U)}},{key:"_getPathData",value:function(N,O,z,U){var F=3;return typeof N=="string"&&2<arguments.length?N=this._getPath(N,O,z,U):y(O)==="object"&&(U=O),U&&typeof U.decimals=="number"&&(F=U.decimals),N.toPathData(F)}},{key:"_getSVG",value:function(N,O,z,U){var F=3;return typeof N=="string"&&2<arguments.length?N=this._getPath(N,O,z,U):y(O)==="object"&&(U=O),U&&(typeof U.decimals=="number"&&(F=U.decimals),typeof U.strokeWidth=="number"&&(N.strokeWidth=U.strokeWidth),U.fill!==void 0&&(N.fill=U.fill),U.stroke!==void 0&&(N.stroke=U.stroke)),N.toSVG(F)}},{key:"_renderPath",value:function($,X,K,U){var F=U&&U.renderer||this.parent._renderer,W=F.drawingContext,$=(y($)==="object"&&$.commands?$:this._getPath($,X,K,U)).commands,H=(F._clipping||W.beginPath(),!0),X=!1,K=void 0;try{for(var ae,L=$[Symbol.iterator]();!(H=(ae=L.next()).done);H=!0){var E=ae.value;E.type==="M"?W.moveTo(E.x,E.y):E.type==="L"?W.lineTo(E.x,E.y):E.type==="C"?W.bezierCurveTo(E.x1,E.y1,E.x2,E.y2,E.x,E.y):E.type==="Q"?W.quadraticCurveTo(E.x1,E.y1,E.x,E.y):E.type==="Z"&&W.closePath()}}catch(B){X=!0,K=B}finally{try{H||L.return==null||L.return()}finally{if(X)throw K}}return F._doStroke&&F._strokeSet&&!F._clipping&&W.stroke(),F._doFill&&!F._clipping&&(F._fillSet||F._setFill(l._DEFAULT_TEXT_FILL),W.fill()),this}},{key:"_textWidth",value:function(N,O){return this.font.getAdvanceWidth(N,O)}},{key:"_textAscent",value:function(N){return this.font.ascender*this._scale(N)}},{key:"_textDescent",value:function(N){return-this.font.descender*this._scale(N)}},{key:"_scale",value:function(N){return 1/this.font.unitsPerEm*(N||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(N,O,z,U,F){var W=N._textSize;switch(F===void 0&&(F=this._textWidth(O,W)),N._textAlign){case l.CENTER:z-=F/2;break;case l.RIGHT:z-=F}switch(N._textBaseline){case l.TOP:U+=this._textAscent(W);break;case l.CENTER:U+=this._textAscent(W)/2;break;case l.BOTTOM:U-=this._textDescent(W)}return{x:z,y:U}}}])&&b(D.prototype,P),A&&b(D,A),I}(),t=c.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,o,s){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(a,c){return a.push(c),a},t.default.prototype.arrayCopy=function(a,c,l,u,y){var b,d;a=y!==void 0?(d=Math.min(y,a.length),b=u,a.slice(c,d+c)):(d=l!==void 0?(d=l,Math.min(d,a.length)):a.length,l=c,a.slice(b=0,d)),Array.prototype.splice.apply(l,[b,d].concat(a))},t.default.prototype.concat=function(a,c){return a.concat(c)},t.default.prototype.reverse=function(a){return a.reverse()},t.default.prototype.shorten=function(a){return a.pop(),a},t.default.prototype.shuffle=function(a,c){for(var l,u,y=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),b=(a=c||y?a:a.slice()).length;1<b;)l=this.random(0,1)*b|0,u=a[--b],a[b]=a[l],a[l]=u;return a},t.default.prototype.sort=function(a,u){var l=u?a.slice(0,Math.min(u,a.length)):a,u=u?a.slice(Math.min(u,a.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(y,b){return y-b})).concat(u)},t.default.prototype.splice=function(a,c,l){return Array.prototype.splice.apply(a,[l,0].concat(c)),a},t.default.prototype.subset=function(a,c,l){return l!==void 0?a.slice(c,c+l):a.slice(c,a.length)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,o,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.float=function(c){return c instanceof Array?c.map(parseFloat):parseFloat(c)},a.default.prototype.int=function(c){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return c===1/0||c==="Infinity"?1/0:c===-1/0||c==="-Infinity"?-1/0:typeof c=="string"?parseInt(c,l):typeof c=="number"?0|c:typeof c=="boolean"?c?1:0:c instanceof Array?c.map(function(u){return a.default.prototype.int(u,l)}):void 0},a.default.prototype.str=function(c){return c instanceof Array?c.map(a.default.prototype.str):String(c)},a.default.prototype.boolean=function(c){return typeof c=="number"?c!==0:typeof c=="string"?c.toLowerCase()==="true":typeof c=="boolean"?c:c instanceof Array?c.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(c){return c=a.default.prototype.int(c,10),typeof c=="number"?(c+128)%256-128:c instanceof Array?c.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(c){return typeof c!="number"||isNaN(c)?c instanceof Array?c.map(a.default.prototype.char):typeof c=="string"?a.default.prototype.char(parseInt(c,10)):void 0:String.fromCharCode(c)},a.default.prototype.unchar=function(c){return typeof c=="string"&&c.length===1?c.charCodeAt(0):c instanceof Array?c.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(c,l){if(l=l??8,c instanceof Array)return c.map(function(y){return a.default.prototype.hex(y,l)});if(c===1/0||c===-1/0)return(c===1/0?"F":"0").repeat(l);if(typeof c=="number"){c<0&&(c=4294967295+c+1);for(var u=Number(c).toString(16).toUpperCase();u.length<l;)u="0".concat(u);return u=u.length>=l?u.substring(u.length-l,u.length):u}},a.default.prototype.unhex=function(c){return c instanceof Array?c.map(a.default.prototype.unhex):parseInt("0x".concat(c),16)},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(d=t("../core/main"))&&d.__esModule?d:{default:d};function c(f,h){return function(m){if(Array.isArray(m))return m}(f)||function(m,g){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var p=[],v=!0,_=!1,w=void 0;try{for(var S,M=m[Symbol.iterator]();!(v=(S=M.next()).done)&&(p.push(S.value),!g||p.length!==g);v=!0);}catch(j){_=!0,w=j}finally{try{v||M.return==null||M.return()}finally{if(_)throw w}}return p}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(f,h,m){var p=c(f.toString().split("."),2),g=p[0],p=p[1];return m===void 0?(g=g.padStart(h,"0"),p?g+"."+p:g):(g=(f=c(f.toFixed(m).toString().split("."),2))[0],p=f[1],g=g.padStart(h,"0"),p===void 0?g:g+"."+p)}function u(p,h){var m=(p=p.toString()).indexOf("."),g=m!==-1?p.substring(m):"",p=(p=m!==-1?p.substring(0,m):p).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(h===0)g="";else if(h!==void 0)if(h>g.length)for(var v=h-(g+=m===-1?".":"").length+1,_=0;_<v;_++)g+="0";else g=g.substring(0,h+1);return p+g}function y(f){return 0<parseFloat(f)?"+".concat(f.toString()):f.toString()}function b(f){return 0<=parseFloat(f)?" ".concat(f.toString()):f.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.join=function(f,h){return a.default._validateParameters("join",arguments),f.join(h)},a.default.prototype.match=function(f,h){return a.default._validateParameters("match",arguments),f.match(h)},a.default.prototype.matchAll=function(f,h){a.default._validateParameters("matchAll",arguments);for(var m=new RegExp(h,"g"),g=m.exec(f),p=[];g!==null;)p.push(g),g=m.exec(f);return p},a.default.prototype.nf=function(f,h,m){return a.default._validateParameters("nf",arguments),f instanceof Array?f.map(function(g){return l(g,h,m)}):Object.prototype.toString.call(f)==="[object Arguments]"?f.length===3?this.nf(f[0],f[1],f[2]):f.length===2?this.nf(f[0],f[1]):this.nf(f[0]):l(f,h,m)},a.default.prototype.nfc=function(f,h){return a.default._validateParameters("nfc",arguments),f instanceof Array?f.map(function(m){return u(m,h)}):u(f,h)},a.default.prototype.nfp=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];a.default._validateParameters("nfp",h);var g=a.default.prototype.nf.apply(this,h);return g instanceof Array?g.map(y):y(g)},a.default.prototype.nfs=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];a.default._validateParameters("nfs",h);var g=a.default.prototype.nf.apply(this,h);return g instanceof Array?g.map(b):b(g)},a.default.prototype.split=function(f,h){return a.default._validateParameters("split",arguments),f.split(h)},a.default.prototype.splitTokens=function(f,h){var m,g;return a.default._validateParameters("splitTokens",arguments),g=h!==void 0?(g=/\]/g.exec(h=h),(m=/\[/g.exec(h))&&g?(h=h.slice(0,g.index)+h.slice(g.index+1),m=/\[/g.exec(h),h=h.slice(0,m.index)+h.slice(m.index+1),new RegExp("[\\[".concat(h,"\\]]"),"g")):g?(h=h.slice(0,g.index)+h.slice(g.index+1),new RegExp("[".concat(h,"\\]]"),"g")):m?(h=h.slice(0,m.index)+h.slice(m.index+1),new RegExp("[".concat(h,"\\[]"),"g")):new RegExp("[".concat(h,"]"),"g")):/\s/g,f.split(g).filter(function(p){return p})},a.default.prototype.trim=function(f){return a.default._validateParameters("trim",arguments),f instanceof Array?f.map(this.trim):f.trim()};var d=a.default;s.default=d},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,s.default=t},{"../core/main":283}],326:[function(t,o,s){"use strict";function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function c(f){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=(t("./p5.Geometry"),function(f){if(f&&f.__esModule)return f;if(f===null||c(f)!=="object"&&typeof f!="function")return{default:f};var h=y();if(h&&h.has(f))return h.get(f);var m,g={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in f){var v;Object.prototype.hasOwnProperty.call(f,m)&&((v=p?Object.getOwnPropertyDescriptor(f,m):null)&&(v.get||v.set)?Object.defineProperty(g,m,v):g[m]=f[m])}return g.default=f,h&&h.set(f,g),g}(t("../core/constants")));function y(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,y=function(){return f},f)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(f){return this._renderer.buildGeometry(f)},l.default.prototype.freeGeometry=function(f){this._renderer._freeBuffers(f.gid)},l.default.prototype.plane=function(){var f,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=(this._assert3d("plane"),l.default._validateParameters("plane",arguments),"plane|".concat(g,"|").concat(p));return this._renderer.geometryInHash(v)||((f=new l.default.Geometry(g,p,function(){for(var _,w,S=0;S<=this.detailY;S++)for(var M=S/this.detailY,j=0;j<=this.detailX;j++)_=j/this.detailX,w=new l.default.Vector(_-.5,M-.5,0),this.vertices.push(w),this.uvs.push(_,M)})).computeFaces().computeNormals(),g<=1&&p<=1?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,f)),this._renderer.drawBuffersScaled(v,h,m,1),this},l.default.prototype.box=function(f,h,m,g,p){this._assert3d("box"),l.default._validateParameters("box",arguments),f===void 0&&(f=50),h===void 0&&(h=f),m===void 0&&(m=h);var v,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,_=(p===void 0&&(p=_?1:4),"box|".concat(g=g===void 0?_?1:4:g,"|").concat(p));return this._renderer.geometryInHash(_)||((v=new l.default.Geometry(g,p,function(){var w=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(S,M){for(var M=4*M,j=0;j<4;j++){var I=S[j],I=new l.default.Vector((2*(1&I)-1)/2,((2&I)-1)/2,((4&I)/2-1)/2);w.vertices.push(I),w.uvs.push(1&j,(2&j)/2)}w.faces.push([M,1+M,2+M]),w.faces.push([2+M,1+M,3+M])})})).computeNormals(),g<=4&&p<=4?v._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,f,h,m),this},l.default.prototype.sphere=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(f,f,f,h,m),this};function b(f,h,m,g,p,v,_){f=f<=0?1:f,h=h<0?0:h,m=m<=0?f:m,g=g<3?3:g;for(var w,S,M=(v=v===void 0||v)?-2:0,j=(p=p<1?1:p)+((_=_===void 0?h!==0:_)?2:0),I=Math.atan2(f-h,m),D=Math.sin(I),P=Math.cos(I),A=M;A<=j;++A){var N=A/p,O=m*N,z=void 0,z=A<0?(N=O=0,f):p<A?(O=m,N=1,h):f+(h-f)*N;for(A!==-2&&A!==p+2||(z=0),O-=m/2,w=0;w<g;++w){var U=w/(g-1),W=2*Math.PI*U,F=Math.sin(W),W=Math.cos(W),$=(this.vertices.push(new l.default.Vector(F*z,O,W*z)),void 0),$=A<0?new l.default.Vector(0,-1,0):p<A&&h?new l.default.Vector(0,1,0):new l.default.Vector(F*P,D,W*P);this.vertexNormals.push($),this.uvs.push(U,N)}}var H=0;if(v){for(S=0;S<g;++S)this.faces.push([H+S,H+g+(S+1)%g,H+g+S]);H+=2*g}for(A=0;A<p;++A){for(w=0;w<g;++w){var X=(w+1)%g;this.faces.push([H+w,H+X,H+g+X]),this.faces.push([H+w,H+g+X,H+g+w])}H+=g}if(_)for(H+=g,w=0;w<g;++w)this.faces.push([H+w,H+(w+1)%g,H+g])}l.default.prototype.cylinder=function(){var f,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],w=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(g,"|").concat(p,"|").concat(v,"|").concat(_));return this._renderer.geometryInHash(w)||(f=new l.default.Geometry(g,p),b.call(f,1,1,1,g,p,v,_),g<=24&&p<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,f)),this._renderer.drawBuffersScaled(w,h,m,h),this},l.default.prototype.cone=function(){var f,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,v=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],_=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(g,"|").concat(p,"|").concat(v));return this._renderer.geometryInHash(_)||(f=new l.default.Geometry(g,p),b.call(f,1,0,1,g,p,v,!1),g<=24&&p<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,f)),this._renderer.drawBuffersScaled(_,h,m,h),this},l.default.prototype.ellipsoid=function(){var f,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:h,p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,v=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,_=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(p,"|").concat(v));return this._renderer.geometryInHash(_)||((f=new l.default.Geometry(p,v,function(){for(var w=0;w<=this.detailY;w++)for(var S=w/this.detailY,M=Math.PI*S-Math.PI/2,j=Math.cos(M),I=Math.sin(M),D=0;D<=this.detailX;D++){var P=D/this.detailX,N=2*Math.PI*P,A=Math.cos(N),N=Math.sin(N),N=new l.default.Vector(j*N,I,j*A);this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(P,S)}})).computeFaces(),p<=24&&v<=24?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,f)),this._renderer.drawBuffersScaled(_,h,m,g),this},l.default.prototype.torus=function(f,_,m,g){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),f===void 0)f=50;else if(!f)return;if(_===void 0)_=10;else if(!_)return;m===void 0&&(m=24),g===void 0&&(g=16);var p,v=(_/f).toPrecision(4),_="torus|".concat(v,"|").concat(m,"|").concat(g);return this._renderer.geometryInHash(_)||((p=new l.default.Geometry(m,g,function(){for(var w=0;w<=this.detailY;w++)for(var S=w/this.detailY,M=2*Math.PI*S,j=Math.cos(M),I=Math.sin(M),D=1+v*j,P=0;P<=this.detailX;P++){var A=P/this.detailX,N=2*Math.PI*A,z=Math.cos(N),N=Math.sin(N),O=new l.default.Vector(D*z,D*N,v*I),z=new l.default.Vector(j*z,j*N,I);this.vertices.push(O),this.vertexNormals.push(z),this.uvs.push(A,S)}})).computeFaces(),m<=24&&g<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,p)),this._renderer.drawBuffersScaled(_,f,f,f),this},l.default.RendererGL.prototype.point=function(f,h){var m=[];return m.push(new l.default.Vector(f,h,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(m,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(_){var h=_[0],m=_[1],g=_[2],p=_[3],v=_[4],_=_[5],w=(this.geometryInHash("tri")||((w=new l.default.Geometry(1,1,function(){var j=[];j.push(new l.default.Vector(0,0,0)),j.push(new l.default.Vector(1,0,0)),j.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=j,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)),this.uModelMatrix.copy());try{var S=Math.sign(h*p-g*m+g*_-v*p+v*m-h*_),M=new l.default.Matrix([g-h,p-m,0,0,v-h,_-m,0,0,0,0,S,0,h,m,0,1]).mult(this.uModelMatrix);this.uModelMatrix=M,this.drawBuffers("tri")}finally{this.uModelMatrix=w}return this},l.default.RendererGL.prototype.ellipse=function(f){this.arc(f[0],f[1],f[2],f[3],0,u.TWO_PI,u.OPEN,f[4])},l.default.RendererGL.prototype.arc=function(){var f,h=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1],g=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3],v=arguments.length<=4?void 0:arguments[4],_=arguments.length<=5?void 0:arguments[5],w=arguments.length<=6?void 0:arguments[6],S=(arguments.length<=7?void 0:arguments[7])||25,M=(Math.abs(_-v)>=u.TWO_PI?"".concat(j="ellipse","|"):"".concat(j="arc","|").concat(v,"|").concat(_,"|").concat(w,"|")).concat(S,"|"),j=(this.geometryInHash(M)||((f=new l.default.Geometry(S,1,function(){if(v.toFixed(10)!==_.toFixed(10)){w!==u.PIE&&w!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var I=0;I<=S;I++){var P=(_-v)*(I/S)+v,D=.5+Math.cos(P)/2,P=.5+Math.sin(P)/2;this.vertices.push(new l.default.Vector(D,P,0)),this.uvs.push([D,P]),I<S-1&&(this.faces.push([0,I+1,I+2]),this.edges.push([I+1,I+2]))}switch(w){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case u.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case u.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),S<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(j," with more than 50 detail")),this.createBuffers(M,f)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([h,m,0]),this.uModelMatrix.scale(g,p,1),this.drawBuffers(M)}finally{this.uModelMatrix=j}return this},l.default.RendererGL.prototype.rect=function(f){var h=f[0],m=f[1],g=f[2],p=f[3];if(f[4]===void 0){var w=this._pInst._glAttributes.perPixelLighting,v=f[4]||(w?1:24),_=f[5]||(w?1:16),w="rect|".concat(v,"|").concat(_),S=(this.geometryInHash(w)||((S=new l.default.Geometry(v,_,function(){for(var $=0;$<=this.detailY;$++)for(var H=$/this.detailY,X=0;X<=this.detailX;X++){var K=X/this.detailX,ae=new l.default.Vector(K,H,0);this.vertices.push(ae),this.uvs.push(K,H)}0<v&&0<_&&(this.edges=[[0,v],[v,(v+1)*(_+1)-1],[(v+1)*(_+1)-1,(v+1)*_],[(v+1)*_,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(w,S)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([h,m,0]),this.uModelMatrix.scale(g,p,1),this.drawBuffers(w)}finally{this.uModelMatrix=S}}else{var w=f[4],S=f[5]===void 0?w:f[5],M=f[6]===void 0?S:f[6],f=f[7]===void 0?M:f[7],N=g,j=p,P=((N+=h)<h&&(P=h,h=N,N=P),(j+=m)<m&&(P=m,m=j,j=P),Math.min((N-h)/2,(j-m)/2)),I=(P<w&&(w=P),P<S&&(S=P),P<M&&(M=P),P<f&&(f=P),h),D=m,P=N,h=j,A=(this.beginShape(),S!==0?(this.vertex(P-S,D),this.quadraticVertex(P,D,P,D+S)):this.vertex(P,D),M!==0?(this.vertex(P,h-M),this.quadraticVertex(P,h,P-M,h)):this.vertex(P,h),f!==0?(this.vertex(I+f,h),this.quadraticVertex(I,h,I,h-f)):this.vertex(I,h),w!==0?(this.vertex(I,D+w),this.quadraticVertex(I,D,I+w,D)):this.vertex(I,D),!(this.immediateMode.geometry.uvs.length=0)),m=!1,N=void 0;try{for(var O,z=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(O=z.next()).done);A=!0){var U=O.value,F=(U.x-I)/g,W=(U.y-D)/p;this.immediateMode.geometry.uvs.push(F,W)}}catch(L){m=!0,N=L}finally{try{A||z.return==null||z.return()}finally{if(m)throw N}}this.endShape(u.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(f,h,m,g,p,v,_,w,S,M,j,I){var D=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,P=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(f,"|").concat(h,"|").concat(m,"|").concat(g,"|").concat(p,"|").concat(v,"|").concat(_,"|").concat(w,"|").concat(S,"|").concat(M,"|").concat(j,"|").concat(I,"|").concat(D,"|").concat(P);if(!this.geometryInHash(A)){var N=new l.default.Geometry(D,P,function(){for(var X=1/(this.detailX-1),K=1/(this.detailY-1),ae=0;ae<this.detailY;ae++)for(var L=0;L<this.detailX;L++){var E=L*X,B=ae*K;this.vertices.push(new l.default.Vector((1-E)*((1-B)*f+B*M)+E*((1-B)*g+B*_),(1-E)*((1-B)*h+B*j)+E*((1-B)*p+B*w),(1-E)*((1-B)*m+B*I)+E*((1-B)*v+B*S))),this.uvs.push([E,B])}});N.faces=[];for(var O=0;O<P-1;O++)for(var z=0;z<D-1;z++){var U=z+O*D,F=z+1+(O+1)*D,W=z+(O+1)*D;N.faces.push([U,z+1+O*D,F]),N.faces.push([U,F,W])}N.computeNormals();for(var $=[N.edges.length=0,2,3,1],H=0;H<$.length;H++)N.edges.push([$[H],$[(H+1)%$.length]]);N._edgesToVertices(),this.createBuffers(A,N)}return this.drawBuffers(A),this},l.default.RendererGL.prototype.bezier=function(f,h,m,g,p,v,_,w,S,M,j,I){arguments.length===8&&(j=w,M=_,w=v,_=p,p=g,g=m,m=v=S=I=0);var D=this._pInst._bezierDetail||20;this.beginShape();for(var P=0;P<=D;P++){var A=Math.pow(1-P/D,3),N=P/D*3*Math.pow(1-P/D,2),O=3*Math.pow(P/D,2)*(1-P/D),z=Math.pow(P/D,3);this.vertex(f*A+g*N+_*O+M*z,h*A+p*N+w*O+j*z,m*A+v*N+S*O+I*z)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(f,h,m,g,p,v,_,w,S,M,j,I){arguments.length===8&&(M=_,j=w,_=p,w=g,p=g=m,m=v=S=I=0);var D=this._pInst._curveDetail;this.beginShape();for(var P=0;P<=D;P++){var A=.5*Math.pow(P/D,3),N=.5*Math.pow(P/D,2),O=P/D*.5;this.vertex(A*(3*g-f-3*_+M)+N*(2*f-5*g+4*_-M)+O*(-f+_)+2*g*.5,A*(3*p-h-3*w+j)+N*(2*h-5*p+4*w-j)+O*(-h+w)+2*p*.5,A*(3*v-m-3*S+I)+N*(2*m-5*v+4*S-I)+O*(-m+S)+2*v*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var f,h,m,g,p,v,_=[],w=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,j=M,I=1,D=0;j<1;){if(v=parseFloat(j.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(v),I.toFixed(6)===M.toFixed(6)){v=parseFloat(I.toFixed(6))+parseFloat(j.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(v);break}j+=M,I-=M,++D}}for(var P=this._lookUpTableBezier.length,A=[],N=0;N<4;N++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var O=[];for(N=0;N<4;N++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),S===6){this.isBezier=!0;var _=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(_[0]-_[1],w[0]-w[1]),F=Math.hypot(_[1]-_[2],w[1]-w[2]),U=Math.hypot(_[2]-_[3],w[2]-w[3]),F=z+F+U;for(z/=F,U/=F,p=0;p<4;p++)A[1].push(A[0][p]*(1-z)+A[3][p]*z),A[2].push(A[0][p]*U+A[3][p]*(1-U)),O[1].push(O[0][p]*(1-z)+O[3][p]*z),O[2].push(O[0][p]*U+O[3][p]*(1-U));for(g=0;g<P;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=f=h=0;N<4;N++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[g][N]*A[N][p],this.curStrokeColor[p]+=this._lookUpTableBezier[g][N]*O[N][p];f+=_[N]*this._lookUpTableBezier[g][N],h+=w[N]*this._lookUpTableBezier[g][N]}this.vertex(f,h)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(S===9){this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var W=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],$=Math.hypot(_[0]-_[1],w[0]-w[1],W[0]-W[1]),F=Math.hypot(_[1]-_[2],w[1]-w[2],W[1]-W[2]),H=Math.hypot(_[2]-_[3],w[2]-w[3],W[2]-W[3]),S=$+F+H;for($/=S,H/=S,p=0;p<4;p++)A[1].push(A[0][p]*(1-$)+A[3][p]*$),A[2].push(A[0][p]*H+A[3][p]*(1-H)),O[1].push(O[0][p]*(1-$)+O[3][p]*$),O[2].push(O[0][p]*H+O[3][p]*(1-H));for(g=0;g<P;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=f=h=m=0;N<4;N++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableBezier[g][N]*A[N][p],this.curStrokeColor[p]+=this._lookUpTableBezier[g][N]*O[N][p];f+=_[N]*this._lookUpTableBezier[g][N],h+=w[N]*this._lookUpTableBezier[g][N],m+=W[N]*this._lookUpTableBezier[g][N]}this.vertex(f,h,m)}this.curFillColor=A[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var f,h,m,g,p,v,_=[],w=[],S=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,j=M,I=1,D=0;j<1;){if(v=parseFloat(j.toFixed(6)),this._lookUpTableQuadratic[D]=this._quadraticCoefficients(v),I.toFixed(6)===M.toFixed(6)){v=parseFloat(I.toFixed(6))+parseFloat(j.toFixed(6)),++D,this._lookUpTableQuadratic[D]=this._quadraticCoefficients(v);break}j+=M,I-=M,++D}}for(var P=this._lookUpTableQuadratic.length,A=[],N=0;N<3;N++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var O=[];for(N=0;N<3;N++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),S===4){this.isQuadratic=!0;var _=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],z=Math.hypot(_[0]-_[1],w[0]-w[1]);for(z/=z+Math.hypot(_[1]-_[2],w[1]-w[2]),p=0;p<4;p++)A[1].push(A[0][p]*(1-z)+A[2][p]*z),O[1].push(O[0][p]*(1-z)+O[2][p]*z);for(g=0;g<P;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=f=h=0;N<3;N++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[g][N]*A[N][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[g][N]*O[N][p];f+=_[N]*this._lookUpTableQuadratic[g][N],h+=w[N]*this._lookUpTableQuadratic[g][N]}this.vertex(f,h)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(S===6){this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var U=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],F=Math.hypot(_[0]-_[1],w[0]-w[1],U[0]-U[1]);for(F/=F+Math.hypot(_[1]-_[2],w[1]-w[2],U[1]-U[2]),p=0;p<4;p++)A[1].push(A[0][p]*(1-F)+A[2][p]*F),O[1].push(O[0][p]*(1-F)+O[2][p]*F);for(g=0;g<P;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=f=h=m=0;N<3;N++){for(p=0;p<4;p++)this.curFillColor[p]+=this._lookUpTableQuadratic[g][N]*A[N][p],this.curStrokeColor[p]+=this._lookUpTableQuadratic[g][N]*O[N][p];f+=_[N]*this._lookUpTableQuadratic[g][N],h+=w[N]*this._lookUpTableQuadratic[g][N],m+=U[N]*this._lookUpTableQuadratic[g][N]}this.vertex(f,h,m)}this.curFillColor=A[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var f,h,m,g,p,v,_=[],w=[],S=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,j=M,I=1,D=0;j<1;){if(v=parseFloat(j.toFixed(6)),this._lookUpTableBezier[D]=this._bezierCoefficients(v),I.toFixed(6)===M.toFixed(6)){v=parseFloat(I.toFixed(6))+parseFloat(j.toFixed(6)),++D,this._lookUpTableBezier[D]=this._bezierCoefficients(v);break}j+=M,I-=M,++D}}var P=this._lookUpTableBezier.length;if(S===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),p=0;p<P;p++)h=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],m=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],this.vertex(h,m);for(p=0;p<S;p++)this.immediateMode._curveVertex.shift()}}else if(S===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),f=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),p=0;p<P;p++)h=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],m=w[0]*this._lookUpTableBezier[p][0]+w[1]*this._lookUpTableBezier[p][1]+w[2]*this._lookUpTableBezier[p][2]+w[3]*this._lookUpTableBezier[p][3],g=f[0]*this._lookUpTableBezier[p][0]+f[1]*this._lookUpTableBezier[p][1]+f[2]*this._lookUpTableBezier[p][2]+f[3]*this._lookUpTableBezier[p][3],this.vertex(h,m,g);for(p=0;p<S;p++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(f,I,m,D,p,v,_,w,S){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(f),this._pInst.textureMode(u.NORMAL);var M=0,j=(I<=f.width&&(M=I/f.width),1),I=(I+D<=f.width&&(j=(I+D)/f.width),0),D=(m<=f.height&&(I=m/f.height),1);m+p<=f.height&&(D=(m+p)/f.height),this.beginShape(),this.vertex(v,_,0,M,I),this.vertex(v+w,_,0,j,I),this.vertex(v+w,_+S,0,j,D),this.vertex(v,_+S,0,M,D),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var d=l.default;s.default=d},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,o,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}function c(h){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(f=t("../core/main"))&&f.__esModule?f:{default:f},u=function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var m=y();if(m&&m.has(h))return m.get(h);var g,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var _;Object.prototype.hasOwnProperty.call(h,g)&&((_=v?Object.getOwnPropertyDescriptor(h,g):null)&&(_.get||_.set)?Object.defineProperty(p,g,_):p[g]=h[g])}return p.default=h,m&&m.set(h,p),p}(t("../core/constants"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}function b(h){return function(m){if(Array.isArray(m)){for(var g=0,p=new Array(m.length);g<m.length;g++)p[g]=m[g];return p}}(h)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(h,m){for(var g=0;g<m.length;g++){var p=m[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}var f=function(){function h(v){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");(this.renderer=v)._pInst.push(),this.identityMatrix=new l.default.Matrix,v.uModelMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(h.nextGeometryId),h.nextGeometryId++,this.hasTransform=!1}var m,g,p;return m=h,(g=[{key:"transformVertices",value:function(v){var _=this;return this.hasTransform?v.map(function(w){return _.renderer.uModelMatrix.multiplyPoint(w)}):v}},{key:"transformNormals",value:function(v){var _=this;return this.hasTransform?v.map(function(w){return _.renderer.uNMatrix.multiplyVec3(w)}):v}},{key:"addGeometry",value:function(v){for(var _,w=this,S=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(j,I){return j===w.identityMatrix.mat4[I]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),M=((_=this.geometry.vertices).push.apply(_,b(this.transformVertices(v.vertices))),(_=this.geometry.vertexNormals).push.apply(_,b(this.transformNormals(v.vertexNormals))),(_=this.geometry.uvs).push.apply(_,b(v.uvs)),this.renderer._doFill&&(_=this.geometry.faces).push.apply(_,b(v.faces.map(function(j){return j.map(function(I){return I+S})}))),this.renderer._doStroke&&(_=this.geometry.edges).push.apply(_,b(v.edges.map(function(j){return j.map(function(I){return I+S})}))),b(v.vertexColors));M.length<4*v.vertices.length;)M.push.apply(M,b(this.renderer.curFillColor));(_=this.geometry.vertexColors).push.apply(_,b(M))}},{key:"addImmediate",value:function(){var v=this.renderer.immediateMode.geometry,_=this.renderer.immediateMode.shapeMode,w=[];if(this.renderer._doFill)if(_===u.TRIANGLE_STRIP||_===u.QUAD_STRIP)for(var S=2;S<v.vertices.length;S++)S%2==0?w.push([S,S-1,S-2]):w.push([S,S-2,S-1]);else if(_===u.TRIANGLE_FAN)for(var M=2;M<v.vertices.length;M++)w.push([0,M-1,M]);else for(var j=0;j<v.vertices.length;j+=3)w.push([j,j+1,j+2]);this.addGeometry(Object.assign({},v,{faces:w}))}},{key:"addRetained",value:function(v){this.addGeometry(v.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&d(m.prototype,g),p&&d(m,p),h}();f.nextGeometryId=0,s.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(b=t("../core/main"))&&b.__esModule?b:{default:b},l=function(d){if(d&&d.__esModule)return d;if(d===null||y(d)!=="object"&&typeof d!="function")return{default:d};var f=u();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants"));function u(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,u=function(){return d},d)}function y(d){return(y=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}c.default.prototype.orbitControl=function(d,f,h,S){var g=this,p=(this._assert3d("orbitControl"),c.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);d===void 0&&(d=1),f===void 0&&(f=d),h===void 0&&(h=1),y(S)!=="object"&&(S={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var j=S.disableTouchActions;this.touchActionsDisabled===!0||j!==void 0&&!j||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var v,_,w,j=S.freeRotation,S=j!==void 0&&j,M=[],j=(this.touches.forEach(function(z){g._renderer.prevTouches.forEach(function(U){z.id===U.id&&(U={x:z.x,y:z.y,px:U.x,py:U.y},M.push(U))})}),this._renderer.prevTouches=this.touches,0),I=0,D=0,P=0,A=0,N=this.height<this.width?this.height:this.width,O=!1;return 0<M.length?(O=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,M.length===1?(I=-d*((v=M[0]).x-v.px)/N,D=f*(v.y-v.py)/N):(v=M[0],_=M[1],j=-(Math.hypot(v.x-_.x,v.y-_.y)-Math.hypot(v.px-_.px,v.py-_.py))*h*4e-4,P=.5*(v.x+_.x)-.5*(v.px+_.px),A=.5*(v.y+_.y)-.5*(v.py+_.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(j=Math.sign(this._mouseWheelDeltaY)*h,j*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(I=-d*this.movedX/N,D=f*this.movedY/N):this.mouseButton===this.RIGHT&&(P=this.movedX,A=this.movedY*p.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),j!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=j),.001<Math.abs(this._renderer.zoomVelocity)?(S?p._orbitFree(0,0,this._renderer.zoomVelocity):p._orbit(0,0,this._renderer.zoomVelocity),p.projMatrix.mat4[15]!==0&&(p.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),p.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=p.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=p.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,I===0&&D===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*I,.6*D),1e-6<this._renderer.rotateVelocity.magSq()?(S?p._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):p._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),P===0&&A===0||!this._renderer.executeRotateAndMove||(v=2*P/this.width,_=2*-A/this.height,this._renderer.moveVelocity.add(.15*v,.15*_)),1e-6<this._renderer.moveVelocity.magSq()?(h=p._getLocalAxes(),d=p.eyeX-p.centerX,f=p.eyeY-p.centerY,N=p.eyeZ-p.centerZ,O=Math.sqrt(d*d+f*f+N*N),j=new c.default.Vector(p.centerX,p.centerY,p.centerZ),j=p.cameraMatrix.multiplyPoint(j),(j=this._renderer.uPMatrix.multiplyAndNormalizePoint(j)).x-=this._renderer.moveVelocity.x,j.y-=this._renderer.moveVelocity.y,D=(I=this._renderer.uPMatrix.mat4)[15]===0?(w=(I[8]+j.x)/I[0]*O,(I[9]+j.y)/I[5]*O):(w=(j.x-I[12])/I[0],(j.y-I[13])/I[5]),p.setPosition(p.eyeX+w*h.x[0]+D*h.y[0],p.eyeY+w*h.x[1]+D*h.y[1],p.eyeZ+w*h.x[2]+D*h.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},c.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];c.default._validateParameters("debugMode",f);for(var m=this._registeredMethods.post.length-1;0<=m;m--)this._registeredMethods.post[m].toString()!==this._grid().toString()&&this._registeredMethods.post[m].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(m,1);f[0]===l.GRID?this.registerMethod("post",this._grid(f[1],f[2],f[3],f[4],f[5])):f[0]===l.AXES?this.registerMethod("post",this._axesIcon(f[1],f[2],f[3],f[4])):(this.registerMethod("post",this._grid(f[0],f[1],f[2],f[3],f[4])),this.registerMethod("post",this._axesIcon(f[5],f[6],f[7],f[8])))},c.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1)},c.default.prototype._grid=function(d,f,h,m,g){d===void 0&&(d=this.width/2),f===void 0&&(f=Math.round(d/30)<4?4:Math.round(d/30)),h===void 0&&(h=0),m===void 0&&(m=0),g===void 0&&(g=0);var p=d/f,v=d/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var _=0;_<=f;_++)this.beginShape(this.LINES),this.vertex(-v+h,m,_*p-v+g),this.vertex(v+h,m,_*p-v+g),this.endShape();for(var w=0;w<=f;w++)this.beginShape(this.LINES),this.vertex(w*p-v+h,m,-v+g),this.vertex(w*p-v+h,m,v+g),this.endShape();this.pop()}},c.default.prototype._axesIcon=function(d,f,h,m){return d===void 0&&(d=40<this.width/20?this.width/20:40),f===void 0&&(f=-this.width/4),h===void 0&&(h=f),m===void 0&&(m=f),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(f,h,m),this.vertex(f+d,h,m),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(f,h,m),this.vertex(f,h+d,m),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(f,h,m),this.vertex(f,h,m+d),this.endShape(),this.pop()}};var b=c.default;s.default=b},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,o,s){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.ambientLight=function(c,l,u,y){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var b=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(b._array[0],b._array[1],b._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(c,l,u){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var y=this.color.apply(this,arguments);return this._renderer.specularColors=[y._array[0],y._array[1],y._array[2]],this},a.default.prototype.directionalLight=function(c,g,m,y,b,d){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),c=c instanceof a.default.Color?c:this.color(c,g,m);var f,h,g=arguments[arguments.length-1],m=typeof g=="number"?(f=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(f=g.x,h=g.y,g.z),g=Math.sqrt(f*f+h*h+m*m);return this._renderer.directionalLightDirections.push(f/g,h/g,m/g),this._renderer.directionalLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(c,m,g,y,b,d){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),c=c instanceof a.default.Color?c:this.color(c,m,g);var f,h,m=arguments[arguments.length-1],g=typeof m=="number"?(f=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(f=m.x,h=m.y,m.z);return this._renderer.pointLightPositions.push(f,h,g),this._renderer.pointLightDiffuseColors.push(c._array[0],c._array[1],c._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(c){this._renderer.activeImageLight=c,this._renderer._enableLighting=!0},a.default.prototype.panorama=function(c){this.filter(this._renderer._getSphereMapping(c))},a.default.prototype.lights=function(){this._assert3d("lights");var c=this.color("rgb(128,128,128)");return this.ambientLight(c),this.directionalLight(c,0,0,-1),this},a.default.prototype.lightFalloff=function(c,l,u){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),c<0&&(c=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),c===0&&l===0&&u===0&&(c=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=c,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=u,this},a.default.prototype.spotLight=function(c,l,u,y,b,d,f,h,m,g,p){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var v,_,w,S=arguments.length;switch(S){case 11:case 10:v=this.color(c,l,u),_=new a.default.Vector(y,b,d),w=new a.default.Vector(f,h,m);break;case 9:c instanceof a.default.Color?(v=c,_=new a.default.Vector(l,u,y),w=new a.default.Vector(b,d,f),g=h,p=m):y instanceof a.default.Vector?(v=this.color(c,l,u),_=y,w=new a.default.Vector(b,d,f),g=h,p=m):f instanceof a.default.Vector?(v=this.color(c,l,u),_=new a.default.Vector(y,b,d),w=f,g=h,p=m):(v=this.color(c,l,u),_=new a.default.Vector(y,b,d),w=new a.default.Vector(f,h,m));break;case 8:g=(w=c instanceof a.default.Color?(v=c,_=new a.default.Vector(l,u,y),new a.default.Vector(b,d,f)):y instanceof a.default.Vector?(v=this.color(c,l,u),_=y,new a.default.Vector(b,d,f)):(v=this.color(c,l,u),_=new a.default.Vector(y,b,d),f),h);break;case 7:c instanceof a.default.Color&&l instanceof a.default.Vector?(v=c,_=l,w=new a.default.Vector(u,y,b),g=d,p=f):c instanceof a.default.Color&&b instanceof a.default.Vector?(v=c,_=new a.default.Vector(l,u,y),w=b,g=d,p=f):y instanceof a.default.Vector&&b instanceof a.default.Vector?(v=this.color(c,l,u),_=y,w=b,g=d,p=f):w=c instanceof a.default.Color?(v=c,_=new a.default.Vector(l,u,y),new a.default.Vector(b,d,f)):y instanceof a.default.Vector?(v=this.color(c,l,u),_=y,new a.default.Vector(b,d,f)):(v=this.color(c,l,u),_=new a.default.Vector(y,b,d),f);break;case 6:y instanceof a.default.Vector&&b instanceof a.default.Vector?(v=this.color(c,l,u),_=y,w=b,g=d):c instanceof a.default.Color&&b instanceof a.default.Vector?(v=c,_=new a.default.Vector(l,u,y),w=b,g=d):c instanceof a.default.Color&&l instanceof a.default.Vector&&(v=c,_=l,w=new a.default.Vector(u,y,b),g=d);break;case 5:c instanceof a.default.Color&&l instanceof a.default.Vector&&u instanceof a.default.Vector?(v=c,_=l,w=u,g=y,p=b):y instanceof a.default.Vector&&b instanceof a.default.Vector?(v=this.color(c,l,u),_=y,w=b):c instanceof a.default.Color&&b instanceof a.default.Vector?(v=c,_=new a.default.Vector(l,u,y),w=b):c instanceof a.default.Color&&l instanceof a.default.Vector&&(v=c,_=l,w=new a.default.Vector(u,y,b));break;case 4:v=c,_=l,w=u,g=y;break;case 3:v=c,_=l,w=u;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(S<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(v._array[0],v._array[1],v._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(_.x,_.y,_.z),w.normalize(),this._renderer.spotLightDirections.push(w.x,w.y,w.z),g===void 0&&(g=Math.PI/3),p!==void 0&&p<1?(p=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):p===void 0&&(p=100),g=this._renderer._pInst._toRadians(g),this._renderer.spotLightAngle.push(Math.cos(g)),this._renderer.spotLightConc.push(p),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return a.default._validateParameters("noLights",l),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=a.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,o,s){"use strict";function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var c=(m=t("../core/main"))&&m.__esModule?m:{default:m};function l(g){return function(p){if(Array.isArray(p)){for(var v=0,_=new Array(p.length);v<p.length;v++)_[v]=p[v];return _}}(g)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(g,p,v,_,w,S,M){try{var j=g[S](M),I=j.value}catch(D){return void v(D)}j.done?p(I):Promise.resolve(I).then(_,w)}function y(g){return function(){var p=this,v=arguments;return new Promise(function(_,w){var S=g.apply(p,v);function M(I){u(S,_,w,M,j,"next",I)}function j(I){u(S,_,w,M,j,"throw",I)}M(void 0)})}}function b(g){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(p){return a(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":a(p)})(g)}function d(g,p,v){for(var _=2<arguments.length&&v!==void 0?v:{},w={v:[],vt:[],vn:[]},S={},M=null,j=new Set,I=!1,D=!1,P=0;P<p.length;++P){var A=p[P].trim().split(/\b\s+/);if(0<A.length){if(A[0]==="usemtl")M=A[1];else if(A[0]==="v"||A[0]==="vn"){var N=new c.default.Vector(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));w[A[0]].push(N)}else if(A[0]==="vt")N=[parseFloat(A[1]),1-parseFloat(A[2])],w[A[0]].push(N);else if(A[0]==="f")for(var O=3;O<A.length;++O){for(var z=[],U=[1,O-1,O],F=0;F<U.length;++F){for(var W,$=A[U[F]],H=$.split("/"),X=0;X<H.length;X++)H[X]=parseInt(H[X])-1;S[$]||(S[$]={}),S[$][M]===void 0?(W=g.vertices.length,g.vertices.push(w.v[H[0]].copy()),g.uvs.push(w.vt[H[1]]?w.vt[H[1]].slice():[0,0]),g.vertexNormals.push(w.vn[H[2]]?w.vn[H[2]].copy():new c.default.Vector),S[$][M]=W,z.push(W),M&&_[M]&&_[M].diffuseColor&&j.add(w.v[H[0]])):z.push(S[$][M])}if(z[0]!==z[1]&&z[0]!==z[2]&&z[1]!==z[2])if(g.faces.push(z),M&&_[M]&&_[M].diffuseColor)for(var I=I=!0,K=_[M].diffuseColor,ae=0;ae<z.length;ae++)g.vertexColors.push(K[0]),g.vertexColors.push(K[1]),g.vertexColors.push(K[2]);else D=!0}}}if(g.vertexNormals.length===0&&g.computeNormals(),I===D)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function f(g,p){if(function(fe){for(var te=new DataView(fe),he=[115,111,108,105,100],ve=0;ve<5;ve++)if(function(Ce,ye,_e){for(var De=0,We=Ce.length;De<We;De++)if(Ce[De]!==ye.getUint8(_e+De,!1))return;return 1}(he,te,ve))return;return 1}(p)){for(var v,_,w,S,M,j,I,D=g,P=new DataView(p),A=P.getUint32(80,!0),N=!1,O=0;O<70;O++)P.getUint32(O,!1)===1129270351&&P.getUint8(O+4)===82&&P.getUint8(O+5)===61&&(N=!0,S=[],M=P.getUint8(O+6)/255,j=P.getUint8(O+7)/255,I=P.getUint8(O+8)/255);for(var z=0;z<A;z++){for(var U,F=84+50*z,W=P.getFloat32(F,!0),$=P.getFloat32(4+F,!0),H=P.getFloat32(8+F,!0),X=(N&&(U=P.getUint16(48+F,!0),w=32768&U?(v=M,_=j,I):(v=(31&U)/31,_=(U>>5&31)/31,(U>>10&31)/31)),new c.default.Vector(W,$,H)),K=1;K<=3;K++){var ae=F+12*K,ae=new c.default.Vector(P.getFloat32(ae,!0),P.getFloat32(4+ae,!0),P.getFloat32(8+ae,!0));D.vertices.push(ae),D.vertexNormals.push(X),N&&S.push(v,_,w)}D.faces.push([3*z,3*z+1,3*z+2]),D.uvs.push([0,0],[0,0],[0,0])}}else if(p=new DataView(p),"TextDecoder"in window)for(var L,E,B=g,G=new TextDecoder("utf-8").decode(p).split(`
`),Q="",ee=[],se=0;se<G.length;++se){for(var ue=G[se].trim(),ie=ue.split(" "),de=0;de<ie.length;++de)ie[de]===""&&ie.splice(de,1);if(ie.length!==0)switch(Q){case"":if(ie[0]!=="solid")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "solid"'));Q="solid";break;case"solid":if(ie[0]!=="facet"||ie[1]!=="normal")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "facet normal"'));L=new c.default.Vector(parseFloat(ie[2]),parseFloat(ie[3]),parseFloat(ie[4])),B.vertexNormals.push(L,L,L),Q="facet normal";break;case"facet normal":if(ie[0]!=="outer"||ie[1]!=="loop")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "outer loop"'));Q="vertex";break;case"vertex":if(ie[0]==="vertex")E=new c.default.Vector(parseFloat(ie[1]),parseFloat(ie[2]),parseFloat(ie[3])),B.vertices.push(E),B.uvs.push([0,0]),ee.push(B.vertices.indexOf(E));else{if(ie[0]!=="endloop")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "vertex" or "endloop"'));B.faces.push(ee),ee=[],Q="endloop"}break;case"endloop":if(ie[0]!=="endfacet")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "endfacet"'));Q="endfacet";break;case"endfacet":if(ie[0]!=="endsolid"){if(ie[0]!=="facet"||ie[1]!=="normal")return console.error(ue),void console.error('Invalid state "'.concat(ie[0],'", should be "endsolid" or "facet normal"'));L=new c.default.Vector(parseFloat(ie[2]),parseFloat(ie[3]),parseFloat(ie[4])),B.vertexNormals.push(L,L,L),Q="facet normal"}break;default:console.error('Invalid state "'.concat(Q,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),c.default.prototype.loadModel=function(g,p){c.default._validateParameters("loadModel",arguments);var v,_,w=!1,S=!1,M=!1,j=g.slice(-4),I=(p&&b(p)==="object"?(w=p.normalize||!1,v=p.successCallback,_=p.failureCallback,j=p.fileType||j,S=p.flipU||!1,M=p.flipV||!1):typeof p=="boolean"?(w=p,v=arguments[2],_=arguments[3],arguments[4]!==void 0&&(j=arguments[4])):(v=typeof p=="function"?p:void 0,_=arguments[2],arguments[3]!==void 0&&(j=arguments[3])),new c.default.Geometry),D=(I.gid="".concat(g,"|").concat(w),this);function P(){return(P=y(regeneratorRuntime.mark(function N(O){var z,U,F,W;return regeneratorRuntime.wrap(function($){for(;;)switch($.prev=$.next){case 0:for(z=[],U=0;U<O.length;U++)(F=O[U].match(/^mtllib (.+)/))&&function(){var H="",X=F[1],K=g.split("/");H=1<K.length?(K.pop(),K.join("/")+"/"+X):X,z.push(function(){return A.apply(this,arguments)}(H).then(function(ae){return ae?(L=D,E=H,new Promise(function(B,G){var Q=null,ee={};L.loadStrings(E,function(se){for(var ue=0;ue<se.length;++ue){var ie,de=se[ue].trim().split(/\s+/);de[0]==="newmtl"?(ie=de[1],ee[Q=ie]={}):de[0]==="Kd"?ee[Q].diffuseColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ka"?ee[Q].ambientColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="Ks"?ee[Q].specularColor=[parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])]:de[0]==="map_Kd"&&(ee[Q].texturePath=de[1])}B(ee)},G)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(H)),{});var L,E}).catch(function(ae){return console.warn("Error loading MTL file: ".concat(H),ae),{}}))}();return $.prev=2,$.next=5,Promise.all(z);case 5:return W=$.sent,W=Object.assign.apply(Object,[{}].concat(l(W))),$.abrupt("return",W);case 10:return $.prev=10,$.t0=$.catch(2),$.abrupt("return",{});case 13:case"end":return $.stop()}},N,null,[[2,10]])}))).apply(this,arguments)}function A(){return(A=y(regeneratorRuntime.mark(function N(O){var z;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,fetch(O,{method:"HEAD"});case 3:return z=U.sent,U.abrupt("return",z.ok);case 7:return U.prev=7,U.t0=U.catch(0),U.abrupt("return",!1);case 10:case"end":return U.stop()}},N,null,[[0,7]])}))).apply(this,arguments)}return j.match(/\.stl$/i)?this.httpDo(g,"GET","arrayBuffer",function(N){f(I,N),w&&I.normalize(),S&&I.flipU(),M&&I.flipV(),D._decrementPreload(),typeof v=="function"&&v(I)},_):j.match(/\.obj$/i)?this.loadStrings(g,function(){var N=y(regeneratorRuntime.mark(function O(z){var U;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,function(){return P.apply(this,arguments)}(z);case 3:U=F.sent,d(I,z,U),F.next=11;break;case 7:return F.prev=7,F.t0=F.catch(0),_?_(F.t0):c.default._friendlyError("Error during parsing: "+F.t0.message),F.abrupt("return");case 11:return F.prev=11,w&&I.normalize(),S&&I.flipU(),M&&I.flipV(),I._makeTriangleEdges(),D._decrementPreload(),typeof v=="function"&&v(I),F.finish(11);case 19:case"end":return F.stop()}},O,null,[[0,7,11,19]])}));return function(O){return N.apply(this,arguments)}}(),_):(c.default._friendlyFileLoadError(3,g),_?_():c.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),I},c.default.prototype.model=function(g){this._assert3d("model"),c.default._validateParameters("model",arguments),0<g.vertices.length&&(this._renderer.geometryInHash(g.gid)||(g._edgesToVertices(),this._renderer.createBuffers(g.gid,g)),this._renderer.drawBuffers(g.gid))};var h=0,m=(c.default.prototype.createModel=function(g){var p,v,_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",j=2<arguments.length?arguments[2]:void 0,w=(c.default._validateParameters("createModel",arguments),!1),S=!1,M=!1,j=(j&&b(j)==="object"?(w=j.normalize||!1,p=j.successCallback,v=j.failureCallback,S=j.flipU||!1,M=j.flipV||!1):v=typeof j=="boolean"?(w=j,p=arguments[3],arguments[4]):(p=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new c.default.Geometry);if(j.gid="".concat(_,"|").concat(w,"|").concat(h++),_.match(/\.stl$/i))try{f(j,new TextEncoder().encode(g).buffer)}catch(I){return void(v?v(I):c.default._friendlyError("Error during parsing: "+I.message))}else if(_.match(/\.obj$/i))try{d(j,g.split(`
`))}catch(I){return void(v?v(I):c.default._friendlyError("Error during parsing: "+I.message))}else c.default._friendlyFileLoadError(3,g),v?v():c.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return w&&j.normalize(),S&&j.flipU(),M&&j.flipV(),j._makeTriangleEdges(),typeof p=="function"&&p(j),j},c.default);s.default=m},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},u=function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants"));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}t("./p5.Texture"),l.default.prototype.loadShader=function(d,f,h,m){l.default._validateParameters("loadShader",arguments),m=m||console.error;function g(){v._decrementPreload(),h&&h(p)}var p=new l.default.Shader,v=this,_=!1,w=!1;return this.loadStrings(d,function(S){p._vertSrc=S.join(`
`),w=!0,_&&g()},m),this.loadStrings(f,function(S){p._fragSrc=S.join(`
`),_=!0,w&&g()},m),p},l.default.prototype.createShader=function(d,f,h){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,d,f,h)},l.default.prototype.createFilterShader=function(d){l.default._validateParameters("createFilterShader",arguments);var f=d.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,f=new l.default.Shader(this._renderer,f,d);return this._renderer.GL?f.ensureCompiledOnContext(this):f.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),f},l.default.prototype.shader=function(d){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),d.ensureCompiledOnContext(this),d.isStrokeShader()?this._renderer.userStrokeShader=d:(this._renderer.userFillShader=d,this._renderer._useNormalMaterial=!1),d.setDefaultUniforms(),this},l.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},l.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},l.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},l.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(d){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),d.gifProperties&&d._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=d,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(d){d!==u.IMAGE&&d!==u.NORMAL?console.warn("You tried to set ".concat(d," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=d},l.default.prototype.textureWrap=function(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,h=(this._renderer.textureWrapX=d,this._renderer.textureWrapY=f,!0),m=!1,g=void 0;try{for(var p,v=this._renderer.textures.values()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0)p.value.setWrapMode(d,f)}catch(_){m=!0,g=_}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return l.default._validateParameters("normalMaterial",f),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(d,f,h){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var m=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=m._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(d,f,h,m){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var g=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=g._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(d,f,h,m){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var g=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=g._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(d){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=d=d<1?1:d,this},l.default.prototype.metalness=function(d){return this._assert3d("metalness"),d=1-Math.exp(-d/100),this._renderer._useMetalness=d,this},l.default.RendererGL.prototype._applyColorBlend=function(d,g){var h=this.GL,m=this.drawMode===u.TEXTURE,g=g||this.userFillShader||this.userStrokeShader||this.userPointShader||m||this.curBlendMode!==u.BLEND||d[d.length-1]<1||this._isErasing;return g!==this._isBlending&&(g||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=g),this._applyBlendMode(),d},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var d=this.GL;switch(this.curBlendMode){case u.BLEND:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case u.ADD:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE);break;case u.REMOVE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ZERO,d.ONE_MINUS_SRC_ALPHA);break;case u.MULTIPLY:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.DST_COLOR,d.ONE_MINUS_SRC_ALPHA);break;case u.SCREEN:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_COLOR);break;case u.EXCLUSION:d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.ONE_MINUS_DST_COLOR,d.ONE_MINUS_SRC_COLOR,d.ONE,d.ONE);break;case u.REPLACE:d.blendEquation(d.FUNC_ADD),d.blendFunc(d.ONE,d.ZERO);break;case u.SUBTRACT:d.blendEquationSeparate(d.FUNC_REVERSE_SUBTRACT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case u.DARKEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(d.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,d.FUNC_ADD),d.blendFuncSeparate(d.ONE,d.ONE,d.ONE,d.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var b=l.default;s.default=b},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,o,s){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(l,u){for(var y=0;y<u.length;y++){var b=u[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}a.default.prototype.camera=function(){var l;this._assert3d("camera");for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("camera",y),(l=this._renderer._curCamera).camera.apply(l,y),this},a.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("perspective",y),(l=this._renderer._curCamera).perspective.apply(l,y),this},a.default.prototype.linePerspective=function(l){if(a.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof a.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(l===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=l},a.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("ortho",y),(l=this._renderer._curCamera).ortho.apply(l,y),this},a.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var u=arguments.length,y=new Array(u),b=0;b<u;b++)y[b]=arguments[b];return a.default._validateParameters("frustum",y),(l=this._renderer._curCamera).frustum.apply(l,y),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new a.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},a.default.Camera=function(){function l(d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=d,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var u,y,b;return u=l,(y=[{key:"perspective",value:function(g,f,h,m){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),f===void 0&&(f=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),m<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=f,this.cameraNear=h,this.cameraFar=m,this.projMatrix=a.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),p=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/f,0,0,0,0,-g*this.yScale,0,0,0,0,(m+h)*p,-1,0,0,2*m*h*p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(I,j,h,m,g,p){var D=this.fbo||this._renderer,D=(I===void 0&&(I=-D.width/2),j===void 0&&(j=+D.width/2),h===void 0&&(h=-D.height/2),m===void 0&&(m=+D.height/2),g===void 0&&(g=0),p===void 0&&(p=Math.max(D.width,D.height)+800),this.cameraNear=g,j-I),v=m-h,_=(this.cameraFar=p)-g,w=2/D,S=2/v*this.yScale,M=-2/_,j=-(j+I)/D,I=-(m+h)/v,D=-(p+g)/_;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-S,0,0,0,0,M,0,j,I,D,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(I,j,h,m,g,p){I===void 0&&(I=.05*-this._renderer.width),j===void 0&&(j=.05*+this._renderer.width),h===void 0&&(h=.05*+this._renderer.height),m===void 0&&(m=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),p===void 0&&(p=this.defaultCameraFar),this.cameraNear=g;var D=j-I,v=m-h,_=(this.cameraFar=p)-g,w=2*g/D,S=2*g/v*this.yScale,M=-2*p*g/_,j=(j+I)/D,I=(m+h)/v,D=-(p+g)/_;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-S,0,0,j,I,D,-1,0,0,M,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(w,f,h,m){var g=this.centerX,p=this.centerY,v=this.centerZ,_=(g-=this.eyeX,p-=this.eyeY,v-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),w=(_.rotate(this._renderer._pInst._toRadians(w),f,h,m),[g*_.mat4[0]+p*_.mat4[4]+v*_.mat4[8],g*_.mat4[1]+p*_.mat4[5]+v*_.mat4[9],g*_.mat4[2]+p*_.mat4[6]+v*_.mat4[10]]);w[0]+=this.eyeX,w[1]+=this.eyeY,w[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,w[0],w[1],w[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(h){var f=this._getLocalAxes(),h=a.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(h),f.z[0],f.z[1],f.z[2]).rotateVector(new a.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,h.x,h.y,h.z)}},{key:"pan",value:function(d){var f=this._getLocalAxes();this._rotateView(d,f.y[0],f.y[1],f.y[2])}},{key:"tilt",value:function(d){var f=this._getLocalAxes();this._rotateView(d,f.x[0],f.x[1],f.x[2])}},{key:"lookAt",value:function(d,f,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,f,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(d,f,h,m,g,p,v,_,w){return d===void 0&&(d=this.defaultEyeX,f=this.defaultEyeY,h=this.defaultEyeZ,m=d,g=f,_=1,w=v=p=0),this.eyeX=d,this.eyeY=f,this.eyeZ=h,m!==void 0&&(this.centerX=m,this.centerY=g,this.centerZ=p),v!==void 0&&(this.upX=v,this.upY=_,this.upZ=w),m=this._getLocalAxes(),this.cameraMatrix.set(m.x[0],m.y[0],m.z[0],0,m.x[1],m.y[1],m.z[1],0,m.x[2],m.y[2],m.z[2],0,0,0,0,1),g=-d,this.cameraMatrix.translate([g,-f,-h]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(m,g,h){var p=this._getLocalAxes(),m=[p.x[0]*m,p.x[1]*m,p.x[2]*m],g=[p.y[0]*g,p.y[1]*g,p.y[2]*g],p=[p.z[0]*h,p.z[1]*h,p.z[2]*h];this.camera(this.eyeX+m[0]+g[0]+p[0],this.eyeY+m[1]+g[1]+p[1],this.eyeZ+m[2]+g[2]+p[2],this.centerX+m[0]+g[0]+p[0],this.centerY+m[1]+g[1]+p[1],this.centerZ+m[2]+g[2]+p[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(d,f,h){var m=d-this.eyeX,g=f-this.eyeY,p=h-this.eyeZ;this.camera(d,f,h,this.centerX+m,this.centerY+g,this.centerZ+p,this.upX,this.upY,this.upZ)}},{key:"set",value:function(d){for(var f=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];f<h.length;f++){var m=h[f];this[m]=d[m]}this.cameraMatrix=d.cameraMatrix.copy(),this.projMatrix=d.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(d,f,h){var m,g,p,v,_,w,S,M,j,I,D,P,A,N,O,z,U,F;h===0?this.set(d):h===1?this.set(f):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=d.projMatrix.mat4[0]*Math.pow(f.projMatrix.mat4[0]/d.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=d.projMatrix.mat4[5]*Math.pow(f.projMatrix.mat4[5]/d.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),v=new a.default.Vector(d.eyeX,d.eyeY,d.eyeZ),_=new a.default.Vector(f.eyeX,f.eyeY,f.eyeZ),z=new a.default.Vector(d.centerX,d.centerY,d.centerZ),F=new a.default.Vector(f.centerX,f.centerY,f.centerZ),p=a.default.Vector.dist(v,z),m=a.default.Vector.dist(_,F),m=p*Math.pow(m/p,h),p=a.default.Vector.sub(v,_),g=1,1e-6<(U=(N=v.copy().sub(_).sub(z).add(F)).magSq())&&(g=a.default.Vector.dot(p,N)/U,g=Math.max(0,Math.min(g,1))),p=a.default.Vector.lerp(a.default.Vector.lerp(v,z,g),a.default.Vector.lerp(_,F,g),h),N=d.cameraMatrix.createSubMatrix3x3(),U=f.cameraMatrix.createSubMatrix3x3(),v=N.row(2),z=U.row(2),_=N.row(1),F=U.row(1),d=new a.default.Vector,f=new a.default.Vector,w=new a.default.Vector,S=new a.default.Vector,1-(M=.5*((N=(U=U.mult3x3(N.copy().transpose3x3())).diagonal())[0]+N[1]+N[2]-1))<1e-7?(d.set(a.default.Vector.lerp(v,z,h)).normalize(),w.set(d).mult(g*m).add(p),S.set(d).mult((g-1)*m).add(p),f.set(a.default.Vector.lerp(_,F,h)).normalize()):(z=1/(1-M),F=Math.max(N[0],N[1],N[2]),P=U.mat3[1]+U.mat3[3],A=U.mat3[2]+U.mat3[6],O=U.mat3[5]+U.mat3[7],F=F===N[0]?(I=.5*P*(z/=j=Math.sqrt((N[0]-M)*z)),D=.5*A*z,.5*(U.mat3[7]-U.mat3[5])/j):F===N[1]?(D=.5*O*(z/=I=Math.sqrt((N[1]-M)*z)),j=.5*P*z,.5*(U.mat3[2]-U.mat3[6])/I):(j=.5*A*(z/=D=Math.sqrt((N[2]-M)*z)),I=.5*O*z,.5*(U.mat3[3]-U.mat3[1])/D),P=h*Math.atan2(F,M),A=Math.cos(P),N=Math.sin(P),(F=new a.default.Matrix("mat3",[A+(O=1-A)*j*j,O*(z=j*I)+N*D,O*(U=D*j)-N*I,O*z-N*D,A+O*I*I,O*(h=I*D)+N*j,O*U+N*I,O*h-N*j,A+O*D*D])).multiplyVec3(v,d),w.set(d).mult(g*m).add(p),S.set(d).mult((g-1)*m).add(p),F.multiplyVec3(_,f)),this.camera(w.x,w.y,w.z,S.x,S.y,S.z,f.x,f.y,f.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var d=new a.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.upX=this.upX,d.upY=this.upY,d.upZ=this.upZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.useLinePerspective=this.useLinePerspective,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d.yScale=this.yScale,d}},{key:"_getLocalAxes",value:function(){var d=this.eyeX-this.centerX,f=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,v=Math.sqrt(d*d+f*f+h*h),v=(v!==0&&(d/=v,f/=v,h/=v),this.upX),m=(_=this.upY)*h-(w=this.upZ)*f,g=-v*h+w*d,p=v*f-_*d,v=f*p-h*g,_=-d*p+h*m,w=d*g-f*m,S=Math.sqrt(m*m+g*g+p*p),S=(S!==0&&(m/=S,g/=S,p/=S),Math.sqrt(v*v+_*_+w*w));return S!==0&&(v/=S,_/=S,w/=S),{x:[m,g,p],y:[v,_,w],z:[d,f,h]}}},{key:"_orbit",value:function(d,S,w){var g=this.eyeX-this.centerX,p=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,m=Math.hypot(g,p,v),g=new a.default.Vector(g,p,v).normalize(),p=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),v=a.default.Vector.cross(p,g).normalize(),_=a.default.Vector.cross(v,p),w=((m=(m*=Math.pow(10,w))<this.cameraNear?this.cameraNear:m)>this.cameraFar&&(m=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(g,p))))+S),S=d;(w<=0||w>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),p.mult(Math.cos(w)),_.mult(Math.cos(S)*Math.sin(w)),v.mult(Math.sin(S)*Math.sin(w)),g.set(p).add(_).add(v),this.eyeX=m*g.x+this.centerX,this.eyeY=m*g.y+this.centerY,this.eyeZ=m*g.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(w,S,j){var g=this.eyeX-this.centerX,p=this.eyeY-this.centerY,v=this.eyeZ-this.centerZ,m=Math.hypot(g,p,v),g=new a.default.Vector(g,p,v).normalize(),p=new a.default.Vector(this.upX,this.upY,this.upZ),v=a.default.Vector.cross(p,g).normalize(),_=a.default.Vector.cross(g,v),I=Math.atan2(S,w),I=(_.mult(Math.sin(I)),v.mult(Math.cos(I)).add(_),Math.sqrt(w*w+S*S)),_=a.default.Vector.cross(g,v),w=((m=(m*=Math.pow(10,j))<this.cameraNear?this.cameraNear:m)>this.cameraFar&&(m=this.cameraFar),Math.cos(I)),S=Math.sin(I),j=p.dot(g),I=p.dot(v),M=j*w+I*S,j=-j*S+I*w,I=p.dot(_);p.x=M*g.x+j*v.x+I*_.x,p.y=M*g.y+j*v.y+I*_.y,p.z=M*g.z+j*v.z+I*_.z,v.mult(-S),g.mult(w).add(v).mult(m),this.camera(g.x+this.centerX,g.y+this.centerY,g.z+this.centerZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&c(u.prototype,y),b&&c(u,b),l}(),a.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix),this._renderer.uViewMatrix.set(l.cameraMatrix)},t=a.default.Camera,s.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,o,s){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(c,l){for(var u=0;u<l.length;u++){var y=l[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}t.default.DataArray=function(){function c(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,d=this,f=c;if(!(d instanceof f))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var l,u,y;return l=c,(u=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,d=new Array(b),f=0;f<b;f++)d[f]=arguments[f];this.ensureLength(this.length+d.length),this.data.set(d,this.length),this.length+=d.length}},{key:"slice",value:function(b,d){return this.data.slice(b,Math.min(d,this.length))}},{key:"subArray",value:function(b,d){return this.data.subarray(b,Math.min(d,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var d=new Float32Array(2*this.data.length);d.set(this.data,0),this.data=d}}}])&&a(l.prototype,u),y&&a(l,y),c}(),t=t.default.DataArray,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(D,o,s){"use strict";function a(P){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(P)}function c(P){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(A){return a(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":a(A)})(P)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint8-clamped-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint8-clamped-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(I=D("../core/main"))&&I.__esModule?I:{default:I},u=function(P){if(P&&P.__esModule)return P;if(P===null||c(P)!=="object"&&typeof P!="function")return{default:P};var A=d();if(A&&A.has(P))return A.get(P);var N,O={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in P){var U;Object.prototype.hasOwnProperty.call(P,N)&&((U=z?Object.getOwnPropertyDescriptor(P,N):null)&&(U.get||U.set)?Object.defineProperty(O,N,U):O[N]=P[N])}return O.default=P,A&&A.set(P,O),O}(D("../core/constants")),y=D("./p5.Texture"),b=D("./p5.RendererGL");function d(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,d=function(){return P},P)}function f(P,A){return function(N){if(Array.isArray(N))return N}(P)||function(N,O){if(Symbol.iterator in Object(N)||Object.prototype.toString.call(N)==="[object Arguments]"){var z=[],U=!0,F=!1,W=void 0;try{for(var $,H=N[Symbol.iterator]();!(U=($=H.next()).done)&&(z.push($.value),!O||z.length!==O);U=!0);}catch(X){F=!0,W=X}finally{try{U||H.return==null||H.return()}finally{if(F)throw W}}return z}}(P,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(P,A,N){return A in P?Object.defineProperty(P,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[A]=N,P}function m(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function g(P,A){for(var N=0;N<A.length;N++){var O=A[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}function p(P,A,N){A&&g(P.prototype,A),N&&g(P,N)}function v(P,A,N){return(v=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(F,z,U){var F=function(W,$){for(;!Object.prototype.hasOwnProperty.call(W,$)&&(W=S(W))!==null;);return W}(F,z);if(F)return(F=Object.getOwnPropertyDescriptor(F,z)).get?F.get.call(U):F.value})(P,A,N||P)}function _(P,A){return(_=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N})(P,A)}function w(P){return function(){var A,N=S(P),N=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=S(this).constructor,Reflect.construct(N,arguments,A)):N.apply(this,arguments),this);if(!A||c(A)!=="object"&&typeof A!="function"){if(N!==void 0)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function S(P){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(P)}var M=function(P){var A=O;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&_(A,P);var N=w(O);function O(z){var U;return m(this,O),(U=N.call(this,z.target._renderer)).fbo=z,U.yScale=-1,U}return p(O,[{key:"_computeCameraDefaultSettings",value:function(){v(S(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O}(l.default.Camera),j=(l.default.FramebufferCamera=M,function(){function P(A,N){m(this,P),this.framebuffer=A,this.property=N}return p(P,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),P}()),I=(l.default.FramebufferTexture=j,function(){function P(A){var N=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},z=(m(this,P),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||u.UNSIGNED_BYTE,this.channels=O.channels||(A._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||u.FLOAT,this.textureFiltering=O.textureFiltering||u.LINEAR,O.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=O.density||A.pixelDensity(),A._renderer.GL);if(this.gl=z,O.width&&O.height?(U=A._renderer._adjustDimensions(O.width,O.height),this.width=U.adjustedWidth,this.height=U.adjustedHeight,this._autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=z.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=z.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var U=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=U,this.draw(function(){return N.target.clear()})}return p(P,[{key:"resize",value:function(A,N){this._autoSized=!1;var O=this.target._renderer._adjustDimensions(A,N);A=O.adjustedWidth,N=O.adjustedHeight,this.width=A,this.height=N,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,y.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),A.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,N=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),O=A.getParameter(A.FRAMEBUFFER_BINDING),z=A.createTexture();if(!z)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,z);var U=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,null),this.colorTexture=z,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,z,0),this.useDepth){var z=A.createTexture();if(!z)throw new Error("Unable to create depth texture");var F=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,z),A.texImage2D(A.TEXTURE_2D,0,F.internalFormat,this.width*this.density,this.height*this.density,0,F.format,F.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,z,0),this.depthTexture=z}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),U.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(F=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),F.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new j(this,"depthTexture"),z=A.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:z,magFilter:z}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new j(this,"colorTexture"),U=this.textureFiltering===u.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,N),A.bindFramebuffer(A.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var A,N,O=this.gl,z=this.format===u.FLOAT?O.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,U=this.channels===u.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(h(N={},O.FLOAT,h({},O.RGBA,O.RGBA32F)),h(N,O.HALF_FLOAT,h({},O.RGBA,O.RGBA16F)),h(N,O.UNSIGNED_BYTE,(h(A={},O.RGBA,O.RGBA8),h(A,O.RGB,O.RGB8),A)),N[z][U]):this.format===u.HALF_FLOAT?O.RGBA:U,format:U,type:z}}},{key:"_glDepthFormat",value:function(){var O=this.gl,A=this.useStencil?this.depthFormat===u.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?O.FLOAT:O.UNSIGNED_INT,N=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===u.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:N,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var z=this.color,A=this.depth,N=this.colorRenderbuffer,O=this.depthRenderbuffer,z=(this._deleteTexture(z),A&&this._deleteTexture(A),this.gl);N&&z.deleteRenderbuffer(N),O&&z.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new M(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,N=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,z=N;O<z.length;O++){var F=f(z[O],2),U=F[0],F=F[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,U,F)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,N=this.target._renderer.activeFramebuffer(),O=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,b.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),N?A.bindFramebuffer(A.FRAMEBUFFER,N._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,N,O,z){l.default._validateParameters("p5.Framebuffer.get",arguments);var U=this._glColorFormat();if(A===void 0&&N===void 0)N=A=0,O=this.width,z=this.height;else if(O===void 0&&z===void 0)return(A<0||N<0||A>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,b.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,N*this.density,U.format,U.type);A=this.target.constrain(A,0,this.width-1),N=this.target.constrain(N,0,this.height-1),O=this.target.constrain(O,1,this.width-A),z=this.target.constrain(z,1,this.height-N);for(var F=(0,b.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,N*this.density,O*this.density,z*this.density,U.format,U.type),W=new Uint8ClampedArray(O*z*this.density*this.density*4),$=(W.fill(255),U.type===this.gl.RGB?3:4),H=0;H<z*this.density;H++)for(var X=0;X<O*this.density;X++)for(var K=0;K<4;K++){var ae,L=4*(H*O*this.density+X)+K;K<$&&(ae=$==4?L:(H*O*this.density+X)*$+K,W[L]=F[ae])}return A=new l.default.Image(O*this.density,z*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(W),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(O,z),A}},{key:"updatePixels",value:function(){var A=this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=N.format===A.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,z=N.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof z)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels),this.colorP5Texture.unbindTexture(),z=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),z?A.bindFramebuffer(A.FRAMEBUFFER,z._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),P}()),D=l.default.Framebuffer=I;s.default=D},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,o,s){"use strict";function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function c(m){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(m){if(m&&m.__esModule)return m;if(m===null||c(m)!=="object"&&typeof m!="function")return{default:m};var g=y();if(g&&g.has(m))return g.get(m);var p,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in m){var w;Object.prototype.hasOwnProperty.call(m,p)&&((w=_?Object.getOwnPropertyDescriptor(m,p):null)&&(w.get||w.set)?Object.defineProperty(v,p,w):v[p]=m[p])}return v.default=m,g&&g.set(m,v),v}(t("../core/constants"));function y(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,y=function(){return m},m)}function b(m){return function(g){if(Array.isArray(g)){for(var p=0,v=new Array(g.length);p<g.length;p++)v[p]=g[p];return v}}(m)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(m,g){return function(p){if(Array.isArray(p))return p}(m)||function(p,v){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]"){var _=[],w=!0,S=!1,M=void 0;try{for(var j,I=p[Symbol.iterator]();!(w=(j=I.next()).done)&&(_.push(j.value),!v||_.length!==v);w=!0);}catch(D){S=!0,M=D}finally{try{w||I.return==null||I.return()}finally{if(S)throw M}}return _}}(m,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(m,g){for(var p=0;p<g.length;p++){var v=g[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}l.default.Geometry=function(){function m(_,w,S){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=_!==void 0?_:1,this.detailY=w!==void 0?w:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,S instanceof Function&&S.call(this)}var g,p,v;return g=m,(p=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var _=new l.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),w=new l.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),S=0;S<this.vertices.length;S++){var M=this.vertices[S];_.x=Math.min(_.x,M.x),_.y=Math.min(_.y,M.y),_.z=Math.min(_.z,M.z),w.x=Math.max(w.x,M.x),w.y=Math.max(w.y,M.y),w.z=Math.max(w.z,M.z)}var j=new l.default.Vector(w.x-_.x,w.y-_.y,w.z-_.z),I=new l.default.Vector((_.x+w.x)/2,(_.y+w.y)/2,(_.z+w.z)/2);this.boundingBoxCache={min:_,max:w,size:j,offset:I}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var _=0;_<this.vertexColors.length;_+=4)if(this.vertexColors[_+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var _=0;_<this.lineVertexColors.length;_+=4)if(this.lineVertexColors[_+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var _=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",S="";if(this.vertices.forEach(function(I){S+="v ".concat(I.x," ").concat(I.y," ").concat(I.z,`
`)}),this.uvs&&0<this.uvs.length)for(var M=0;M<this.uvs.length;M+=2)S+="vt ".concat(this.uvs[M]," ").concat(this.uvs[M+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(I){S+="vn ".concat(I.x," ").concat(I.y," ").concat(I.z,`
`)}),this.faces.forEach(function(I){var D="f";I.forEach(function(P){D=D+" "+(P+1),(0<_.vertexNormals.length||0<_.uvs.length)&&(D+="/",0<_.uvs.length&&(D+=P+1),D+="/",0<_.vertexNormals.length&&(D+=P+1))}),S+=D+`
`});var j=new Blob([S],{type:"text/plain"});l.default.prototype.downloadFile(j,w,"obj")}},{key:"saveStl",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,w=w!==void 0&&w,S=_.substring(0,_.lastIndexOf(".")),M=[],j=!0,I=!1,D=void 0;try{for(var P,A=this.faces[Symbol.iterator]();!(j=(P=A.next()).done);j=!0){var N=P.value,O=l.default.Vector.sub(this.vertices[N[1]],this.vertices[N[0]]),z=l.default.Vector.sub(this.vertices[N[2]],this.vertices[N[0]]),U=O.y*z.z-O.z*z.y,F=O.z*z.x-O.x*z.z,W=O.x*z.y-O.y*z.x;M.push(new l.default.Vector(U,F,W).normalize())}}catch(De){I=!0,D=De}finally{try{j||A.return==null||A.return()}finally{if(I)throw D}}if(w){var $,H=80,I=2*this.faces.length+3*this.faces.length*4*4+80+4,D=new ArrayBuffer(I);($=new DataView(D)).setUint32(H,this.faces.length,!0),H+=4;for(var X=0,K=Object.entries(this.faces);X<K.length;X++){var ae=d(K[X],2),E=ae[0],ae=ae[1],E=M[E],L=($.setFloat32(H,E.x,!0),H+=4,$.setFloat32(H,E.y,!0),H+=4,$.setFloat32(H,E.z,!0),H+=4,!0),E=!1,B=void 0;try{for(var G,Q=ae[Symbol.iterator]();!(L=(G=Q.next()).done);L=!0){var ee=G.value,se=this.vertices[ee];$.setFloat32(H,se.x,!0),H+=4,$.setFloat32(H,se.y,!0),H+=4,$.setFloat32(H,se.z,!0),H+=4}}catch(Oe){E=!0,B=Oe}finally{try{L||Q.return==null||Q.return()}finally{if(E)throw B}}$.setUint16(H,0,!0),H+=2}}else{$="solid "+S+`
`;for(var ue=0,ie=Object.entries(this.faces);ue<ie.length;ue++){var de=d(ie[ue],2),te=de[0],de=de[1],te=M[te],fe=($=$+(" facet norm "+te.x+" "+te.y+" "+te.z+`
`)+`  outer loop
`,!0),te=!1,he=void 0;try{for(var ve,Ce=de[Symbol.iterator]();!(fe=(ve=Ce.next()).done);fe=!0){var ye=ve.value,_e=this.vertices[ye];$+="   vertex "+_e.x+" "+_e.y+" "+_e.z+`
`}}catch(De){te=!0,he=De}finally{try{fe||Ce.return==null||Ce.return()}finally{if(te)throw he}}$=$+`  endloop
 endfacet
`}$+="endsolid "+S+`
`}w=new Blob([$],{type:"text/plain"}),l.default.prototype.downloadFile(w,_,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(_,w){return w%2==0?1-_:_})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(_,w){return w%2==0?_:1-_})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var _,w,S,M=this.detailX+1,j=0;j<this.detailY;j++)for(var I=0;I<this.detailX;I++)w=(j+1)*M+I+1,this.faces.push([j*M+I,_=j*M+I+1,S=(j+1)*M+I]),this.faces.push([S,_,w]);return this}},{key:"_getFaceNormal",value:function(w){var w=this.faces[w],S=this.vertices[w[0]],j=this.vertices[w[1]],w=this.vertices[w[2]],j=l.default.Vector.sub(j,S),w=l.default.Vector.sub(w,S),S=l.default.Vector.cross(j,w),M=l.default.Vector.mag(S),j=M/(l.default.Vector.mag(j)*l.default.Vector.mag(w));return j===0||isNaN(j)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),S):(1<j&&(j=1),S.mult(Math.asin(j)/M))}},{key:"computeNormals",value:function(){var _,w=this,S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:u.FLAT,M=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,j=this.vertexNormals,I=this.vertices,D=this.faces;if(S===u.SMOOTH){for(var P={},A=[],N=Math.pow(10,M===void 0?3:M),O=function($){return Math.round($*N)/N},z=function($){return"".concat(O($.x),",").concat(O($.y),",").concat(O($.z))},U=0;U<I.length;U++){var F=I[U],W=z(F);P[W]===void 0&&(P[W]=A.length,A.push(F))}D.forEach(function($){for(var H=0;H<3;++H){var X=$[H],X=I[X],X=z(X);$[H]=P[X]}}),this.edges.forEach(function($){for(var H=0;H<2;++H){var X=$[H],X=I[X],X=z(X);$[H]=P[X]}}),this.vertices=I=A}for(_=j.length=0;_<I.length;++_)j.push(new l.default.Vector);for(D.forEach(function($,H){for(var X=w._getFaceNormal(H),K=0;K<3;++K){var ae=$[K];j[ae].add(X)}}),_=0;_<I.length;++_)j[_].normalize();return this}},{key:"averageNormals",value:function(){for(var _=0;_<=this.detailY;_++){var w=this.detailX+1,S=l.default.Vector.add(this.vertexNormals[_*w],this.vertexNormals[_*w+this.detailX]),S=l.default.Vector.div(S,2);this.vertexNormals[_*w]=S,this.vertexNormals[_*w+this.detailX]=S}return this}},{key:"averagePoleNormals",value:function(){for(var _=new l.default.Vector(0,0,0),w=0;w<this.detailX;w++)_.add(this.vertexNormals[w]);for(var _=l.default.Vector.div(_,this.detailX),S=0;S<this.detailX;S++)this.vertexNormals[S]=_;_=new l.default.Vector(0,0,0);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)_.add(this.vertexNormals[M]);_=l.default.Vector.div(_,this.detailX);for(var j=this.vertices.length-1;j>this.vertices.length-1-this.detailX;j--)this.vertexNormals[j]=_;return this}},{key:"_makeTriangleEdges",value:function(){for(var _=this.edges.length=0;_<this.faces.length;_++)this.edges.push([this.faces[_][0],this.faces[_][1]]),this.edges.push([this.faces[_][1],this.faces[_][2]]),this.edges.push([this.faces[_][2],this.faces[_][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var _,w=new Map,S=new Set,M=0;M<this.edges.length;M++){var j,I=this.edges[M-1],D=this.edges[M],P=this.vertices[D[0]],A=this.vertices[D[1]],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*D[0],4*(D[0]+1)):[0,0,0,0],O=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*D[1],4*(D[1]+1)):[0,0,0,0],z=A.copy().sub(P).normalize(),U=0<z.magSq();U&&this._addSegment(P,A,N,O,z),0<M&&I[1]===D[0]?S.has(D[0])||(S.add(D[0]),w.delete(D[0]),_&&U&&z.dot(_)<1-1e-8&&this._addJoin(P,_,z,N)):(U&&!S.has(D[0])&&((j=w.get(D[0]))?(this._addJoin(P,j.dir,z,N),w.delete(D[0]),S.add(D[0])):w.set(D[0],{point:P,dir:z.copy().mult(-1),color:N})),_&&!S.has(I[1])&&((j=w.get(I[1]))?(this._addJoin(this.vertices[I[1]],_,j.dir.copy().mult(-1),N),w.delete(I[1]),S.add(I[1])):w.set(I[1],{point:this.vertices[I[1]],dir:_,color:N}),_=void 0)),M!==this.edges.length-1||S.has(D[1])||((P=w.get(D[1]))?(this._addJoin(A,z,P.dir.copy().mult(-1),O),w.delete(D[1]),S.add(D[1])):w.set(D[1],{point:A,dir:z,color:O})),U&&(_=z)}var F=!0,W=!1,$=void 0;try{for(var H,X=w.values()[Symbol.iterator]();!(F=(H=X.next()).done);F=!0){var K=H.value,ae=K.point,L=K.dir,E=K.color;this._addCap(ae,L,E)}}catch(B){W=!0,$=B}finally{try{F||X.return==null||X.return()}finally{if(W)throw $}}return this}},{key:"_addSegment",value:function(I,D,S,M,j){var I=I.array(),D=D.array(),P=j.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var A=0,N=[this.lineTangentsIn,this.lineTangentsOut];A<N.length;A++)for(var O=N[A],z=0;z<6;z++)O.push.apply(O,b(P));return(j=this.lineVertices).push.apply(j,b(I).concat(b(D),b(I),b(D),b(D),b(I))),(j=this.lineVertexColors).push.apply(j,b(S).concat(b(M),b(S),b(M),b(M),b(S))),this}},{key:"_addCap",value:function(_,w,S){for(var M,j=_.array(),I=w.array(),D=[0,0,0],P=0;P<6;P++)(M=this.lineVertices).push.apply(M,b(j)),(M=this.lineTangentsIn).push.apply(M,b(I)),(M=this.lineTangentsOut).push.apply(M,D),(M=this.lineVertexColors).push.apply(M,b(S));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(_,w,S,M){for(var j,I=_.array(),D=w.array(),P=S.array(),A=0;A<12;A++)(j=this.lineVertices).push.apply(j,b(I)),(j=this.lineTangentsIn).push.apply(j,b(D)),(j=this.lineTangentsOut).push.apply(j,b(P)),(j=this.lineVertexColors).push.apply(j,b(M));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var _=this.vertices[0].copy(),w=this.vertices[0].copy(),S=0;S<this.vertices.length;S++)_.x=Math.max(_.x,this.vertices[S].x),w.x=Math.min(w.x,this.vertices[S].x),_.y=Math.max(_.y,this.vertices[S].y),w.y=Math.min(w.y,this.vertices[S].y),_.z=Math.max(_.z,this.vertices[S].z),w.z=Math.min(w.z,this.vertices[S].z);for(var M=l.default.Vector.lerp(_,w,.5),j=l.default.Vector.sub(_,w),I=200/Math.max(Math.max(j.x,j.y),j.z),D=0;D<this.vertices.length;D++)this.vertices[D].sub(M),this.vertices[D].mult(I)}return this}}])&&f(g.prototype,p),v&&f(g,v),m}();var h=l.default.Geometry;s.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(y,o,s){"use strict";y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.typed-array.float32-array"),y("core-js/modules/es.typed-array.copy-within"),y("core-js/modules/es.typed-array.every"),y("core-js/modules/es.typed-array.fill"),y("core-js/modules/es.typed-array.filter"),y("core-js/modules/es.typed-array.find"),y("core-js/modules/es.typed-array.find-index"),y("core-js/modules/es.typed-array.for-each"),y("core-js/modules/es.typed-array.includes"),y("core-js/modules/es.typed-array.index-of"),y("core-js/modules/es.typed-array.iterator"),y("core-js/modules/es.typed-array.join"),y("core-js/modules/es.typed-array.last-index-of"),y("core-js/modules/es.typed-array.map"),y("core-js/modules/es.typed-array.reduce"),y("core-js/modules/es.typed-array.reduce-right"),y("core-js/modules/es.typed-array.reverse"),y("core-js/modules/es.typed-array.set"),y("core-js/modules/es.typed-array.slice"),y("core-js/modules/es.typed-array.some"),y("core-js/modules/es.typed-array.sort"),y("core-js/modules/es.typed-array.subarray"),y("core-js/modules/es.typed-array.to-locale-string"),y("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(y=y("../core/main"))&&y.__esModule?y:{default:y};function c(b,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}}var l=Array,u=function(b){return Array.isArray(b)},y=(typeof Float32Array<"u"&&(l=Float32Array,u=function(b){return Array.isArray(b)||b instanceof Float32Array}),a.default.Matrix=function(){function b(){var m=this,g=b;if(m instanceof g)return arguments.length&&((m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m])instanceof a.default&&(this.p5=(g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var d,f,h;return d=b,h=[{key:"identity",value:function(m){return new a.default.Matrix(m)}}],(f=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(m){var g=arguments;if(m instanceof a.default.Matrix?g=m.mat4:u(m)&&(g=m),g.length!==16)a.default._friendlyError("Expected 16 values but received ".concat(g.length,"."),"p5.Matrix.set");else for(var p=0;p<16;p++)this.mat4[p]=g[p];return this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var m;return this.mat3!==void 0?((m=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],m.mat3[1]=this.mat3[1],m.mat3[2]=this.mat3[2],m.mat3[3]=this.mat3[3],m.mat3[4]=this.mat3[4],m.mat3[5]=this.mat3[5],m.mat3[6]=this.mat3[6],m.mat3[7]=this.mat3[7],m.mat3[8]=this.mat3[8]):((m=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],m.mat4[1]=this.mat4[1],m.mat4[2]=this.mat4[2],m.mat4[3]=this.mat4[3],m.mat4[4]=this.mat4[4],m.mat4[5]=this.mat4[5],m.mat4[6]=this.mat4[6],m.mat4[7]=this.mat4[7],m.mat4[8]=this.mat4[8],m.mat4[9]=this.mat4[9],m.mat4[10]=this.mat4[10],m.mat4[11]=this.mat4[11],m.mat4[12]=this.mat4[12],m.mat4[13]=this.mat4[13],m.mat4[14]=this.mat4[14],m.mat4[15]=this.mat4[15]),m}},{key:"transpose",value:function(m){var g,p,v,_,w,S;return m instanceof a.default.Matrix?(g=m.mat4[1],p=m.mat4[2],v=m.mat4[3],_=m.mat4[6],w=m.mat4[7],S=m.mat4[11],this.mat4[0]=m.mat4[0],this.mat4[1]=m.mat4[4],this.mat4[2]=m.mat4[8],this.mat4[3]=m.mat4[12],this.mat4[4]=g,this.mat4[5]=m.mat4[5],this.mat4[6]=m.mat4[9],this.mat4[7]=m.mat4[13],this.mat4[8]=p,this.mat4[9]=_,this.mat4[10]=m.mat4[10],this.mat4[11]=m.mat4[14],this.mat4[12]=v,this.mat4[13]=w,this.mat4[14]=S,this.mat4[15]=m.mat4[15]):u(m)&&(g=m[1],p=m[2],v=m[3],_=m[6],w=m[7],S=m[11],this.mat4[0]=m[0],this.mat4[1]=m[4],this.mat4[2]=m[8],this.mat4[3]=m[12],this.mat4[4]=g,this.mat4[5]=m[5],this.mat4[6]=m[9],this.mat4[7]=m[13],this.mat4[8]=p,this.mat4[9]=_,this.mat4[10]=m[10],this.mat4[11]=m[14],this.mat4[12]=v,this.mat4[13]=w,this.mat4[14]=S,this.mat4[15]=m[15]),this}},{key:"invert",value:function(F){F instanceof a.default.Matrix?(g=F.mat4[0],p=F.mat4[1],v=F.mat4[2],_=F.mat4[3],w=F.mat4[4],S=F.mat4[5],M=F.mat4[6],j=F.mat4[7],I=F.mat4[8],D=F.mat4[9],P=F.mat4[10],A=F.mat4[11],N=F.mat4[12],O=F.mat4[13],z=F.mat4[14],U=F.mat4[15]):u(F)&&(g=F[0],p=F[1],v=F[2],_=F[3],w=F[4],S=F[5],M=F[6],j=F[7],I=F[8],D=F[9],P=F[10],A=F[11],N=F[12],O=F[13],z=F[14],U=F[15]);var g,p,v,_,w,S,M,j,I,D,P,A,N,O,z,U,F=g*S-p*w,W=g*M-v*w,$=g*j-_*w,H=p*M-v*S,X=p*j-_*S,K=v*j-_*M,ae=I*O-D*N,L=I*z-P*N,E=I*U-A*N,B=D*z-P*O,G=D*U-A*O,Q=P*U-A*z,ee=F*Q-W*G+$*B+H*E-X*L+K*ae;return ee?(this.mat4[0]=(S*Q-M*G+j*B)*(ee=1/ee),this.mat4[1]=(v*G-p*Q-_*B)*ee,this.mat4[2]=(O*K-z*X+U*H)*ee,this.mat4[3]=(P*X-D*K-A*H)*ee,this.mat4[4]=(M*E-w*Q-j*L)*ee,this.mat4[5]=(g*Q-v*E+_*L)*ee,this.mat4[6]=(z*$-N*K-U*W)*ee,this.mat4[7]=(I*K-P*$+A*W)*ee,this.mat4[8]=(w*G-S*E+j*ae)*ee,this.mat4[9]=(p*E-g*G-_*ae)*ee,this.mat4[10]=(N*X-O*$+U*F)*ee,this.mat4[11]=(D*$-I*X-A*F)*ee,this.mat4[12]=(S*L-w*B-M*ae)*ee,this.mat4[13]=(g*B-p*L+v*ae)*ee,this.mat4[14]=(O*W-N*H-z*F)*ee,this.mat4[15]=(I*H-D*W+P*F)*ee,this):null}},{key:"invert3x3",value:function(){var m=this.mat3[0],g=this.mat3[1],p=this.mat3[2],v=this.mat3[3],_=this.mat3[4],w=this.mat3[5],S=this.mat3[6],M=this.mat3[7],j=this.mat3[8],I=j*_-w*M,D=-j*v+w*S,P=M*v-_*S,A=m*I+g*D+p*P;return A?(this.mat3[0]=I*(A=1/A),this.mat3[1]=(-j*g+p*M)*A,this.mat3[2]=(w*g-p*_)*A,this.mat3[3]=D*A,this.mat3[4]=(j*m-p*S)*A,this.mat3[5]=(-w*m+p*v)*A,this.mat3[6]=P*A,this.mat3[7]=(-M*m+g*S)*A,this.mat3[8]=(_*m-g*v)*A,this):null}},{key:"transpose3x3",value:function(m){var g=(m=m===void 0?this.mat3:m)[1],p=m[2],v=m[5];return this.mat3[0]=m[0],this.mat3[1]=m[3],this.mat3[2]=m[6],this.mat3[3]=g,this.mat3[4]=m[4],this.mat3[5]=m[7],this.mat3[6]=p,this.mat3[7]=v,this.mat3[8]=m[8],this}},{key:"inverseTranspose",value:function(m){if(m=m.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=m[0],this.mat3[1]=m[1],this.mat3[2]=m[2],this.mat3[3]=m[4],this.mat3[4]=m[5],this.mat3[5]=m[6],this.mat3[6]=m[8],this.mat3[7]=m[9],this.mat3[8]=m[10]),m=this.invert3x3(),m)m.transpose3x3(this.mat3);else for(var g=0;g<9;g++)this.mat3[g]=0;return this}},{key:"determinant",value:function(){var m=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],g=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],p=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],v=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],_=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],w=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],S=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],M=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],j=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],I=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],D=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return m*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-g*D+p*I+v*j-_*M+w*S}},{key:"mult",value:function(p){var g;if(p===this||p===this.mat4)g=this.copy().mat4;else if(p instanceof a.default.Matrix)g=p.mat4;else if(u(p))g=p;else{if(arguments.length!==16)return;g=arguments}var p=this.mat4[0],v=this.mat4[1],_=this.mat4[2],w=this.mat4[3];return this.mat4[0]=p*g[0]+v*g[4]+_*g[8]+w*g[12],this.mat4[1]=p*g[1]+v*g[5]+_*g[9]+w*g[13],this.mat4[2]=p*g[2]+v*g[6]+_*g[10]+w*g[14],this.mat4[3]=p*g[3]+v*g[7]+_*g[11]+w*g[15],p=this.mat4[4],v=this.mat4[5],_=this.mat4[6],w=this.mat4[7],this.mat4[4]=p*g[0]+v*g[4]+_*g[8]+w*g[12],this.mat4[5]=p*g[1]+v*g[5]+_*g[9]+w*g[13],this.mat4[6]=p*g[2]+v*g[6]+_*g[10]+w*g[14],this.mat4[7]=p*g[3]+v*g[7]+_*g[11]+w*g[15],p=this.mat4[8],v=this.mat4[9],_=this.mat4[10],w=this.mat4[11],this.mat4[8]=p*g[0]+v*g[4]+_*g[8]+w*g[12],this.mat4[9]=p*g[1]+v*g[5]+_*g[9]+w*g[13],this.mat4[10]=p*g[2]+v*g[6]+_*g[10]+w*g[14],this.mat4[11]=p*g[3]+v*g[7]+_*g[11]+w*g[15],p=this.mat4[12],v=this.mat4[13],_=this.mat4[14],w=this.mat4[15],this.mat4[12]=p*g[0]+v*g[4]+_*g[8]+w*g[12],this.mat4[13]=p*g[1]+v*g[5]+_*g[9]+w*g[13],this.mat4[14]=p*g[2]+v*g[6]+_*g[10]+w*g[14],this.mat4[15]=p*g[3]+v*g[7]+_*g[11]+w*g[15],this}},{key:"apply",value:function(p){var g;if(p===this||p===this.mat4)g=this.copy().mat4;else if(p instanceof a.default.Matrix)g=p.mat4;else if(u(p))g=p;else{if(arguments.length!==16)return;g=arguments}var p=this.mat4,v=p[0],_=p[4],w=p[8],S=p[12],v=(p[0]=g[0]*v+g[1]*_+g[2]*w+g[3]*S,p[4]=g[4]*v+g[5]*_+g[6]*w+g[7]*S,p[8]=g[8]*v+g[9]*_+g[10]*w+g[11]*S,p[12]=g[12]*v+g[13]*_+g[14]*w+g[15]*S,p[1]),_=p[5],w=p[9],S=p[13],v=(p[1]=g[0]*v+g[1]*_+g[2]*w+g[3]*S,p[5]=g[4]*v+g[5]*_+g[6]*w+g[7]*S,p[9]=g[8]*v+g[9]*_+g[10]*w+g[11]*S,p[13]=g[12]*v+g[13]*_+g[14]*w+g[15]*S,p[2]),_=p[6],w=p[10],S=p[14],v=(p[2]=g[0]*v+g[1]*_+g[2]*w+g[3]*S,p[6]=g[4]*v+g[5]*_+g[6]*w+g[7]*S,p[10]=g[8]*v+g[9]*_+g[10]*w+g[11]*S,p[14]=g[12]*v+g[13]*_+g[14]*w+g[15]*S,p[3]),_=p[7],w=p[11],S=p[15];return p[3]=g[0]*v+g[1]*_+g[2]*w+g[3]*S,p[7]=g[4]*v+g[5]*_+g[6]*w+g[7]*S,p[11]=g[8]*v+g[9]*_+g[10]*w+g[11]*S,p[15]=g[12]*v+g[13]*_+g[14]*w+g[15]*S,this}},{key:"scale",value:function(m,g,p){return m instanceof a.default.Vector?(g=m.y,p=m.z,m=m.x):m instanceof Array&&(g=m[1],p=m[2],m=m[0]),this.mat4[0]*=m,this.mat4[1]*=m,this.mat4[2]*=m,this.mat4[3]*=m,this.mat4[4]*=g,this.mat4[5]*=g,this.mat4[6]*=g,this.mat4[7]*=g,this.mat4[8]*=p,this.mat4[9]*=p,this.mat4[10]*=p,this.mat4[11]*=p,this}},{key:"rotate",value:function(F,G,B,v){G instanceof a.default.Vector?(B=G.y,v=G.z,G=G.x):G instanceof Array&&(B=G[1],v=G[2],G=G[0]);var _=Math.sqrt(G*G+B*B+v*v),_=(G*=1/_,B*=1/_,v*=1/_,this.mat4[0]),w=this.mat4[1],S=this.mat4[2],M=this.mat4[3],j=this.mat4[4],I=this.mat4[5],D=this.mat4[6],P=this.mat4[7],A=this.mat4[8],N=this.mat4[9],O=this.mat4[10],z=this.mat4[11],U=Math.sin(F),F=Math.cos(F),W=1-F,$=G*G*W+F,H=B*G*W+v*U,X=v*G*W-B*U,K=G*B*W-v*U,ae=B*B*W+F,L=v*B*W+G*U,E=G*v*W+B*U,B=B*v*W-G*U,G=v*v*W+F;return this.mat4[0]=_*$+j*H+A*X,this.mat4[1]=w*$+I*H+N*X,this.mat4[2]=S*$+D*H+O*X,this.mat4[3]=M*$+P*H+z*X,this.mat4[4]=_*K+j*ae+A*L,this.mat4[5]=w*K+I*ae+N*L,this.mat4[6]=S*K+D*ae+O*L,this.mat4[7]=M*K+P*ae+z*L,this.mat4[8]=_*E+j*B+A*G,this.mat4[9]=w*E+I*B+N*G,this.mat4[10]=S*E+D*B+O*G,this.mat4[11]=M*E+P*B+z*G,this}},{key:"translate",value:function(v){var g=v[0],p=v[1],v=v[2]||0;this.mat4[12]+=this.mat4[0]*g+this.mat4[4]*p+this.mat4[8]*v,this.mat4[13]+=this.mat4[1]*g+this.mat4[5]*p+this.mat4[9]*v,this.mat4[14]+=this.mat4[2]*g+this.mat4[6]*p+this.mat4[10]*v,this.mat4[15]+=this.mat4[3]*g+this.mat4[7]*p+this.mat4[11]*v}},{key:"rotateX",value:function(m){this.rotate(m,1,0,0)}},{key:"rotateY",value:function(m){this.rotate(m,0,1,0)}},{key:"rotateZ",value:function(m){this.rotate(m,0,0,1)}},{key:"perspective",value:function(_,g,p,v){var _=1/Math.tan(_/2),w=1/(p-v);return this.mat4[0]=_/g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=_,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(v+p)*w,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*v*p*w,this.mat4[15]=0,this}},{key:"ortho",value:function(m,g,p,v,_,w){var S=1/(m-g),M=1/(p-v),j=1/(_-w);return this.mat4[0]=-2*S,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*j,this.mat4[11]=0,this.mat4[12]=(m+g)*S,this.mat4[13]=(v+p)*M,this.mat4[14]=(w+_)*j,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(m,g,p,v){var _=new Array(4),w=this.mat4;return _[0]=w[0]*m+w[4]*g+w[8]*p+w[12]*v,_[1]=w[1]*m+w[5]*g+w[9]*p+w[13]*v,_[2]=w[2]*m+w[6]*g+w[10]*p+w[14]*v,_[3]=w[3]*m+w[7]*g+w[11]*p+w[15]*v,_}},{key:"multiplyPoint",value:function(p){var v=p.x,g=p.y,p=p.z,v=this.multiplyVec4(v,g,p,1);return new a.default.Vector(v[0],v[1],v[2])}},{key:"multiplyAndNormalizePoint",value:function(p){var v=p.x,g=p.y,p=p.z,v=this.multiplyVec4(v,g,p,1);return v[0]/=v[3],v[1]/=v[3],v[2]/=v[3],new a.default.Vector(v[0],v[1],v[2])}},{key:"multiplyDirection",value:function(p){var v=p.x,g=p.y,p=p.z,v=this.multiplyVec4(v,g,p,0);return new a.default.Vector(v[0],v[1],v[2])}},{key:"mult3x3",value:function(p){var g;if(p===this||p===this.mat3)g=this.copy().mat3;else if(p instanceof a.default.Matrix)g=p.mat3;else if(u(p))g=p;else{if(arguments.length!==9)return;g=arguments}var p=this.mat3[0],v=this.mat3[1],_=this.mat3[2];return this.mat3[0]=p*g[0]+v*g[3]+_*g[6],this.mat3[1]=p*g[1]+v*g[4]+_*g[7],this.mat3[2]=p*g[2]+v*g[5]+_*g[8],p=this.mat3[3],v=this.mat3[4],_=this.mat3[5],this.mat3[3]=p*g[0]+v*g[3]+_*g[6],this.mat3[4]=p*g[1]+v*g[4]+_*g[7],this.mat3[5]=p*g[2]+v*g[5]+_*g[8],p=this.mat3[6],v=this.mat3[7],_=this.mat3[8],this.mat3[6]=p*g[0]+v*g[3]+_*g[6],this.mat3[7]=p*g[1]+v*g[4]+_*g[7],this.mat3[8]=p*g[2]+v*g[5]+_*g[8],this}},{key:"column",value:function(m){return new a.default.Vector(this.mat3[3*m],this.mat3[3*m+1],this.mat3[3*m+2])}},{key:"row",value:function(m){return new a.default.Vector(this.mat3[m],this.mat3[m+3],this.mat3[m+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(m,g){return(g=g===void 0?m.copy():g).x=this.row(0).dot(m),g.y=this.row(1).dot(m),g.z=this.row(2).dot(m),g}},{key:"createSubMatrix3x3",value:function(){var m=new a.default.Matrix("mat3");return m.mat3[0]=this.mat4[0],m.mat3[1]=this.mat4[1],m.mat3[2]=this.mat4[2],m.mat3[3]=this.mat4[4],m.mat3[4]=this.mat4[5],m.mat3[5]=this.mat4[6],m.mat3[6]=this.mat4[8],m.mat3[7]=this.mat4[9],m.mat3[8]=this.mat4[10],m}}])&&c(d.prototype,f),h&&c(d,h),b}(),a.default.Matrix);s.default=y},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,o,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(l,u){for(var y=0;y<u.length;y++){var b=u[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(l,b.key,b)}}a.default.Quat=function(){function l(d,f,h,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.w=d,this.vec=new a.default.Vector(f,h,m)}var u,y,b;return u=l,b=[{key:"fromAxisAngle",value:function(d,p,h,m){var g=Math.cos(d/2),p=new a.default.Vector(p,h,m).normalize().mult(Math.sin(d/2));return new a.default.Quat(g,p.x,p.y,p.z)}}],(y=[{key:"conjugate",value:function(){return new a.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(d){return new a.default.Quat(this.w*d.w-this.vec.x*d.vec.x-this.vec.y*d.vec.y-this.vec.z-d.vec.z,this.w*d.vec.x+this.vec.x*d.w+this.vec.y*d.vec.z-this.vec.z*d.vec.y,this.w*d.vec.y-this.vec.x*d.vec.z+this.vec.y*d.w+this.vec.z*d.vec.x,this.w*d.vec.z+this.vec.x*d.vec.y-this.vec.y*d.vec.x+this.vec.z*d.w)}},{key:"rotateVector",value:function(d){return new a.default.Vector.mult(d,this.w*this.w-this.vec.dot(this.vec)).add(a.default.Vector.mult(this.vec,2*d.dot(this.vec))).add(a.default.Vector.mult(this.vec,2*this.w).cross(d)).clampToZero()}},{key:"rotateBy",value:function(d){return d.multiply(this).multiply(d.conjugate()).vec.clampToZero()}}])&&c(u.prototype,y),b&&c(u,b),l}(),t=a.default.Quat,s.default=t},{"../core/main":283}],338:[function(t,o,s){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(c,l){for(var u=0;u<l.length;u++){var y=l[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}t.default.RenderBuffer=function(){function c(b,d,f,h,m,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=d,this.dst=f,this.attr=h,this._renderer=m,this.map=g}var l,u,y;return l=c,(u=[{key:"_prepareBuffer",value:function(b,d){var f,h,m,v=d.attributes,g=this._renderer.GL,p=b.model||b,v=v[this.attr];v&&(f=b[this.dst],0<(h=p[this.src]).length?((m=!f)&&(b[this.dst]=f=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,f),!m&&p.dirtyFlags[this.src]===!1||(m=(b=this.map)?b(h):h,this._renderer._bindBuffer(f,g.ARRAY_BUFFER,m),p.dirtyFlags[this.src]=!1),d.enableAttrib(v,this.size)):(b=v.location)!==-1&&this._renderer.registerEnabled.has(b)&&(g.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&a(l.prototype,u),y&&a(l,y),c}(),t=t.default.RenderBuffer,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,o,s){"use strict";function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}function c(h){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(f=t("../core/main"))&&f.__esModule?f:{default:f},u=function(h){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var m=y();if(m&&m.has(h))return m.get(h);var g,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var _;Object.prototype.hasOwnProperty.call(h,g)&&((_=v?Object.getOwnPropertyDescriptor(h,g):null)&&(_.get||_.set)?Object.defineProperty(p,g,_):p[g]=h[g])}return p.default=h,m&&m.set(h,p),p}(t("../core/constants"));function y(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,y=function(){return h},h)}function b(h){return function(m){if(Array.isArray(m)){for(var g=0,p=new Array(m.length);g<m.length;g++)p[g]=m[g];return p}}(h)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(h){return this.immediateMode.shapeMode=h!==void 0?h:u.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var d={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},f=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==u.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(h,m){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var g in d){var p=d[g],g=this.immediateMode.geometry[g];g.push.apply(g,b(g.slice(g.length-3*p,g.length-2*p)).concat(b(g.slice(g.length-p,g.length))))}var v,_,w=v=_=0,S=(arguments.length===3?w=arguments[2]:arguments.length===4?(v=arguments[2],_=arguments[3]):arguments.length===5&&(w=arguments[2],v=arguments[3],_=arguments[4]),new l.default.Vector(h,m,w)),S=(this.immediateMode.geometry.vertices.push(S),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),S=(this.immediateMode.geometry.vertexColors.push(S[0],S[1],S[2],S[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(S[0],S[1],S[2],S[3]),this.textureMode!==u.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,_/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,_),this.immediateMode._bezierVertex[0]=h,this.immediateMode._bezierVertex[1]=m,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=h,this.immediateMode._quadraticVertex[1]=m,this.immediateMode._quadraticVertex[2]=w,this},l.default.RendererGL.prototype.normal=function(h,m,g){return h instanceof l.default.Vector?this._currentNormal=h:this._currentNormal=new l.default.Vector(h,m,g),this},l.default.RendererGL.prototype.endShape=function(h,m,g,p,v,_){var w,S=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===u.TESS&&(this.immediateMode.shapeMode=u.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),w=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN,w=!0),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._doFill&&!w&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(S),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(h){var m;this.immediateMode.geometry.vertices.length!==0&&(m=this._doStroke,h=h===u.CLOSE,m&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,h),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),m=this.immediateMode.shapeMode===u.TESS,h=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||m||h)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(h,m,g){var p=[],v=0,_=this.immediateMode.contourIndices.slice(),w=0;switch(h){case u.TRIANGLE_STRIP:for(v=0;v<m.length-2;v++)p.push([v,v+1]),p.push([v,v+2]);p.push([v,v+1]);break;case u.TRIANGLE_FAN:for(v=1;v<m.length-1;v++)p.push([0,v]),p.push([v,v+1]);p.push([0,m.length-1]);break;case u.TRIANGLES:for(v=0;v<m.length-2;v+=3)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+2,v]);break;case u.LINES:for(v=0;v<m.length-1;v+=2)p.push([v,v+1]);break;case u.QUADS:for(v=0;v<m.length-5;v+=6)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+3,v+5]),p.push([v+4,v+5]);break;case u.QUAD_STRIP:for(v=0;v<m.length-2;v+=2)p.push([v,v+1]),p.push([v,v+2]),p.push([v+1,v+3]);p.push([v,v+1]);break;default:for(v=0;v<m.length;v++)v+1<m.length&&v+1!==_[0]?p.push([v,v+1]):((g||w)&&p.push([v,w]),0<_.length&&(w=_.shift()))}return h!==u.TESS&&g&&p.push([m.length-1,0]),p},l.default.RendererGL.prototype._tesselateShape=function(){for(var h=this,m=(this.immediateMode.shapeMode=u.TRIANGLES,[[]]),g=0;g<this.immediateMode.geometry.vertices.length;g++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===g&&(this.immediateMode.contourIndices.shift(),m.push([])),m[m.length-1].push(this.immediateMode.geometry.vertices[g].x,this.immediateMode.geometry.vertices[g].y,this.immediateMode.geometry.vertices[g].z,this.immediateMode.geometry.uvs[2*g],this.immediateMode.geometry.uvs[2*g+1],this.immediateMode.geometry.vertexColors[4*g],this.immediateMode.geometry.vertexColors[4*g+1],this.immediateMode.geometry.vertexColors[4*g+2],this.immediateMode.geometry.vertexColors[4*g+3],this.immediateMode.geometry.vertexNormals[g].x,this.immediateMode.geometry.vertexNormals[g].y,this.immediateMode.geometry.vertexNormals[g].z);for(var p,v=this._triangulate(m),_=this.immediateMode.geometry.vertices,w=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),S=0,M=v.length;S<M;S+=l.default.RendererGL.prototype.tessyVertexSize)w.push.apply(w,b(v.slice(S+5,S+9))),this.normal.apply(this,b(v.slice(S+9,S+12))),this.vertex.apply(this,b(v.slice(S,S+5)));this.geometryBuilder&&(p=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(j){return j.map(function(I){if(!p.has(I)){var D=_[I],P=h.immediateMode.geometry.vertices.findIndex(function(W){return D.x===W.x&&D.y===W.y&&D.z===W.z});if(P===-1){for(var A=1/0,N=0,O=0;O<h.immediateMode.geometry.vertices.length;O++){var U=h.immediateMode.geometry.vertices[O],F=D.x-U.x,z=D.y-U.y,U=D.z-U.z,F=F*F+z*z+U*U;F<A&&(A=F,N=O)}P=N}p.set(I,P)}return p.get(I)})})),this.immediateMode.geometry.vertexColors=w},l.default.RendererGL.prototype._drawImmediateFill=function(){var h,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,g=this.GL,p=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,h=this._getImmediateFillShader(),this._setFillUniforms(h),!0),v=!1,_=void 0;try{for(var w,S=this.immediateMode.buffers.fill[Symbol.iterator]();!(p=(w=S.next()).done);p=!0)w.value._prepareBuffer(this.immediateMode.geometry,h)}catch(M){v=!0,_=M}finally{try{p||S.return==null||S.return()}finally{if(v)throw _}}if(h.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),m===1)g.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{g.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,m)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}h.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var h=this.GL,m=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),g=(this._setStrokeUniforms(m),!0),p=!1,v=void 0;try{for(var _,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(g=(_=w.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,m)}catch(S){p=!0,v=S}finally{try{g||w.return==null||w.return()}finally{if(p)throw v}}m.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),h.drawArrays(h.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),m.unbindShader()},l.default.RendererGL);s.default=f},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,o,s){"use strict";function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function c(d){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(b=t("../core/main"))&&b.__esModule?b:{default:b},u=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(d){if(d&&d.__esModule)return d;if(d===null||c(d)!=="object"&&typeof d!="function")return{default:d};var f=y();if(f&&f.has(d))return f.get(d);var h,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var p;Object.prototype.hasOwnProperty.call(d,h)&&((p=g?Object.getOwnPropertyDescriptor(d,h):null)&&(p.get||p.set)?Object.defineProperty(m,h,p):m[h]=d[h])}return m.default=d,f&&f.set(d,m),m}(t("../core/constants")));function y(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,y=function(){return d},d)}l.default.RendererGL.prototype.freeGeometry=function(d){d.gid?this._freeBuffers(d.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(d){var f;return this._freeBuffers(d),1e3<Object.keys(this.retainedMode.geometry).length&&(f=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(f)),this.retainedMode.geometry[d]={}},l.default.RendererGL.prototype._freeBuffers=function(d){var f,h=this.retainedMode.geometry[d];function m(g){var p=!0,v=!1,_=void 0;try{for(var w,S=g[Symbol.iterator]();!(p=(w=S.next()).done);p=!0){var M=w.value;h[M.dst]&&(f.deleteBuffer(h[M.dst]),h[M.dst]=null)}}catch(j){v=!0,_=j}finally{try{p||S.return==null||S.return()}finally{if(v)throw _}}}h&&(delete this.retainedMode.geometry[d],f=this.GL,h.indexBuffer&&f.deleteBuffer(h.indexBuffer),m(this.retainedMode.buffers.stroke),m(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(v,f){var h,m,g,p=this.GL,v=this._initBufferDefaults(v),_=(v.model=f,v.indexBuffer);return f.faces.length?(_=_||(v.indexBuffer=p.createBuffer()),g=(m=(h=l.default.RendererGL.prototype._flatten(f.faces)).some(function(w){return 65535<w}))?Uint32Array:Uint16Array,this._bindBuffer(_,p.ELEMENT_ARRAY_BUFFER,h,g),v.indexBufferType=m?p.UNSIGNED_INT:p.UNSIGNED_SHORT,v.vertexCount=3*f.faces.length):(_&&(p.deleteBuffer(_),v.indexBuffer=null),v.vertexCount=f.vertices?f.vertices.length:0),v.lineVertexCount=f.lineVertices?f.lineVertices.length/3:0,v},l.default.RendererGL.prototype.drawBuffers=function(d){var f=this.GL,h=this.retainedMode.geometry[d];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[d].vertexCount){this._useVertexColor=0<h.model.vertexColors.length;var m=this._getRetainedFillShader(),g=(this._setFillUniforms(m),!0),p=!1,v=void 0;try{for(var _,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(g=(_=w.next()).done);g=!0)_.value._prepareBuffer(h,m)}catch(D){p=!0,v=D}finally{try{g||w.return==null||w.return()}finally{if(p)throw v}}m.disableRemainingAttributes(),h.indexBuffer&&this._bindBuffer(h.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,h.model.hasFillTransparency()),this._drawElements(f.TRIANGLES,d),m.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<h.lineVertexCount){this._useLineColor=0<h.model.vertexStrokeColors.length;var S=this._getRetainedStrokeShader(),M=(this._setStrokeUniforms(S),!0),p=!1,v=void 0;try{for(var j,I=this.retainedMode.buffers.stroke[Symbol.iterator]();!(M=(j=I.next()).done);M=!0)j.value._prepareBuffer(h,S)}catch(A){p=!0,v=A}finally{try{M||I.return==null||I.return()}finally{if(p)throw v}}S.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,h.model.hasStrokeTransparency()),this._drawArrays(f.TRIANGLES,d),S.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(h),this},l.default.RendererGL.prototype.drawBuffersScaled=function(d,f,h,m){var g=this.uModelMatrix.copy();try{this.uModelMatrix.scale(f,h,m),this.drawBuffers(d)}finally{this.uModelMatrix=g}},l.default.RendererGL.prototype._drawArrays=function(d,f){return this.GL.drawArrays(d,0,this.retainedMode.geometry[f].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(d,h){var h=this.retainedMode.geometry[h],m=this.GL;if(h.indexBuffer){if(this._pInst.webglVersion!==u.WEBGL2&&h.indexBufferType===m.UNSIGNED_INT&&!m.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");m.drawElements(m.TRIANGLES,h.vertexCount,h.indexBufferType,0)}else m.drawArrays(d||m.TRIANGLES,0,h.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(d,f){var h=this.GL,m=this._getImmediatePointShader();this._setPointUniforms(m),this._bindBuffer(f,h.ARRAY_BUFFER,this._vToNArray(d),Float32Array,h.STATIC_DRAW),m.enableAttrib(m.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),h.drawArrays(h.Points,0,d.length),m.unbindShader()};var b=l.default.RendererGL;s.default=b},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(O,o,s){"use strict";function a(H){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(H)}function c(H){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(X){return a(X)}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":a(X)})(H)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.flat"),O("core-js/modules/es.array.flat-map"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.map"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.array.unscopables.flat"),O("core-js/modules/es.array.unscopables.flat-map"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.readPixelsWebGL=W,s.readPixelWebGL=$,s.default=void 0;var l=h(O("../core/main")),u=function(H){if(H&&H.__esModule)return H;if(H===null||c(H)!=="object"&&typeof H!="function")return{default:H};var X=f();if(X&&X.has(H))return X.get(H);var K,ae={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in H){var E;Object.prototype.hasOwnProperty.call(H,K)&&((E=L?Object.getOwnPropertyDescriptor(H,K):null)&&(E.get||E.set)?Object.defineProperty(ae,K,E):ae[K]=H[K])}return ae.default=H,X&&X.set(H,ae),ae}(O("../core/constants")),y=h(O("./GeometryBuilder")),b=h(O("libtess")),d=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function f(){var H;return typeof WeakMap!="function"?null:(H=new WeakMap,f=function(){return H},H)}function h(H){return H&&H.__esModule?H:{default:H}}function m(H){return function(X){if(Array.isArray(X)){for(var K=0,ae=new Array(X.length);K<X.length;K++)ae[K]=X[K];return ae}}(H)||function(X){if(Symbol.iterator in Object(X)||Object.prototype.toString.call(X)==="[object Arguments]")return Array.from(X)}(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(H,X){for(var K=0;K<X.length;K++){var ae=X[K];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(H,ae.key,ae)}}function p(H,X,K){return(p=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,L,E){var B=function(G,Q){for(;!Object.prototype.hasOwnProperty.call(G,Q)&&(G=S(G))!==null;);return G}(B,L);if(B)return(B=Object.getOwnPropertyDescriptor(B,L)).get?B.get.call(E):B.value})(H,X,K||H)}function v(H,X){return(v=Object.setPrototypeOf||function(K,ae){return K.__proto__=ae,K})(H,X)}function _(H){return function(){var X,K,ae=S(H);return X=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(X=S(this).constructor,Reflect.construct(ae,arguments,X)):ae.apply(this,arguments),ae=this,!(K=X)||c(K)!=="object"&&typeof K!="function"?w(ae):K}}function w(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function S(H){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(H)}function M(H,X,K){X in H?Object.defineProperty(H,X,{value:K,enumerable:!0,configurable:!0,writable:!0}):H[X]=K}function j(H,X){N+="#define STROKE_CAP_".concat(H," ").concat(X,`
`),P[u[H]]=X}function I(H,X){N+="#define STROKE_JOIN_".concat(H," ").concat(X,`
`),A[u[H]]=X}var D,P={},A={},N="",O=(j("ROUND",0),j("PROJECT",1),j("SQUARE",2),I("ROUND",0),I("MITER",1),I("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),z={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:N+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:N+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},U=z.sphereMappingFrag;for(D in z)z[D]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+z[D];M(O={},u.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),M(O,u.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(O,u.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(O,u.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),M(O,u.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),M(O,u.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),M(O,u.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),M(O,u.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var F=O;function W(H,X,ue,ae,L,E,B,G,Q,ee){var se=X.getParameter(X.FRAMEBUFFER_BINDING),ue=(X.bindFramebuffer(X.FRAMEBUFFER,ue),G===X.RGBA?4:3),ie=E*B*ue,de=Q===X.UNSIGNED_BYTE?Uint8Array:Float32Array;if(H instanceof de&&H.length===ie||(H=new de(ie)),X.readPixels(ae,ee?ee-L-B:L,E,B,G,Q,H),X.bindFramebuffer(X.FRAMEBUFFER,se),ee)for(var fe=Math.floor(B/2),te=new de(E*ue),he=0;he<fe;he++){var ve=he*E*4,Ce=(B-he-1)*E*4;te.set(H.subarray(ve,ve+4*E)),H.copyWithin(ve,Ce,Ce+4*E),H.set(te,Ce)}return H}function $(H,Q,K,ae,L,E,B){var G=H.getParameter(H.FRAMEBUFFER_BINDING),Q=(H.bindFramebuffer(H.FRAMEBUFFER,Q),L===H.RGBA?4:3),Q=new(E===H.UNSIGNED_BYTE?Uint8Array:Float32Array)(Q);return H.readPixels(K,B?B-ae-1:ae,1,1,L,E,Q),H.bindFramebuffer(H.FRAMEBUFFER,G),Array.from(Q)}l.default.prototype.setAttributes=function(H,X){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(X!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[H]!==X&&(this._glAttributes[H]=X,K=!1)):H instanceof Object&&this._glAttributes!==H&&(this._glAttributes=H,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone){for(var ae in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ae))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(H){var X=L;if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(H&&H.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),H&&v(X,H);var K,ae=_(L);function L(E,B,G,Q){if(this instanceof L)return(E=ae.call(this,E,B,G))._setAttributeDefaults(B),E._initContext(),E.isP3D=!0,E.geometryBuilder=void 0,E.GL=E.drawingContext,E._pInst._setProperty("drawingContext",E.drawingContext),E._isErasing=!1,E._clipDepths=[],E._isClipApplied=!1,E._stencilTestOn=!1,E._enableLighting=!1,E.ambientLightColors=[],E.mixedAmbientLight=[],E.mixedSpecularColor=[],E.specularColors=[1,1,1],E.directionalLightDirections=[],E.directionalLightDiffuseColors=[],E.directionalLightSpecularColors=[],E.pointLightPositions=[],E.pointLightDiffuseColors=[],E.pointLightSpecularColors=[],E.spotLightPositions=[],E.spotLightDirections=[],E.spotLightDiffuseColors=[],E.spotLightSpecularColors=[],E.spotLightAngle=[],E.spotLightConc=[],E.activeImageLight=null,E.diffusedTextures=new Map,E.specularTextures=new Map,E.drawMode=u.FILL,E.curFillColor=E._cachedFillStyle=[1,1,1,1],E.curAmbientColor=E._cachedFillStyle=[1,1,1,1],E.curSpecularColor=E._cachedFillStyle=[0,0,0,0],E.curEmissiveColor=E._cachedFillStyle=[0,0,0,0],E.curStrokeColor=E._cachedStrokeStyle=[0,0,0,1],E.curBlendMode=u.BLEND,E.preEraseBlend=void 0,E._cachedBlendMode=void 0,E.webglVersion===u.WEBGL2?E.blendExt=E.GL:E.blendExt=E.GL.getExtension("EXT_blend_minmax"),E._isBlending=!1,E._hasSetAmbient=!1,E._useSpecularMaterial=!1,E._useEmissiveMaterial=!1,E._useNormalMaterial=!1,E._useShininess=1,E._useMetalness=0,E._useLineColor=!1,E._useVertexColor=!1,E.registerEnabled=new Set,E._tint=[255,255,255,255],E.constantAttenuation=1,E.linearAttenuation=0,E.quadraticAttenuation=0,E.uModelMatrix=new l.default.Matrix,E.uViewMatrix=new l.default.Matrix,E.uMVMatrix=new l.default.Matrix,E.uPMatrix=new l.default.Matrix,E.uNMatrix=new l.default.Matrix("mat3"),E.curMatrix=new l.default.Matrix("mat3"),E._currentNormal=new l.default.Vector(0,0,1),E._curCamera=new l.default.Camera(w(E)),E._curCamera._computeCameraDefaultSettings(),E._curCamera._setDefaultCamera(),E.filterCamera=new l.default.Camera(w(E)),E.filterCamera._computeCameraDefaultSettings(),E.filterCamera._setDefaultCamera(),E.prevTouches=[],E.zoomVelocity=0,E.rotateVelocity=new l.default.Vector(0,0),E.moveVelocity=new l.default.Vector(0,0),E.executeZoom=!1,E.executeRotateAndMove=!1,E.specularShader=void 0,E.sphereMapping=void 0,E.diffusedShader=void 0,E._defaultLightShader=void 0,E._defaultImmediateModeShader=void 0,E._defaultNormalShader=void 0,E._defaultColorShader=void 0,E._defaultPointShader=void 0,E.userFillShader=void 0,E.userStrokeShader=void 0,E.userPointShader=void 0,E.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(E)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(E)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(E)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(E)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(E))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(E),E._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(E),E._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(E)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(E)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(E),E._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(E),E._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(E),E._flatten)]}},E.immediateMode={geometry:new l.default.Geometry,shapeMode:u.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(E),E._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(E),E._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(E)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(E)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(E),E._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(E)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(E)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(E)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(E)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(E))],point:E.GL.createBuffer()}},E.pointSize=5,E.curStrokeWeight=1,E.curStrokeCap=u.ROUND,E.curStrokeJoin=u.ROUND,E.textures=new Map,E.framebuffers=new Set,E.activeFramebuffers=[],E.filterShader=void 0,E.filterLayer=void 0,E.filterLayerTemp=void 0,E.defaultFilterShaders={},E.textureMode=u.IMAGE,E.textureWrapX=u.CLAMP,E.textureWrapY=u.CLAMP,E._tex=null,E._curveTightness=6,E._lookUpTableBezier=[],E._lookUpTableQuadratic=[],E._lutBezierDetail=0,E._lutQuadraticDetail=0,E.isProcessingVertices=!1,E._tessy=E._initTessy(),E.fontInfos={},E._curShader=void 0,E;throw new TypeError("Cannot call a class as a function")}return X=L,(H=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new y.default(this)}},{key:"endGeometry",value:function(){var E;if(this.geometryBuilder)return E=this.geometryBuilder.finish(),this.geometryBuilder=void 0,E;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(E){return this.beginGeometry(),E(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(E){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};E._glAttributes===null?E._glAttributes=B:E._glAttributes=Object.assign(B,E._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var E=this.drawingContext;E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),E.viewport(0,0,E.drawingBufferWidth,E.drawingBufferHeight),E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var E=this.drawingContext;return E.getParameter(E.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(E,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Q=this._maxTextureSize,Q=(l.default.prototype._maxAllowedPixelDimensions,Math.floor(Q/this.pixelDensity())),G=Math.min(E,Q),Q=Math.min(B,Q);return G===E&&Q===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(G,", height: ").concat(Q,".")),{adjustedWidth:G,adjustedHeight:Q}}},{key:"_resetContext",value:function(E,B){var G,Q=this.width,ee=this.height,ue=this.canvas.id,se=this._pInst instanceof l.default.Graphics,ue=(se?((G=this._pInst).canvas.parentNode.removeChild(G.canvas),G.canvas=document.createElement("canvas"),(G._pInst._userNode||document.body).appendChild(G.canvas),l.default.Element.call(G,G.canvas,G._pInst),G.width=Q,G.height=ee):((G=this.canvas)&&G.parentNode.removeChild(G),(G=document.createElement("canvas")).id=ue,(this._pInst._userNode||document.body).appendChild(G),this._pInst.canvas=G,this.canvas=G),new l.default.RendererGL(this._pInst.canvas,this._pInst,!se));this._pInst._setProperty("_renderer",ue),ue.resize(Q,ee),ue._applyDefaults(),se||this._pInst._elements.push(ue),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,E)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Q=(Q=this._pInst).color.apply(Q,arguments),E=Q.levels[0]/255,B=Q.levels[1]/255,G=Q.levels[2]/255,Q=Q.levels[3]/255;this.clear(E,B,G,Q)}},{key:"fill",value:function(E,B,G,Q){var ee=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ee._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(E,B,G,Q){var ee=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ee._array}},{key:"strokeCap",value:function(E){this.curStrokeCap=E}},{key:"strokeJoin",value:function(E){this.curStrokeJoin=E}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(E,B){E.width===B.width&&E.height===B.height||E.resize(B.width,B.height),E.pixelDensity()!==B.pixelDensity()&&E.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var E,B,G=this,Q=this.getFilterLayer(),ee=void 0,se=void 0,ue=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(se=arguments.length<=0?void 0:arguments[0],M(E={},u.BLUR,3),M(E,u.POSTERIZE,4),M(E,u.THRESHOLD,.5),ee=se in(E=E)&&(arguments.length<=1?void 0:arguments[1])===void 0?E[se]:arguments.length<=1?void 0:arguments[1],se in this.defaultFilterShaders||(this.defaultFilterShaders[se]=new l.default.Shader(Q._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,F[se])),this.filterShader=this.defaultFilterShaders[se]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ie=(this.matchSize(Q,ue),Q.draw(function(){return G._pInst.clear()}),[1/(ue.width*ue.pixelDensity()),1/(ue.height*ue.pixelDensity())]);se===u.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,ue),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(u.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ie),this.filterShader.setUniform("canvasSize",[ue.width,ue.height]),this.filterShader.setUniform("radius",Math.max(1,ee)),B.draw(function(){G.filterShader.setUniform("direction",[1,0]),G.filterShader.setUniform("tex0",ue),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.noLights(),G._pInst.plane(ue.width,ue.height)}),Q.draw(function(){G.filterShader.setUniform("direction",[0,1]),G.filterShader.setUniform("tex0",B),G._pInst.clear(),G._pInst.shader(G.filterShader),G._pInst.noLights(),G._pInst.plane(ue.width,ue.height)}),this._pInst.pop()):Q.draw(function(){G._pInst.noStroke(),G._pInst.blendMode(u.BLEND),G._pInst.shader(G.filterShader),G.filterShader.setUniform("tex0",ue),G.filterShader.setUniform("texelSize",ie),G.filterShader.setUniform("canvasSize",[ue.width,ue.height]),G.filterShader.setUniform("filterParameter",ee),G._pInst.noLights(),G._pInst.plane(ue.width,ue.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(u.CORNER),this._pInst.blendMode(u.BLEND),ue.filterCamera._resize(),this._pInst.setCamera(ue.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Q,-ue.width/2,-ue.height/2,ue.width,ue.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(E){return E?this._pInst.pixelDensity(E):this._pInst.pixelDensity()}},{key:"blendMode",value:function(E){E===u.DARKEST||E===u.LIGHTEST||E===u.ADD||E===u.BLEND||E===u.SUBTRACT||E===u.SCREEN||E===u.EXCLUSION||E===u.REPLACE||E===u.MULTIPLY||E===u.REMOVE?this.curBlendMode=E:E!==u.BURN&&E!==u.OVERLAY&&E!==u.HARD_LIGHT&&E!==u.SOFT_LIGHT&&E!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(E,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(u.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,E/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(p(S(L.prototype),"beginClip",this).call(this,E),this.drawTarget()._isClipApplied=!0,this.GL);E.clearStencil(0),E.clear(E.STENCIL_BUFFER_BIT),E.enable(E.STENCIL_TEST),this._stencilTestOn=!0,E.stencilFunc(E.ALWAYS,1,255),E.stencilOp(E.KEEP,E.KEEP,E.REPLACE),E.disable(E.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var E=this.GL;E.stencilOp(E.KEEP,E.KEEP,E.KEEP),E.stencilFunc(this._clipInvert?E.EQUAL:E.NOTEQUAL,0,255),E.enable(E.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),p(S(L.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(E){this.curStrokeWeight!==E&&(this.pointSize=E,this.curStrokeWeight=E)}},{key:"_getPixel",value:function(E,B){var G=this.GL;return $(G,null,E,B,G.RGBA,G.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var E,B,G=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(E=this._pInst._pixelDensity,B=this.GL,G._setProperty("pixels",W(G.pixels,B,null,0,0,this.width*E,this.height*E,B.RGBA,B.UNSIGNED_BYTE,this.height*E)))}},{key:"updatePixels",value:function(){var E=this._getTempFramebuffer();E.pixels=this._pixelsState.pixels,E.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(E,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(E){return this.retainedMode.geometry[E]!==void 0}},{key:"viewport",value:function(E,B){this._viewport=[0,0,E,B],this.GL.viewport(0,0,E,B)}},{key:"resize",value:function(ee,Q){l.default.Renderer.prototype.resize.call(this,ee,Q),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ee=this._pixelsState,G=(ee.pixels!==void 0&&ee._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),Q=!1,ee=void 0;try{for(var se,ue=this.framebuffers[Symbol.iterator]();!(G=(se=ue.next()).done);G=!0)se.value._canvasSizeChanged()}catch(ie){Q=!0,ee=ie}finally{try{G||ue.return==null||ue.return()}finally{if(Q)throw ee}}}},{key:"clear",value:function(){var E=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,G=(arguments.length<=2?void 0:arguments[2])||0,Q=(arguments.length<=3?void 0:arguments[3])||0,ee=this.activeFramebuffer();ee&&ee.format===u.UNSIGNED_BYTE&&!ee.antialias&&Q===0&&(Q=1e-10),this.GL.clearColor(E*Q,B*Q,G*Q,Q),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(E,B,G,Q,ee,se){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([E,B,0,0,G,Q,0,0,0,0,1,0,ee,se,0,1])}},{key:"translate",value:function(E,B,G){return E instanceof l.default.Vector&&(G=E.z,B=E.y,E=E.x),this.uModelMatrix.translate([E,B,G]),this}},{key:"scale",value:function(E,B,G){return this.uModelMatrix.scale(E,B,G),this}},{key:"rotate",value:function(E,B){return B===void 0?this.rotateZ(E):(l.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(E){return this.rotate(E,1,0,0),this}},{key:"rotateY",value:function(E){return this.rotate(E,0,1,0),this}},{key:"rotateZ",value:function(E){return this.rotate(E,0,0,1),this}},{key:"push",value:function(){var E=l.default.Renderer.prototype.push.apply(this),B=E.properties;return B.uModelMatrix=this.uModelMatrix.copy(),B.uViewMatrix=this.uViewMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,E}},{key:"pop",value:function(){var E;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,G=new Array(B),Q=0;Q<B;Q++)G[Q]=arguments[Q];(E=p(S(L.prototype),"pop",this)).call.apply(E,[this].concat(G)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var E=this.drawTarget();E._isClipApplied!==this._stencilTestOn&&(E._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var E=this.userStrokeShader;return E&&E.isStrokeShader()?E:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(E){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(U)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",E),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var E=this.userFillShader;if(this._useNormalMaterial&&(!E||!E.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!E||!E.isLightShader())return this._getLightShader()}else if(this._tex){if(!E||!E.isTextureShader())return this._getLightShader()}else if(!E)return this._getImmediateModeShader();return E}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var E=this.userFillShader;if(this._enableLighting){if(!E||!E.isLightShader())return this._getLightShader()}else if(this._tex){if(!E||!E.isTextureShader())return this._getLightShader()}else if(!E)return this._getColorShader();return E}},{key:"_getImmediatePointShader",value:function(){var E=this.userPointShader;return E&&E.isPointShader()?E:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+z.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+z.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+z.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+z.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+z.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+z.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(E,B){var G="";return this.webglVersion===u.WEBGL2&&(G+=`#version 300 es
#define WEBGL2
`),E==="vert"?G+=`#define VERTEX_SHADER
`:E==="frag"&&(G+=`#define FRAGMENT_SHADER
`),B&&(G+="precision ".concat(B,` float;
`)),G}},{key:"_getEmptyTexture",value:function(){var E;return this._emptyTexture||((E=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,E)),this._emptyTexture}},{key:"getTexture",value:function(E){E instanceof l.default.Framebuffer&&(E=E.color);var B=this.textures.get(E);return B||(B=new l.default.Texture(this,E),this.textures.set(E,B),B)}},{key:"getDiffusedTexture",value:function(E){var B,G,Q=this;return this.diffusedTextures.get(E)!=null?this.diffusedTextures.get(E):(B=Math.floor(E.height/E.width*200),G=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(z.imageLightVert,z.imageLightDiffusedFrag)),G.draw(function(){Q._pInst.shader(Q.diffusedShader),Q.diffusedShader.setUniform("environmentMap",E),Q._pInst.noStroke(),Q._pInst.rectMode(u.CENTER),Q._pInst.noLights(),Q._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(E,G),G)}},{key:"getSpecularTexture",value:function(E){var B=this;if(this.specularTextures.get(E)!=null)return this.specularTextures.get(E);for(var G,Q=[],ee=this._pInst.createFramebuffer({width:512,height:512,density:1}),se=Math.log(512)/Math.log(2),ue=(this.specularShader||(this.specularShader=this._pInst.createShader(z.imageLightVert,z.imageLightSpecularFrag)),512);1<=ue;ue/=2)(function(ie){ee.resize(ie,ie);var de=1-Math.log(ie)/Math.log(2)/se;ee.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",E),B.specularShader.setUniform("roughness",de),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane(ie,ie)}),Q.push(ee.get().drawingContext.getImageData(0,0,ie,ie))})(ue);return ee.remove(),G=new d.MipmapTexture(this,Q,{}),this.specularTextures.set(E,G),G}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(E){return new l.default.Framebuffer(this,E)}},{key:"_setStrokeUniforms",value:function(E){E.bindShader(),E.setUniform("uUseLineColor",this._useLineColor),E.setUniform("uMaterialColor",this.curStrokeColor),E.setUniform("uStrokeWeight",this.curStrokeWeight),E.setUniform("uStrokeCap",P[this.curStrokeCap]),E.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(E){var B=this,G=(E.bindShader(),this.mixedSpecularColor=m(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Q,ee){return B.curFillColor[ee]*B._useMetalness+Q*(1-B._useMetalness)})),E.setUniform("uUseVertexColor",this._useVertexColor),E.setUniform("uMaterialColor",this.curFillColor),E.setUniform("isTexture",!!this._tex),this._tex&&E.setUniform("uSampler",this._tex),E.setUniform("uTint",this._tint),E.setUniform("uHasSetAmbient",this._hasSetAmbient),E.setUniform("uAmbientMatColor",this.curAmbientColor),E.setUniform("uSpecularMatColor",this.mixedSpecularColor),E.setUniform("uEmissiveMatColor",this.curEmissiveColor),E.setUniform("uSpecular",this._useSpecularMaterial),E.setUniform("uEmissive",this._useEmissiveMaterial),E.setUniform("uShininess",this._useShininess),E.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(E),E.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),G=(E.setUniform("uPointLightCount",G),E.setUniform("uPointLightLocation",this.pointLightPositions),E.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),E.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),G=(E.setUniform("uDirectionalLightCount",G),E.setUniform("uLightingDirection",this.directionalLightDirections),E.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),E.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),G=(this.mixedAmbientLight=m(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Q){return Q-=B._useMetalness,Math.max(0,Q)})),E.setUniform("uAmbientLightCount",G),E.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);E.setUniform("uSpotLightCount",G),E.setUniform("uSpotLightAngle",this.spotLightAngle),E.setUniform("uSpotLightConc",this.spotLightConc),E.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),E.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),E.setUniform("uSpotLightLocation",this.spotLightPositions),E.setUniform("uSpotLightDirection",this.spotLightDirections),E.setUniform("uConstantAttenuation",this.constantAttenuation),E.setUniform("uLinearAttenuation",this.linearAttenuation),E.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),E.bindTextures()}},{key:"_setImageLightUniforms",value:function(E){var B;E.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),E.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),E.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(E){E.bindShader(),E.setUniform("uMaterialColor",this.curStrokeColor),E.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(E,B,G,Q,ee){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,E),G!==void 0&&((E=G)instanceof l.default.DataArray?E=G.dataArray():E instanceof(Q||Float32Array)||(E=new(Q||Float32Array)(E)),this.GL.bufferData(B,E,ee||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(E,B){return E.length===B.length&&E.every(function(G,Q){return G===B[Q]})}},{key:"_isTypedArray",value:function(E){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return E instanceof B})}},{key:"_flatten",value:function(E){return E.flat()}},{key:"_vToNArray",value:function(E){return E.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(E){var B=E*E,G=1-E,Q=G*G;return[Q*G,3*Q*E,3*G*B,B*E]}},{key:"_quadraticCoefficients",value:function(E){var B=1-E;return[B*B,2*B*E,E*E]}},{key:"_bezierToCatmull",value:function(E){return[E[1],E[1]+(E[2]-E[0])/this._curveTightness,E[2]-(E[3]-E[1])/this._curveTightness,E[2]]}},{key:"_initTessy",value:function(){var E=new b.default.GluTesselator;return E.gluTessCallback(b.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,G){var Q=!0,ee=!1,se=void 0;try{for(var ue,ie=B[Symbol.iterator]();!(Q=(ue=ie.next()).done);Q=!0){var de=ue.value;G.push(de)}}catch(fe){ee=!0,se=fe}finally{try{Q||ie.return==null||ie.return()}finally{if(ee)throw se}}}),E.gluTessCallback(b.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==b.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),E.gluTessCallback(b.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),E.gluTessCallback(b.default.gluEnum.GLU_TESS_COMBINE,function(B,G,Q){for(var ee=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),se=0;se<Q.length;se++)for(var ue=0;ue<ee.length;ue++)Q[se]!==0&&G[se]&&(ee[ue]+=G[se][ue]*Q[se]);return ee}),E.gluTessCallback(b.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),E.gluTessProperty(b.default.gluEnum.GLU_TESS_WINDING_RULE,b.default.windingRule.GLU_TESS_WINDING_NONZERO),E}},{key:"_triangulate",value:function(E){var B=E[0]?E[0][2]:void 0,G=!0,Q=!0,de=!1,te=void 0;try{for(var ee,se=E[Symbol.iterator]();!(Q=(ee=se.next()).done);Q=!0)for(var ue=ee.value,ie=0;ie<ue.length;ie+=l.default.RendererGL.prototype.tessyVertexSize)if(ue[ie+2]!==B){G=!1;break}}catch(We){de=!0,te=We}finally{try{Q||se.return==null||se.return()}finally{if(de)throw te}}G?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var de=[],fe=(this._tessy.gluTessBeginPolygon(de),!0),te=!1,he=void 0;try{for(var ve,Ce=E[Symbol.iterator]();!(fe=(ve=Ce.next()).done);fe=!0){var ye=ve.value;this._tessy.gluTessBeginContour();for(var _e=0;_e<ye.length;_e+=l.default.RendererGL.prototype.tessyVertexSize){var De=ye.slice(_e,_e+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(De,De)}this._tessy.gluTessEndContour()}}catch(We){te=!0,he=We}finally{try{fe||Ce.return==null||Ce.return()}finally{if(te)throw he}}return this._tessy.gluTessEndPolygon(),de}}])&&g(X.prototype,H),K&&g(X,K),L}(l.default.Renderer),l.default.prototype._assert3d=function(H){if(!this._renderer.isP3D)throw new Error("".concat(H,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,O=l.default.RendererGL,s.default=O},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,o,s){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,y){return function(b){if(Array.isArray(b))return b}(u)||function(b,d){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]"){var f=[],h=!0,m=!1,g=void 0;try{for(var p,v=b[Symbol.iterator]();!(h=(p=v.next()).done)&&(f.push(p.value),!d||f.length!==d);h=!0);}catch(_){m=!0,g=_}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}return f}}(u,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(u,y){for(var b=0;b<y.length;b++){var d=y[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}a.default.Shader=function(){function u(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},p=this,v=u;if(!(p instanceof v))throw new TypeError("Cannot call a class as a function");this._renderer=f,this._vertSrc=h,this._fragSrc=m,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:g.uniforms||{},declarations:g.declarations,helpers:g.helpers||{},vertex:g.vertex||{},fragment:g.fragment||{},modified:{vertex:g.modified&&g.modified.vertex||{},fragment:g.modified&&g.modified.fragment||{}}}}var y,b,d;return y=u,(b=[{key:"shaderSrc",value:function(S,h){var m,g,p,v,_,S=c(S.split("void main"),2),w=S[0],S=S[1],M="";for(m in this.hooks.uniforms)M+="uniform ".concat(m,`;
`);for(g in this.hooks.declarations&&(M+=this.hooks.declarations+`
`),this.hooks[h].declarations&&(M+=this.hooks[h].declarations+`
`),this.hooks.helpers)M+="".concat(g).concat(this.hooks.helpers[g],`
`);for(p in this.hooks[h])p!=="declarations"&&(v=(_=c(p.split(" "),2))[0],_=_[1],this.hooks.modified[h][p]&&(M+="#define AUGMENTED_HOOK_"+_+`
`),M+=v+" HOOK_"+_+this.hooks[h][p]+`
`);return w+M+"void main"+S}},{key:"version",value:function(){var f=/#version (.+)$/.exec(this.vertSrc());return f?f[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var f in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[f]?"[MODIFIED] ":"")+f+this.hooks.vertex[f]);for(var h in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[h]?"[MODIFIED] ":"")+h+this.hooks.fragment[h]);for(var m in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(m+this.hooks.helpers[m])}},{key:"modify",value:function(f){a.default._validateParameters("p5.Shader.modify",arguments);var h,m={vertex:{},fragment:{},helpers:{}};for(h in f)h!=="declarations"&&h!=="uniforms"&&(h==="vertexDeclarations"?m.vertex.declarations=(m.vertex.declarations||"")+`
`+f[h]:h==="fragmentDeclarations"?m.fragment.declarations=(m.fragment.declarations||"")+`
`+f[h]:this.hooks.vertex[h]?m.vertex[h]=f[h]:this.hooks.fragment[h]?m.fragment[h]=f[h]:m.helpers[h]=f[h]);var g,p,v=Object.assign({},this.hooks.modified.vertex),_=Object.assign({},this.hooks.modified.fragment);for(g in m.vertex||{})g!=="declarations"&&(v[g]=!0);for(p in m.fragment||{})p!=="declarations"&&(_[p]=!0);return new a.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(f.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,f.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,m.fragment||{}),vertex:Object.assign({},this.hooks.vertex,m.vertex||{}),helpers:Object.assign({},this.hooks.helpers,m.helpers||{}),modified:{vertex:v,fragment:_}})}},{key:"init",value:function(){if(this._glProgram===0){var f,h=this._renderer.GL;if(this._vertShader=h.createShader(h.VERTEX_SHADER),h.shaderSource(this._vertShader,this.vertSrc()),h.compileShader(this._vertShader),!h.getShaderParameter(this._vertShader,h.COMPILE_STATUS))return f=h.getShaderInfoLog(this._vertShader),console.error(f),null;if(this._fragShader=h.createShader(h.FRAGMENT_SHADER),h.shaderSource(this._fragShader,this.fragSrc()),h.compileShader(this._fragShader),!h.getShaderParameter(this._fragShader,h.COMPILE_STATUS))return f=h.getShaderInfoLog(this._fragShader),console.error(f),null;this._glProgram=h.createProgram(),h.attachShader(this._glProgram,this._vertShader),h.attachShader(this._glProgram,this._fragShader),h.linkProgram(this._glProgram),h.getProgramParameter(this._glProgram,h.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(h.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var f in this.hooks.uniforms){var h=c(f.split(" "),2)[1],f=this.hooks.uniforms[f],m=void 0;(m=f instanceof Function?f():f)!=null&&this.setUniform(h,m)}}},{key:"copyToContext",value:function(f){var h=new a.default.Shader(f._renderer,this._vertSrc,this._fragSrc);return h.ensureCompiledOnContext(f),h}},{key:"ensureCompiledOnContext",value:function(f){if(this._glProgram!==0&&this._renderer!==f._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=f._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,h=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),m=0;m<h;++m){var g=f.getActiveAttrib(this._glProgram,m),p=g.name,v=f.getAttribLocation(this._glProgram,p),_={};_.name=p,_.location=v,_.index=m,_.type=g.type,_.size=g.size,this.attributes[p]=_}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,h=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),m=0,g=0;g<h;++g){var p=f.getActiveUniform(this._glProgram,g),v={},_=(v.location=f.getUniformLocation(this._glProgram,p.name),v.size=p.size,p.name);1<p.size&&(_=_.substring(0,_.indexOf("[0]"))),v.name=_,v.type=p.type,v._cachedData=void 0,v.type===f.SAMPLER_2D&&(v.samplerIndex=m,m++,this.samplers.push(v)),v.isArray=1<p.size||v.type===f.FLOAT_MAT3||v.type===f.FLOAT_MAT4||v.type===f.FLOAT_VEC2||v.type===f.FLOAT_VEC3||v.type===f.FLOAT_VEC4||v.type===f.INT_VEC2||v.type===f.INT_VEC4||v.type===f.INT_VEC3,this.uniforms[_]=v}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var f=this._renderer.GL,h=!0,m=!1,g=void 0;try{for(var p,v=this.samplers[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var _=p.value,w=_.texture;w===void 0&&(w=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+_.samplerIndex),w.bindTexture(),w.update(),f.uniform1i(_.location,_.samplerIndex)}}catch(S){m=!0,g=S}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}}},{key:"updateTextures",value:function(){var f=!0,h=!1,m=void 0;try{for(var g,p=this.samplers[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){var v=g.value.texture;v&&v.update()}}catch(_){h=!0,m=_}finally{try{f||p.return==null||p.return()}finally{if(h)throw m}}}},{key:"unbindTextures",value:function(){var f=!0,h=!1,m=void 0;try{for(var g,p=this.samplers[Symbol.iterator]();!(f=(g=p.next()).done);f=!0){var v=g.value;this.setUniform(v.name,this._renderer._getEmptyTexture())}}catch(_){h=!0,m=_}finally{try{f||p.return==null||p.return()}finally{if(h)throw m}}}},{key:"_setMatrixUniforms",value:function(){var f=this._renderer.uModelMatrix,h=this._renderer.uViewMatrix,m=this._renderer.uPMatrix,g=f.copy().mult(h),p=(this._renderer.uMVMatrix=g).copy();p.mult(m),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",m.mat4),this.setUniform("uModelMatrix",f.mat4),this.setUniform("uModelViewMatrix",g.mat4),this.setUniform("uModelViewProjectionMatrix",p.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(f,h){var m=this.uniforms[f];if(m){var g=this._renderer.GL;if(m.isArray){if(m._cachedData&&this._renderer._arraysEqual(m._cachedData,h))return;m._cachedData=h.slice(0)}else{if(m._cachedData&&m._cachedData===h)return;Array.isArray(h)?m._cachedData=h.slice(0):m._cachedData=h}var p=m.location;switch(this.useProgram(),m.type){case g.BOOL:h===!0?g.uniform1i(p,1):g.uniform1i(p,0);break;case g.INT:1<m.size?h.length&&g.uniform1iv(p,h):g.uniform1i(p,h);break;case g.FLOAT:1<m.size?h.length&&g.uniform1fv(p,h):g.uniform1f(p,h);break;case g.FLOAT_MAT3:g.uniformMatrix3fv(p,!1,h);break;case g.FLOAT_MAT4:g.uniformMatrix4fv(p,!1,h);break;case g.FLOAT_VEC2:1<m.size?h.length&&g.uniform2fv(p,h):g.uniform2f(p,h[0],h[1]);break;case g.FLOAT_VEC3:1<m.size?h.length&&g.uniform3fv(p,h):g.uniform3f(p,h[0],h[1],h[2]);break;case g.FLOAT_VEC4:1<m.size?h.length&&g.uniform4fv(p,h):g.uniform4f(p,h[0],h[1],h[2],h[3]);break;case g.INT_VEC2:1<m.size?h.length&&g.uniform2iv(p,h):g.uniform2i(p,h[0],h[1]);break;case g.INT_VEC3:1<m.size?h.length&&g.uniform3iv(p,h):g.uniform3i(p,h[0],h[1],h[2]);break;case g.INT_VEC4:1<m.size?h.length&&g.uniform4iv(p,h):g.uniform4i(p,h[0],h[1],h[2],h[3]);break;case g.SAMPLER_2D:g.activeTexture(g.TEXTURE0+m.samplerIndex),m.texture=h instanceof a.default.Texture?h:this._renderer.getTexture(h),g.uniform1i(p,m.samplerIndex),m.texture.src.gifProperties&&m.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(f){return f!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(f,h,m,g,p,v){var _;return f&&(f=f.location)!==-1&&(_=this._renderer.GL,this._renderer.registerEnabled.has(f)||(_.enableVertexAttribArray(f),this._renderer.registerEnabled.add(f)),this._renderer.GL.vertexAttribPointer(f,h,m||_.FLOAT,g||!1,p||0,v||0)),this}},{key:"disableRemainingAttributes",value:function(){var f=this,h=!0,m=!1,g=void 0;try{for(var p,v=this._renderer.registerEnabled.values()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0)(function(){var _=p.value;Object.keys(f.attributes).some(function(w){return f.attributes[w].location===_})||(f._renderer.GL.disableVertexAttribArray(_),f._renderer.registerEnabled.delete(_))})()}catch(_){m=!0,g=_}finally{try{h||v.return==null||v.return()}finally{if(m)throw g}}}}])&&l(y.prototype,b),d&&l(y,d),u}(),t=a.default.Shader,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,o,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}function c(_){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.checkWebGLCapabilities=v,s.default=s.MipmapTexture=void 0;var l=(p=t("../core/main"))&&p.__esModule?p:{default:p},u=function(_){if(_&&_.__esModule)return _;if(_===null||c(_)!=="object"&&typeof _!="function")return{default:_};var w=y();if(w&&w.has(_))return w.get(_);var S,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var I;Object.prototype.hasOwnProperty.call(_,S)&&((I=j?Object.getOwnPropertyDescriptor(_,S):null)&&(I.get||I.set)?Object.defineProperty(M,S,I):M[S]=_[S])}return M.default=_,w&&w.set(_,M),M}(t("../core/constants"));function y(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,y=function(){return _},_)}function b(_,w){return(b=Object.setPrototypeOf||function(S,M){return S.__proto__=M,S})(_,w)}function d(_){return function(){var w,S=f(_),S=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=f(this).constructor,Reflect.construct(S,arguments,w)):S.apply(this,arguments),this);if(!w||c(w)!=="object"&&typeof w!="function"){if(S!==void 0)return S;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function f(_){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(_)}function h(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function m(_,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function g(_,w,S){w&&m(_.prototype,w),S&&m(_,S)}l.default.Texture=function(){function _(D,S,I){h(this,_),this._renderer=D;var j=this._renderer.GL,I=(I=I||{},this.src=S,this.glTex=void 0,this.glTarget=j.TEXTURE_2D,this.glFormat=I.format||j.RGBA,this.mipmaps=!1,this.glMinFilter=I.minFilter||j.LINEAR,this.glMagFilter=I.magFilter||j.LINEAR,this.glWrapS=I.wrapS||j.CLAMP_TO_EDGE,this.glWrapT=I.wrapT||j.CLAMP_TO_EDGE,this.glDataType=I.dataType||j.UNSIGNED_BYTE,v(D)),D=(this.glFormat!==j.HALF_FLOAT||I.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=j.FLOAT),this.glFormat!==j.HALF_FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||I.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.glFormat!==j.FLOAT||I.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=j.UNSIGNED_BYTE),this.glFormat!==j.FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||I.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&S instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&S instanceof l.default.Element&&!(S instanceof l.default.Graphics)&&!(S instanceof l.default.Renderer),this.isSrcP5Image=S instanceof l.default.Image,this.isSrcP5Graphics=S instanceof l.default.Graphics,this.isSrcP5Renderer=S instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&S instanceof ImageData,this.isFramebufferTexture=S instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=D.width,this.height=D.height,this.init(D),this}return g(_,[{key:"_getTextureDataFromSource",value:function(){var w;return this.isFramebufferTexture?w=this.src.rawTexture():this.isSrcP5Image?w=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?w=this.src.elt:this.isImageData&&(w=this.src),w}},{key:"init",value:function(w){var S,M=this._renderer.GL;this.isFramebufferTexture||(this.glTex=M.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(S=new Uint8Array([1,1,1,1]),M.texImage2D(this.glTarget,0,M.RGBA,1,1,0,this.glFormat,this.glDataType,S)):M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w))}},{key:"update",value:function(){var w,S,M,j=this.src;return j.width!==0&&j.height!==0&&!this.isFramebufferTexture&&(w=this._getTextureDataFromSource(),S=!1,M=this._renderer.GL,w.width!==this.width||w.height!==this.height?(S=!0,this.width=w.width||j.width,this.height=w.height||j.height,this.isSrcP5Image?j.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&j.setModified(!0)):this.isSrcP5Image?j.isModified()&&j.setModified(!(S=!0)):this.isSrcMediaElement?j.isModified()?j.setModified(!(S=!0)):j.loadedmetadata&&this._videoPrevUpdateTime!==j.time()&&(this._videoPrevUpdateTime=j.time(),S=!0):this.isImageData?j._dirty&&(S=!(j._dirty=!1)):S=!0,S&&(this.bindTexture(),M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w)),S)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(w,S){var M=this._renderer.GL;this.glMinFilter=this.glFilter(w),this.glMagFilter=this.glFilter(S),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(w){var S=this._renderer.GL;return w===u.NEAREST?S.NEAREST:S.LINEAR}},{key:"setWrapMode",value:function(w,S){function M(P){return(P&P-1)==0}var j=this._renderer.GL,D=this._getTextureDataFromSource(),D=D.naturalWidth&&D.naturalHeight?(I=D.naturalWidth,D.naturalHeight):(I=this.width,this.height),I=M(I),D=M(D);w===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||I&&D?this.glWrapS=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):w===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||I&&D?this.glWrapS=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):this.glWrapS=j.CLAMP_TO_EDGE,S===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||I&&D?this.glWrapT=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):S===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||I&&D?this.glWrapT=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):this.glWrapT=j.CLAMP_TO_EDGE,this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,this.glWrapS),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),_}();var p=function(_){var w=M;if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),_&&b(w,_);var S=d(M);function M(j,I,D){return h(this,M),I=(j=S.call(this,j,I,D))._renderer.GL,j.glMinFilter===I.LINEAR&&(j.glMinFilter=I.LINEAR_MIPMAP_LINEAR),j}return g(M,[{key:"glFilter",value:function(j){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(j){var I=this._renderer.GL;this.glTex=I.createTexture(),this.bindTexture();for(var D=0;D<j.length;D++)I.texImage2D(this.glTarget,D,this.glFormat,this.glFormat,this.glDataType,j[D]);this.glMinFilter=I.LINEAR_MIPMAP_LINEAR,I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,this.glMagFilter),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),M}(l.default.Texture);function v(j){var w=j.GL,j=j.webglVersion,S=j===u.WEBGL2?w.getExtension("EXT_color_buffer_float")&&w.getExtension("EXT_float_blend"):w.getExtension("OES_texture_float"),M=S&&w.getExtension("OES_texture_float_linear"),j=j===u.WEBGL2?w.getExtension("EXT_color_buffer_float"):w.getExtension("OES_texture_half_float");return{float:S,floatLinear:M,halfFloat:j,halfFloatLinear:j&&w.getExtension("OES_texture_half_float_linear")}}s.MipmapTexture=p,t=l.default.Texture,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,o,s){"use strict";function a(_){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(_)}function c(_){return(c=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var l,u=(l=t("../core/main"))&&l.__esModule?l:{default:l},y=function(_){if(_&&_.__esModule)return _;if(_===null||c(_)!=="object"&&typeof _!="function")return{default:_};var w=b();if(w&&w.has(_))return w.get(_);var S,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in _){var I;Object.prototype.hasOwnProperty.call(_,S)&&((I=j?Object.getOwnPropertyDescriptor(_,S):null)&&(I.get||I.set)?Object.defineProperty(M,S,I):M[S]=_[S])}return M.default=_,w&&w.set(_,M),M}(t("../core/constants"));function b(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,b=function(){return _},_)}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function f(_,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function h(_,w,S){w&&f(_.prototype,w),S&&f(_,S)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},u.default.RendererGL.prototype.textWidth=function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):0};var m=function(){function _(w,S){d(this,_),this.width=w,this.height=S,this.infos=[]}return h(_,[{key:"findImage",value:function(w){var S,M,j=this.width*this.height;if(j<w)throw new Error("font is too complex to render in 3D");for(var I=this.infos.length-1;0<=I;--I){var D=this.infos[I];if(D.index+w<j){M=(S=D).imageData;break}}if(!S){try{M=new ImageData(this.width,this.height)}catch{var P=document.getElementsByTagName("canvas")[0],A=!P,N=(P||((P=document.createElement("canvas")).style.display="none",document.body.appendChild(P)),P.getContext("2d"));N&&(M=N.createImageData(this.width,this.height)),A&&document.body.removeChild(P)}this.infos.push(S={index:0,imageData:M})}return N=S.index,S.index+=w,M._dirty=!0,{imageData:M,index:N}}}]),_}();function g(D,w,S,M,j){var I=D.imageData.data,D=4*D.index++;I[D++]=w,I[D++]=S,I[D++]=M,I[+D]=j}var p=Math.sqrt(3),v=function(){function _(w){d(this,_),this.font=w,this.strokeImageInfos=new m(64,64),this.colDimImageInfos=new m(64,64),this.rowDimImageInfos=new m(64,64),this.colCellImageInfos=new m(64,64),this.rowCellImageInfos=new m(64,64),this.glyphInfos={}}return h(_,[{key:"getGlyphInfo",value:function(w){var S=this.glyphInfos[w.index];if(!S){var M=w.getBoundingBox(),j=M.x1,I=M.y1,D=M.x2-j,P=M.y2-I,A=w.path.commands;if(D==0||P==0||!A.length)return this.glyphInfos[w.index]={};for(var N=[],O=[],z=[],U=8;0<=U;--U)z.push([]);for(U=8;0<=U;--U)O.push([]);var F,W,$,H,X=function(){function nt(it,ht,at,Se){d(this,nt),this.p0=it,this.c0=ht,this.c1=at,this.p1=Se}return h(nt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ge){var ht=u.default.Vector.lerp(this.p0,this.c0,Ge),Se=u.default.Vector.lerp(this.c0,this.c1,Ge),at=u.default.Vector.lerp(ht,Se,Ge),Se=(this.c1=u.default.Vector.lerp(this.c1,this.p1,Ge),this.c0=u.default.Vector.lerp(Se,this.c1,Ge),u.default.Vector.lerp(at,this.c0,Ge)),Ge=new nt(this.p0,ht,at,Se);return this.p0=Se,Ge}},{key:"splitInflections",value:function(){var it=u.default.Vector.sub(this.c0,this.p0),ht=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),it),at=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),it),u.default.Vector.mult(ht,2)),Se=[],Ge=ht.x*at.y-ht.y*at.x;return Ge!==0&&0<=(it=(at=it.x*at.y-it.y*at.x)*at-4*Ge*(it.x*ht.y-it.y*ht.x))&&(Ge<0&&(Ge=-Ge,at=-at),it=(-at+(ht=Math.sqrt(it)))/(2*Ge),0<(at=(-at-ht)/(2*Ge))&&at<1&&(Se.push(this.split(at)),it=1-(1-it)/(1-at)),0<it&&it<1&&Se.push(this.split(it))),Se.push(this),Se}}]),nt}(),K=!0,ae=!1,L=void 0;try{for(var E,B=A[Symbol.iterator]();!(K=(E=B.next()).done);K=!0){var G=E.value,Q=(G.x-j)/D,ee=(G.y-I)/P;if(!Oe(F,W,Q,ee)){switch(G.type){case"M":$=Q,H=ee;break;case"L":We(F,W,Q,ee);break;case"Q":var se=(G.x1-j)/D,ue=(G.y1-I)/P;_e([F,Q,se],[W,ee,ue],{x:F,y:W,cx:se,cy:ue});break;case"Z":Oe(F,W,$,H)?N.push({x:F,y:W}):(We(F,W,$,H),N.push({x:$,y:H}));break;case"C":for(var ie=function(ne,Ie,Ne,at,Se,Ge,Me,J){var ne=new X(new u.default.Vector(ne,Ie),new u.default.Vector(Ne,at),new u.default.Vector(Se,Ge),new u.default.Vector(Me,J)).splitInflections(),Z=[],oe=30/p,be=!0,Ie=!1,Ne=void 0;try{for(var Qe,tt=ne[Symbol.iterator]();!(be=(Qe=tt.next()).done);be=!0){for(var rt=Qe.value,ft=[],Qt=void 0;!(.125<=(Qt=oe/rt.quadError()));){var Nt=Math.pow(Qt,.3333333333333333),St=rt.split(Nt),zt=rt.split(1-Nt/(1-Nt));Z.push(St),ft.push(rt),rt=zt}Qt<1&&Z.push(rt.split(.5)),Z.push(rt),Array.prototype.push.apply(Z,ft.reverse())}}catch(Pt){Ie=!0,Ne=Pt}finally{try{be||tt.return==null||tt.return()}finally{if(Ie)throw Ne}}return Z}(F,W,(G.x1-j)/D,(G.y1-I)/P,(G.x2-j)/D,(G.y2-I)/P,Q,ee),de=0;de<ie.length;de++){var fe=ie[de].toQuadratic();_e([fe.x,fe.x1,fe.cx],[fe.y,fe.y1,fe.cy],fe)}break;default:throw new Error("unknown command type: ".concat(G.type))}F=Q,W=ee}}}catch(nt){ae=!0,L=nt}finally{try{K||B.return==null||B.return()}finally{if(ae)throw L}}for(var te=N.length,he=this.strokeImageInfos.findImage(te),ve=he.index,Ce=0;Ce<te;++Ce){var ye=N[Ce];g(he,De(ye.x),De(ye.y),De(ye.cx),De(ye.cy))}(S=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:he,strokes:N,colInfo:st(z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:st(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[S.colInfo.dimOffset,S.rowInfo.dimOffset]}return S;function _e(nt,it,ht){var at=N.length;function Se(Z,oe,be){for(var Ie=Z.length;0<Ie--;){var Ne=Z[Ie];Ne<oe&&(oe=Ne),be<Ne&&(be=Ne)}return{min:oe,max:be}}N.push(ht);for(var ht=Se(nt,1,0),nt=Math.max(Math.floor(9*ht.min-.5),0),Ge=Math.min(Math.ceil(9*ht.max+.5),9),Me=nt;Me<Ge;++Me)z[Me].push(at);for(var ht=Se(it,1,0),nt=Math.max(Math.floor(9*ht.min-.5),0),J=Math.min(Math.ceil(9*ht.max+.5),9),ne=nt;ne<J;++ne)O[ne].push(at)}function De(nt){return(nt=(ht=255)*nt)<(it=0)?it:ht<nt?ht:nt;var it,ht}function We(nt,it,ht,at){_e([nt,ht],[it,at],{x:nt,y:it,cx:(nt+ht)/2,cy:(it+at)/2})}function Oe(nt,it,ht,at){return Math.abs(ht-nt)<1e-5&&Math.abs(at-it)<1e-5}function st(nt,it,ht){for(var at=nt.length,Se=it.findImage(at),it=Se.index,Ge=0,Me=0;Me<at;++Me)Ge+=nt[Me].length;for(var J=ht.findImage(Ge),ne=0;ne<at;++ne){var Z=nt[ne],oe=Z.length,be=J.index;g(Se,be>>7,127&be,oe>>7,127&oe);for(var Ie=0;Ie<oe;++Ie){var Ne=Z[Ie]+ve;g(J,Ne>>7,127&Ne,0,0)}}return{cellImageInfo:J,dimOffset:it,dimImageInfo:Se}}}}]),_}();u.default.RendererGL.prototype._renderText=function(_,w,S,M,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=M)&&this._doFill){if(this._isOpenType()){_.push();var j=this._doStroke,I=this.drawMode,D=(this._doStroke=!1,this.drawMode=y.TEXTURE,this._textFont.font),P=(P=this._textFont._fontInfo)||(this._textFont._fontInfo=new v(D)),S=this._textFont._handleAlignment(this,w,S,M),M=this._textSize/D.unitsPerEm,A=(this.translate(S.x,S.y,0),this.scale(M,M,1),this.GL),S=!this._defaultFontShader,N=this._getFontShader(),O=(N.init(),N.bindShader(),S&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),z=(O||((M=this._textGeom=new u.default.Geometry(1,1,function(){for(var de=0;de<=1;de++)for(var fe=0;fe<=1;fe++)this.vertices.push(new u.default.Vector(fe,de,0)),this.uvs.push(fe,de)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",M)),!0),S=!1,M=void 0;try{for(var U,F=this.retainedMode.buffers.text[Symbol.iterator]();!(z=(U=F.next()).done);z=!0)U.value._prepareBuffer(O,N)}catch(de){S=!0,M=de}finally{try{z||F.return==null||F.return()}finally{if(S)throw M}}this._bindBuffer(O.indexBuffer,A.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var W=0,$=null,H=D.stringToGlyphs(w),X=!0,K=!1,ae=void 0;try{for(var L,E=H[Symbol.iterator]();!(X=(L=E.next()).done);X=!0){var B,G,Q=L.value,ee=($&&(W+=D.getKerningValue($,Q)),P.getGlyphInfo(Q));ee.uGlyphRect&&(B=ee.rowInfo,G=ee.colInfo,N.setUniform("uSamplerStrokes",ee.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",B.cellImageInfo.imageData),N.setUniform("uSamplerRows",B.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",G.cellImageInfo.imageData),N.setUniform("uSamplerCols",G.dimImageInfo.imageData),N.setUniform("uGridOffset",ee.uGridOffset),N.setUniform("uGlyphRect",ee.uGlyphRect),N.setUniform("uGlyphOffset",W),N.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),W+=Q.advanceWidth,$=Q}}catch(de){K=!0,ae=de}finally{try{X||E.return==null||E.return()}finally{if(K)throw ae}}}finally{N.unbindShader(),this._doStroke=j,this.drawMode=I,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),_.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return _}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});function A1(n,i){return Object.is(n,i)}var pn=null,Xc=!1,ih=1,fi=Symbol("SIGNAL");function ar(n){let i=pn;return pn=n,i}function O1(){return pn}function fj(){return Xc}var gl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sh(n){if(Xc)throw new Error("");if(pn===null)return;pn.consumerOnSignalRead(n);let i=pn.nextProducerIndex++;if(dh(pn),i<pn.producerNode.length&&pn.producerNode[i]!==n&&Qc(pn)){let r=pn.producerNode[i];uh(r,pn.producerIndexOfThis[i])}pn.producerNode[i]!==n&&(pn.producerNode[i]=n,pn.producerIndexOfThis[i]=Qc(pn)?L1(n,pn,i):0),pn.producerLastReadVersion[i]=n.version}function pj(){ih++}function R1(n){if(!(Qc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ih)){if(!n.producerMustRecompute(n)&&!lh(n)){n.dirty=!1,n.lastCleanEpoch=ih;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ih}}function P1(n){if(n.liveConsumerNode===void 0)return;let i=Xc;Xc=!0;try{for(let r of n.liveConsumerNode)r.dirty||N1(r)}finally{Xc=i}}function F1(){return pn?.consumerAllowSignalWrites!==!1}function N1(n){n.dirty=!0,P1(n),n.consumerMarkedDirty?.(n)}function Zc(n){return n&&(n.nextProducerIndex=0),ar(n)}function ah(n,i){if(ar(i),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Qc(n))for(let r=n.nextProducerIndex;r<n.producerNode.length;r++)uh(n.producerNode[r],n.producerIndexOfThis[r]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function lh(n){dh(n);for(let i=0;i<n.producerNode.length;i++){let r=n.producerNode[i],t=n.producerLastReadVersion[i];if(t!==r.version||(R1(r),t!==r.version))return!0}return!1}function ch(n){if(dh(n),Qc(n))for(let i=0;i<n.producerNode.length;i++)uh(n.producerNode[i],n.producerIndexOfThis[i]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function L1(n,i,r){if(B1(n),n.liveConsumerNode.length===0&&V1(n))for(let t=0;t<n.producerNode.length;t++)n.producerIndexOfThis[t]=L1(n.producerNode[t],n,t);return n.liveConsumerIndexOfThis.push(r),n.liveConsumerNode.push(i)-1}function uh(n,i){if(B1(n),n.liveConsumerNode.length===1&&V1(n))for(let t=0;t<n.producerNode.length;t++)uh(n.producerNode[t],n.producerIndexOfThis[t]);let r=n.liveConsumerNode.length-1;if(n.liveConsumerNode[i]=n.liveConsumerNode[r],n.liveConsumerIndexOfThis[i]=n.liveConsumerIndexOfThis[r],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,i<n.liveConsumerNode.length){let t=n.liveConsumerIndexOfThis[i],o=n.liveConsumerNode[i];dh(o),o.producerIndexOfThis[t]=i}}function Qc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function dh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function B1(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function V1(n){return n.producerNode!==void 0}function Fg(n){let i=Object.create(mj);i.computation=n;let r=()=>{if(R1(i),sh(i),i.value===oh)throw i.error;return i.value};return r[fi]=i,r}var Og=Symbol("UNSET"),Rg=Symbol("COMPUTING"),oh=Symbol("ERRORED"),mj=vt(xe({},gl),{value:Og,dirty:!0,error:null,equal:A1,producerMustRecompute(n){return n.value===Og||n.value===Rg},producerRecomputeValue(n){if(n.value===Rg)throw new Error("Detected cycle in computations.");let i=n.value;n.value=Rg;let r=Zc(n),t;try{t=n.computation()}catch(o){t=oh,n.error=o}finally{ah(n,r)}if(i!==Og&&i!==oh&&t!==oh&&n.equal(i,t)){n.value=i;return}n.value=t,n.version++}});function gj(){throw new Error}var U1=gj;function z1(){U1()}function H1(n){U1=n}var yj=null;function G1(n){let i=Object.create(Ng);i.value=n;let r=()=>(sh(i),i.value);return r[fi]=i,r}function hh(n,i){F1()||z1(),n.equal(n.value,i)||(n.value=i,vj(n))}function $1(n,i){F1()||z1(),hh(n,i(n.value))}var Ng=vt(xe({},gl),{equal:A1,value:void 0});function vj(n){n.version++,pj(),P1(n),yj?.()}function W1(n,i,r){let t=Object.create(bj);r&&(t.consumerAllowSignalWrites=!0),t.fn=n,t.schedule=i;let o=l=>{t.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function a(l){s(l)||(ch(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Pg)}let c=()=>{if(t.fn===null)return;if(fj())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(t.dirty=!1,t.hasRun&&!lh(t))return;t.hasRun=!0;let l=Zc(t);try{t.cleanupFn(),t.cleanupFn=Pg,t.fn(o)}finally{ah(t,l)}};return t.ref={notify:()=>N1(t),run:c,cleanup:()=>t.cleanupFn(),destroy:()=>a(t),[fi]:t},t.ref}var Pg=()=>{},bj=vt(xe({},gl),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Pg});function Bt(n){return typeof n=="function"}function yl(n){let r=n(t=>{Error.call(t),t.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var fh=yl(n=>function(r){n(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((t,o)=>`${o+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function ya(n,i){if(n){let r=n.indexOf(i);0<=r&&n.splice(r,1)}}var Jt=class n{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:t}=this;if(Bt(t))try{t()}catch(s){i=s instanceof fh?s.errors:[s]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let s of o)try{q1(s)}catch(a){i=i??[],a instanceof fh?i=[...i,...a.errors]:i.push(a)}}if(i)throw new fh(i)}}add(i){var r;if(i&&i!==this)if(this.closed)q1(i);else{if(i instanceof n){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(i)}}_hasParent(i){let{_parentage:r}=this;return r===i||Array.isArray(r)&&r.includes(i)}_addParent(i){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(i),r):r?[r,i]:i}_removeParent(i){let{_parentage:r}=this;r===i?this._parentage=null:Array.isArray(r)&&ya(r,i)}remove(i){let{_finalizers:r}=this;r&&ya(r,i),i instanceof n&&i._removeParent(this)}};Jt.EMPTY=(()=>{let n=new Jt;return n.closed=!0,n})();var Lg=Jt.EMPTY;function ph(n){return n instanceof Jt||n&&"closed"in n&&Bt(n.remove)&&Bt(n.add)&&Bt(n.unsubscribe)}function q1(n){Bt(n)?n():n.unsubscribe()}var Yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vl={setTimeout(n,i,...r){let{delegate:t}=vl;return t?.setTimeout?t.setTimeout(n,i,...r):setTimeout(n,i,...r)},clearTimeout(n){let{delegate:i}=vl;return(i?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mh(n){vl.setTimeout(()=>{let{onUnhandledError:i}=Yi;if(i)i(n);else throw n})}function va(){}var Y1=Bg("C",void 0,void 0);function X1(n){return Bg("E",void 0,n)}function Q1(n){return Bg("N",n,void 0)}function Bg(n,i,r){return{kind:n,value:i,error:r}}var ba=null;function bl(n){if(Yi.useDeprecatedSynchronousErrorHandling){let i=!ba;if(i&&(ba={errorThrown:!1,error:null}),n(),i){let{errorThrown:r,error:t}=ba;if(ba=null,r)throw t}}else n()}function Z1(n){Yi.useDeprecatedSynchronousErrorHandling&&ba&&(ba.errorThrown=!0,ba.error=n)}var _a=class extends Jt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,ph(i)&&i.add(this)):this.destination=xj}static create(i,r,t){return new zo(i,r,t)}next(i){this.isStopped?Ug(Q1(i),this):this._next(i)}error(i){this.isStopped?Ug(X1(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?Ug(Y1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_j=Function.prototype.bind;function Vg(n,i){return _j.call(n,i)}var zg=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:r}=this;if(r.next)try{r.next(i)}catch(t){gh(t)}}error(i){let{partialObserver:r}=this;if(r.error)try{r.error(i)}catch(t){gh(t)}else gh(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(r){gh(r)}}},zo=class extends _a{constructor(i,r,t){super();let o;if(Bt(i)||!i)o={next:i??void 0,error:r??void 0,complete:t??void 0};else{let s;this&&Yi.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),o={next:i.next&&Vg(i.next,s),error:i.error&&Vg(i.error,s),complete:i.complete&&Vg(i.complete,s)}):o=i}this.destination=new zg(o)}};function gh(n){Yi.useDeprecatedSynchronousErrorHandling?Z1(n):mh(n)}function wj(n){throw n}function Ug(n,i){let{onStoppedNotification:r}=Yi;r&&vl.setTimeout(()=>r(n,i))}var xj={closed:!0,next:va,error:wj,complete:va};var _l=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wn(n){return n}function Hg(...n){return Gg(n)}function Gg(n){return n.length===0?Wn:n.length===1?n[0]:function(r){return n.reduce((t,o)=>o(t),r)}}var Ht=(()=>{class n{constructor(r){r&&(this._subscribe=r)}lift(r){let t=new n;return t.source=this,t.operator=r,t}subscribe(r,t,o){let s=Cj(r)?r:new zo(r,t,o);return bl(()=>{let{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(t){r.error(t)}}forEach(r,t){return t=K1(t),new t((o,s)=>{let a=new zo({next:c=>{try{r(c)}catch(l){s(l),a.unsubscribe()}},error:s,complete:o});this.subscribe(a)})}_subscribe(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)}[_l](){return this}pipe(...r){return Gg(r)(this)}toPromise(r){return r=K1(r),new r((t,o)=>{let s;this.subscribe(a=>s=a,a=>o(a),()=>t(s))})}}return n.create=i=>new n(i),n})();function K1(n){var i;return(i=n??Yi.Promise)!==null&&i!==void 0?i:Promise}function Sj(n){return n&&Bt(n.next)&&Bt(n.error)&&Bt(n.complete)}function Cj(n){return n&&n instanceof _a||Sj(n)&&ph(n)}function $g(n){return Bt(n?.lift)}function Wt(n){return i=>{if($g(i))return i.lift(function(r){try{return n(r,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zt(n,i,r,t,o){return new Wg(n,i,r,t,o)}var Wg=class extends _a{constructor(i,r,t,o,s,a){super(i),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=r?function(c){try{r(c)}catch(l){i.error(l)}}:super._next,this._error=o?function(c){try{o(c)}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function wl(){return Wt((n,i)=>{let r=null;n._refCount++;let t=Zt(i,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){r=null;return}let o=n._connection,s=r;r=null,o&&(!s||o===s)&&o.unsubscribe(),i.unsubscribe()});n.subscribe(t),t.closed||(r=n.connect())})}var xl=class extends Ht{constructor(i,r){super(),this.source=i,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,$g(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Jt;let r=this.getSubject();i.add(this.source.subscribe(Zt(r,void 0,()=>{this._teardown(),r.complete()},t=>{this._teardown(),r.error(t)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Jt.EMPTY)}return i}refCount(){return wl()(this)}};var Sl={schedule(n){let i=requestAnimationFrame,r=cancelAnimationFrame,{delegate:t}=Sl;t&&(i=t.requestAnimationFrame,r=t.cancelAnimationFrame);let o=i(s=>{r=void 0,n(s)});return new Jt(()=>r?.(o))},requestAnimationFrame(...n){let{delegate:i}=Sl;return(i?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:i}=Sl;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var J1=yl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class n extends Ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let t=new yh(this,this);return t.operator=r,t}_throwIfClosed(){if(this.closed)throw new J1}next(r){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(r)}})}error(r){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:t}=this;for(;t.length;)t.shift().error(r)}})}complete(){bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:t,isStopped:o,observers:s}=this;return t||o?Lg:(this.currentObservers=null,s.push(r),new Jt(()=>{this.currentObservers=null,ya(s,r)}))}_checkFinalizedStatuses(r){let{hasError:t,thrownError:o,isStopped:s}=this;t?r.error(o):s&&r.complete()}asObservable(){let r=new Ht;return r.source=this,r}}return n.create=(i,r)=>new yh(i,r),n})(),yh=class extends Je{constructor(i,r){super(),this.destination=i,this.source=r}next(i){var r,t;(t=(r=this.destination)===null||r===void 0?void 0:r.next)===null||t===void 0||t.call(r,i)}error(i){var r,t;(t=(r=this.destination)===null||r===void 0?void 0:r.error)===null||t===void 0||t.call(r,i)}complete(){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||r===void 0||r.call(i)}_subscribe(i){var r,t;return(t=(r=this.source)===null||r===void 0?void 0:r.subscribe(i))!==null&&t!==void 0?t:Lg}};var Sr=class extends Je{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let r=super._subscribe(i);return!r.closed&&i.next(this._value),r}getValue(){let{hasError:i,thrownError:r,_value:t}=this;if(i)throw r;return this._throwIfClosed(),t}next(i){super.next(this._value=i)}};var Kc={now(){return(Kc.delegate||Date).now()},delegate:void 0};var Ho=class extends Je{constructor(i=1/0,r=1/0,t=Kc){super(),this._bufferSize=i,this._windowTime=r,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,r)}next(i){let{isStopped:r,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:a}=this;r||(t.push(i),!o&&t.push(s.now()+a)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(i),{_infiniteTimeWindow:t,_buffer:o}=this,s=o.slice();for(let a=0;a<s.length&&!i.closed;a+=t?1:2)i.next(s[a]);return this._checkFinalizedStatuses(i),r}_trimBuffer(){let{_bufferSize:i,_timestampProvider:r,_buffer:t,_infiniteTimeWindow:o}=this,s=(o?1:2)*i;if(i<1/0&&s<t.length&&t.splice(0,t.length-s),!o){let a=r.now(),c=0;for(let l=1;l<t.length&&t[l]<=a;l+=2)c=l;c&&t.splice(0,c+1)}}};var vh=class extends Jt{constructor(i,r){super()}schedule(i,r=0){return this}};var Jc={setInterval(n,i,...r){let{delegate:t}=Jc;return t?.setInterval?t.setInterval(n,i,...r):setInterval(n,i,...r)},clearInterval(n){let{delegate:i}=Jc;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var Ss=class extends vh{constructor(i,r){super(i,r),this.scheduler=i,this.work=r,this.pending=!1}schedule(i,r=0){var t;if(this.closed)return this;this.state=i;let o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(s,this.id,r),this}requestAsyncId(i,r,t=0){return Jc.setInterval(i.flush.bind(i,this),t)}recycleAsyncId(i,r,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return r;r!=null&&Jc.clearInterval(r)}execute(i,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(i,r);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,r){let t=!1,o;try{this.work(i)}catch(s){t=!0,o=s||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:i,scheduler:r}=this,{actions:t}=r;this.work=this.state=this.scheduler=null,this.pending=!1,ya(t,this),i!=null&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,super.unsubscribe()}}};var Ej=1,qg,Yg={};function ex(n){return n in Yg?(delete Yg[n],!0):!1}var tx={setImmediate(n){let i=Ej++;return Yg[i]=!0,qg||(qg=Promise.resolve()),qg.then(()=>ex(i)&&n()),i},clearImmediate(n){ex(n)}};var{setImmediate:Ij,clearImmediate:Dj}=tx,eu={setImmediate(...n){let{delegate:i}=eu;return(i?.setImmediate||Ij)(...n)},clearImmediate(n){let{delegate:i}=eu;return(i?.clearImmediate||Dj)(n)},delegate:void 0};var bh=class extends Ss{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}requestAsyncId(i,r,t=0){return t!==null&&t>0?super.requestAsyncId(i,r,t):(i.actions.push(this),i._scheduled||(i._scheduled=eu.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,r,t=0){var o;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(i,r,t);let{actions:s}=i;r!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==r&&(eu.clearImmediate(r),i._scheduled=void 0)}};var Cl=class n{constructor(i,r=n.now){this.schedulerActionCtor=i,this.now=r}schedule(i,r=0,t){return new this.schedulerActionCtor(this,i).schedule(t,r)}};Cl.now=Kc.now;var Cs=class extends Cl{constructor(i,r=Cl.now){super(i,r),this.actions=[],this._active=!1}flush(i){let{actions:r}=this;if(this._active){r.push(i);return}let t;this._active=!0;do if(t=i.execute(i.state,i.delay))break;while(i=r.shift());if(this._active=!1,t){for(;i=r.shift();)i.unsubscribe();throw t}}};var _h=class extends Cs{flush(i){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:t}=this,o;i=i||t.shift();do if(o=i.execute(i.state,i.delay))break;while((i=t[0])&&i.id===r&&t.shift());if(this._active=!1,o){for(;(i=t[0])&&i.id===r&&t.shift();)i.unsubscribe();throw o}}};var tu=new _h(bh);var wa=new Cs(Ss),rx=wa;var wh=class extends Ss{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}requestAsyncId(i,r,t=0){return t!==null&&t>0?super.requestAsyncId(i,r,t):(i.actions.push(this),i._scheduled||(i._scheduled=Sl.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,r,t=0){var o;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(i,r,t);let{actions:s}=i;r!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==r&&(Sl.cancelAnimationFrame(r),i._scheduled=void 0)}};var xh=class extends Cs{flush(i){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:t}=this,o;i=i||t.shift();do if(o=i.execute(i.state,i.delay))break;while((i=t[0])&&i.id===r&&t.shift());if(this._active=!1,o){for(;(i=t[0])&&i.id===r&&t.shift();)i.unsubscribe();throw o}}};var Sh=new xh(wh);var nn=new Ht(n=>n.complete());function Ch(n){return n&&Bt(n.schedule)}function Xg(n){return n[n.length-1]}function Eh(n){return Bt(Xg(n))?n.pop():void 0}function po(n){return Ch(Xg(n))?n.pop():void 0}function nx(n,i){return typeof Xg(n)=="number"?n.pop():i}function Sa(n,i,r,t){var o=arguments.length,s=o<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,r):t,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,i,r,t);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(s=(o<3?a(s):o>3?a(i,r,s):a(i,r))||s);return o>3&&s&&Object.defineProperty(i,r,s),s}function Xi(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)}function ox(n,i,r,t){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(y){try{u(t.next(y))}catch(b){a(b)}}function l(y){try{u(t.throw(y))}catch(b){a(b)}}function u(y){y.done?s(y.value):o(y.value).then(c,l)}u((t=t.apply(n,i||[])).next())})}function ix(n){var i=typeof Symbol=="function"&&Symbol.iterator,r=i&&n[i],t=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(n){return this instanceof xa?(this.v=n,this):new xa(n)}function sx(n,i,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(n,i||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(f){return function(h){return Promise.resolve(h).then(f,b)}}function c(f,h){t[f]&&(o[f]=function(m){return new Promise(function(g,p){s.push([f,m,g,p])>1||l(f,m)})},h&&(o[f]=h(o[f])))}function l(f,h){try{u(t[f](h))}catch(m){d(s[0][3],m)}}function u(f){f.value instanceof xa?Promise.resolve(f.value.v).then(y,b):d(s[0][2],f)}function y(f){l("next",f)}function b(f){l("throw",f)}function d(f,h){f(h),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ax(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],r;return i?i.call(n):(n=typeof ix=="function"?ix(n):n[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(s){r[s]=n[s]&&function(a){return new Promise(function(c,l){a=n[s](a),o(c,l,a.done,a.value)})}}function o(s,a,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},a)}}var El=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ih(n){return Bt(n?.then)}function Dh(n){return Bt(n[_l])}function Mh(n){return Symbol.asyncIterator&&Bt(n?.[Symbol.asyncIterator])}function Th(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kh=Mj();function jh(n){return Bt(n?.[kh])}function Ah(n){return sx(this,arguments,function*(){let r=n.getReader();try{for(;;){let{value:t,done:o}=yield xa(r.read());if(o)return yield xa(void 0);yield yield xa(t)}}finally{r.releaseLock()}})}function Oh(n){return Bt(n?.getReader)}function jr(n){if(n instanceof Ht)return n;if(n!=null){if(Dh(n))return Tj(n);if(El(n))return kj(n);if(Ih(n))return jj(n);if(Mh(n))return lx(n);if(jh(n))return Aj(n);if(Oh(n))return Oj(n)}throw Th(n)}function Tj(n){return new Ht(i=>{let r=n[_l]();if(Bt(r.subscribe))return r.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kj(n){return new Ht(i=>{for(let r=0;r<n.length&&!i.closed;r++)i.next(n[r]);i.complete()})}function jj(n){return new Ht(i=>{n.then(r=>{i.closed||(i.next(r),i.complete())},r=>i.error(r)).then(null,mh)})}function Aj(n){return new Ht(i=>{for(let r of n)if(i.next(r),i.closed)return;i.complete()})}function lx(n){return new Ht(i=>{Rj(n,i).catch(r=>i.error(r))})}function Oj(n){return lx(Ah(n))}function Rj(n,i){var r,t,o,s;return ox(this,void 0,void 0,function*(){try{for(r=ax(n);t=yield r.next(),!t.done;){let a=t.value;if(i.next(a),i.closed)return}}catch(a){o={error:a}}finally{try{t&&!t.done&&(s=r.return)&&(yield s.call(r))}finally{if(o)throw o.error}}i.complete()})}function ni(n,i,r,t=0,o=!1){let s=i.schedule(function(){r(),o?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(s),!o)return s}function Rh(n,i=0){return Wt((r,t)=>{r.subscribe(Zt(t,o=>ni(t,n,()=>t.next(o),i),()=>ni(t,n,()=>t.complete(),i),o=>ni(t,n,()=>t.error(o),i)))})}function Ph(n,i=0){return Wt((r,t)=>{t.add(n.schedule(()=>r.subscribe(t),i))})}function cx(n,i){return jr(n).pipe(Ph(i),Rh(i))}function ux(n,i){return jr(n).pipe(Ph(i),Rh(i))}function dx(n,i){return new Ht(r=>{let t=0;return i.schedule(function(){t===n.length?r.complete():(r.next(n[t++]),r.closed||this.schedule())})})}function hx(n,i){return new Ht(r=>{let t;return ni(r,i,()=>{t=n[kh](),ni(r,i,()=>{let o,s;try{({value:o,done:s}=t.next())}catch(a){r.error(a);return}s?r.complete():r.next(o)},0,!0)}),()=>Bt(t?.return)&&t.return()})}function Fh(n,i){if(!n)throw new Error("Iterable cannot be null");return new Ht(r=>{ni(r,i,()=>{let t=n[Symbol.asyncIterator]();ni(r,i,()=>{t.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function fx(n,i){return Fh(Ah(n),i)}function px(n,i){if(n!=null){if(Dh(n))return cx(n,i);if(El(n))return dx(n,i);if(Ih(n))return ux(n,i);if(Mh(n))return Fh(n,i);if(jh(n))return hx(n,i);if(Oh(n))return fx(n,i)}throw Th(n)}function dr(n,i){return i?px(n,i):jr(n)}function _t(...n){let i=po(n);return dr(n,i)}function Es(n,i){let r=Bt(n)?n:()=>n,t=o=>o.error(r());return new Ht(i?o=>i.schedule(t,0,o):t)}function Go(n){return!!n&&(n instanceof Ht||Bt(n.lift)&&Bt(n.subscribe))}var $o=yl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mx(n){return n instanceof Date&&!isNaN(n)}function wt(n,i){return Wt((r,t)=>{let o=0;r.subscribe(Zt(t,s=>{t.next(n.call(i,s,o++))}))})}var{isArray:Pj}=Array;function Fj(n,i){return Pj(i)?n(...i):n(i)}function Il(n){return wt(i=>Fj(n,i))}var{isArray:Nj}=Array,{getPrototypeOf:Lj,prototype:Bj,keys:Vj}=Object;function Nh(n){if(n.length===1){let i=n[0];if(Nj(i))return{args:i,keys:null};if(Uj(i)){let r=Vj(i);return{args:r.map(t=>i[t]),keys:r}}}return{args:n,keys:null}}function Uj(n){return n&&typeof n=="object"&&Lj(n)===Bj}function Lh(n,i){return n.reduce((r,t,o)=>(r[t]=i[o],r),{})}function Ca(...n){let i=po(n),r=Eh(n),{args:t,keys:o}=Nh(n);if(t.length===0)return dr([],i);let s=new Ht(zj(t,i,o?a=>Lh(o,a):Wn));return r?s.pipe(Il(r)):s}function zj(n,i,r=Wn){return t=>{gx(i,()=>{let{length:o}=n,s=new Array(o),a=o,c=o;for(let l=0;l<o;l++)gx(i,()=>{let u=dr(n[l],i),y=!1;u.subscribe(Zt(t,b=>{s[l]=b,y||(y=!0,c--),c||t.next(r(s.slice()))},()=>{--a||t.complete()}))},t)},t)}}function gx(n,i,r){n?ni(r,n,i):i()}function Bh(n,i,r,t,o,s,a,c){let l=[],u=0,y=0,b=!1,d=()=>{b&&!l.length&&!u&&i.complete()},f=m=>u<t?h(m):l.push(m),h=m=>{s&&i.next(m),u++;let g=!1;jr(r(m,y++)).subscribe(Zt(i,p=>{o?.(p),s?f(p):i.next(p)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;l.length&&u<t;){let p=l.shift();a?ni(i,a,()=>h(p)):h(p)}d()}catch(p){i.error(p)}}))};return n.subscribe(Zt(i,f,()=>{b=!0,d()})),()=>{c?.()}}function Fr(n,i,r=1/0){return Bt(i)?Fr((t,o)=>wt((s,a)=>i(t,s,o,a))(jr(n(t,o))),r):(typeof i=="number"&&(r=i),Wt((t,o)=>Bh(t,o,n,r)))}function mo(n=1/0){return Fr(Wn,n)}function yx(){return mo(1)}function go(...n){return yx()(dr(n,po(n)))}function Vh(n){return new Ht(i=>{jr(n()).subscribe(i)})}function ru(...n){let i=Eh(n),{args:r,keys:t}=Nh(n),o=new Ht(s=>{let{length:a}=r;if(!a){s.complete();return}let c=new Array(a),l=a,u=a;for(let y=0;y<a;y++){let b=!1;jr(r[y]).subscribe(Zt(s,d=>{b||(b=!0,u--),c[y]=d},()=>l--,void 0,()=>{(!l||!b)&&(u||s.next(t?Lh(t,c):c),s.complete())}))}});return i?o.pipe(Il(i)):o}var Hj=["addListener","removeListener"],Gj=["addEventListener","removeEventListener"],$j=["on","off"];function ii(n,i,r,t){if(Bt(r)&&(t=r,r=void 0),t)return ii(n,i,r).pipe(Il(t));let[o,s]=Yj(n)?Gj.map(a=>c=>n[a](i,c,r)):Wj(n)?Hj.map(vx(n,i)):qj(n)?$j.map(vx(n,i)):[];if(!o&&El(n))return Fr(a=>ii(a,i,r))(jr(n));if(!o)throw new TypeError("Invalid event target");return new Ht(a=>{let c=(...l)=>a.next(1<l.length?l:l[0]);return o(c),()=>s(c)})}function vx(n,i){return r=>t=>n[r](i,t)}function Wj(n){return Bt(n.addListener)&&Bt(n.removeListener)}function qj(n){return Bt(n.on)&&Bt(n.off)}function Yj(n){return Bt(n.addEventListener)&&Bt(n.removeEventListener)}function Uh(n=0,i,r=rx){let t=-1;return i!=null&&(Ch(i)?r=i:t=i),new Ht(o=>{let s=mx(n)?+n-r.now():n;s<0&&(s=0);let a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=t?this.schedule(void 0,t):o.complete())},s)})}function Bn(...n){let i=po(n),r=nx(n,1/0),t=n;return t.length?t.length===1?jr(t[0]):mo(r)(dr(t,i)):nn}function Vt(n,i){return Wt((r,t)=>{let o=0;r.subscribe(Zt(t,s=>n.call(i,s,o++)&&t.next(s)))})}function bx(n){return Wt((i,r)=>{let t=!1,o=null,s=null,a=!1,c=()=>{if(s?.unsubscribe(),s=null,t){t=!1;let u=o;o=null,r.next(u)}a&&r.complete()},l=()=>{s=null,a&&r.complete()};i.subscribe(Zt(r,u=>{t=!0,o=u,s||jr(n(u)).subscribe(s=Zt(r,c,l))},()=>{a=!0,(!t||!s||s.closed)&&r.complete()}))})}function zh(n,i=wa){return bx(()=>Uh(n,i))}function yo(n){return Wt((i,r)=>{let t=null,o=!1,s;t=i.subscribe(Zt(r,void 0,void 0,a=>{s=jr(n(a,yo(n)(i))),t?(t.unsubscribe(),t=null,s.subscribe(r)):o=!0})),o&&(t.unsubscribe(),t=null,s.subscribe(r))})}function _x(n,i,r,t,o){return(s,a)=>{let c=r,l=i,u=0;s.subscribe(Zt(a,y=>{let b=u++;l=c?n(l,y,b):(c=!0,y),t&&a.next(l)},o&&(()=>{c&&a.next(l),a.complete()})))}}function Wo(n,i){return Bt(i)?Fr(n,i,1):Fr(n,1)}function oi(n,i=wa){return Wt((r,t)=>{let o=null,s=null,a=null,c=()=>{if(o){o.unsubscribe(),o=null;let u=s;s=null,t.next(u)}};function l(){let u=a+n,y=i.now();if(y<u){o=this.schedule(void 0,u-y),t.add(o);return}c()}r.subscribe(Zt(t,u=>{s=u,a=i.now(),o||(o=i.schedule(l,n),t.add(o))},()=>{c(),t.complete()},void 0,()=>{s=o=null}))})}function Is(n){return Wt((i,r)=>{let t=!1;i.subscribe(Zt(r,o=>{t=!0,r.next(o)},()=>{t||r.next(n),r.complete()}))})}function Mr(n){return n<=0?()=>nn:Wt((i,r)=>{let t=0;i.subscribe(Zt(r,o=>{++t<=n&&(r.next(o),n<=t&&r.complete())}))})}function wx(){return Wt((n,i)=>{n.subscribe(Zt(i,va))})}function Ds(n){return wt(()=>n)}function Qg(n,i){return i?r=>go(i.pipe(Mr(1),wx()),r.pipe(Qg(n))):Fr((r,t)=>n(r,t).pipe(Mr(1),Ds(r)))}function qo(n,i=wa){let r=Uh(n,i);return Qg(()=>r)}function mn(n,i=Wn){return n=n??Xj,Wt((r,t)=>{let o,s=!0;r.subscribe(Zt(t,a=>{let c=i(a);(s||!n(o,c))&&(s=!1,o=c,t.next(a))}))})}function Xj(n,i){return n===i}function Hh(n=Qj){return Wt((i,r)=>{let t=!1;i.subscribe(Zt(r,o=>{t=!0,r.next(o)},()=>t?r.complete():r.error(n())))})}function Qj(){return new $o}function Zg(n,i=1/0,r){return i=(i||0)<1?1/0:i,Wt((t,o)=>Bh(t,o,n,i,void 0,!0,r))}function si(n){return Wt((i,r)=>{try{i.subscribe(r)}finally{r.add(n)}})}function vo(n,i){let r=arguments.length>=2;return t=>t.pipe(n?Vt((o,s)=>n(o,s,t)):Wn,Mr(1),r?Is(i):Hh(()=>new $o))}function Dl(n){return n<=0?()=>nn:Wt((i,r)=>{let t=[];i.subscribe(Zt(r,o=>{t.push(o),n<t.length&&t.shift()},()=>{for(let o of t)r.next(o);r.complete()},void 0,()=>{t=null}))})}function Kg(n,i){let r=arguments.length>=2;return t=>t.pipe(n?Vt((o,s)=>n(o,s,t)):Wn,Dl(1),r?Is(i):Hh(()=>new $o))}function Jg(n,i){return Wt(_x(n,i,arguments.length>=2,!0))}function nu(n={}){let{connector:i=()=>new Je,resetOnError:r=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=n;return s=>{let a,c,l,u=0,y=!1,b=!1,d=()=>{c?.unsubscribe(),c=void 0},f=()=>{d(),a=l=void 0,y=b=!1},h=()=>{let m=a;f(),m?.unsubscribe()};return Wt((m,g)=>{u++,!b&&!y&&d();let p=l=l??i();g.add(()=>{u--,u===0&&!b&&!y&&(c=ey(h,o))}),p.subscribe(g),!a&&u>0&&(a=new zo({next:v=>p.next(v),error:v=>{b=!0,d(),c=ey(f,r,v),p.error(v)},complete:()=>{y=!0,d(),c=ey(f,t),p.complete()}}),jr(m).subscribe(a))})(s)}}function ey(n,i,...r){if(i===!0){n();return}if(i===!1)return;let t=new zo({next:()=>{t.unsubscribe(),n()}});return i(...r).subscribe(t)}function Gh(n,i,r){let t,o=!1;return n&&typeof n=="object"?{bufferSize:t=1/0,windowTime:i=1/0,refCount:o=!1,scheduler:r}=n:t=n??1/0,nu({connector:()=>new Ho(t,i,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Ms(n){return Vt((i,r)=>n<=r)}function on(...n){let i=po(n);return Wt((r,t)=>{(i?go(n,r,i):go(n,r)).subscribe(t)})}function Tr(n,i){return Wt((r,t)=>{let o=null,s=0,a=!1,c=()=>a&&!o&&t.complete();r.subscribe(Zt(t,l=>{o?.unsubscribe();let u=0,y=s++;jr(n(l,y)).subscribe(o=Zt(t,b=>t.next(i?i(l,b,y,u++):b),()=>{o=null,c()}))},()=>{a=!0,c()}))})}function Ut(n){return Wt((i,r)=>{jr(n).subscribe(Zt(r,()=>r.complete(),va)),!r.closed&&i.subscribe(r)})}function $h(n,i=!1){return Wt((r,t)=>{let o=0;r.subscribe(Zt(t,s=>{let a=n(s,o++);(a||i)&&t.next(s),!a&&t.complete()}))})}function pr(n,i,r){let t=Bt(n)||i||r?{next:n,error:i,complete:r}:n;return t?Wt((o,s)=>{var a;(a=t.subscribe)===null||a===void 0||a.call(t);let c=!0;o.subscribe(Zt(s,l=>{var u;(u=t.next)===null||u===void 0||u.call(t,l),s.next(l)},()=>{var l;c=!1,(l=t.complete)===null||l===void 0||l.call(t),s.complete()},l=>{var u;c=!1,(u=t.error)===null||u===void 0||u.call(t,l),s.error(l)},()=>{var l,u;c&&((l=t.unsubscribe)===null||l===void 0||l.call(t)),(u=t.finalize)===null||u===void 0||u.call(t)}))}):Wn}var hS="https://g.co/ng/security#xss",Xe=class extends Error{constructor(i,r){super(Nf(i,r)),this.code=i}};function Nf(n,i){return`${`NG0${Math.abs(n)}`}${i?": "+i:""}`}var fS=Symbol("InputSignalNode#UNSET"),Zj=vt(xe({},Ng),{transformFn:void 0,applyValueToInputSignal(n,i){hh(n,i)}});function pS(n,i){let r=Object.create(Zj);r.value=n,r.transformFn=i?.transform;function t(){if(sh(r),r.value===fS)throw new Xe(-950,!1);return r.value}return t[fi]=r,t}function pu(n){return{toString:n}.toString()}var Wh="__parameters__";function Kj(n){return function(...r){if(n){let t=n(...r);for(let o in t)this[o]=t[o]}}}function mS(n,i,r){return pu(()=>{let t=Kj(i);function o(...s){if(this instanceof o)return t.apply(this,s),this;let a=new o(...s);return c.annotation=a,c;function c(l,u,y){let b=l.hasOwnProperty(Wh)?l[Wh]:Object.defineProperty(l,Wh,{value:[]})[Wh];for(;b.length<=y;)b.push(null);return(b[y]=b[y]||[]).push(a),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var pi=globalThis;function Nr(n){for(let i in n)if(n[i]===Nr)return i;throw Error("Could not find renamed property on target object.")}function Jj(n,i){for(let r in i)i.hasOwnProperty(r)&&!n.hasOwnProperty(r)&&(n[r]=i[r])}function Xn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Xn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let i=n.toString();if(i==null)return""+i;let r=i.indexOf(`
`);return r===-1?i:i.substring(0,r)}function py(n,i){return n==null||n===""?i===null?"":i:i==null||i===""?n:n+" "+i}var eA=Nr({__forward_ref__:Nr});function gi(n){return n.__forward_ref__=gi,n.toString=function(){return Xn(this())},n}function qn(n){return gS(n)?n():n}function gS(n){return typeof n=="function"&&n.hasOwnProperty(eA)&&n.__forward_ref__===gi}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lf(n){return xx(n,vS)||xx(n,bS)}function yS(n){return Lf(n)!==null}function xx(n,i){return n.hasOwnProperty(i)?n[i]:null}function tA(n){let i=n&&(n[vS]||n[bS]);return i||null}function Sx(n){return n&&(n.hasOwnProperty(Cx)||n.hasOwnProperty(rA))?n[Cx]:null}var vS=Nr({\u0275prov:Nr}),Cx=Nr({\u0275inj:Nr}),bS=Nr({ngInjectableDef:Nr}),rA=Nr({ngInjectorDef:Nr}),ze=class{constructor(i,r){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=He({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _S(n){return n&&!!n.\u0275providers}var nA=Nr({\u0275cmp:Nr}),iA=Nr({\u0275dir:Nr}),oA=Nr({\u0275pipe:Nr}),sA=Nr({\u0275mod:Nr}),af=Nr({\u0275fac:Nr}),ou=Nr({__NG_ELEMENT_ID__:Nr}),Ex=Nr({__NG_ENV_ID__:Nr});function Yo(n){return typeof n=="string"?n:n==null?"":String(n)}function aA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yo(n)}function lA(n,i){let r=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Xe(-200,n)}function Cv(n,i){throw new Xe(-201,!1)}var lr=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(lr||{}),my;function wS(){return my}function ai(n){let i=my;return my=n,i}function xS(n,i,r){let t=Lf(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(r&lr.Optional)return null;if(i!==void 0)return i;Cv(n,"Injector")}var cA={},au=cA,gy="__NG_DI_FLAG__",lf="ngTempTokenPath",uA="ngTokenPath",dA=/\n/gm,hA="\u0275",Ix="__source",jl;function fA(){return jl}function Ts(n){let i=jl;return jl=n,i}function pA(n,i=lr.Default){if(jl===void 0)throw new Xe(-203,!1);return jl===null?xS(n,void 0,i):jl.get(n,i&lr.Optional?null:void 0,i)}function je(n,i=lr.Default){return(wS()||pA)(qn(n),i)}function Be(n,i=lr.Default){return je(n,Bf(i))}function Bf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yy(n){let i=[];for(let r=0;r<n.length;r++){let t=qn(n[r]);if(Array.isArray(t)){if(t.length===0)throw new Xe(900,!1);let o,s=lr.Default;for(let a=0;a<t.length;a++){let c=t[a],l=mA(c);typeof l=="number"?l===-1?o=c.token:s|=l:o=c}i.push(je(o,s))}else i.push(je(t))}return i}function SS(n,i){return n[gy]=i,n.prototype[gy]=i,n}function mA(n){return n[gy]}function gA(n,i,r,t){let o=n[lf];throw i[Ix]&&o.unshift(i[Ix]),n.message=yA(`
`+n.message,o,r,t),n[uA]=o,n[lf]=null,n}function yA(n,i,r,t=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==hA?n.slice(2):n;let o=Xn(i);if(Array.isArray(i))o=i.map(Xn).join(" -> ");else if(typeof i=="object"){let s=[];for(let a in i)if(i.hasOwnProperty(a)){let c=i[a];s.push(a+":"+(typeof c=="string"?JSON.stringify(c):Xn(c)))}o=`{${s.join(", ")}}`}return`${r}${t?"("+t+")":""}[${o}]: ${n.replace(dA,`
  `)}`}var mu=SS(mS("Optional"),8);var Vf=SS(mS("SkipSelf"),4);function Ia(n,i){let r=n.hasOwnProperty(af);return r?n[af]:null}function vA(n,i,r){if(n.length!==i.length)return!1;for(let t=0;t<n.length;t++){let o=n[t],s=i[t];if(r&&(o=r(o),s=r(s)),s!==o)return!1}return!0}function bA(n){return n.flat(Number.POSITIVE_INFINITY)}function Ev(n,i){n.forEach(r=>Array.isArray(r)?Ev(r,i):i(r))}function CS(n,i,r){i>=n.length?n.push(r):n.splice(i,0,r)}function cf(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function _A(n,i){let r=[];for(let t=0;t<n;t++)r.push(i);return r}function wA(n,i,r,t){let o=n.length;if(o==i)n.push(r,t);else if(o===1)n.push(t,n[0]),n[0]=r;else{for(o--,n.push(n[o-1],n[o]);o>i;){let s=o-2;n[o]=n[s],o--}n[i]=r,n[i+1]=t}}function Iv(n,i,r){let t=gu(n,i);return t>=0?n[t|1]=r:(t=~t,wA(n,t,i,r)),t}function ty(n,i){let r=gu(n,i);if(r>=0)return n[r|1]}function gu(n,i){return xA(n,i,1)}function xA(n,i,r){let t=0,o=n.length>>r;for(;o!==t;){let s=t+(o-t>>1),a=n[s<<r];if(i===a)return s<<r;a>i?o=s:t=s+1}return~(o<<r)}var Ol={},Yn=[],Rl=new ze(""),ES=new ze("",-1),IS=new ze(""),uf=class{get(i,r=au){if(r===au){let t=new Error(`NullInjectorError: No provider for ${Xn(i)}!`);throw t.name="NullInjectorError",t}return r}},DS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(DS||{}),wo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wo||{}),Os=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Os||{});function SA(n,i,r){let t=n.length;for(;;){let o=n.indexOf(i,r);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let s=i.length;if(o+s===t||n.charCodeAt(o+s)<=32)return o}r=o+1}}function vy(n,i,r){let t=0;for(;t<r.length;){let o=r[t];if(typeof o=="number"){if(o!==0)break;t++;let s=r[t++],a=r[t++],c=r[t++];n.setAttribute(i,a,c,s)}else{let s=o,a=r[++t];CA(s)?n.setProperty(i,s,a):n.setAttribute(i,s,a),t++}}return t}function MS(n){return n===3||n===4||n===6}function CA(n){return n.charCodeAt(0)===64}function lu(n,i){if(!(i===null||i.length===0))if(n===null||n.length===0)n=i.slice();else{let r=-1;for(let t=0;t<i.length;t++){let o=i[t];typeof o=="number"?r=o:r===0||(r===-1||r===2?Dx(n,r,o,null,i[++t]):Dx(n,r,o,null,null))}}return n}function Dx(n,i,r,t,o){let s=0,a=n.length;if(i===-1)a=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===i){a=-1;break}else if(c>i){a=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===r){if(t===null){o!==null&&(n[s+1]=o);return}else if(t===n[s+1]){n[s+2]=o;return}}s++,t!==null&&s++,o!==null&&s++}a!==-1&&(n.splice(a,0,i),s=a+1),n.splice(s++,0,r),t!==null&&n.splice(s++,0,t),o!==null&&n.splice(s++,0,o)}var TS="ng-template";function EA(n,i,r,t){let o=0;if(t){for(;o<i.length&&typeof i[o]=="string";o+=2)if(i[o]==="class"&&SA(i[o+1].toLowerCase(),r,0)!==-1)return!0}else if(Dv(n))return!1;if(o=i.indexOf(1,o),o>-1){let s;for(;++o<i.length&&typeof(s=i[o])=="string";)if(s.toLowerCase()===r)return!0}return!1}function Dv(n){return n.type===4&&n.value!==TS}function IA(n,i,r){let t=n.type===4&&!r?TS:n.value;return i===t}function DA(n,i,r){let t=4,o=n.attrs,s=o!==null?kA(o):0,a=!1;for(let c=0;c<i.length;c++){let l=i[c];if(typeof l=="number"){if(!a&&!Qi(t)&&!Qi(l))return!1;if(a&&Qi(l))continue;a=!1,t=l|t&1;continue}if(!a)if(t&4){if(t=2|t&1,l!==""&&!IA(n,l,r)||l===""&&i.length===1){if(Qi(t))return!1;a=!0}}else if(t&8){if(o===null||!EA(n,o,l,r)){if(Qi(t))return!1;a=!0}}else{let u=i[++c],y=MA(l,o,Dv(n),r);if(y===-1){if(Qi(t))return!1;a=!0;continue}if(u!==""){let b;if(y>s?b="":b=o[y+1].toLowerCase(),t&2&&u!==b){if(Qi(t))return!1;a=!0}}}}return Qi(t)||a}function Qi(n){return(n&1)===0}function MA(n,i,r,t){if(i===null)return-1;let o=0;if(t||!r){let s=!1;for(;o<i.length;){let a=i[o];if(a===n)return o;if(a===3||a===6)s=!0;else if(a===1||a===2){let c=i[++o];for(;typeof c=="string";)c=i[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=s?1:2}return-1}else return jA(i,n)}function kS(n,i,r=!1){for(let t=0;t<i.length;t++)if(DA(n,i[t],r))return!0;return!1}function TA(n){let i=n.attrs;if(i!=null){let r=i.indexOf(5);if(!(r&1))return i[r+1]}return null}function kA(n){for(let i=0;i<n.length;i++){let r=n[i];if(MS(r))return i}return n.length}function jA(n,i){let r=n.indexOf(4);if(r>-1)for(r++;r<n.length;){let t=n[r];if(typeof t=="number")return-1;if(t===i)return r;r++}return-1}function AA(n,i){e:for(let r=0;r<i.length;r++){let t=i[r];if(n.length===t.length){for(let o=0;o<n.length;o++)if(n[o]!==t[o])continue e;return!0}}return!1}function Mx(n,i){return n?":not("+i.trim()+")":i}function OA(n){let i=n[0],r=1,t=2,o="",s=!1;for(;r<n.length;){let a=n[r];if(typeof a=="string")if(t&2){let c=n[++r];o+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else t&8?o+="."+a:t&4&&(o+=" "+a);else o!==""&&!Qi(a)&&(i+=Mx(s,o),o=""),t=a,s=s||!Qi(t);r++}return o!==""&&(i+=Mx(s,o)),i}function RA(n){return n.map(OA).join(",")}function PA(n){let i=[],r=[],t=1,o=2;for(;t<n.length;){let s=n[t];if(typeof s=="string")o===2?s!==""&&i.push(s,n[++t]):o===8&&r.push(s);else{if(!Qi(o))break;o=s}t++}return{attrs:i,classes:r}}function ut(n){return pu(()=>{let i=FS(n),r=vt(xe({},i),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===DS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wo.Emulated,styles:n.styles||Yn,_:null,schemas:n.schemas||null,tView:null,id:""});NS(r);let t=n.dependencies;return r.directiveDefs=kx(t,!1),r.pipeDefs=kx(t,!0),r.id=LA(r),r})}function FA(n){return Rs(n)||AS(n)}function NA(n){return n!==null}function yt(n){return pu(()=>({type:n.type,bootstrap:n.bootstrap||Yn,declarations:n.declarations||Yn,imports:n.imports||Yn,exports:n.exports||Yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tx(n,i){if(n==null)return Ol;let r={};for(let t in n)if(n.hasOwnProperty(t)){let o=n[t],s,a,c=Os.None;Array.isArray(o)?(c=o[0],s=o[1],a=o[2]??s):(s=o,a=o),i?(r[s]=c!==Os.None?[t,c]:t,i[s]=a):r[s]=t}return r}function xt(n){return pu(()=>{let i=FS(n);return NS(i),i})}function jS(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rs(n){return n[nA]||null}function AS(n){return n[iA]||null}function OS(n){return n[oA]||null}function RS(n){let i=Rs(n)||AS(n)||OS(n);return i!==null?i.standalone:!1}function PS(n,i){let r=n[sA]||null;if(!r&&i===!0)throw new Error(`Type ${Xn(n)} does not have '\u0275mod' property.`);return r}function FS(n){let i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:n.inputs||Ol,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Yn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tx(n.inputs,i),outputs:Tx(n.outputs),debugInfo:null}}function NS(n){n.features?.forEach(i=>i(n))}function kx(n,i){if(!n)return null;let r=i?OS:FA;return()=>(typeof n=="function"?n():n).map(t=>r(t)).filter(NA)}function LA(n){let i=0,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let o of r)i=Math.imul(31,i)+o.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function Uf(n){return{\u0275providers:n}}function BA(...n){return{\u0275providers:LS(!0,n),\u0275fromNgModule:!0}}function LS(n,...i){let r=[],t=new Set,o,s=a=>{r.push(a)};return Ev(i,a=>{let c=a;by(c,s,[],t)&&(o||=[],o.push(c))}),o!==void 0&&BS(o,s),r}function BS(n,i){for(let r=0;r<n.length;r++){let{ngModule:t,providers:o}=n[r];Mv(o,s=>{i(s,t)})}}function by(n,i,r,t){if(n=qn(n),!n)return!1;let o=null,s=Sx(n),a=!s&&Rs(n);if(!s&&!a){let l=n.ngModule;if(s=Sx(l),s)o=l;else return!1}else{if(a&&!a.standalone)return!1;o=n}let c=t.has(o);if(a){if(c)return!1;if(t.add(o),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let u of l)by(u,i,r,t)}}else if(s){if(s.imports!=null&&!c){t.add(o);let u;try{Ev(s.imports,y=>{by(y,i,r,t)&&(u||=[],u.push(y))})}finally{}u!==void 0&&BS(u,i)}if(!c){let u=Ia(o)||(()=>new o);i({provide:o,useFactory:u,deps:Yn},o),i({provide:IS,useValue:o,multi:!0},o),i({provide:Rl,useValue:()=>je(o),multi:!0},o)}let l=s.providers;if(l!=null&&!c){let u=n;Mv(l,y=>{i(y,u)})}}else return!1;return o!==n&&n.providers!==void 0}function Mv(n,i){for(let r of n)_S(r)&&(r=r.\u0275providers),Array.isArray(r)?Mv(r,i):i(r)}var VA=Nr({provide:String,useValue:Nr});function VS(n){return n!==null&&typeof n=="object"&&VA in n}function UA(n){return!!(n&&n.useExisting)}function zA(n){return!!(n&&n.useFactory)}function Pl(n){return typeof n=="function"}function HA(n){return!!n.useClass}var zf=new ze(""),ef={},GA={},ry;function Tv(){return ry===void 0&&(ry=new uf),ry}var Tn=class{},cu=class extends Tn{get destroyed(){return this._destroyed}constructor(i,r,t,o){super(),this.parent=r,this.source=t,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wy(i,a=>this.processProvider(a)),this.records.set(ES,Ml(void 0,this)),o.has("environment")&&this.records.set(Tn,Ml(void 0,this));let s=this.records.get(zf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(IS,Yn,lr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let i=ar(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of r)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ar(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();let r=Ts(this),t=ai(void 0),o;try{return i()}finally{Ts(r),ai(t)}}get(i,r=au,t=lr.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Ex))return i[Ex](this);t=Bf(t);let o,s=Ts(this),a=ai(void 0);try{if(!(t&lr.SkipSelf)){let l=this.records.get(i);if(l===void 0){let u=XA(i)&&Lf(i);u&&this.injectableDefInScope(u)?l=Ml(_y(i),ef):l=null,this.records.set(i,l)}if(l!=null)return this.hydrate(i,l)}let c=t&lr.Self?Tv():this.parent;return r=t&lr.Optional&&r===au?null:r,c.get(i,r)}catch(c){if(c.name==="NullInjectorError"){if((c[lf]=c[lf]||[]).unshift(Xn(i)),s)throw c;return gA(c,i,"R3InjectorError",this.source)}else throw c}finally{ai(a),Ts(s)}}resolveInjectorInitializers(){let i=ar(null),r=Ts(this),t=ai(void 0),o;try{let s=this.get(Rl,Yn,lr.Self);for(let a of s)a()}finally{Ts(r),ai(t),ar(i)}}toString(){let i=[],r=this.records;for(let t of r.keys())i.push(Xn(t));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(i){i=qn(i);let r=Pl(i)?i:qn(i&&i.provide),t=WA(i);if(!Pl(i)&&i.multi===!0){let o=this.records.get(r);o||(o=Ml(void 0,ef,!0),o.factory=()=>yy(o.multi),this.records.set(r,o)),r=i,o.multi.push(i)}this.records.set(r,t)}hydrate(i,r){let t=ar(null);try{return r.value===ef&&(r.value=GA,r.value=r.factory()),typeof r.value=="object"&&r.value&&YA(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ar(t)}}injectableDefInScope(i){if(!i.providedIn)return!1;let r=qn(i.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(i){let r=this._onDestroyHooks.indexOf(i);r!==-1&&this._onDestroyHooks.splice(r,1)}};function _y(n){let i=Lf(n),r=i!==null?i.factory:Ia(n);if(r!==null)return r;if(n instanceof ze)throw new Xe(204,!1);if(n instanceof Function)return $A(n);throw new Xe(204,!1)}function $A(n){if(n.length>0)throw new Xe(204,!1);let r=tA(n);return r!==null?()=>r.factory(n):()=>new n}function WA(n){if(VS(n))return Ml(void 0,n.useValue);{let i=US(n);return Ml(i,ef)}}function US(n,i,r){let t;if(Pl(n)){let o=qn(n);return Ia(o)||_y(o)}else if(VS(n))t=()=>qn(n.useValue);else if(zA(n))t=()=>n.useFactory(...yy(n.deps||[]));else if(UA(n))t=()=>je(qn(n.useExisting));else{let o=qn(n&&(n.useClass||n.provide));if(qA(n))t=()=>new o(...yy(n.deps));else return Ia(o)||_y(o)}return t}function Ml(n,i,r=!1){return{factory:n,value:i,multi:r?[]:void 0}}function qA(n){return!!n.deps}function YA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function XA(n){return typeof n=="function"||typeof n=="object"&&n instanceof ze}function wy(n,i){for(let r of n)Array.isArray(r)?wy(r,i):r&&_S(r)?wy(r.\u0275providers,i):i(r)}function Ai(n,i){n instanceof cu&&n.assertNotDestroyed();let r,t=Ts(n),o=ai(void 0);try{return i()}finally{Ts(t),ai(o)}}function zS(){return wS()!==void 0||fA()!=null}function yu(n){if(!zS())throw new Xe(-203,!1)}function QA(n){let i=pi.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function ZA(n){return typeof n=="function"}var Co=0,er=1,qt=2,zn=3,Ki=4,li=5,Fl=6,df=7,Vn=8,Nl=9,xo=10,en=11,uu=12,jx=13,Gl=14,mi=15,Da=16,Tl=17,Xo=18,Hf=19,HS=20,js=21,tf=22,ki=23,kn=25,kv=1;var Ma=7,hf=8,Ll=9,Un=10,ff=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ff||{});function As(n){return Array.isArray(n)&&typeof n[kv]=="object"}function Jo(n){return Array.isArray(n)&&n[kv]===!0}function jv(n){return(n.flags&4)!==0}function Gf(n){return n.componentOffset>-1}function $f(n){return(n.flags&1)===1}function Qo(n){return!!n.template}function xy(n){return(n[qt]&512)!==0}var Sy=class{constructor(i,r,t){this.previousValue=i,this.currentValue=r,this.firstChange=t}isFirstChange(){return this.firstChange}};function GS(n,i,r,t){i!==null?i.applyValueToInputSignal(i,t):n[r]=t}function Wr(){return $S}function $S(n){return n.type.prototype.ngOnChanges&&(n.setInput=JA),KA}Wr.ngInherit=!0;function KA(){let n=qS(this),i=n?.current;if(i){let r=n.previous;if(r===Ol)n.previous=i;else for(let t in i)r[t]=i[t];n.current=null,this.ngOnChanges(i)}}function JA(n,i,r,t,o){let s=this.declaredInputs[t],a=qS(n)||eO(n,{previous:Ol,current:null}),c=a.current||(a.current={}),l=a.previous,u=l[s];c[s]=new Sy(u&&u.currentValue,r,l===Ol),GS(n,i,o,r)}var WS="__ngSimpleChanges__";function qS(n){return n[WS]||null}function eO(n,i){return n[WS]=i}var Ax=null;var bo=function(n,i,r){Ax?.(n,i,r)},YS="svg",tO="math";function So(n){for(;Array.isArray(n);)n=n[Co];return n}function rO(n){for(;Array.isArray(n);){if(typeof n[kv]=="object")return n;n=n[Co]}return null}function XS(n,i){return So(i[n])}function Oi(n,i){return So(i[n.index])}function Av(n,i){return n.data[i]}function QS(n,i){return n[i]}function Bs(n,i){let r=i[n];return As(r)?r:r[Co]}function nO(n){return(n[qt]&4)===4}function Ov(n){return(n[qt]&128)===128}function iO(n){return Jo(n[zn])}function Ps(n,i){return i==null?null:n[i]}function ZS(n){n[Tl]=0}function KS(n){n[qt]&1024||(n[qt]|=1024,Ov(n)&&qf(n))}function oO(n,i){for(;n>0;)i=i[Gl],n--;return i}function Wf(n){return!!(n[qt]&9216||n[ki]?.dirty)}function Cy(n){n[xo].changeDetectionScheduler?.notify(8),n[qt]&64&&(n[qt]|=1024),Wf(n)&&qf(n)}function qf(n){n[xo].changeDetectionScheduler?.notify(0);let i=Ta(n);for(;i!==null&&!(i[qt]&8192||(i[qt]|=8192,!Ov(i)));)i=Ta(i)}function JS(n,i){if((n[qt]&256)===256)throw new Xe(911,!1);n[js]===null&&(n[js]=[]),n[js].push(i)}function sO(n,i){if(n[js]===null)return;let r=n[js].indexOf(i);r!==-1&&n[js].splice(r,1)}function Ta(n){let i=n[zn];return Jo(i)?i[zn]:i}var nr={lFrame:aC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eC=!1;function aO(){return nr.lFrame.elementDepthCount}function lO(){nr.lFrame.elementDepthCount++}function cO(){nr.lFrame.elementDepthCount--}function tC(){return nr.bindingsEnabled}function rC(){return nr.skipHydrationRootTNode!==null}function uO(n){return nr.skipHydrationRootTNode===n}function dO(){nr.skipHydrationRootTNode=null}function tr(){return nr.lFrame.lView}function Xr(){return nr.lFrame.tView}function mr(n){return nr.lFrame.contextLView=n,n[Vn]}function gr(n){return nr.lFrame.contextLView=null,n}function jn(){let n=nC();for(;n!==null&&n.type===64;)n=n.parent;return n}function nC(){return nr.lFrame.currentTNode}function hO(){let n=nr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Pa(n,i){let r=nr.lFrame;r.currentTNode=n,r.isParent=i}function Rv(){return nr.lFrame.isParent}function Pv(){nr.lFrame.isParent=!1}function fO(){return nr.lFrame.contextLView}function iC(){return eC}function Ox(n){eC=n}function Yf(){let n=nr.lFrame,i=n.bindingRootIndex;return i===-1&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function pO(){return nr.lFrame.bindingIndex}function mO(n){return nr.lFrame.bindingIndex=n}function Fa(){return nr.lFrame.bindingIndex++}function Fv(n){let i=nr.lFrame,r=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,r}function gO(){return nr.lFrame.inI18n}function yO(n,i){let r=nr.lFrame;r.bindingIndex=r.bindingRootIndex=n,Ey(i)}function vO(){return nr.lFrame.currentDirectiveIndex}function Ey(n){nr.lFrame.currentDirectiveIndex=n}function Nv(n){let i=nr.lFrame.currentDirectiveIndex;return i===-1?null:n[i]}function Lv(){return nr.lFrame.currentQueryIndex}function Xf(n){nr.lFrame.currentQueryIndex=n}function bO(n){let i=n[er];return i.type===2?i.declTNode:i.type===1?n[li]:null}function oC(n,i,r){if(r&lr.SkipSelf){let o=i,s=n;for(;o=o.parent,o===null&&!(r&lr.Host);)if(o=bO(s),o===null||(s=s[Gl],o.type&10))break;if(o===null)return!1;i=o,n=s}let t=nr.lFrame=sC();return t.currentTNode=i,t.lView=n,!0}function Bv(n){let i=sC(),r=n[er];nr.lFrame=i,i.currentTNode=r.firstChild,i.lView=n,i.tView=r,i.contextLView=n,i.bindingIndex=r.bindingStartIndex,i.inI18n=!1}function sC(){let n=nr.lFrame,i=n===null?null:n.child;return i===null?aC(n):i}function aC(n){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=i),i}function lC(){let n=nr.lFrame;return nr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cC=lC;function Vv(){let n=lC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _O(n){return(nr.lFrame.contextLView=oO(n,nr.lFrame.contextLView))[Vn]}function es(){return nr.lFrame.selectedIndex}function ka(n){nr.lFrame.selectedIndex=n}function Qf(){let n=nr.lFrame;return Av(n.tView,n.selectedIndex)}function $l(){nr.lFrame.currentNamespace=YS}function wO(){return nr.lFrame.currentNamespace}var uC=!0;function Zf(){return uC}function Kf(n){uC=n}function xO(n,i,r){let{ngOnChanges:t,ngOnInit:o,ngDoCheck:s}=i.type.prototype;if(t){let a=$S(i);(r.preOrderHooks??=[]).push(n,a),(r.preOrderCheckHooks??=[]).push(n,a)}o&&(r.preOrderHooks??=[]).push(0-n,o),s&&((r.preOrderHooks??=[]).push(n,s),(r.preOrderCheckHooks??=[]).push(n,s))}function Jf(n,i){for(let r=i.directiveStart,t=i.directiveEnd;r<t;r++){let s=n.data[r].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:y}=s;a&&(n.contentHooks??=[]).push(-r,a),c&&((n.contentHooks??=[]).push(r,c),(n.contentCheckHooks??=[]).push(r,c)),l&&(n.viewHooks??=[]).push(-r,l),u&&((n.viewHooks??=[]).push(r,u),(n.viewCheckHooks??=[]).push(r,u)),y!=null&&(n.destroyHooks??=[]).push(r,y)}}function rf(n,i,r){dC(n,i,3,r)}function nf(n,i,r,t){(n[qt]&3)===r&&dC(n,i,r,t)}function ny(n,i){let r=n[qt];(r&3)===i&&(r&=16383,r+=1,n[qt]=r)}function dC(n,i,r,t){let o=t!==void 0?n[Tl]&65535:0,s=t??-1,a=i.length-1,c=0;for(let l=o;l<a;l++)if(typeof i[l+1]=="number"){if(c=i[l],t!=null&&c>=t)break}else i[l]<0&&(n[Tl]+=65536),(c<s||s==-1)&&(SO(n,r,i,l),n[Tl]=(n[Tl]&4294901760)+l+2),l++}function Rx(n,i){bo(4,n,i);let r=ar(null);try{i.call(n)}finally{ar(r),bo(5,n,i)}}function SO(n,i,r,t){let o=r[t]<0,s=r[t+1],a=o?-r[t]:r[t],c=n[a];o?n[qt]>>14<n[Tl]>>16&&(n[qt]&3)===i&&(n[qt]+=16384,Rx(c,s)):Rx(c,s)}var Al=-1,ja=class{constructor(i,r,t){this.factory=i,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=t}};function CO(n){return n instanceof ja}function EO(n){return(n.flags&8)!==0}function IO(n){return(n.flags&16)!==0}var iy={},Iy=class{constructor(i,r){this.injector=i,this.parentInjector=r}get(i,r,t){t=Bf(t);let o=this.injector.get(i,iy,t);return o!==iy||r===iy?o:this.parentInjector.get(i,r,t)}};function hC(n){return n!==Al}function pf(n){return n&32767}function DO(n){return n>>16}function mf(n,i){let r=DO(n),t=i;for(;r>0;)t=t[Gl],r--;return t}var Dy=!0;function gf(n){let i=Dy;return Dy=n,i}var MO=256,fC=MO-1,pC=5,TO=0,_o={};function kO(n,i,r){let t;typeof r=="string"?t=r.charCodeAt(0)||0:r.hasOwnProperty(ou)&&(t=r[ou]),t==null&&(t=r[ou]=TO++);let o=t&fC,s=1<<o;i.data[n+(o>>pC)]|=s}function yf(n,i){let r=mC(n,i);if(r!==-1)return r;let t=i[er];t.firstCreatePass&&(n.injectorIndex=i.length,oy(t.data,n),oy(i,null),oy(t.blueprint,null));let o=Uv(n,i),s=n.injectorIndex;if(hC(o)){let a=pf(o),c=mf(o,i),l=c[er].data;for(let u=0;u<8;u++)i[s+u]=c[a+u]|l[a+u]}return i[s+8]=o,s}function oy(n,i){n.push(0,0,0,0,0,0,0,0,i)}function mC(n,i){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||i[n.injectorIndex+8]===null?-1:n.injectorIndex}function Uv(n,i){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let r=0,t=null,o=i;for(;o!==null;){if(t=_C(o),t===null)return Al;if(r++,o=o[Gl],t.injectorIndex!==-1)return t.injectorIndex|r<<16}return Al}function My(n,i,r){kO(n,i,r)}function jO(n,i){if(i==="class")return n.classes;if(i==="style")return n.styles;let r=n.attrs;if(r){let t=r.length,o=0;for(;o<t;){let s=r[o];if(MS(s))break;if(s===0)o=o+2;else if(typeof s=="number")for(o++;o<t&&typeof r[o]=="string";)o++;else{if(s===i)return r[o+1];o=o+2}}}return null}function gC(n,i,r){if(r&lr.Optional||n!==void 0)return n;Cv(i,"NodeInjector")}function yC(n,i,r,t){if(r&lr.Optional&&t===void 0&&(t=null),!(r&(lr.Self|lr.Host))){let o=n[Nl],s=ai(void 0);try{return o?o.get(i,t,r&lr.Optional):xS(i,t,r&lr.Optional)}finally{ai(s)}}return gC(t,i,r)}function vC(n,i,r,t=lr.Default,o){if(n!==null){if(i[qt]&2048&&!(t&lr.Self)){let a=PO(n,i,r,t,_o);if(a!==_o)return a}let s=bC(n,i,r,t,_o);if(s!==_o)return s}return yC(i,r,t,o)}function bC(n,i,r,t,o){let s=OO(r);if(typeof s=="function"){if(!oC(i,n,t))return t&lr.Host?gC(o,r,t):yC(i,r,t,o);try{let a;if(a=s(t),a==null&&!(t&lr.Optional))Cv(r);else return a}finally{cC()}}else if(typeof s=="number"){let a=null,c=mC(n,i),l=Al,u=t&lr.Host?i[mi][li]:null;for((c===-1||t&lr.SkipSelf)&&(l=c===-1?Uv(n,i):i[c+8],l===Al||!Fx(t,!1)?c=-1:(a=i[er],c=pf(l),i=mf(l,i)));c!==-1;){let y=i[er];if(Px(s,c,y.data)){let b=AO(c,i,r,a,t,u);if(b!==_o)return b}l=i[c+8],l!==Al&&Fx(t,i[er].data[c+8]===u)&&Px(s,c,i)?(a=y,c=pf(l),i=mf(l,i)):c=-1}}return o}function AO(n,i,r,t,o,s){let a=i[er],c=a.data[n+8],l=t==null?Gf(c)&&Dy:t!=a&&(c.type&3)!==0,u=o&lr.Host&&s===c,y=of(c,a,r,l,u);return y!==null?Aa(i,a,y,c):_o}function of(n,i,r,t,o){let s=n.providerIndexes,a=i.data,c=s&1048575,l=n.directiveStart,u=n.directiveEnd,y=s>>20,b=t?c:c+y,d=o?c+y:u;for(let f=b;f<d;f++){let h=a[f];if(f<l&&r===h||f>=l&&h.type===r)return f}if(o){let f=a[l];if(f&&Qo(f)&&f.type===r)return l}return null}function Aa(n,i,r,t){let o=n[r],s=i.data;if(CO(o)){let a=o;a.resolving&&lA(aA(s[r]));let c=gf(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?ai(a.injectImpl):null,y=oC(n,t,lr.Default);try{o=n[r]=a.factory(void 0,s,n,t),i.firstCreatePass&&r>=t.directiveStart&&xO(r,s[r],i)}finally{u!==null&&ai(u),gf(c),a.resolving=!1,cC()}}return o}function OO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let i=n.hasOwnProperty(ou)?n[ou]:void 0;return typeof i=="number"?i>=0?i&fC:RO:i}function Px(n,i,r){let t=1<<n;return!!(r[i+(n>>pC)]&t)}function Fx(n,i){return!(n&lr.Self)&&!(n&lr.Host&&i)}var Ea=class{constructor(i,r){this._tNode=i,this._lView=r}get(i,r,t){return vC(this._tNode,this._lView,i,Bf(t),r)}};function RO(){return new Ea(jn(),tr())}function yi(n){return pu(()=>{let i=n.prototype.constructor,r=i[af]||Ty(i),t=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==t;){let s=o[af]||Ty(o);if(s&&s!==r)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Ty(n){return gS(n)?()=>{let i=Ty(qn(n));return i&&i()}:Ia(n)}function PO(n,i,r,t,o){let s=n,a=i;for(;s!==null&&a!==null&&a[qt]&2048&&!(a[qt]&512);){let c=bC(s,a,r,t|lr.Self,_o);if(c!==_o)return c;let l=s.parent;if(!l){let u=a[HS];if(u){let y=u.get(r,_o,t);if(y!==_o)return y}l=_C(a),a=a[Gl]}s=l}return o}function _C(n){let i=n[er],r=i.type;return r===2?i.declTNode:r===1?n[li]:null}function Vs(n){return jO(jn(),n)}function Nx(n,i=null,r=null,t){let o=wC(n,i,r,t);return o.resolveInjectorInitializers(),o}function wC(n,i=null,r=null,t,o=new Set){let s=[r||Yn,BA(n)];return t=t||(typeof n=="object"?void 0:Xn(n)),new cu(s,i||Tv(),t||null,o)}var cr=class n{static{this.THROW_IF_NOT_FOUND=au}static{this.NULL=new uf}static create(i,r){if(Array.isArray(i))return Nx({name:""},r,i,"");{let t=i.name??"";return Nx({name:t},i.parent,i.providers,t)}}static{this.\u0275prov=He({token:n,providedIn:"any",factory:()=>je(ES)})}static{this.__NG_ELEMENT_ID__=-1}};var FO=new ze("");FO.__NG_ELEMENT_ID__=n=>{let i=jn();if(i===null)throw new Xe(204,!1);if(i.type&2)return i.value;if(n&lr.Optional)return null;throw new Xe(204,!1)};var NO="ngOriginalError";function sy(n){return n[NO]}var xC=!0,Us=(()=>{class n{static{this.__NG_ELEMENT_ID__=LO}static{this.__NG_ENV_ID__=r=>r}}return n})(),ky=class extends Us{constructor(i){super(),this._lView=i}onDestroy(i){return JS(this._lView,i),()=>sO(this._lView,i)}};function LO(){return new ky(tr())}var Eo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Sr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}}return n})();var jy=class extends Je{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,zS()&&(this.destroyRef=Be(Us,{optional:!0})??void 0,this.pendingTasks=Be(Eo,{optional:!0})??void 0)}emit(i){let r=ar(null);try{super.next(i)}finally{ar(r)}}subscribe(i,r,t){let o=i,s=r||(()=>null),a=t;if(i&&typeof i=="object"){let l=i;o=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:o,error:s,complete:a});return i instanceof Jt&&i.add(c),c}wrapInTimeout(i){return r=>{let t=this.pendingTasks?.add();setTimeout(()=>{i(r),t!==void 0&&this.pendingTasks?.remove(t)})}}},Mt=jy;function vf(...n){}function SC(n){let i,r;function t(){n=vf;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),i!==void 0&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{n(),t()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{n(),t()})),()=>t()}function Lx(n){return queueMicrotask(()=>n()),()=>{n=vf}}var zv="isAngularZone",bf=zv+"_ID",BO=0,ot=class n{constructor(i){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1);let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=xC}=i;if(typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&t,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=s,zO(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Xe(909,!1)}run(i,r,t){return this._inner.run(i,r,t)}runTask(i,r,t,o){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+o,i,VO,vf,vf);try{return s.runTask(a,r,t)}finally{s.cancelTask(a)}}runGuarded(i,r,t){return this._inner.runGuarded(i,r,t)}runOutsideAngular(i){return this._outer.run(i)}},VO={};function Hv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function UO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function i(){SC(()=>{n.callbackScheduled=!1,Ay(n),n.isCheckStableRunning=!0,Hv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{i()}):n._outer.run(()=>{i()}),Ay(n)}function zO(n){let i=()=>{UO(n)},r=BO++;n._inner=n._inner.fork({name:"angular",properties:{[zv]:!0,[bf]:r,[bf+r]:!0},onInvokeTask:(t,o,s,a,c,l)=>{if(HO(l))return t.invokeTask(s,a,c,l);try{return Bx(n),t.invokeTask(s,a,c,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&i(),Vx(n)}},onInvoke:(t,o,s,a,c,l,u)=>{try{return Bx(n),t.invoke(s,a,c,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!GO(l)&&i(),Vx(n)}},onHasTask:(t,o,s,a)=>{t.hasTask(s,a),o===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,Ay(n),Hv(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,o,s,a)=>(t.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function Ay(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Bx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Vx(n){n._nesting--,Hv(n)}var _f=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(i,r,t){return i.apply(r,t)}runGuarded(i,r,t){return i.apply(r,t)}runOutsideAngular(i){return i()}runTask(i,r,t,o){return i.apply(r,t)}};function HO(n){return CC(n,"__ignore_ng_zone__")}function GO(n){return CC(n,"__scheduler_tick__")}function CC(n,i){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[i]===!0}function $O(n="zone.js",i){return n==="noop"?new _f:n==="zone.js"?new ot(i):n}var Qn=class{constructor(){this._console=console}handleError(i){let r=this._findOriginalError(i);this._console.error("ERROR",i),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(i){let r=i&&sy(i);for(;r&&sy(r);)r=sy(r);return r||null}},WO=new ze("",{providedIn:"root",factory:()=>{let n=Be(ot),i=Be(Qn);return r=>n.runOutsideAngular(()=>i.handleError(r))}}),Oy=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Be(Qn,{optional:!0}),this.destroyRef=Be(Us),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(i){if(this.destroyed)throw new Xe(953,!1);return(this.listeners??=[]).push(i),{unsubscribe:()=>{let r=this.listeners?.indexOf(i);r!==void 0&&r!==-1&&this.listeners?.splice(r,1)}}}emit(i){if(this.destroyed)throw new Xe(953,!1);if(this.listeners===null)return;let r=ar(null);try{for(let t of this.listeners)try{t(i)}catch(o){this.errorHandler?.handleError(o)}}finally{ar(r)}}};function EC(n){return new Oy}function Ux(n,i){return pS(n,i)}function qO(n){return pS(fS,n)}var ep=(Ux.required=qO,Ux);function YO(){return Wl(jn(),tr())}function Wl(n,i){return new bt(Oi(n,i))}var bt=(()=>{class n{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=YO}}return n})();function IC(n){return n instanceof bt?n.nativeElement:n}function XO(){return this._results[Symbol.iterator]()}var Zn=class n{get changes(){return this._changes??=new Mt}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=n.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=XO)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,r){return this._results.reduce(i,r)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,r){this.dirty=!1;let t=bA(i);(this._changesDetected=!vA(this._results,t,r))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function DC(n){return(n.flags&128)===128}var MC=new Map,QO=0;function ZO(){return QO++}function KO(n){MC.set(n[Hf],n)}function Ry(n){MC.delete(n[Hf])}var zx="__ngContext__";function Fs(n,i){As(i)?(n[zx]=i[Hf],KO(i)):n[zx]=i}function TC(n){return jC(n[uu])}function kC(n){return jC(n[Ki])}function jC(n){for(;n!==null&&!Jo(n);)n=n[Ki];return n}var Py;function AC(n){Py=n}function OC(){if(Py!==void 0)return Py;if(typeof document<"u")return document;throw new Xe(210,!1)}var vu=new ze("",{providedIn:"root",factory:()=>JO}),JO="ng",Gv=new ze(""),vi=new ze("",{providedIn:"platform",factory:()=>"unknown"});var gn=new ze(""),bu=new ze("",{providedIn:"root",factory:()=>OC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eR="h",tR="b";var rR=()=>null;function $v(n,i,r=!1){return rR(n,i,r)}var RC=!1,nR=new ze("",{providedIn:"root",factory:()=>RC});var qh;function iR(){if(qh===void 0&&(qh=null,pi.trustedTypes))try{qh=pi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qh}function tp(n){return iR()?.createHTML(n)||n}var Yh;function PC(){if(Yh===void 0&&(Yh=null,pi.trustedTypes))try{Yh=pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yh}function Hx(n){return PC()?.createHTML(n)||n}function Gx(n){return PC()?.createScriptURL(n)||n}var Zo=class{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hS})`}},Fy=class extends Zo{getTypeName(){return"HTML"}},Ny=class extends Zo{getTypeName(){return"Style"}},Ly=class extends Zo{getTypeName(){return"Script"}},By=class extends Zo{getTypeName(){return"URL"}},Vy=class extends Zo{getTypeName(){return"ResourceURL"}};function Ri(n){return n instanceof Zo?n.changingThisBreaksApplicationSecurity:n}function ts(n,i){let r=oR(n);if(r!=null&&r!==i){if(r==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${r} (see ${hS})`)}return r===i}function oR(n){return n instanceof Zo&&n.getTypeName()||null}function FC(n){return new Fy(n)}function NC(n){return new Ny(n)}function LC(n){return new Ly(n)}function BC(n){return new By(n)}function VC(n){return new Vy(n)}function sR(n){let i=new zy(n);return aR()?new Uy(i):i}var Uy=class{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let r=new window.DOMParser().parseFromString(tp(i),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(i):(r.firstChild?.remove(),r)}catch{return null}}},zy=class{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let r=this.inertDocument.createElement("template");return r.innerHTML=tp(i),r}};function aR(){try{return!!new window.DOMParser().parseFromString(tp(""),"text/html")}catch{return!1}}var lR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rp(n){return n=String(n),n.match(lR)?n:"unsafe:"+n}function rs(n){let i={};for(let r of n.split(","))i[r]=!0;return i}function _u(...n){let i={};for(let r of n)for(let t in r)r.hasOwnProperty(t)&&(i[t]=!0);return i}var UC=rs("area,br,col,hr,img,wbr"),zC=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HC=rs("rp,rt"),cR=_u(HC,zC),uR=_u(zC,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dR=_u(HC,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$x=_u(UC,uR,dR,cR),GC=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hR=rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fR=rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),pR=_u(GC,hR,fR),mR=rs("script,style,template"),Hy=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let r=i.firstChild,t=!0,o=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?t=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,t&&r.firstChild){o.push(r),r=vR(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=yR(r);if(s){r=s;break}r=o.pop()}}return this.buf.join("")}startElement(i){let r=Wx(i).toLowerCase();if(!$x.hasOwnProperty(r))return this.sanitizedSomething=!0,!mR.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let t=i.attributes;for(let o=0;o<t.length;o++){let s=t.item(o),a=s.name,c=a.toLowerCase();if(!pR.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let l=s.value;GC[c]&&(l=rp(l)),this.buf.push(" ",a,'="',qx(l),'"')}return this.buf.push(">"),!0}endElement(i){let r=Wx(i).toLowerCase();$x.hasOwnProperty(r)&&!UC.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(i){this.buf.push(qx(i))}};function gR(n,i){return(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yR(n){let i=n.nextSibling;if(i&&n!==i.previousSibling)throw $C(i);return i}function vR(n){let i=n.firstChild;if(i&&gR(n,i))throw $C(i);return i}function Wx(n){let i=n.nodeName;return typeof i=="string"?i:"FORM"}function $C(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var bR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_R=/([^\#-~ |!])/g;function qx(n){return n.replace(/&/g,"&amp;").replace(bR,function(i){let r=i.charCodeAt(0),t=i.charCodeAt(1);return"&#"+((r-55296)*1024+(t-56320)+65536)+";"}).replace(_R,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Xh;function Wv(n,i){let r=null;try{Xh=Xh||sR(n);let t=i?String(i):"";r=Xh.getInertBodyElement(t);let o=5,s=t;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,t=s,s=r.innerHTML,r=Xh.getInertBodyElement(t)}while(t!==s);let c=new Hy().sanitizeChildren(Yx(r)||r);return tp(c)}finally{if(r){let t=Yx(r)||r;for(;t.firstChild;)t.firstChild.remove()}}}function Yx(n){return"content"in n&&wR(n)?n.content:null}function wR(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var An=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(An||{});function Pi(n){let i=qv();return i?Hx(i.sanitize(An.HTML,n)||""):ts(n,"HTML")?Hx(Ri(n)):Wv(OC(),Yo(n))}function zs(n){let i=qv();return i?i.sanitize(An.URL,n)||"":ts(n,"URL")?Ri(n):rp(Yo(n))}function np(n){let i=qv();if(i)return Gx(i.sanitize(An.RESOURCE_URL,n)||"");if(ts(n,"ResourceURL"))return Gx(Ri(n));throw new Xe(904,!1)}function xR(n,i){return i==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||i==="href"&&(n==="base"||n==="link")?np:zs}function WC(n,i,r){return xR(i,r)(n)}function qv(){let n=tr();return n&&n[xo].sanitizer}var SR=/^>|^->|<!--|-->|--!>|<!-$/g,CR=/(<|>)/g,ER="\u200B$1\u200B";function IR(n){return n.replace(SR,i=>i.replace(CR,ER))}function qC(n){return n instanceof Function?n():n}function YC(n){return(n??Be(cr)).get(vi)==="browser"}var Ko=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ko||{}),DR;function Yv(n,i){return DR(n,i)}function kl(n,i,r,t,o){if(t!=null){let s,a=!1;Jo(t)?s=t:As(t)&&(a=!0,t=t[Co]);let c=So(t);n===0&&r!==null?o==null?JC(i,r,c):wf(i,r,c,o||null,!0):n===1&&r!==null?wf(i,r,c,o||null,!0):n===2?UR(i,c,a):n===3&&i.destroyNode(c),s!=null&&HR(i,n,s,r,o)}}function MR(n,i){return n.createText(i)}function TR(n,i,r){n.setValue(i,r)}function kR(n,i){return n.createComment(IR(i))}function XC(n,i,r){return n.createElement(i,r)}function jR(n,i){QC(n,i),i[Co]=null,i[li]=null}function AR(n,i,r,t,o,s){t[Co]=o,t[li]=i,sp(n,t,r,1,o,s)}function QC(n,i){i[xo].changeDetectionScheduler?.notify(9),sp(n,i,i[en],2,null,null)}function OR(n){let i=n[uu];if(!i)return ay(n[er],n);for(;i;){let r=null;if(As(i))r=i[uu];else{let t=i[Un];t&&(r=t)}if(!r){for(;i&&!i[Ki]&&i!==n;)As(i)&&ay(i[er],i),i=i[zn];i===null&&(i=n),As(i)&&ay(i[er],i),r=i&&i[Ki]}i=r}}function RR(n,i,r,t){let o=Un+t,s=r.length;t>0&&(r[o-1][Ki]=i),t<s-Un?(i[Ki]=r[o],CS(r,Un+t,i)):(r.push(i),i[Ki]=null),i[zn]=r;let a=i[Da];a!==null&&r!==a&&ZC(a,i);let c=i[Xo];c!==null&&c.insertView(n),Cy(i),i[qt]|=128}function ZC(n,i){let r=n[Ll],t=i[zn];if(As(t))n[qt]|=ff.HasTransplantedViews;else{let o=t[zn][mi];i[mi]!==o&&(n[qt]|=ff.HasTransplantedViews)}r===null?n[Ll]=[i]:r.push(i)}function Xv(n,i){let r=n[Ll],t=r.indexOf(i);r.splice(t,1)}function du(n,i){if(n.length<=Un)return;let r=Un+i,t=n[r];if(t){let o=t[Da];o!==null&&o!==n&&Xv(o,t),i>0&&(n[r-1][Ki]=t[Ki]);let s=cf(n,Un+i);jR(t[er],t);let a=s[Xo];a!==null&&a.detachView(s[er]),t[zn]=null,t[Ki]=null,t[qt]&=-129}return t}function ip(n,i){if(!(i[qt]&256)){let r=i[en];r.destroyNode&&sp(n,i,r,3,null,null),OR(i)}}function ay(n,i){if(i[qt]&256)return;let r=ar(null);try{i[qt]&=-129,i[qt]|=256,i[ki]&&ch(i[ki]),FR(n,i),PR(n,i),i[er].type===1&&i[en].destroy();let t=i[Da];if(t!==null&&Jo(i[zn])){t!==i[zn]&&Xv(t,i);let o=i[Xo];o!==null&&o.detachView(n)}Ry(i)}finally{ar(r)}}function PR(n,i){let r=n.cleanup,t=i[df];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){let a=r[s+3];a>=0?t[a]():t[-a].unsubscribe(),s+=2}else{let a=t[r[s+1]];r[s].call(a)}t!==null&&(i[df]=null);let o=i[js];if(o!==null){i[js]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}}function FR(n,i){let r;if(n!=null&&(r=n.destroyHooks)!=null)for(let t=0;t<r.length;t+=2){let o=i[r[t]];if(!(o instanceof ja)){let s=r[t+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let c=o[s[a]],l=s[a+1];bo(4,c,l);try{l.call(c)}finally{bo(5,c,l)}}else{bo(4,o,s);try{s.call(o)}finally{bo(5,o,s)}}}}}function KC(n,i,r){return NR(n,i.parent,r)}function NR(n,i,r){let t=i;for(;t!==null&&t.type&168;)i=t,t=i.parent;if(t===null)return r[Co];{let{componentOffset:o}=t;if(o>-1){let{encapsulation:s}=n.data[t.directiveStart+o];if(s===wo.None||s===wo.Emulated)return null}return Oi(t,r)}}function wf(n,i,r,t,o){n.insertBefore(i,r,t,o)}function JC(n,i,r){n.appendChild(i,r)}function Xx(n,i,r,t,o){t!==null?wf(n,i,r,t,o):JC(n,i,r)}function eE(n,i){return n.parentNode(i)}function LR(n,i){return n.nextSibling(i)}function tE(n,i,r){return VR(n,i,r)}function BR(n,i,r){return n.type&40?Oi(n,r):null}var VR=BR,Qx;function op(n,i,r,t){let o=KC(n,t,i),s=i[en],a=t.parent||i[li],c=tE(a,t,i);if(o!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)Xx(s,o,r[l],c,!1);else Xx(s,o,r,c,!1);Qx!==void 0&&Qx(s,t,i,r,o)}function iu(n,i){if(i!==null){let r=i.type;if(r&3)return Oi(i,n);if(r&4)return Gy(-1,n[i.index]);if(r&8){let t=i.child;if(t!==null)return iu(n,t);{let o=n[i.index];return Jo(o)?Gy(-1,o):So(o)}}else{if(r&128)return iu(n,i.next);if(r&32)return Yv(i,n)()||So(n[i.index]);{let t=rE(n,i);if(t!==null){if(Array.isArray(t))return t[0];let o=Ta(n[mi]);return iu(o,t)}else return iu(n,i.next)}}}return null}function rE(n,i){if(i!==null){let t=n[mi][li],o=i.projection;return t.projection[o]}return null}function Gy(n,i){let r=Un+n+1;if(r<i.length){let t=i[r],o=t[er].firstChild;if(o!==null)return iu(t,o)}return i[Ma]}function UR(n,i,r){n.removeChild(null,i,r)}function Qv(n,i,r,t,o,s,a){for(;r!=null;){if(r.type===128){r=r.next;continue}let c=t[r.index],l=r.type;if(a&&i===0&&(c&&Fs(So(c),t),r.flags|=2),(r.flags&32)!==32)if(l&8)Qv(n,i,r.child,t,o,s,!1),kl(i,n,o,c,s);else if(l&32){let u=Yv(r,t),y;for(;y=u();)kl(i,n,o,y,s);kl(i,n,o,c,s)}else l&16?nE(n,i,t,r,o,s):kl(i,n,o,c,s);r=a?r.projectionNext:r.next}}function sp(n,i,r,t,o,s){Qv(r,t,n.firstChild,i,o,s,!1)}function zR(n,i,r){let t=i[en],o=KC(n,r,i),s=r.parent||i[li],a=tE(s,r,i);nE(t,0,i,r,o,a)}function nE(n,i,r,t,o,s){let a=r[mi],l=a[li].projection[t.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let y=l[u];kl(i,n,o,y,s)}else{let u=l,y=a[zn];DC(t)&&(u.flags|=128),Qv(n,i,u,y,o,s,!0)}}function HR(n,i,r,t,o){let s=r[Ma],a=So(r);s!==a&&kl(i,n,t,s,o);for(let c=Un;c<r.length;c++){let l=r[c];sp(l[er],l,n,i,t,s)}}function GR(n,i,r,t,o){if(i)o?n.addClass(r,t):n.removeClass(r,t);else{let s=t.indexOf("-")===-1?void 0:Ko.DashCase;o==null?n.removeStyle(r,t,s):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Ko.Important),n.setStyle(r,t,o,s))}}function $R(n,i,r){n.setAttribute(i,"style",r)}function iE(n,i,r){r===""?n.removeAttribute(i,"class"):n.setAttribute(i,"class",r)}function oE(n,i,r){let{mergedAttrs:t,classes:o,styles:s}=r;t!==null&&vy(n,i,t),o!==null&&iE(n,i,o),s!==null&&$R(n,i,s)}var bi={};function Le(n=1){sE(Xr(),tr(),es()+n,!1)}function sE(n,i,r,t){if(!t)if((i[qt]&3)===3){let s=n.preOrderCheckHooks;s!==null&&rf(i,s,r)}else{let s=n.preOrderHooks;s!==null&&nf(i,s,0,r)}ka(r)}function ge(n,i=lr.Default){let r=tr();if(r===null)return je(n,i);let t=jn();return vC(t,r,qn(n),i)}function ap(){let n="invalid";throw new Error(n)}function aE(n,i,r,t,o,s){let a=ar(null);try{let c=null;o&Os.SignalBased&&(c=i[t][fi]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),o&Os.HasDecoratorInputTransform&&(s=n.inputTransforms[t].call(i,s)),n.setInput!==null?n.setInput(i,c,s,r,t):GS(i,c,t,s)}finally{ar(a)}}function WR(n,i){let r=n.hostBindingOpCodes;if(r!==null)try{for(let t=0;t<r.length;t++){let o=r[t];if(o<0)ka(~o);else{let s=o,a=r[++t],c=r[++t];yO(a,s);let l=i[s];c(2,l)}}}finally{ka(-1)}}function lp(n,i,r,t,o,s,a,c,l,u,y){let b=i.blueprint.slice();return b[Co]=o,b[qt]=t|4|128|8|64,(u!==null||n&&n[qt]&2048)&&(b[qt]|=2048),ZS(b),b[zn]=b[Gl]=n,b[Vn]=r,b[xo]=a||n&&n[xo],b[en]=c||n&&n[en],b[Nl]=l||n&&n[Nl]||null,b[li]=s,b[Hf]=ZO(),b[Fl]=y,b[HS]=u,b[mi]=i.type==2?n[mi]:b,b}function ql(n,i,r,t,o){let s=n.data[i];if(s===null)s=qR(n,i,r,t,o),gO()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=t,s.attrs=o;let a=hO();s.injectorIndex=a===null?-1:a.injectorIndex}return Pa(s,!0),s}function qR(n,i,r,t,o){let s=nC(),a=Rv(),c=a?s:s&&s.parent,l=n.data[i]=JR(n,c,r,i,t,o);return n.firstChild===null&&(n.firstChild=l),s!==null&&(a?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function lE(n,i,r,t){if(r===0)return-1;let o=i.length;for(let s=0;s<r;s++)i.push(t),n.blueprint.push(t),n.data.push(null);return o}function cE(n,i,r,t,o){let s=es(),a=t&2;try{ka(-1),a&&i.length>kn&&sE(n,i,kn,!1),bo(a?2:0,o),r(t,o)}finally{ka(s),bo(a?3:1,o)}}function Zv(n,i,r){if(jv(i)){let t=ar(null);try{let o=i.directiveStart,s=i.directiveEnd;for(let a=o;a<s;a++){let c=n.data[a];if(c.contentQueries){let l=r[a];c.contentQueries(1,l,a)}}}finally{ar(t)}}}function Kv(n,i,r){tC()&&(oP(n,i,r,Oi(r,i)),(r.flags&64)===64&&hE(n,i,r))}function Jv(n,i,r=Oi){let t=i.localNames;if(t!==null){let o=i.index+1;for(let s=0;s<t.length;s+=2){let a=t[s+1],c=a===-1?r(i,n):n[a];n[o++]=c}}}function uE(n){let i=n.tView;return i===null||i.incompleteFirstPass?n.tView=eb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function eb(n,i,r,t,o,s,a,c,l,u,y){let b=kn+t,d=b+o,f=YR(b,d),h=typeof u=="function"?u():u;return f[er]={type:n,blueprint:f,template:r,queries:null,viewQuery:c,declTNode:i,data:f.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:y}}function YR(n,i){let r=[];for(let t=0;t<i;t++)r.push(t<n?null:bi);return r}function XR(n,i,r,t){let s=t.get(nR,RC)||r===wo.ShadowDom,a=n.selectRootElement(i,s);return QR(a),a}function QR(n){ZR(n)}var ZR=()=>null;function KR(n,i,r,t){let o=mE(i);o.push(r),n.firstCreatePass&&gE(n).push(t,o.length-1)}function JR(n,i,r,t,o,s){let a=i?i.injectorIndex:-1,c=0;return rC()&&(c|=128),{type:r,index:t,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zx(n,i,r,t,o){for(let s in i){if(!i.hasOwnProperty(s))continue;let a=i[s];if(a===void 0)continue;t??={};let c,l=Os.None;Array.isArray(a)?(c=a[0],l=a[1]):c=a;let u=s;if(o!==null){if(!o.hasOwnProperty(s))continue;u=o[s]}n===0?Kx(t,r,u,c,l):Kx(t,r,u,c)}return t}function Kx(n,i,r,t,o){let s;n.hasOwnProperty(r)?(s=n[r]).push(i,t):s=n[r]=[i,t],o!==void 0&&s.push(o)}function eP(n,i,r){let t=i.directiveStart,o=i.directiveEnd,s=n.data,a=i.attrs,c=[],l=null,u=null;for(let y=t;y<o;y++){let b=s[y],d=r?r.get(b):null,f=d?d.inputs:null,h=d?d.outputs:null;l=Zx(0,b.inputs,y,l,f),u=Zx(1,b.outputs,y,u,h);let m=l!==null&&a!==null&&!Dv(i)?gP(l,y,a):null;c.push(m)}l!==null&&(l.hasOwnProperty("class")&&(i.flags|=8),l.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=c,i.inputs=l,i.outputs=u}function tP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tb(n,i,r,t,o,s,a,c){let l=Oi(i,r),u=i.inputs,y;!c&&u!=null&&(y=u[t])?(nb(n,r,y,t,o),Gf(i)&&rP(r,i.index)):i.type&3?(t=tP(t),o=a!=null?a(o,i.value||"",t):o,s.setProperty(l,t,o)):i.type&12}function rP(n,i){let r=Bs(i,n);r[qt]&16||(r[qt]|=64)}function rb(n,i,r,t){if(tC()){let o=t===null?null:{"":-1},s=aP(n,r),a,c;s===null?a=c=null:[a,c]=s,a!==null&&dE(n,i,r,a,o,c),o&&lP(r,t,o)}r.mergedAttrs=lu(r.mergedAttrs,r.attrs)}function dE(n,i,r,t,o,s){for(let u=0;u<t.length;u++)My(yf(r,i),n,t[u].type);uP(r,n.data.length,t.length);for(let u=0;u<t.length;u++){let y=t[u];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,l=lE(n,i,t.length,null);for(let u=0;u<t.length;u++){let y=t[u];r.mergedAttrs=lu(r.mergedAttrs,y.hostAttrs),dP(n,r,i,l,y),cP(l,y,o),y.contentQueries!==null&&(r.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(r.flags|=64);let b=y.type.prototype;!a&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(r.index),a=!0),!c&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(r.index),c=!0),l++}eP(n,r,s)}function nP(n,i,r,t,o){let s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let c=~i.index;iP(a)!=c&&a.push(c),a.push(r,t,s)}}function iP(n){let i=n.length;for(;i>0;){let r=n[--i];if(typeof r=="number"&&r<0)return r}return 0}function oP(n,i,r,t){let o=r.directiveStart,s=r.directiveEnd;Gf(r)&&hP(i,r,n.data[o+r.componentOffset]),n.firstCreatePass||yf(r,i),Fs(t,i);let a=r.initialInputs;for(let c=o;c<s;c++){let l=n.data[c],u=Aa(i,n,c,r);if(Fs(u,i),a!==null&&mP(i,c-o,u,l,r,a),Qo(l)){let y=Bs(r.index,i);y[Vn]=Aa(i,n,c,r)}}}function hE(n,i,r){let t=r.directiveStart,o=r.directiveEnd,s=r.index,a=vO();try{ka(s);for(let c=t;c<o;c++){let l=n.data[c],u=i[c];Ey(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sP(l,u)}}finally{ka(-1),Ey(a)}}function sP(n,i){n.hostBindings!==null&&n.hostBindings(1,i)}function aP(n,i){let r=n.directiveRegistry,t=null,o=null;if(r)for(let s=0;s<r.length;s++){let a=r[s];if(kS(i,a.selectors,!1))if(t||(t=[]),Qo(a))if(a.findHostDirectiveDefs!==null){let c=[];o=o||new Map,a.findHostDirectiveDefs(a,c,o),t.unshift(...c,a);let l=c.length;$y(n,i,l)}else t.unshift(a),$y(n,i,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,t,o),t.push(a)}return t===null?null:[t,o]}function $y(n,i,r){i.componentOffset=r,(n.components??=[]).push(i.index)}function lP(n,i,r){if(i){let t=n.localNames=[];for(let o=0;o<i.length;o+=2){let s=r[i[o+1]];if(s==null)throw new Xe(-301,!1);t.push(i[o],s)}}}function cP(n,i,r){if(r){if(i.exportAs)for(let t=0;t<i.exportAs.length;t++)r[i.exportAs[t]]=n;Qo(i)&&(r[""]=n)}}function uP(n,i,r){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+r,n.providerIndexes=i}function dP(n,i,r,t,o){n.data[t]=o;let s=o.factory||(o.factory=Ia(o.type,!0)),a=new ja(s,Qo(o),ge);n.blueprint[t]=a,r[t]=a,nP(n,i,t,lE(n,r,o.hostVars,bi),o)}function hP(n,i,r){let t=Oi(i,n),o=uE(r),s=n[xo].rendererFactory,a=16;r.signals?a=4096:r.onPush&&(a=64);let c=cp(n,lp(n,o,null,a,t,i,null,s.createRenderer(t,r),null,null,null));n[i.index]=c}function fP(n,i,r,t,o,s){let a=Oi(n,i);pP(i[en],a,s,n.value,r,t,o)}function pP(n,i,r,t,o,s,a){if(s==null)n.removeAttribute(i,o,r);else{let c=a==null?Yo(s):a(s,t||"",o);n.setAttribute(i,o,c,r)}}function mP(n,i,r,t,o,s){let a=s[i];if(a!==null)for(let c=0;c<a.length;){let l=a[c++],u=a[c++],y=a[c++],b=a[c++];aE(t,r,l,u,y,b)}}function gP(n,i,r){let t=null,o=0;for(;o<r.length;){let s=r[o];if(s===0){o+=4;continue}else if(s===5){o+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){t===null&&(t=[]);let a=n[s];for(let c=0;c<a.length;c+=3)if(a[c]===i){t.push(s,a[c+1],a[c+2],r[o+1]);break}}o+=2}return t}function fE(n,i,r,t){return[n,!0,0,i,null,t,null,r,null,null]}function pE(n,i){let r=n.contentQueries;if(r!==null){let t=ar(null);try{for(let o=0;o<r.length;o+=2){let s=r[o],a=r[o+1];if(a!==-1){let c=n.data[a];Xf(s),c.contentQueries(2,i[a],a)}}}finally{ar(t)}}}function cp(n,i){return n[uu]?n[jx][Ki]=i:n[uu]=i,n[jx]=i,i}function Wy(n,i,r){Xf(0);let t=ar(null);try{i(n,r)}finally{ar(t)}}function mE(n){return n[df]??=[]}function gE(n){return n.cleanup??=[]}function yE(n,i,r){return(n===null||Qo(n))&&(r=rO(r[i.index])),r[en]}function vE(n,i){let r=n[Nl],t=r?r.get(Qn,null):null;t&&t.handleError(i)}function nb(n,i,r,t,o){for(let s=0;s<r.length;){let a=r[s++],c=r[s++],l=r[s++],u=i[a],y=n.data[a];aE(y,u,t,c,l,o)}}function bE(n,i,r){let t=XS(i,n);TR(n[en],t,r)}function yP(n,i){let r=Bs(i,n),t=r[er];vP(t,r);let o=r[Co];o!==null&&r[Fl]===null&&(r[Fl]=$v(o,r[Nl])),ib(t,r,r[Vn])}function vP(n,i){for(let r=i.length;r<n.blueprint.length;r++)i.push(n.blueprint[r])}function ib(n,i,r){Bv(i);try{let t=n.viewQuery;t!==null&&Wy(1,t,r);let o=n.template;o!==null&&cE(n,i,o,1,r),n.firstCreatePass&&(n.firstCreatePass=!1),i[Xo]?.finishViewCreation(n),n.staticContentQueries&&pE(n,i),n.staticViewQueries&&Wy(2,n.viewQuery,r);let s=n.components;s!==null&&bP(i,s)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{i[qt]&=-5,Vv()}}function bP(n,i){for(let r=0;r<i.length;r++)yP(n,i[r])}function wu(n,i,r,t){let o=ar(null);try{let s=i.tView,c=n[qt]&4096?4096:16,l=lp(n,s,r,c,null,i,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),u=n[i.index];l[Da]=u;let y=n[Xo];return y!==null&&(l[Xo]=y.createEmbeddedView(s)),ib(s,l,r),l}finally{ar(o)}}function _E(n,i){let r=Un+i;if(r<n.length)return n[r]}function Bl(n,i){return!i||i.firstChild===null||DC(n)}function xu(n,i,r,t=!0){let o=i[er];if(RR(o,i,n,r),t){let a=Gy(r,n),c=i[en],l=eE(c,n[Ma]);l!==null&&AR(o,n[li],c,i,l,a)}let s=i[Fl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function wE(n,i){let r=du(n,i);return r!==void 0&&ip(r[er],r),r}function xf(n,i,r,t,o=!1){for(;r!==null;){if(r.type===128){r=o?r.projectionNext:r.next;continue}let s=i[r.index];s!==null&&t.push(So(s)),Jo(s)&&_P(s,t);let a=r.type;if(a&8)xf(n,i,r.child,t);else if(a&32){let c=Yv(r,i),l;for(;l=c();)t.push(l)}else if(a&16){let c=rE(i,r);if(Array.isArray(c))t.push(...c);else{let l=Ta(i[mi]);xf(l[er],l,c,t,!0)}}r=o?r.projectionNext:r.next}return t}function _P(n,i){for(let r=Un;r<n.length;r++){let t=n[r],o=t[er].firstChild;o!==null&&xf(t[er],t,o,i)}n[Ma]!==n[Co]&&i.push(n[Ma])}var xE=[];function wP(n){return n[ki]??xP(n)}function xP(n){let i=xE.pop()??Object.create(CP);return i.lView=n,i}function SP(n){n.lView[ki]!==n&&(n.lView=null,xE.push(n))}var CP=vt(xe({},gl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{qf(n.lView)},consumerOnSignalRead(){this.lView[ki]=this}});function EP(n){let i=n[ki]??Object.create(IP);return i.lView=n,i}var IP=vt(xe({},gl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let i=Ta(n.lView);for(;i&&!SE(i[er]);)i=Ta(i);i&&KS(i)},consumerOnSignalRead(){this.lView[ki]=this}});function SE(n){return n.type!==2}var DP=100;function CE(n,i=!0,r=0){let t=n[xo],o=t.rendererFactory,s=!1;s||o.begin?.();try{MP(n,r)}catch(a){throw i&&vE(n,a),a}finally{s||(o.end?.(),t.inlineEffectRunner?.flush())}}function MP(n,i){let r=iC();try{Ox(!0),qy(n,i);let t=0;for(;Wf(n);){if(t===DP)throw new Xe(103,!1);t++,qy(n,1)}}finally{Ox(r)}}function TP(n,i,r,t){let o=i[qt];if((o&256)===256)return;let s=!1,a=!1;!s&&i[xo].inlineEffectRunner?.flush(),Bv(i);let c=!0,l=null,u=null;s||(SE(n)?(u=wP(i),l=Zc(u)):O1()===null?(c=!1,u=EP(i),l=Zc(u)):i[ki]&&(ch(i[ki]),i[ki]=null));try{ZS(i),mO(n.bindingStartIndex),r!==null&&cE(n,i,r,2,t);let y=(o&3)===3;if(!s)if(y){let f=n.preOrderCheckHooks;f!==null&&rf(i,f,null)}else{let f=n.preOrderHooks;f!==null&&nf(i,f,0,null),ny(i,0)}if(a||kP(i),EE(i,0),n.contentQueries!==null&&pE(n,i),!s)if(y){let f=n.contentCheckHooks;f!==null&&rf(i,f)}else{let f=n.contentHooks;f!==null&&nf(i,f,1),ny(i,1)}WR(n,i);let b=n.components;b!==null&&DE(i,b,0);let d=n.viewQuery;if(d!==null&&Wy(2,d,t),!s)if(y){let f=n.viewCheckHooks;f!==null&&rf(i,f)}else{let f=n.viewHooks;f!==null&&nf(i,f,2),ny(i,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),i[tf]){for(let f of i[tf])f();i[tf]=null}s||(i[qt]&=-73)}catch(y){throw s||qf(i),y}finally{u!==null&&(ah(u,l),c&&SP(u)),Vv()}}function EE(n,i){for(let r=TC(n);r!==null;r=kC(r))for(let t=Un;t<r.length;t++){let o=r[t];IE(o,i)}}function kP(n){for(let i=TC(n);i!==null;i=kC(i)){if(!(i[qt]&ff.HasTransplantedViews))continue;let r=i[Ll];for(let t=0;t<r.length;t++){let o=r[t];KS(o)}}}function jP(n,i,r){let t=Bs(i,n);IE(t,r)}function IE(n,i){Ov(n)&&qy(n,i)}function qy(n,i){let t=n[er],o=n[qt],s=n[ki],a=!!(i===0&&o&16);if(a||=!!(o&64&&i===0),a||=!!(o&1024),a||=!!(s?.dirty&&lh(s)),a||=!1,s&&(s.dirty=!1),n[qt]&=-9217,a)TP(t,n,t.template,n[Vn]);else if(o&8192){EE(n,1);let c=t.components;c!==null&&DE(n,c,1)}}function DE(n,i,r){for(let t=0;t<i.length;t++)jP(n,i[t],r)}function ob(n,i){let r=iC()?64:1088;for(n[xo].changeDetectionScheduler?.notify(i);n;){n[qt]|=r;let t=Ta(n);if(xy(n)&&!t)return n;n=t}return null}var Oa=class{get rootNodes(){let i=this._lView,r=i[er];return xf(r,i,r.firstChild,[])}constructor(i,r,t=!0){this._lView=i,this._cdRefInjectingView=r,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(i){this._lView[Vn]=i}get destroyed(){return(this._lView[qt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[zn];if(Jo(i)){let r=i[hf],t=r?r.indexOf(this):-1;t>-1&&(du(i,t),cf(r,t))}this._attachedToViewContainer=!1}ip(this._lView[er],this._lView)}onDestroy(i){JS(this._lView,i)}markForCheck(){ob(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[qt]&=-129}reattach(){Cy(this._lView),this._lView[qt]|=128}detectChanges(){this._lView[qt]|=1024,CE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=xy(this._lView),r=this._lView[Da];r!==null&&!i&&Xv(r,this._lView),QC(this._lView[er],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=i;let r=xy(this._lView),t=this._lView[Da];t!==null&&!r&&ZC(t,this._lView),Cy(this._lView)}},tn=(()=>{class n{static{this.__NG_ELEMENT_ID__=RP}}return n})(),AP=tn,OP=class extends AP{constructor(i,r,t){super(),this._declarationLView=i,this._declarationTContainer=r,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,r){return this.createEmbeddedViewImpl(i,r)}createEmbeddedViewImpl(i,r,t){let o=wu(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:r,dehydratedView:t});return new Oa(o)}};function RP(){return up(jn(),tr())}function up(n,i){return n.type&4?new OP(i,n,Wl(n,i)):null}var lQ=new RegExp(`^(\\d+)*(${tR}|${eR})*(.*)`);var PP=()=>null;function Vl(n,i){return PP(n,i)}var Ul=class{},sb=new ze("",{providedIn:"root",factory:()=>!1});var ME=new ze(""),TE=new ze(""),Yy=class{},Sf=class{};function FP(n){let i=Error(`No component factory found for ${Xn(n)}.`);return i[NP]=n,i}var NP="ngComponent";var Xy=class{resolveComponentFactory(i){throw FP(i)}},Ji=class{static{this.NULL=new Xy}},Ns=class{},Io=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LP()}}return n})();function LP(){let n=tr(),i=jn(),r=Bs(i.index,n);return(As(r)?r:n)[en]}var BP=(()=>{class n{static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>null})}}return n})();function Cf(n,i,r){let t=r?n.styles:null,o=r?n.classes:null,s=0;if(i!==null)for(let a=0;a<i.length;a++){let c=i[a];if(typeof c=="number")s=c;else if(s==1)o=py(o,c);else if(s==2){let l=c,u=i[++a];t=py(t,l+": "+u+";")}}r?n.styles=t:n.stylesWithoutHost=t,r?n.classes=o:n.classesWithoutHost=o}var Ef=class extends Ji{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let r=Rs(i);return new zl(r,this.ngModule)}};function Jx(n,i){let r=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let o=n[t];if(o===void 0)continue;let s=Array.isArray(o),a=s?o[0]:o,c=s?o[1]:Os.None;i?r.push({propName:a,templateName:t,isSignal:(c&Os.SignalBased)!==0}):r.push({propName:a,templateName:t})}return r}function VP(n){let i=n.toLowerCase();return i==="svg"?YS:i==="math"?tO:null}var zl=class extends Sf{get inputs(){let i=this.componentDef,r=i.inputTransforms,t=Jx(i.inputs,!0);if(r!==null)for(let o of t)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return t}get outputs(){return Jx(this.componentDef.outputs,!1)}constructor(i,r){super(),this.componentDef=i,this.ngModule=r,this.componentType=i.type,this.selector=RA(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!r}create(i,r,t,o){let s=ar(null);try{o=o||this.ngModule;let a=o instanceof Tn?o:o?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new Iy(i,a):i,l=c.get(Ns,null);if(l===null)throw new Xe(407,!1);let u=c.get(BP,null),y=c.get(Ul,null),b={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:y},d=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=t?XR(d,t,this.componentDef.encapsulation,c):XC(d,f,VP(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;h!==null&&(g=$v(h,c,!0));let p=eb(0,null,null,1,0,null,null,null,null,null,null),v=lp(null,p,null,m,null,null,b,d,c,null,g);Bv(v);let _,w,S=null;try{let M=this.componentDef,j,I=null;M.findHostDirectiveDefs?(j=[],I=new Map,M.findHostDirectiveDefs(M,j,I),j.push(M)):j=[M];let D=UP(v,h);S=zP(D,h,M,j,v,b,d),w=Av(p,kn),h&&$P(d,M,h,t),r!==void 0&&WP(w,this.ngContentSelectors,r),_=GP(S,M,j,I,v,[qP]),ib(p,v,null)}catch(M){throw S!==null&&Ry(S),Ry(v),M}finally{Vv()}return new Qy(this.componentType,_,Wl(w,v),v,w)}finally{ar(s)}}},Qy=class extends Yy{constructor(i,r,t,o,s){super(),this.location=t,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Oa(o,void 0,!1),this.componentType=i}setInput(i,r){let t=this._tNode.inputs,o;if(t!==null&&(o=t[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),r))return;let s=this._rootLView;nb(s[er],s,o,i,r),this.previousInputValues.set(i,r);let a=Bs(this._tNode.index,s);ob(a,1)}}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function UP(n,i){let r=n[er],t=kn;return n[t]=i,ql(r,t,2,"#host",null)}function zP(n,i,r,t,o,s,a){let c=o[er];HP(t,n,i,a);let l=null;i!==null&&(l=$v(i,o[Nl]));let u=s.rendererFactory.createRenderer(i,r),y=16;r.signals?y=4096:r.onPush&&(y=64);let b=lp(o,uE(r),null,y,o[n.index],n,s,u,null,null,l);return c.firstCreatePass&&$y(c,n,t.length-1),cp(o,b),o[n.index]=b}function HP(n,i,r,t){for(let o of n)i.mergedAttrs=lu(i.mergedAttrs,o.hostAttrs);i.mergedAttrs!==null&&(Cf(i,i.mergedAttrs,!0),r!==null&&oE(t,r,i))}function GP(n,i,r,t,o,s){let a=jn(),c=o[er],l=Oi(a,o);dE(c,o,a,r,null,t);for(let y=0;y<r.length;y++){let b=a.directiveStart+y,d=Aa(o,c,b,a);Fs(d,o)}hE(c,o,a),l&&Fs(l,o);let u=Aa(o,c,a.directiveStart+a.componentOffset,a);if(n[Vn]=o[Vn]=u,s!==null)for(let y of s)y(u,i);return Zv(c,a,o),u}function $P(n,i,r,t){if(t)vy(n,r,["ng-version","18.2.8"]);else{let{attrs:o,classes:s}=PA(i.selectors[0]);o&&vy(n,r,o),s&&s.length>0&&iE(n,r,s.join(" "))}}function WP(n,i,r){let t=n.projection=[];for(let o=0;o<i.length;o++){let s=r[o];t.push(s!=null?Array.from(s):null)}}function qP(){let n=jn();Jf(tr()[er],n)}var Sn=(()=>{class n{static{this.__NG_ELEMENT_ID__=YP}}return n})();function YP(){let n=jn();return jE(n,tr())}var XP=Sn,kE=class extends XP{constructor(i,r,t){super(),this._lContainer=i,this._hostTNode=r,this._hostLView=t}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){let i=Uv(this._hostTNode,this._hostLView);if(hC(i)){let r=mf(i,this._hostLView),t=pf(i),o=r[er].data[t+8];return new Ea(o,r)}else return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let r=eS(this._lContainer);return r!==null&&r[i]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(i,r,t){let o,s;typeof t=="number"?o=t:t!=null&&(o=t.index,s=t.injector);let a=Vl(this._lContainer,i.ssrId),c=i.createEmbeddedViewImpl(r||{},s,a);return this.insertImpl(c,o,Bl(this._hostTNode,a)),c}createComponent(i,r,t,o,s){let a=i&&!ZA(i),c;if(a)c=r;else{let h=r||{};c=h.index,t=h.injector,o=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}let l=a?i:new zl(Rs(i)),u=t||this.parentInjector;if(!s&&l.ngModule==null){let m=(a?u:this.parentInjector).get(Tn,null);m&&(s=m)}let y=Rs(l.componentType??{}),b=Vl(this._lContainer,y?.id??null),d=b?.firstChild??null,f=l.create(u,o,d,s);return this.insertImpl(f.hostView,c,Bl(this._hostTNode,b)),f}insert(i,r){return this.insertImpl(i,r,!0)}insertImpl(i,r,t){let o=i._lView;if(iO(o)){let c=this.indexOf(i);if(c!==-1)this.detach(c);else{let l=o[zn],u=new kE(l,l[li],l[zn]);u.detach(u.indexOf(i))}}let s=this._adjustIndex(r),a=this._lContainer;return xu(a,o,s,t),i.attachToViewContainerRef(),CS(ly(a),s,i),i}move(i,r){return this.insert(i,r)}indexOf(i){let r=eS(this._lContainer);return r!==null?r.indexOf(i):-1}remove(i){let r=this._adjustIndex(i,-1),t=du(this._lContainer,r);t&&(cf(ly(this._lContainer),r),ip(t[er],t))}detach(i){let r=this._adjustIndex(i,-1),t=du(this._lContainer,r);return t&&cf(ly(this._lContainer),r)!=null?new Oa(t):null}_adjustIndex(i,r=0){return i??this.length+r}};function eS(n){return n[hf]}function ly(n){return n[hf]||(n[hf]=[])}function jE(n,i){let r,t=i[n.index];return Jo(t)?r=t:(r=fE(t,i,null,n),i[n.index]=r,cp(i,r)),ZP(r,i,n,t),new kE(r,n,i)}function QP(n,i){let r=n[en],t=r.createComment(""),o=Oi(i,n),s=eE(r,o);return wf(r,s,t,LR(r,o),!1),t}var ZP=eF,KP=()=>!1;function JP(n,i,r){return KP(n,i,r)}function eF(n,i,r,t){if(n[Ma])return;let o;r.type&8?o=So(t):o=QP(i,r),n[Ma]=o}var Zy=class n{constructor(i){this.queryList=i,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ky=class n{constructor(i=[]){this.queries=i}createEmbeddedView(i){let r=i.queries;if(r!==null){let t=i.contentQueries!==null?i.contentQueries[0]:r.length,o=[];for(let s=0;s<t;s++){let a=r.getByIndex(s),c=this.queries[a.indexInDeclarationView];o.push(c.clone())}return new n(o)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let r=0;r<this.queries.length;r++)lb(i,r).matches!==null&&this.queries[r].setDirty()}},If=class{constructor(i,r,t=null){this.flags=r,this.read=t,typeof i=="string"?this.predicate=sF(i):this.predicate=i}},Jy=class n{constructor(i=[]){this.queries=i}elementStart(i,r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(i,r)}elementEnd(i){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(i)}embeddedTView(i){let r=null;for(let t=0;t<this.length;t++){let o=r!==null?r.length:0,s=this.getByIndex(t).embeddedTView(i,o);s&&(s.indexInDeclarationView=t,r!==null?r.push(s):r=[s])}return r!==null?new n(r):null}template(i,r){for(let t=0;t<this.queries.length;t++)this.queries[t].template(i,r)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},ev=class n{constructor(i,r=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(i,r){this.isApplyingToNode(r)&&this.matchTNode(i,r)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,r){this.elementStart(i,r)}embeddedTView(i,r){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,r),new n(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,t=i.parent;for(;t!==null&&t.type&8&&t.index!==r;)t=t.parent;return r===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(i,r){let t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){let s=t[o];this.matchTNodeWithReadOption(i,r,tF(r,s)),this.matchTNodeWithReadOption(i,r,of(r,i,s,!1,!1))}else t===tn?r.type&4&&this.matchTNodeWithReadOption(i,r,-1):this.matchTNodeWithReadOption(i,r,of(r,i,t,!1,!1))}matchTNodeWithReadOption(i,r,t){if(t!==null){let o=this.metadata.read;if(o!==null)if(o===bt||o===Sn||o===tn&&r.type&4)this.addMatch(r.index,-2);else{let s=of(r,i,o,!1,!1);s!==null&&this.addMatch(r.index,s)}else this.addMatch(r.index,t)}}addMatch(i,r){this.matches===null?this.matches=[i,r]:this.matches.push(i,r)}};function tF(n,i){let r=n.localNames;if(r!==null){for(let t=0;t<r.length;t+=2)if(r[t]===i)return r[t+1]}return null}function rF(n,i){return n.type&11?Wl(n,i):n.type&4?up(n,i):null}function nF(n,i,r,t){return r===-1?rF(i,n):r===-2?iF(n,i,t):Aa(n,n[er],r,i)}function iF(n,i,r){if(r===bt)return Wl(i,n);if(r===tn)return up(i,n);if(r===Sn)return jE(i,n)}function AE(n,i,r,t){let o=i[Xo].queries[t];if(o.matches===null){let s=n.data,a=r.matches,c=[];for(let l=0;a!==null&&l<a.length;l+=2){let u=a[l];if(u<0)c.push(null);else{let y=s[u];c.push(nF(i,y,a[l+1],r.metadata.read))}}o.matches=c}return o.matches}function tv(n,i,r,t){let o=n.queries.getByIndex(r),s=o.matches;if(s!==null){let a=AE(n,i,o,r);for(let c=0;c<s.length;c+=2){let l=s[c];if(l>0)t.push(a[c/2]);else{let u=s[c+1],y=i[-l];for(let b=Un;b<y.length;b++){let d=y[b];d[Da]===d[zn]&&tv(d[er],d,u,t)}if(y[Ll]!==null){let b=y[Ll];for(let d=0;d<b.length;d++){let f=b[d];tv(f[er],f,u,t)}}}}}return t}function ab(n,i){return n[Xo].queries[i].queryList}function OE(n,i,r){let t=new Zn((r&4)===4);return KR(n,i,t,t.destroy),(i[Xo]??=new Ky).queries.push(new Zy(t))-1}function oF(n,i,r){let t=Xr();return t.firstCreatePass&&(PE(t,new If(n,i,r),-1),(i&2)===2&&(t.staticViewQueries=!0)),OE(t,tr(),i)}function RE(n,i,r,t){let o=Xr();if(o.firstCreatePass){let s=jn();PE(o,new If(i,r,t),s.index),aF(o,n),(r&2)===2&&(o.staticContentQueries=!0)}return OE(o,tr(),r)}function sF(n){return n.split(",").map(i=>i.trim())}function PE(n,i,r){n.queries===null&&(n.queries=new Jy),n.queries.track(new ev(i,r))}function aF(n,i){let r=n.contentQueries||(n.contentQueries=[]),t=r.length?r[r.length-1]:-1;i!==t&&r.push(n.queries.length-1,i)}function lb(n,i){return n.queries.getByIndex(i)}function FE(n,i){let r=n[er],t=lb(r,i);return t.crossesNgTemplate?tv(r,n,i,[]):AE(r,n,t,i)}var tS=new Set;function eo(n){tS.has(n)||(tS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function cb(n){return typeof n=="function"&&n[fi]!==void 0}function _i(n,i){eo("NgSignals");let r=G1(n),t=r[fi];return i?.equal&&(t.equal=i.equal),r.set=o=>hh(t,o),r.update=o=>$1(t,o),r.asReadonly=lF.bind(r),r}function lF(){let n=this[fi];if(n.readonlyFn===void 0){let i=()=>this();i[fi]=n,n.readonlyFn=i}return n.readonlyFn}function NE(n,i){let r,t=Fg(()=>{r._dirtyCounter();let o=hF(r,n);if(i&&o===void 0)throw new Xe(-951,!1);return o});return r=t[fi],r._dirtyCounter=_i(0),r._flatValue=void 0,t}function cF(){return NE(!0,!1)}function uF(){return NE(!0,!0)}function dF(n,i){let r=n[fi];r._lView=tr(),r._queryIndex=i,r._queryList=ab(r._lView,i),r._queryList.onDirty(()=>r._dirtyCounter.update(t=>t+1))}function hF(n,i){let r=n._lView,t=n._queryIndex;if(r===void 0||t===void 0||r[qt]&4)return i?void 0:Yn;let o=ab(r,t),s=FE(r,t);return o.reset(s,IC),i?o.first:o._changesDetected||n._flatValue===void 0?n._flatValue=o.toArray():n._flatValue}function rS(n,i){return cF()}function fF(n,i){return uF()}var LE=(rS.required=fF,rS);function pF(n){let i=[],r=new Map;function t(o){let s=r.get(o);if(!s){let a=n(o);r.set(o,s=a.then(vF))}return s}return Df.forEach((o,s)=>{let a=[];o.templateUrl&&a.push(t(o.templateUrl).then(u=>{o.template=u}));let c=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=c,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,y=o.styleUrls;o.styleUrls.forEach((b,d)=>{c.push(""),a.push(t(b).then(f=>{c[u+d]=f,y.splice(y.indexOf(b),1),y.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&a.push(t(o.styleUrl).then(u=>{c.push(u),o.styleUrl=void 0}));let l=Promise.all(a).then(()=>bF(s));i.push(l)}),gF(),Promise.all(i).then(()=>{})}var Df=new Map,mF=new Set;function gF(){let n=Df;return Df=new Map,n}function yF(){return Df.size===0}function vF(n){return typeof n=="string"?n:n.text()}function bF(n){mF.delete(n)}function _F(n){return Object.getPrototypeOf(n.prototype).constructor}function Ur(n){let i=_F(n.type),r=!0,t=[n];for(;i;){let o;if(Qo(n))o=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Xe(903,!1);o=i.\u0275dir}if(o){if(r){t.push(o);let a=n;a.inputs=Qh(n.inputs),a.inputTransforms=Qh(n.inputTransforms),a.declaredInputs=Qh(n.declaredInputs),a.outputs=Qh(n.outputs);let c=o.hostBindings;c&&EF(n,c);let l=o.viewQuery,u=o.contentQueries;if(l&&SF(n,l),u&&CF(n,u),wF(n,o),Jj(n.outputs,o.outputs),Qo(o)&&o.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(o.data.animation)}}let s=o.features;if(s)for(let a=0;a<s.length;a++){let c=s[a];c&&c.ngInherit&&c(n),c===Ur&&(r=!1)}}i=Object.getPrototypeOf(i)}xF(t)}function wF(n,i){for(let r in i.inputs){if(!i.inputs.hasOwnProperty(r)||n.inputs.hasOwnProperty(r))continue;let t=i.inputs[r];if(t!==void 0&&(n.inputs[r]=t,n.declaredInputs[r]=i.declaredInputs[r],i.inputTransforms!==null)){let o=Array.isArray(t)?t[0]:t;if(!i.inputTransforms.hasOwnProperty(o))continue;n.inputTransforms??={},n.inputTransforms[o]=i.inputTransforms[o]}}}function xF(n){let i=0,r=null;for(let t=n.length-1;t>=0;t--){let o=n[t];o.hostVars=i+=o.hostVars,o.hostAttrs=lu(o.hostAttrs,r=lu(r,o.hostAttrs))}}function Qh(n){return n===Ol?{}:n===Yn?[]:n}function SF(n,i){let r=n.viewQuery;r?n.viewQuery=(t,o)=>{i(t,o),r(t,o)}:n.viewQuery=i}function CF(n,i){let r=n.contentQueries;r?n.contentQueries=(t,o,s)=>{i(t,o,s),r(t,o,s)}:n.contentQueries=i}function EF(n,i){let r=n.hostBindings;r?n.hostBindings=(t,o)=>{i(t,o),r(t,o)}:n.hostBindings=i}function Qr(n){let i=n.inputConfig,r={};for(let t in i)if(i.hasOwnProperty(t)){let o=i[t];Array.isArray(o)&&o[3]&&(r[t]=o[3])}n.inputTransforms=r}var Ls=class{},hu=class{};var Mf=class extends Ls{constructor(i,r,t,o=!0){super(),this.ngModuleType=i,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ef(this);let s=PS(i);this._bootstrapComponents=qC(s.bootstrap),this._r3Injector=wC(i,r,[{provide:Ls,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver},...t],Xn(i),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},Tf=class extends hu{constructor(i){super(),this.moduleType=i}create(i){return new Mf(this.moduleType,i,[])}};function IF(n,i,r){return new Mf(n,i,r,!1)}var rv=class extends Ls{constructor(i){super(),this.componentFactoryResolver=new Ef(this),this.instance=null;let r=new cu([...i.providers,{provide:Ls,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],i.parent||Tv(),i.debugName,new Set(["environment"]));this.injector=r,i.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function dp(n,i,r=null){return new rv({providers:n,parent:i,debugName:r,runEnvironmentInitializers:!0}).injector}function BE(n){return MF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function DF(n,i){if(Array.isArray(n))for(let r=0;r<n.length;r++)i(n[r]);else{let r=n[Symbol.iterator](),t;for(;!(t=r.next()).done;)i(t.value)}}function MF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ub(n,i,r){return n[i]=r}function TF(n,i){return n[i]}function ji(n,i,r){let t=n[i];return Object.is(t,r)?!1:(n[i]=r,!0)}function nv(n,i,r,t){let o=ji(n,i,r);return ji(n,i+1,t)||o}function kF(n,i,r,t,o,s){let a=nv(n,i,r,t);return nv(n,i+2,o,s)||a}function jF(n){return(n.flags&32)===32}function AF(n,i,r,t,o,s,a,c,l){let u=i.consts,y=ql(i,n,4,a||null,c||null);rb(i,r,y,Ps(u,l)),Jf(i,y);let b=y.tView=eb(2,y,t,o,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,u,null);return i.queries!==null&&(i.queries.template(i,y),b.queries=i.queries.embeddedTView(y)),y}function kf(n,i,r,t,o,s,a,c,l,u){let y=r+kn,b=i.firstCreatePass?AF(y,i,n,t,o,s,a,c,l):i.data[y];Pa(b,!1);let d=OF(i,n,b,r);Zf()&&op(i,n,d,b),Fs(d,n);let f=fE(d,n,d,b);return n[y]=f,cp(n,f),JP(f,b,n),$f(b)&&Kv(i,n,b),l!=null&&Jv(n,b,u),b}function dt(n,i,r,t,o,s,a,c){let l=tr(),u=Xr(),y=Ps(u.consts,s);return kf(l,u,n,i,r,t,o,y,a,c),dt}var OF=RF;function RF(n,i,r,t){return Kf(!0),i[en].createComment("")}var ks=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ks||{}),VE=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}}return n})(),iv=class n{constructor(){this.ngZone=Be(ot),this.scheduler=Be(Ul),this.errorHandler=Be(Qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ks.EarlyRead,ks.Write,ks.MixedReadWrite,ks.Read]}execute(){this.executing=!0;for(let i of n.PHASES)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[i](r.pipelinedValue))}catch(t){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(i){this.executing?this.deferredRegistrations.add(i):(this.sequences.add(i),this.scheduler.notify(6))}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}},ov=class{constructor(i,r,t,o){this.impl=i,this.hooks=r,this.once=t,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Su(n,i){!i?.injector&&yu(Su);let r=i?.injector??Be(cr);return YC(r)?(eo("NgAfterRender"),UE(n,r,i,!1)):zE}function Kn(n,i){!i?.injector&&yu(Kn);let r=i?.injector??Be(cr);return YC(r)?(eo("NgAfterNextRender"),UE(n,r,i,!0)):zE}function PF(n,i){if(n instanceof Function){let r=[void 0,void 0,void 0,void 0];return r[i]=n,r}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function UE(n,i,r,t){let o=i.get(VE);o.impl??=i.get(iv);let s=r?.phase??ks.MixedReadWrite,a=r?.manualCleanup!==!0?i.get(Us):null,c=new ov(o.impl,PF(n,s),t,a);return o.impl.register(c),c}var zE={destroy(){}};function At(n,i,r,t){let o=tr(),s=Fa();if(ji(o,s,i)){let a=Xr(),c=Qf();fP(c,o,n,i,r,t)}return At}function FF(n,i,r,t){return ji(n,Fa(),r)?i+Yo(r)+t:bi}function NF(n,i,r,t,o,s,a,c,l,u){let y=pO(),b=kF(n,y,r,o,a,l);return Fv(4),b?i+Yo(r)+t+Yo(o)+s+Yo(a)+c+Yo(l)+u:bi}function Zh(n,i){return n<<17|i<<2}function Ra(n){return n>>17&32767}function LF(n){return(n&2)==2}function BF(n,i){return n&131071|i<<17}function sv(n){return n|2}function Hl(n){return(n&131068)>>2}function cy(n,i){return n&-131069|i<<2}function VF(n){return(n&1)===1}function av(n){return n|1}function UF(n,i,r,t,o,s){let a=s?i.classBindings:i.styleBindings,c=Ra(a),l=Hl(a);n[t]=r;let u=!1,y;if(Array.isArray(r)){let b=r;y=b[1],(y===null||gu(b,y)>0)&&(u=!0)}else y=r;if(o)if(l!==0){let d=Ra(n[c+1]);n[t+1]=Zh(d,c),d!==0&&(n[d+1]=cy(n[d+1],t)),n[c+1]=BF(n[c+1],t)}else n[t+1]=Zh(c,0),c!==0&&(n[c+1]=cy(n[c+1],t)),c=t;else n[t+1]=Zh(l,0),c===0?c=t:n[l+1]=cy(n[l+1],t),l=t;u&&(n[t+1]=sv(n[t+1])),nS(n,y,t,!0),nS(n,y,t,!1),zF(i,y,n,t,s),a=Zh(c,l),s?i.classBindings=a:i.styleBindings=a}function zF(n,i,r,t,o){let s=o?n.residualClasses:n.residualStyles;s!=null&&typeof i=="string"&&gu(s,i)>=0&&(r[t+1]=av(r[t+1]))}function nS(n,i,r,t){let o=n[r+1],s=i===null,a=t?Ra(o):Hl(o),c=!1;for(;a!==0&&(c===!1||s);){let l=n[a],u=n[a+1];HF(l,i)&&(c=!0,n[a+1]=t?av(u):sv(u)),a=t?Ra(u):Hl(u)}c&&(n[r+1]=t?sv(o):av(o))}function HF(n,i){return n===null||i==null||(Array.isArray(n)?n[1]:n)===i?!0:Array.isArray(n)&&typeof i=="string"?gu(n,i)>=0:!1}var Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GF(n){return n.substring(Zi.key,Zi.keyEnd)}function $F(n){return WF(n),HE(n,GE(n,0,Zi.textEnd))}function HE(n,i){let r=Zi.textEnd;return r===i?-1:(i=Zi.keyEnd=qF(n,Zi.key=i,r),GE(n,i,r))}function WF(n){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=n.length}function GE(n,i,r){for(;i<r&&n.charCodeAt(i)<=32;)i++;return i}function qF(n,i,r){for(;i<r&&n.charCodeAt(i)>32;)i++;return i}function Ue(n,i,r){let t=tr(),o=Fa();if(ji(t,o,i)){let s=Xr(),a=Qf();tb(s,a,t,n,i,t[en],r,!1)}return Ue}function lv(n,i,r,t,o){let s=i.inputs,a=o?"class":"style";nb(n,r,s[a],a,t)}function ns(n,i,r){return $E(n,i,r,!1),ns}function Yt(n,i){return $E(n,i,null,!0),Yt}function wi(n){XF(tN,YF,n,!0)}function YF(n,i){for(let r=$F(i);r>=0;r=HE(i,r))Iv(n,GF(i),!0)}function $E(n,i,r,t){let o=tr(),s=Xr(),a=Fv(2);if(s.firstUpdatePass&&qE(s,n,a,t),i!==bi&&ji(o,a,i)){let c=s.data[es()];YE(s,c,o,o[en],n,o[a+1]=nN(i,r),t,a)}}function XF(n,i,r,t){let o=Xr(),s=Fv(2);o.firstUpdatePass&&qE(o,null,s,t);let a=tr();if(r!==bi&&ji(a,s,r)){let c=o.data[es()];if(XE(c,t)&&!WE(o,s)){let l=t?c.classesWithoutHost:c.stylesWithoutHost;l!==null&&(r=py(l,r||"")),lv(o,c,a,r,t)}else rN(o,c,a,a[en],a[s+1],a[s+1]=eN(n,i,r),t,s)}}function WE(n,i){return i>=n.expandoStartIndex}function qE(n,i,r,t){let o=n.data;if(o[r+1]===null){let s=o[es()],a=WE(n,r);XE(s,t)&&i===null&&!a&&(i=!1),i=QF(o,s,i,t),UF(o,s,i,r,a,t)}}function QF(n,i,r,t){let o=Nv(n),s=t?i.residualClasses:i.residualStyles;if(o===null)(t?i.classBindings:i.styleBindings)===0&&(r=uy(null,n,i,r,t),r=fu(r,i.attrs,t),s=null);else{let a=i.directiveStylingLast;if(a===-1||n[a]!==o)if(r=uy(o,n,i,r,t),s===null){let l=ZF(n,i,t);l!==void 0&&Array.isArray(l)&&(l=uy(null,n,i,l[1],t),l=fu(l,i.attrs,t),KF(n,i,t,l))}else s=JF(n,i,t)}return s!==void 0&&(t?i.residualClasses=s:i.residualStyles=s),r}function ZF(n,i,r){let t=r?i.classBindings:i.styleBindings;if(Hl(t)!==0)return n[Ra(t)]}function KF(n,i,r,t){let o=r?i.classBindings:i.styleBindings;n[Ra(o)]=t}function JF(n,i,r){let t,o=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<o;s++){let a=n[s].hostAttrs;t=fu(t,a,r)}return fu(t,i.attrs,r)}function uy(n,i,r,t,o){let s=null,a=r.directiveEnd,c=r.directiveStylingLast;for(c===-1?c=r.directiveStart:c++;c<a&&(s=i[c],t=fu(t,s.hostAttrs,o),s!==n);)c++;return n!==null&&(r.directiveStylingLast=c),t}function fu(n,i,r){let t=r?1:2,o=-1;if(i!==null)for(let s=0;s<i.length;s++){let a=i[s];typeof a=="number"?o=a:o===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Iv(n,a,r?!0:i[++s]))}return n===void 0?null:n}function eN(n,i,r){if(r==null||r==="")return Yn;let t=[],o=Ri(r);if(Array.isArray(o))for(let s=0;s<o.length;s++)n(t,o[s],!0);else if(typeof o=="object")for(let s in o)o.hasOwnProperty(s)&&n(t,s,o[s]);else typeof o=="string"&&i(t,o);return t}function tN(n,i,r){let t=String(i);t!==""&&!t.includes(" ")&&Iv(n,t,r)}function rN(n,i,r,t,o,s,a,c){o===bi&&(o=Yn);let l=0,u=0,y=0<o.length?o[0]:null,b=0<s.length?s[0]:null;for(;y!==null||b!==null;){let d=l<o.length?o[l+1]:void 0,f=u<s.length?s[u+1]:void 0,h=null,m;y===b?(l+=2,u+=2,d!==f&&(h=b,m=f)):b===null||y!==null&&y<b?(l+=2,h=y):(u+=2,h=b,m=f),h!==null&&YE(n,i,r,t,h,m,a,c),y=l<o.length?o[l]:null,b=u<s.length?s[u]:null}}function YE(n,i,r,t,o,s,a,c){if(!(i.type&3))return;let l=n.data,u=l[c+1],y=VF(u)?iS(l,i,r,o,Hl(u),a):void 0;if(!jf(y)){jf(s)||LF(u)&&(s=iS(l,null,r,o,c,a));let b=XS(es(),r);GR(t,a,b,o,s)}}function iS(n,i,r,t,o,s){let a=i===null,c;for(;o>0;){let l=n[o],u=Array.isArray(l),y=u?l[1]:l,b=y===null,d=r[o+1];d===bi&&(d=b?Yn:void 0);let f=b?ty(d,t):y===t?d:void 0;if(u&&!jf(f)&&(f=ty(l,t)),jf(f)&&(c=f,a))return c;let h=n[o+1];o=a?Ra(h):Hl(h)}if(i!==null){let l=s?i.residualClasses:i.residualStyles;l!=null&&(c=ty(l,t))}return c}function jf(n){return n!==void 0}function nN(n,i){return n==null||n===""||(typeof i=="string"?n=n+i:typeof n=="object"&&(n=Xn(Ri(n)))),n}function XE(n,i){return(n.flags&(i?8:16))!==0}var cv=class{destroy(i){}updateValue(i,r){}swap(i,r){let t=Math.min(i,r),o=Math.max(i,r),s=this.detach(o);if(o-t>1){let a=this.detach(t);this.attach(t,s),this.attach(o,a)}else this.attach(t,s)}move(i,r){this.attach(r,this.detach(i))}};function dy(n,i,r,t,o){return n===r&&Object.is(i,t)?1:Object.is(o(n,i),o(r,t))?-1:0}function iN(n,i,r){let t,o,s=0,a=n.length-1,c=void 0;if(Array.isArray(i)){let l=i.length-1;for(;s<=a&&s<=l;){let u=n.at(s),y=i[s],b=dy(s,u,s,y,r);if(b!==0){b<0&&n.updateValue(s,y),s++;continue}let d=n.at(a),f=i[l],h=dy(a,d,l,f,r);if(h!==0){h<0&&n.updateValue(a,f),a--,l--;continue}let m=r(s,u),g=r(a,d),p=r(s,y);if(Object.is(p,g)){let v=r(l,f);Object.is(v,m)?(n.swap(s,a),n.updateValue(a,f),l--,a--):n.move(a,s),n.updateValue(s,y),s++;continue}if(t??=new Af,o??=sS(n,s,a,r),uv(n,t,s,p))n.updateValue(s,y),s++,a++;else if(o.has(p))t.set(m,n.detach(s)),a--;else{let v=n.create(s,i[s]);n.attach(s,v),s++,a++}}for(;s<=l;)oS(n,t,r,s,i[s]),s++}else if(i!=null){let l=i[Symbol.iterator](),u=l.next();for(;!u.done&&s<=a;){let y=n.at(s),b=u.value,d=dy(s,y,s,b,r);if(d!==0)d<0&&n.updateValue(s,b),s++,u=l.next();else{t??=new Af,o??=sS(n,s,a,r);let f=r(s,b);if(uv(n,t,s,f))n.updateValue(s,b),s++,a++,u=l.next();else if(!o.has(f))n.attach(s,n.create(s,b)),s++,a++,u=l.next();else{let h=r(s,y);t.set(h,n.detach(s)),a--}}}for(;!u.done;)oS(n,t,r,n.length,u.value),u=l.next()}for(;s<=a;)n.destroy(n.detach(a--));t?.forEach(l=>{n.destroy(l)})}function uv(n,i,r,t){return i!==void 0&&i.has(t)?(n.attach(r,i.get(t)),i.delete(t),!0):!1}function oS(n,i,r,t,o){if(uv(n,i,t,r(t,o)))n.updateValue(t,o);else{let s=n.create(t,o);n.attach(t,s)}}function sS(n,i,r,t){let o=new Set;for(let s=i;s<=r;s++)o.add(t(s,n.at(s)));return o}var Af=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;let r=this.kvMap.get(i);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(i,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,r){if(this.kvMap.has(i)){let t=this.kvMap.get(i);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(t);)t=o.get(t);o.set(t,r)}else this.kvMap.set(i,r)}forEach(i){for(let[r,t]of this.kvMap)if(i(t,r),this._vMap!==void 0){let o=this._vMap;for(;o.has(t);)t=o.get(t),i(t,r)}}};function Gt(n,i){eo("NgControlFlow");let r=tr(),t=Fa(),o=r[t]!==bi?r[t]:-1,s=o!==-1?Of(r,kn+o):void 0,a=0;if(ji(r,t,n)){let c=ar(null);try{if(s!==void 0&&wE(s,a),n!==-1){let l=kn+n,u=Of(r,l),y=pv(r[er],l),b=Vl(u,y.tView.ssrId),d=wu(r,y,i,{dehydratedView:b});xu(u,d,a,Bl(y,b))}}finally{ar(c)}}else if(s!==void 0){let c=_E(s,a);c!==void 0&&(c[Vn]=i)}}var dv=class{constructor(i,r,t){this.lContainer=i,this.$implicit=r,this.$index=t}get $count(){return this.lContainer.length-Un}};function Do(n,i){return i}var hv=class{constructor(i,r,t){this.hasEmptyBlock=i,this.trackByFn=r,this.liveCollection=t}};function Fi(n,i,r,t,o,s,a,c,l,u,y,b,d){eo("NgControlFlow");let f=tr(),h=Xr(),m=l!==void 0,g=tr(),p=c?a.bind(g[mi][Vn]):a,v=new hv(m,p);g[kn+n]=v,kf(f,h,n+1,i,r,t,o,Ps(h.consts,s)),m&&kf(f,h,n+2,l,u,y,b,Ps(h.consts,d))}var fv=class extends cv{constructor(i,r,t){super(),this.lContainer=i,this.hostLView=r,this.templateTNode=t,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Un}at(i){return this.getLView(i)[Vn].$implicit}attach(i,r){let t=r[Fl];this.needsIndexUpdate||=i!==this.length,xu(this.lContainer,r,i,Bl(this.templateTNode,t))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,oN(this.lContainer,i)}create(i,r){let t=Vl(this.lContainer,this.templateTNode.tView.ssrId),o=wu(this.hostLView,this.templateTNode,new dv(this.lContainer,r,i),{dehydratedView:t});return this.operationsCounter?.recordCreate(),o}destroy(i){ip(i[er],i),this.operationsCounter?.recordDestroy()}updateValue(i,r){this.getLView(i)[Vn].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[Vn].$index=i}getLView(i){return sN(this.lContainer,i)}};function Ni(n){let i=ar(null),r=es();try{let t=tr(),o=t[er],s=t[r],a=r+1,c=Of(t,a);if(s.liveCollection===void 0){let u=pv(o,a);s.liveCollection=new fv(c,t,u)}else s.liveCollection.reset();let l=s.liveCollection;if(iN(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=Fa(),y=l.length===0;if(ji(t,u,y)){let b=r+2,d=Of(t,b);if(y){let f=pv(o,b),h=Vl(d,f.tView.ssrId),m=wu(t,f,void 0,{dehydratedView:h});xu(d,m,0,Bl(f,h))}else wE(d,0)}}}finally{ar(i)}}function Of(n,i){return n[i]}function oN(n,i){return du(n,i)}function sN(n,i){return _E(n,i)}function pv(n,i){return Av(n,i)}function aN(n,i,r,t,o,s){let a=i.consts,c=Ps(a,o),l=ql(i,n,2,t,c);return rb(i,r,l,Ps(a,s)),l.attrs!==null&&Cf(l,l.attrs,!1),l.mergedAttrs!==null&&Cf(l,l.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,l),l}function Ae(n,i,r,t){let o=tr(),s=Xr(),a=kn+n,c=o[en],l=s.firstCreatePass?aN(a,s,o,i,r,t):s.data[a],u=lN(s,o,l,c,i,n);o[a]=u;let y=$f(l);return Pa(l,!0),oE(c,u,l),!jF(l)&&Zf()&&op(s,o,u,l),aO()===0&&Fs(u,o),lO(),y&&(Kv(s,o,l),Zv(s,l,o)),t!==null&&Jv(o,l),Ae}function ke(){let n=jn();Rv()?Pv():(n=n.parent,Pa(n,!1));let i=n;uO(i)&&dO(),cO();let r=Xr();return r.firstCreatePass&&(Jf(r,n),jv(n)&&r.queries.elementEnd(n)),i.classesWithoutHost!=null&&EO(i)&&lv(r,i,tr(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&IO(i)&&lv(r,i,tr(),i.stylesWithoutHost,!1),ke}function lt(n,i,r,t){return Ae(n,i,r,t),ke(),lt}var lN=(n,i,r,t,o,s)=>(Kf(!0),XC(t,o,wO()));function cN(n,i,r,t,o){let s=i.consts,a=Ps(s,t),c=ql(i,n,8,"ng-container",a);a!==null&&Cf(c,a,!0);let l=Ps(s,o);return rb(i,r,c,l),i.queries!==null&&i.queries.elementStart(i,c),c}function Mo(n,i,r){let t=tr(),o=Xr(),s=n+kn,a=o.firstCreatePass?cN(s,o,t,i,r):o.data[s];Pa(a,!0);let c=uN(o,t,a,n);return t[s]=c,Zf()&&op(o,t,c,a),Fs(c,t),$f(a)&&(Kv(o,t,a),Zv(o,a,t)),r!=null&&Jv(t,a),Mo}function To(){let n=jn(),i=Xr();return Rv()?Pv():(n=n.parent,Pa(n,!1)),i.firstCreatePass&&(Jf(i,n),jv(n)&&i.queries.elementEnd(n)),To}function Na(n,i,r){return Mo(n,i,r),To(),Na}var uN=(n,i,r,t)=>(Kf(!0),kR(i[en],""));function Ar(){return tr()}function to(n,i,r){let t=tr(),o=Fa();if(ji(t,o,i)){let s=Xr(),a=Qf();tb(s,a,t,n,i,t[en],r,!0)}return to}function La(n,i,r){let t=tr(),o=Fa();if(ji(t,o,i)){let s=Xr(),a=Qf(),c=Nv(s.data),l=yE(c,a,t);tb(s,a,t,n,i,l,r,!0)}return La}var Rf="en-US";var dN=Rf;function hN(n){typeof n=="string"&&(dN=n.toLowerCase().replace(/_/g,"-"))}var fN=(n,i,r)=>{};function Ft(n,i,r,t){let o=tr(),s=Xr(),a=jn();return QE(s,o,o[en],a,n,i,t),Ft}function Ba(n,i){let r=jn(),t=tr(),o=Xr(),s=Nv(o.data),a=yE(s,r,t);return QE(o,t,a,r,n,i),Ba}function pN(n,i,r,t){let o=n.cleanup;if(o!=null)for(let s=0;s<o.length-1;s+=2){let a=o[s];if(a===r&&o[s+1]===t){let c=i[df],l=o[s+2];return c.length>l?c[l]:null}typeof a=="string"&&(s+=2)}return null}function QE(n,i,r,t,o,s,a){let c=$f(t),u=n.firstCreatePass&&gE(n),y=i[Vn],b=mE(i),d=!0;if(t.type&3||a){let m=Oi(t,i),g=a?a(m):m,p=b.length,v=a?w=>a(So(w[t.index])):t.index,_=null;if(!a&&c&&(_=pN(n,i,o,t.index)),_!==null){let w=_.__ngLastListenerFn__||_;w.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,d=!1}else{s=lS(t,i,y,s),fN(m,o,s);let w=r.listen(g,o,s);b.push(s,w),u&&u.push(o,v,p,p+1)}}else s=lS(t,i,y,s);let f=t.outputs,h;if(d&&f!==null&&(h=f[o])){let m=h.length;if(m)for(let g=0;g<m;g+=2){let p=h[g],v=h[g+1],S=i[p][v].subscribe(s),M=b.length;b.push(s,S),u&&u.push(o,t.index,M,-(M+1))}}}function aS(n,i,r,t){let o=ar(null);try{return bo(6,i,r),r(t)!==!1}catch(s){return vE(n,s),!1}finally{bo(7,i,r),ar(o)}}function lS(n,i,r,t){return function o(s){if(s===Function)return t;let a=n.componentOffset>-1?Bs(n.index,i):i;ob(a,5);let c=aS(i,r,t,s),l=o.__ngNextListenerFn__;for(;l;)c=aS(i,r,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function Ke(n=1){return _O(n)}function mN(n,i){let r=null,t=TA(n);for(let o=0;o<i.length;o++){let s=i[o];if(s==="*"){r=o;continue}if(t===null?kS(n,s,!0):AA(t,s))return o}return r}function xr(n){let i=tr()[mi][li];if(!i.projection){let r=n?n.length:1,t=i.projection=_A(r,null),o=t.slice(),s=i.child;for(;s!==null;){if(s.type!==128){let a=n?mN(s,n):0;a!==null&&(o[a]?o[a].projectionNext=s:t[a]=s,o[a]=s)}s=s.next}}}function Lt(n,i=0,r,t,o,s){let a=tr(),c=Xr(),l=t?n+1:null;l!==null&&kf(a,c,l,t,o,s,null,r);let u=ql(c,kn+n,16,null,r||null);u.projection===null&&(u.projection=i),Pv();let b=!a[Fl]||rC();a[mi][li].projection[u.projection]===null&&l!==null?gN(a,c,l):b&&(u.flags&32)!==32&&zR(c,a,u)}function gN(n,i,r){let t=kn+r,o=i.data[t],s=n[t],a=Vl(s,o.tView.ssrId),c=wu(n,o,void 0,{dehydratedView:a});xu(s,c,0,Bl(o,a))}function vr(n,i,r,t){RE(n,i,r,t)}function hr(n,i,r){oF(n,i,r)}function Et(n){let i=tr(),r=Xr(),t=Lv();Xf(t+1);let o=lb(r,t);if(n.dirty&&nO(i)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let s=FE(i,t);n.reset(s,IC),n.notifyOnChanges()}return!0}return!1}function It(){return ab(tr(),Lv())}function ZE(n,i,r,t,o){dF(i,RE(n,r,t,o))}function KE(n=1){Xf(Lv()+n)}function yN(n,i,r,t){r>=n.data.length&&(n.data[r]=null,n.blueprint[r]=null),i[r]=t}function yn(n){let i=fO();return QS(i,kn+n)}function et(n,i=""){let r=tr(),t=Xr(),o=n+kn,s=t.firstCreatePass?ql(t,o,1,i,null):t.data[o],a=vN(t,r,s,i,n);r[o]=a,Zf()&&op(t,r,a,s),Pa(s,!1)}var vN=(n,i,r,t,o)=>(Kf(!0),MR(i[en],t));function Zr(n){return Hn("",n,""),Zr}function Hn(n,i,r){let t=tr(),o=FF(t,n,i,r);return o!==bi&&bE(t,es(),o),Hn}function db(n,i,r,t,o,s,a,c,l){let u=tr(),y=NF(u,n,i,r,t,o,s,a,c,l);return y!==bi&&bE(u,es(),y),db}function bN(n,i,r){let t=Xr();if(t.firstCreatePass){let o=Qo(n);mv(r,t.data,t.blueprint,o,!0),mv(i,t.data,t.blueprint,o,!1)}}function mv(n,i,r,t,o){if(n=qn(n),Array.isArray(n))for(let s=0;s<n.length;s++)mv(n[s],i,r,t,o);else{let s=Xr(),a=tr(),c=jn(),l=Pl(n)?n:qn(n.provide),u=US(n),y=c.providerIndexes&1048575,b=c.directiveStart,d=c.providerIndexes>>20;if(Pl(n)||!n.multi){let f=new ja(u,o,ge),h=fy(l,i,o?y:y+d,b);h===-1?(My(yf(c,a),s,l),hy(s,n,i.length),i.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),r.push(f),a.push(f)):(r[h]=f,a[h]=f)}else{let f=fy(l,i,y+d,b),h=fy(l,i,y,y+d),m=f>=0&&r[f],g=h>=0&&r[h];if(o&&!g||!o&&!m){My(yf(c,a),s,l);let p=xN(o?wN:_N,r.length,o,t,u);!o&&g&&(r[h].providerFactory=p),hy(s,n,i.length,0),i.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),r.push(p),a.push(p)}else{let p=JE(r[o?h:f],u,!o&&t);hy(s,n,f>-1?f:h,p)}!o&&t&&g&&r[h].componentProviders++}}}function hy(n,i,r,t){let o=Pl(i),s=HA(i);if(o||s){let l=(s?qn(i.useClass):i).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&i.multi){let y=u.indexOf(r);y===-1?u.push(r,[t,l]):u[y+1].push(t,l)}else u.push(r,l)}}}function JE(n,i,r){return r&&n.componentProviders++,n.multi.push(i)-1}function fy(n,i,r,t){for(let o=r;o<t;o++)if(i[o]===n)return o;return-1}function _N(n,i,r,t){return gv(this.multi,[])}function wN(n,i,r,t){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Aa(r,r[er],this.providerFactory.index,t);s=c.slice(0,a),gv(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],gv(o,s);return s}function gv(n,i){for(let r=0;r<n.length;r++){let t=n[r];i.push(t())}return i}function xN(n,i,r,t,o){let s=new ja(n,r,ge);return s.multi=[],s.index=i,s.componentProviders=0,JE(s,o,t&&!r),s}function Or(n,i=[]){return r=>{r.providersResolver=(t,o)=>bN(t,o?o(n):n,i)}}var SN=(()=>{class n{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let t=LS(!1,r.type),o=t.length>0?dp([t],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(je(Tn))})}}return n})();function Ot(n){eo("NgStandalone"),n.getStandaloneInjector=i=>i.get(SN).getOrCreateStandaloneInjector(n)}function Hs(n,i,r){let t=Yf()+n,o=tr();return o[t]===bi?ub(o,t,r?i.call(r):i()):TF(o,t)}function Cu(n,i,r,t){return tI(tr(),Yf(),n,i,r,t)}function Eu(n,i,r,t,o){return CN(tr(),Yf(),n,i,r,t,o)}function eI(n,i){let r=n[i];return r===bi?void 0:r}function tI(n,i,r,t,o,s){let a=i+r;return ji(n,a,o)?ub(n,a+1,s?t.call(s,o):t(o)):eI(n,a+1)}function CN(n,i,r,t,o,s,a){let c=i+r;return nv(n,c,o,s)?ub(n,c+2,a?t.call(a,o,s):t(o,s)):eI(n,c+2)}function hb(n,i){let r=Xr(),t,o=n+kn;r.firstCreatePass?(t=EN(i,r.pipeRegistry),r.data[o]=t,t.onDestroy&&(r.destroyHooks??=[]).push(o,t.onDestroy)):t=r.data[o];let s=t.factory||(t.factory=Ia(t.type,!0)),a,c=ai(ge);try{let l=gf(!1),u=s();return gf(l),yN(r,tr(),o,u),u}finally{ai(c)}}function EN(n,i){if(i)for(let r=i.length-1;r>=0;r--){let t=i[r];if(n===t.name)return t}}function fb(n,i,r){let t=n+kn,o=tr(),s=QS(o,t);return IN(o,t)?tI(o,Yf(),i,s.transform,r,s):s.transform(r)}function IN(n,i){return n[er].data[i].pure}function Li(n,i){return up(n,i)}var Kh=null;function DN(n){Kh!==null&&(n.defaultEncapsulation!==Kh.defaultEncapsulation||n.preserveWhitespaces!==Kh.preserveWhitespaces)||(Kh=n)}var hp=(()=>{class n{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var pb=new ze(""),Iu=new ze(""),fp=(()=>{class n{constructor(r,t,o){this._ngZone=r,this.registry=t,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,mb||(MN(o),o.addToWindow(t)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>t.updateCb&&t.updateCb(r)?(clearTimeout(t.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,t,o){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},t)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,t,o),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,t,o){return[]}static{this.\u0275fac=function(t){return new(t||n)(je(ot),je(pp),je(Iu))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),pp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(r,t){this._applications.set(r,t)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,t=!0){return mb?.findTestabilityInTree(this,r,t)??null}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function MN(n){mb=n}var mb;function Gs(n){return!!n&&typeof n.then=="function"}function gb(n){return!!n&&typeof n.subscribe=="function"}var mp=new ze(""),rI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,t)=>{this.resolve=r,this.reject=t}),this.appInits=Be(mp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Gs(s))r.push(s);else if(gb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{t()}).catch(o=>{this.reject(o)}),r.length===0&&t(),this.initialized=!0}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gp=new ze("");function TN(){H1(()=>{throw new Xe(600,!1)})}function kN(n){return n.isBoundToModule}var jN=10;function AN(n,i,r){try{let t=r();return Gs(t)?t.catch(o=>{throw i.runOutsideAngular(()=>n.handleError(o)),o}):t}catch(t){throw i.runOutsideAngular(()=>n.handleError(t)),t}}function nI(n,i){return Array.isArray(i)?i.reduce(nI,n):xe(xe({},n),i)}var Bi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Be(WO),this.afterRenderManager=Be(VE),this.zonelessEnabled=Be(sb),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=Be(Eo).hasPendingTasks.pipe(wt(r=>!r)),this._injector=Be(Tn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(t=>{r=this.isStable.subscribe({next:o=>{o&&t()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,t){let o=r instanceof Sf;if(!this._injector.get(rI).done){let d=!o&&RS(r),f=!1;throw new Xe(405,f)}let a;o?a=r:a=this._injector.get(Ji).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=kN(a)?void 0:this._injector.get(Ls),l=t||a.selector,u=a.create(cr.NULL,[],l,c),y=u.location.nativeElement,b=u.injector.get(pb,null);return b?.registerApplication(y),u.onDestroy(()=>{this.detachView(u.hostView),sf(this.components,u),b?.unregisterApplication(y)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Xe(101,!1);let r=ar(null);try{this._runningTick=!0,this.synchronize()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1,ar(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Ns,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<jN;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(t);for(let{_lView:o,notifyErrorHandler:s}of this._views)ON(o,s,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Wf(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let t=r;this._views.push(t),t.attachToAppRef(this)}detachView(r){let t=r;sf(this._views,t),t.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let t=this._injector.get(gp,[]);[...this._bootstrapListeners,...t].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>sf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Xe(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sf(n,i){let r=n.indexOf(i);r>-1&&n.splice(r,1)}function ON(n,i,r,t){if(!r&&!Wf(n))return;CE(n,i,r&&!t?0:1)}var yv=class{constructor(i,r){this.ngModuleFactory=i,this.componentFactories=r}},yp=(()=>{class n{compileModuleSync(r){return new Tf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let t=this.compileModuleSync(r),o=PS(r),s=qC(o.declarations).reduce((a,c)=>{let l=Rs(c);return l&&a.push(new zl(l)),a},[]);return new yv(t,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RN=new ze("");function PN(n,i,r){let t=new Tf(r);return Promise.resolve(t)}function cS(n){for(let i=n.length-1;i>=0;i--)if(n[i]!==void 0)return n[i]}var FN=(()=>{class n{constructor(){this.zone=Be(ot),this.changeDetectionScheduler=Be(Ul),this.applicationRef=Be(Bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function NN({ngZoneFactory:n,ignoreChangesOutsideZone:i,scheduleInRootZone:r}){return n??=()=>new ot(vt(xe({},iI()),{scheduleInRootZone:r})),[{provide:ot,useFactory:n},{provide:Rl,multi:!0,useFactory:()=>{let t=Be(FN,{optional:!0});return()=>t.initialize()}},{provide:Rl,multi:!0,useFactory:()=>{let t=Be(LN);return()=>{t.initialize()}}},i===!0?{provide:ME,useValue:!0}:[],{provide:TE,useValue:r??xC}]}function iI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var LN=(()=>{class n{constructor(){this.subscription=new Jt,this.initialized=!1,this.zone=Be(ot),this.pendingTasks=Be(Eo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BN=(()=>{class n{constructor(){this.appRef=Be(Bi),this.taskService=Be(Eo),this.ngZone=Be(ot),this.zonelessEnabled=Be(sb),this.disableScheduling=Be(ME,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Jt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Be(TE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _f||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let t=this.useMicrotaskScheduler?Lx:SC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>t(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>t(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(r),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VN(){return typeof $localize<"u"&&$localize.locale||Rf}var vp=new ze("",{providedIn:"root",factory:()=>Be(vp,lr.Optional|lr.SkipSelf)||VN()});var Pf=new ze("");function Jh(n){return!n.moduleRef}function UN(n){let i=Jh(n)?n.r3Injector:n.moduleRef.injector,r=i.get(ot);return r.run(()=>{Jh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let t=i.get(Qn,null),o;if(r.runOutsideAngular(()=>{o=r.onError.subscribe({next:s=>{t.handleError(s)}})}),Jh(n)){let s=()=>i.destroy(),a=n.platformInjector.get(Pf);a.add(s),i.onDestroy(()=>{o.unsubscribe(),a.delete(s)})}else{let s=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Pf);a.add(s),n.moduleRef.onDestroy(()=>{sf(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(s)})}return AN(t,r,()=>{let s=i.get(rI);return s.runInitializers(),s.donePromise.then(()=>{let a=i.get(vp,Rf);if(hN(a||Rf),Jh(n)){let c=i.get(Bi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return zN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function zN(n,i){let r=n.injector.get(Bi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(t=>r.bootstrap(t));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new Xe(-403,!1);i.push(n)}var oI=(()=>{class n{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,t){let o=t?.scheduleInRootZone,s=()=>$O(t?.ngZone,vt(xe({},iI({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),a=t?.ignoreChangesOutsideZone,c=[NN({ngZoneFactory:s,ignoreChangesOutsideZone:a}),{provide:Ul,useExisting:BN}],l=IF(r.moduleType,this.injector,c);return UN({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,t=[]){let o=nI({},t);return PN(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());let r=this._injector.get(Pf,null);r&&(r.forEach(t=>t()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(t){return new(t||n)(je(cr))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),su=null,sI=new ze("");function HN(n){if(su&&!su.get(sI,!1))throw new Xe(400,!1);TN(),su=n;let i=n.get(oI);return WN(n),i}function yb(n,i,r=[]){let t=`Platform: ${i}`,o=new ze(t);return(s=[])=>{let a=aI();if(!a||a.injector.get(sI,!1)){let c=[...r,...s,{provide:o,useValue:!0}];n?n(c):HN(GN(c,t))}return $N(o)}}function GN(n=[],i){return cr.create({name:i,providers:[{provide:zf,useValue:"platform"},{provide:Pf,useValue:new Set([()=>su=null])},...n]})}function $N(n){let i=aI();if(!i)throw new Xe(401,!1);return i}function aI(){return su?.get(oI)??null}function WN(n){n.get(Gv,null)?.forEach(r=>r())}var br=(()=>{class n{static{this.__NG_ELEMENT_ID__=qN}}return n})();function qN(n){return YN(jn(),tr(),(n&16)===16)}function YN(n,i,r){if(Gf(n)&&!r){let t=Bs(n.index,i);return new Oa(t,t)}else if(n.type&175){let t=i[mi];return new Oa(t,i)}return null}var vv=class{constructor(){}supports(i){return BE(i)}create(i){return new bv(i)}},XN=(n,i)=>i,bv=class{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||XN}forEachItem(i){let r;for(r=this._itHead;r!==null;r=r._next)i(r)}forEachOperation(i){let r=this._itHead,t=this._removalsHead,o=0,s=null;for(;r||t;){let a=!t||r&&r.currentIndex<uS(t,o,s)?r:t,c=uS(a,o,s),l=a.currentIndex;if(a===t)o--,t=t._nextRemoved;else if(r=r._next,a.previousIndex==null)o++;else{s||(s=[]);let u=c-o,y=l-o;if(u!=y){for(let d=0;d<u;d++){let f=d<s.length?s[d]:s[d]=0,h=f+d;y<=h&&h<u&&(s[d]=f+1)}let b=a.previousIndex;s[b]=y-u}}c!==l&&i(a,c,l)}}forEachPreviousItem(i){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)i(r)}forEachAddedItem(i){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)i(r)}forEachMovedItem(i){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)i(r)}forEachRemovedItem(i){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)i(r)}forEachIdentityChange(i){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)i(r)}diff(i){if(i==null&&(i=[]),!BE(i))throw new Xe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r=this._itHead,t=!1,o,s,a;if(Array.isArray(i)){this.length=i.length;for(let c=0;c<this.length;c++)s=i[c],a=this._trackByFn(c,s),r===null||!Object.is(r.trackById,a)?(r=this._mismatch(r,s,a,c),t=!0):(t&&(r=this._verifyReinsertion(r,s,a,c)),Object.is(r.item,s)||this._addIdentityChange(r,s)),r=r._next}else o=0,DF(i,c=>{a=this._trackByFn(o,c),r===null||!Object.is(r.trackById,a)?(r=this._mismatch(r,c,a,o),t=!0):(t&&(r=this._verifyReinsertion(r,c,a,o)),Object.is(r.item,c)||this._addIdentityChange(r,c)),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,r,t,o){let s;return i===null?s=this._itTail:(s=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),i!==null?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._reinsertAfter(i,s,o)):(i=this._linkedRecords===null?null:this._linkedRecords.get(t,o),i!==null?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._moveAfter(i,s,o)):i=this._addAfter(new _v(r,t),s,o)),i}_verifyReinsertion(i,r,t,o){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return s!==null?i=this._reinsertAfter(s,i._prev,o):i.currentIndex!=o&&(i.currentIndex=o,this._addToMoves(i,o)),i}_truncate(i){for(;i!==null;){let r=i._next;this._addToRemovals(this._unlink(i)),i=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,r,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let o=i._prevRemoved,s=i._nextRemoved;return o===null?this._removalsHead=s:o._nextRemoved=s,s===null?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(i,r,t),this._addToMoves(i,t),i}_moveAfter(i,r,t){return this._unlink(i),this._insertAfter(i,r,t),this._addToMoves(i,t),i}_addAfter(i,r,t){return this._insertAfter(i,r,t),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,r,t){let o=r===null?this._itHead:r._next;return i._next=o,i._prev=r,o===null?this._itTail=i:o._prev=i,r===null?this._itHead=i:r._next=i,this._linkedRecords===null&&(this._linkedRecords=new Ff),this._linkedRecords.put(i),i.currentIndex=t,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let r=i._prev,t=i._next;return r===null?this._itHead=t:r._next=t,t===null?this._itTail=r:t._prev=r,i}_addToMoves(i,r){return i.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ff),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,r){return i.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},_v=class{constructor(i,r){this.item=i,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},wv=class{constructor(){this._head=null,this._tail=null}add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,r){let t;for(t=this._head;t!==null;t=t._nextDup)if((r===null||r<=t.currentIndex)&&Object.is(t.trackById,i))return t;return null}remove(i){let r=i._prevDup,t=i._nextDup;return r===null?this._head=t:r._nextDup=t,t===null?this._tail=r:t._prevDup=r,this._head===null}},Ff=class{constructor(){this.map=new Map}put(i){let r=i.trackById,t=this.map.get(r);t||(t=new wv,this.map.set(r,t)),t.add(i)}get(i,r){let t=i,o=this.map.get(t);return o?o.get(i,r):null}remove(i){let r=i.trackById;return this.map.get(r).remove(i)&&this.map.delete(r),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uS(n,i,r){let t=n.previousIndex;if(t===null)return t;let o=0;return r&&t<r.length&&(o=r[t]),t+i+o}function dS(){return new bp([new vv])}var bp=(()=>{class n{static{this.\u0275prov=He({token:n,providedIn:"root",factory:dS})}constructor(r){this.factories=r}static create(r,t){if(t!=null){let o=t.factories.slice();r=r.concat(o)}return new n(r)}static extend(r){return{provide:n,useFactory:t=>n.create(r,t||dS()),deps:[[n,new Vf,new mu]]}}find(r){let t=this.factories.find(o=>o.supports(r));if(t!=null)return t;throw new Xe(901,!1)}}return n})();var lI=yb(null,"core",[]),cI=(()=>{class n{constructor(r){}static{this.\u0275fac=function(t){return new(t||n)(je(Bi))}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})();function yr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Du(n,i=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):i}function ro(n,i){eo("NgSignals");let r=Fg(n);return i?.equal&&(r[fi].equal=i.equal),r}function Jn(n){let i=ar(null);try{return n()}finally{ar(i)}}var QN=new ze("",{providedIn:"root",factory:()=>Be(ZN)}),ZN=(()=>{class n{static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new xv})}}return n})(),xv=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Be(Eo),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),this.taskId===null){let r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(i){let r=i.creationZone;this.queues.has(r)||this.queues.set(r,new Set);let t=this.queues.get(r);t.has(i)||(this.queuedEffectCount++,t.add(i))}flush(){for(;this.queuedEffectCount>0;)for(let[i,r]of this.queues)i===null?this.flushQueue(r):i.run(()=>this.flushQueue(r))}flushQueue(i){for(let r of i)i.delete(r),this.queuedEffectCount--,r.run()}},Sv=class{constructor(i,r,t,o,s,a){this.scheduler=i,this.effectFn=r,this.creationZone=t,this.injector=s,this.watcher=W1(c=>this.runEffect(c),()=>this.schedule(),a),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(r){this.injector.get(Qn,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function _p(n,i){eo("NgSignals"),!i?.injector&&yu(_p);let r=i?.injector??Be(cr),t=i?.manualCleanup!==!0?r.get(Us):null,o=new Sv(r.get(QN),n,typeof Zone>"u"?null:Zone.current,t,r,i?.allowSignalWrites??!1),s=r.get(br,null,{optional:!0});return!s||!(s._lView[qt]&8)?o.watcher.notify():(s._lView[tf]??=[]).push(o.watcher.notify),o}function uI(n){let i=Rs(n);if(!i)return null;let r=new zl(i);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}var gI=null;function ko(){return gI}function yI(n){gI??=n}var wp=class{};var Dt=new ze(""),Eb=(()=>{class n{historyGo(r){throw new Error("")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(JN),providedIn:"platform"})}}return n})(),vI=new ze(""),JN=(()=>{class n extends Eb{constructor(){super(),this._doc=Be(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ko().getBaseHref(this._doc)}onPopState(r){let t=ko().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",r,!1),()=>t.removeEventListener("popstate",r)}onHashChange(r){let t=ko().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",r,!1),()=>t.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,t,o){this._history.pushState(r,t,o)}replaceState(r,t,o){this._history.replaceState(r,t,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Ib(n,i){if(n.length==0)return i;if(i.length==0)return n;let r=0;return n.endsWith("/")&&r++,i.startsWith("/")&&r++,r==2?n+i.substring(1):r==1?n+i:n+"/"+i}function dI(n){let i=n.match(/#|\?|$/),r=i&&i.index||n.length,t=r-(n[r-1]==="/"?1:0);return n.slice(0,t)+n.slice(r)}function is(n){return n&&n[0]!=="?"?"?"+n:n}var os=(()=>{class n{historyGo(r){throw new Error("")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(Db),providedIn:"root"})}}return n})(),bI=new ze(""),Db=(()=>{class n extends os{constructor(r,t){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??Be(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ib(this._baseHref,r)}path(r=!1){let t=this._platformLocation.pathname+is(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${t}${o}`:t}pushState(r,t,o,s){let a=this.prepareExternalUrl(o+is(s));this._platformLocation.pushState(r,t,a)}replaceState(r,t,o,s){let a=this.prepareExternalUrl(o+is(s));this._platformLocation.replaceState(r,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(t){return new(t||n)(je(Eb),je(bI,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_I=(()=>{class n extends os{constructor(r,t){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],t!=null&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(r){let t=Ib(this._baseHref,r);return t.length>0?"#"+t:t}pushState(r,t,o,s){let a=this.prepareExternalUrl(o+is(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,t,a)}replaceState(r,t,o,s){let a=this.prepareExternalUrl(o+is(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(t){return new(t||n)(je(Eb),je(bI,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),$s=(()=>{class n{constructor(r){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let t=this._locationStrategy.getBaseHref();this._basePath=rL(dI(hI(t))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,t=""){return this.path()==this.normalize(r+is(t))}normalize(r){return n.stripTrailingSlash(tL(this._basePath,hI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,t="",o=null){this._locationStrategy.pushState(o,"",r,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+is(t)),o)}replaceState(r,t="",o=null){this._locationStrategy.replaceState(o,"",r,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+is(t)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",t){this._urlChangeListeners.forEach(o=>o(r,t))}subscribe(r,t,o){return this._subject.subscribe({next:r,error:t,complete:o})}static{this.normalizeQueryParams=is}static{this.joinWithSlash=Ib}static{this.stripTrailingSlash=dI}static{this.\u0275fac=function(t){return new(t||n)(je(os))}}static{this.\u0275prov=He({token:n,factory:()=>eL(),providedIn:"root"})}}return n})();function eL(){return new $s(je(os))}function tL(n,i){if(!n||!i.startsWith(n))return i;let r=i.substring(n.length);return r===""||["/",";","?","#"].includes(r[0])?r:i}function hI(n){return n.replace(/\/index.html$/,"")}function rL(n){if(new RegExp("^(https?:)?//").test(n)){let[,r]=n.split(/\/\/[^\/]+/);return r}return n}function Cp(n,i){i=encodeURIComponent(i);for(let r of n.split(";")){let t=r.indexOf("="),[o,s]=t==-1?[r,""]:[r.slice(0,t),r.slice(t+1)];if(o.trim()===i)return decodeURIComponent(s)}return null}var vb=/\s+/,fI=[],Mb=(()=>{class n{constructor(r,t){this._ngEl=r,this._renderer=t,this.initialClasses=fI,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(vb):fI}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(vb):r}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let t of r)this._updateState(t,!0);else if(r!=null)for(let t of Object.keys(r))this._updateState(t,!!r[t]);this._applyStateDiff()}_updateState(r,t){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(r,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let t=r[0],o=r[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(r,t){r=r.trim(),r.length>0&&r.split(vb).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(Io))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var bb=class{constructor(i,r,t,o){this.$implicit=i,this.ngForOf=r,this.index=t,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xl=(()=>{class n{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,t,o){this._viewContainer=r,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let t=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)t.createEmbeddedView(this._template,new bb(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)t.remove(s===null?void 0:s);else if(s!==null){let c=t.get(s);t.move(c,a),pI(c,o)}});for(let o=0,s=t.length;o<s;o++){let c=t.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=t.get(o.currentIndex);pI(s,o)})}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(Sn),ge(tn),ge(bp))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function pI(n,i){n.context.$implicit=i.item}var ss=(()=>{class n{constructor(r,t){this._viewContainer=r,this._context=new _b,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){mI("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){mI("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(Sn),ge(tn))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),_b=class{constructor(){this.$implicit=null,this.ngIf=null}};function mI(n,i){if(!!!(!i||i.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Xn(i)}'.`)}var xp=class{constructor(i,r){this._viewContainerRef=i,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}},Ql=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){let t=r===this._ngSwitch;return this._lastCasesMatched||=t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(let t of this._defaultViews)t.enforceState(r)}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),Ep=(()=>{class n{constructor(r,t,o){this.ngSwitch=o,o._addCase(),this._view=new xp(r,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(t){return new(t||n)(ge(Sn),ge(tn),ge(Ql,9))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})(),wI=(()=>{class n{constructor(r,t,o){o._addDefault(new xp(r,t))}static{this.\u0275fac=function(t){return new(t||n)(ge(Sn),ge(tn),ge(Ql,9))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return n})();var jo=(()=>{class n{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=t.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,t,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,t,o):!1,get:(r,t,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,o)}})}static{this.\u0275fac=function(t){return new(t||n)(ge(Sn))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wr]})}}return n})();function nL(n,i){return new Xe(2100,!1)}var wb=class{createSubscription(i,r){return Jn(()=>i.subscribe({next:r,error:t=>{throw t}}))}dispose(i){Jn(()=>i.unsubscribe())}},xb=class{createSubscription(i,r){return i.then(r,t=>{throw t})}dispose(i){}},iL=new xb,oL=new wb,xI=(()=>{class n{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,t=>this._updateLatestValue(r,t))}_selectStrategy(r){if(Gs(r))return iL;if(gb(r))return oL;throw nL(n,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,t){r===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(t){return new(t||n)(ge(br,16))}}static{this.\u0275pipe=jS({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var $r=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})(),Tb="browser",sL="server";function Ip(n){return n===Tb}function Dp(n){return n===sL}var SI=(()=>{class n{static{this.\u0275prov=He({token:n,providedIn:"root",factory:()=>Ip(Be(vi))?new Sb(Be(Dt),window):new Cb})}}return n})(),Sb=class{constructor(i,r){this.document=i,this.window=r,this.offset=()=>[0,0]}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let r=aL(this.document,i);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let r=i.getBoundingClientRect(),t=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],o-s[1])}};function aL(n,i){let r=n.getElementById(i)||n.getElementsByName(i)[0];if(r)return r;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let t=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=t.currentNode;for(;o;){let s=o.shadowRoot;if(s){let a=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(a)return a}o=t.nextNode()}}return null}var Cb=class{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}},Yl=class{};var Tu=class{},Tp=class{},as=class n{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(r=>{let t=r.indexOf(":");if(t>0){let o=r.slice(0,t),s=o.toLowerCase(),a=r.slice(t+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((r,t)=>{this.setHeaderEntries(t,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([r,t])=>{this.setHeaderEntries(r,t)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let r=this.headers.get(i.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,r){return this.clone({name:i,value:r,op:"a"})}set(i,r){return this.clone({name:i,value:r,op:"s"})}delete(i,r){return this.clone({name:i,value:r,op:"d"})}maybeSetNormalizedName(i,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,i)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(r=>{this.headers.set(r,i.headers.get(r)),this.normalizedNames.set(r,i.normalizedNames.get(r))})}clone(i){let r=new n;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([i]),r}applyUpdate(i){let r=i.name.toLowerCase();switch(i.op){case"a":case"s":let t=i.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(i.name,r);let o=(i.op==="a"?this.headers.get(r):void 0)||[];o.push(...t),this.headers.set(r,o);break;case"d":let s=i.value;if(!s)this.headers.delete(r),this.normalizedNames.delete(r);else{let a=this.headers.get(r);if(!a)return;a=a.filter(c=>s.indexOf(c)===-1),a.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,a)}break}}setHeaderEntries(i,r){let t=(Array.isArray(r)?r:[r]).map(s=>s.toString()),o=i.toLowerCase();this.headers.set(o,t),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>i(this.normalizedNames.get(r),this.headers.get(r)))}};var jb=class{encodeKey(i){return CI(i)}encodeValue(i){return CI(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function lL(n,i){let r=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let s=o.indexOf("="),[a,c]=s==-1?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,s)),i.decodeValue(o.slice(s+1))],l=r.get(a)||[];l.push(c),r.set(a,l)}),r}var cL=/%(\d[a-f0-9])/gi,uL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CI(n){return encodeURIComponent(n).replace(cL,(i,r)=>uL[r]??i)}function Mp(n){return`${n}`}var qs=class n{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new jb,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lL(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(r=>{let t=i.fromObject[r],o=Array.isArray(t)?t.map(Mp):[Mp(t)];this.map.set(r,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let r=this.map.get(i);return r?r[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,r){return this.clone({param:i,value:r,op:"a"})}appendAll(i){let r=[];return Object.keys(i).forEach(t=>{let o=i[t];Array.isArray(o)?o.forEach(s=>{r.push({param:t,value:s,op:"a"})}):r.push({param:t,value:o,op:"a"})}),this.clone(r)}set(i,r){return this.clone({param:i,value:r,op:"s"})}delete(i,r){return this.clone({param:i,value:r,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let r=this.encoder.encodeKey(i);return this.map.get(i).map(t=>r+"="+this.encoder.encodeValue(t)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let r=new n({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(i),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let r=(i.op==="a"?this.map.get(i.param):void 0)||[];r.push(Mp(i.value)),this.map.set(i.param,r);break;case"d":if(i.value!==void 0){let t=this.map.get(i.param)||[],o=t.indexOf(Mp(i.value));o!==-1&&t.splice(o,1),t.length>0?this.map.set(i.param,t):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var Ab=class{constructor(){this.map=new Map}set(i,r){return this.map.set(i,r),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function dL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function EI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function II(n){return typeof Blob<"u"&&n instanceof Blob}function DI(n){return typeof FormData<"u"&&n instanceof FormData}function hL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Mu=class n{constructor(i,r,t,o){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase();let s;if(dL(this.method)||o?(this.body=t!==void 0?t:null,s=o):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new as,this.context??=new Ab,!this.params)this.params=new qs,this.urlWithParams=r;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=r;else{let c=r.indexOf("?"),l=c===-1?"?":c<r.length-1?"&":"";this.urlWithParams=r+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||EI(this.body)||II(this.body)||DI(this.body)||hL(this.body)?this.body:this.body instanceof qs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||DI(this.body)?null:II(this.body)?this.body.type||null:EI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(i={}){let r=i.method||this.method,t=i.url||this.url,o=i.responseType||this.responseType,s=i.transferCache??this.transferCache,a=i.body!==void 0?i.body:this.body,c=i.withCredentials??this.withCredentials,l=i.reportProgress??this.reportProgress,u=i.headers||this.headers,y=i.params||this.params,b=i.context??this.context;return i.setHeaders!==void 0&&(u=Object.keys(i.setHeaders).reduce((d,f)=>d.set(f,i.setHeaders[f]),u)),i.setParams&&(y=Object.keys(i.setParams).reduce((d,f)=>d.set(f,i.setParams[f]),y)),new n(r,t,a,{params:y,headers:u,context:b,reportProgress:l,responseType:o,withCredentials:c,transferCache:s})}},Ys=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ys||{}),ku=class{constructor(i,r=200,t="OK"){this.headers=i.headers||new as,this.status=i.status!==void 0?i.status:r,this.statusText=i.statusText||t,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},kp=class n extends ku{constructor(i={}){super(i),this.type=Ys.ResponseHeader}clone(i={}){return new n({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},ju=class n extends ku{constructor(i={}){super(i),this.type=Ys.Response,this.body=i.body!==void 0?i.body:null}clone(i={}){return new n({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Ws=class extends ku{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},AI=200,fL=204;function kb(n,i){return{body:i,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Au=(()=>{class n{constructor(r){this.handler=r}request(r,t,o={}){let s;if(r instanceof Mu)s=r;else{let l;o.headers instanceof as?l=o.headers:l=new as(o.headers);let u;o.params&&(o.params instanceof qs?u=o.params:u=new qs({fromObject:o.params})),s=new Mu(r,t,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=_t(s).pipe(Wo(l=>this.handler.handle(l)));if(r instanceof Mu||o.observe==="events")return a;let c=a.pipe(Vt(l=>l instanceof ju));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(wt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(wt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(wt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(wt(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,t={}){return this.request("DELETE",r,t)}get(r,t={}){return this.request("GET",r,t)}head(r,t={}){return this.request("HEAD",r,t)}jsonp(r,t){return this.request("JSONP",r,{params:new qs().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,t={}){return this.request("OPTIONS",r,t)}patch(r,t,o={}){return this.request("PATCH",r,kb(o,t))}post(r,t,o={}){return this.request("POST",r,kb(o,t))}put(r,t,o={}){return this.request("PUT",r,kb(o,t))}static{this.\u0275fac=function(t){return new(t||n)(je(Tu))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),pL=/^\)\]\}',?\n/,mL="X-Request-URL";function MI(n){if(n.url)return n.url;let i=mL.toLocaleLowerCase();return n.headers.get(i)}var gL=(()=>{class n{constructor(){this.fetchImpl=Be(Ob,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=Be(ot)}handle(r){return new Ht(t=>{let o=new AbortController;return this.doRequest(r,o.signal,t).then(Rb,s=>t.error(new Ws({error:s}))),()=>o.abort()})}doRequest(r,t,o){return nh(this,null,function*(){let s=this.createRequestInit(r),a;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,xe({signal:t},s)));yL(f),o.next({type:Ys.Sent}),a=yield f}catch(f){o.error(new Ws({error:f,status:f.status??0,statusText:f.statusText,url:r.urlWithParams,headers:f.headers}));return}let c=new as(a.headers),l=a.statusText,u=MI(a)??r.urlWithParams,y=a.status,b=null;if(r.reportProgress&&o.next(new kp({headers:c,status:y,statusText:l,url:u})),a.body){let f=a.headers.get("content-length"),h=[],m=a.body.getReader(),g=0,p,v,_=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>nh(this,null,function*(){for(;;){let{done:S,value:M}=yield m.read();if(S)break;if(h.push(M),g+=M.length,r.reportProgress){v=r.responseType==="text"?(v??"")+(p??=new TextDecoder).decode(M,{stream:!0}):void 0;let j=()=>o.next({type:Ys.DownloadProgress,total:f?+f:void 0,loaded:g,partialText:v});_?_.run(j):j()}}}));let w=this.concatChunks(h,g);try{let S=a.headers.get("Content-Type")??"";b=this.parseBody(r,w,S)}catch(S){o.error(new Ws({error:S,headers:new as(a.headers),status:a.status,statusText:a.statusText,url:MI(a)??r.urlWithParams}));return}}y===0&&(y=b?AI:0),y>=200&&y<300?(o.next(new ju({body:b,headers:c,status:y,statusText:l,url:u})),o.complete()):o.error(new Ws({error:b,headers:c,status:y,statusText:l,url:u}))})}parseBody(r,t,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(t).replace(pL,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:o});case"arraybuffer":return t.buffer}}createRequestInit(r){let t={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>t[s]=a.join(",")),r.headers.has("Accept")||(t.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(t["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:t,credentials:o}}concatChunks(r,t){let o=new Uint8Array(t),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Ob=class{};function Rb(){}function yL(n){n.then(Rb,Rb)}function OI(n,i){return i(n)}function vL(n,i){return(r,t)=>i.intercept(r,{handle:o=>n(o,t)})}function bL(n,i,r){return(t,o)=>Ai(r,()=>i(t,s=>n(s,o)))}var _L=new ze(""),Pb=new ze(""),wL=new ze(""),RI=new ze("",{providedIn:"root",factory:()=>!0});function xL(){let n=null;return(i,r)=>{n===null&&(n=(Be(_L,{optional:!0})??[]).reduceRight(vL,OI));let t=Be(Eo);if(Be(RI)){let s=t.add();return n(i,r).pipe(si(()=>t.remove(s)))}else return n(i,r)}}var TI=(()=>{class n extends Tu{constructor(r,t){super(),this.backend=r,this.injector=t,this.chain=null,this.pendingTasks=Be(Eo),this.contributeToStability=Be(RI)}handle(r){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(Pb),...this.injector.get(wL,[])]));this.chain=t.reduceRight((o,s)=>bL(o,s,this.injector),OI)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(si(()=>this.pendingTasks.remove(t)))}else return this.chain(r,t=>this.backend.handle(t))}static{this.\u0275fac=function(t){return new(t||n)(je(Tp),je(Tn))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();var SL=/^\)\]\}',?\n/;function CL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var kI=(()=>{class n{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Xe(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?dr(t.\u0275loadImpl()):_t(null)).pipe(Tr(()=>new Ht(s=>{let a=t.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,g)=>a.setRequestHeader(m,g.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let m=a.statusText||"OK",g=new as(a.getAllResponseHeaders()),p=CL(a)||r.url;return l=new kp({headers:g,status:a.status,statusText:m,url:p}),l},y=()=>{let{headers:m,status:g,statusText:p,url:v}=u(),_=null;g!==fL&&(_=typeof a.response>"u"?a.responseText:a.response),g===0&&(g=_?AI:0);let w=g>=200&&g<300;if(r.responseType==="json"&&typeof _=="string"){let S=_;_=_.replace(SL,"");try{_=_!==""?JSON.parse(_):null}catch(M){_=S,w&&(w=!1,_={error:M,text:_})}}w?(s.next(new ju({body:_,headers:m,status:g,statusText:p,url:v||void 0})),s.complete()):s.error(new Ws({error:_,headers:m,status:g,statusText:p,url:v||void 0}))},b=m=>{let{url:g}=u(),p=new Ws({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});s.error(p)},d=!1,f=m=>{d||(s.next(u()),d=!0);let g={type:Ys.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),r.responseType==="text"&&a.responseText&&(g.partialText=a.responseText),s.next(g)},h=m=>{let g={type:Ys.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return a.addEventListener("load",y),a.addEventListener("error",b),a.addEventListener("timeout",b),a.addEventListener("abort",b),r.reportProgress&&(a.addEventListener("progress",f),c!==null&&a.upload&&a.upload.addEventListener("progress",h)),a.send(c),s.next({type:Ys.Sent}),()=>{a.removeEventListener("error",b),a.removeEventListener("abort",b),a.removeEventListener("load",y),a.removeEventListener("timeout",b),r.reportProgress&&(a.removeEventListener("progress",f),c!==null&&a.upload&&a.upload.removeEventListener("progress",h)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(t){return new(t||n)(je(Yl))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),PI=new ze(""),EL="XSRF-TOKEN",IL=new ze("",{providedIn:"root",factory:()=>EL}),DL="X-XSRF-TOKEN",ML=new ze("",{providedIn:"root",factory:()=>DL}),jp=class{},TL=(()=>{class n{constructor(r,t,o){this.doc=r,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cp(r,this.cookieName),this.lastCookieString=r),this.lastToken}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(vi),je(IL))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();function kL(n,i){let r=n.url.toLowerCase();if(!Be(PI)||n.method==="GET"||n.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return i(n);let t=Be(jp).getToken(),o=Be(ML);return t!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,t)})),i(n)}var FI=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(FI||{});function jL(n,i){return{\u0275kind:n,\u0275providers:i}}function NI(...n){let i=[Au,kI,TI,{provide:Tu,useExisting:TI},{provide:Tp,useFactory:()=>Be(gL,{optional:!0})??Be(kI)},{provide:Pb,useValue:kL,multi:!0},{provide:PI,useValue:!0},{provide:jp,useClass:TL}];for(let r of n)i.push(...r.\u0275providers);return Uf(i)}var jI=new ze("");function LI(){return jL(FI.LegacyInterceptors,[{provide:jI,useFactory:xL},{provide:Pb,useExisting:jI,multi:!0}])}var Lb=class extends wp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bb=class n extends Lb{static makeCurrent(){yI(new n)}onAndCancel(i,r,t){return i.addEventListener(r,t),()=>{i.removeEventListener(r,t)}}dispatchEvent(i,r){i.dispatchEvent(r)}remove(i){i.remove()}createElement(i,r){return r=r||this.getDefaultDocument(),r.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,r){return r==="window"?window:r==="document"?i:r==="body"?i.body:null}getBaseHref(i){let r=AL();return r==null?null:OL(r)}resetBaseElement(){Ou=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Cp(document.cookie,i)}},Ou=null;function AL(){return Ou=Ou||document.querySelector("base"),Ou?Ou.getAttribute("href"):null}function OL(n){return new URL(n,document.baseURI).pathname}var Vb=class{addToWindow(i){pi.getAngularTestability=(t,o=!0)=>{let s=i.findTestabilityInTree(t,o);if(s==null)throw new Xe(5103,!1);return s},pi.getAllAngularTestabilities=()=>i.getAllTestabilities(),pi.getAllAngularRootElements=()=>i.getAllRootElements();let r=t=>{let o=pi.getAllAngularTestabilities(),s=o.length,a=function(){s--,s==0&&t()};o.forEach(c=>{c.whenStable(a)})};pi.frameworkStabilizers||(pi.frameworkStabilizers=[]),pi.frameworkStabilizers.push(r)}findTestabilityInTree(i,r,t){if(r==null)return null;let o=i.getTestability(r);return o??(t?ko().isShadowRoot(r)?this.findTestabilityInTree(i,r.host,!0):this.findTestabilityInTree(i,r.parentElement,!0):null)}},RL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Ub=new ze(""),zI=(()=>{class n{constructor(r,t){this._zone=t,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,t,o){return this._findPluginFor(t).addEventListener(r,t,o)}getZone(){return this._zone}_findPluginFor(r){let t=this._eventNameToPlugin.get(r);if(t)return t;if(t=this._plugins.find(s=>s.supports(r)),!t)throw new Xe(5101,!1);return this._eventNameToPlugin.set(r,t),t}static{this.\u0275fac=function(t){return new(t||n)(je(Ub),je(ot))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Ap=class{constructor(i){this._doc=i}},Fb="ng-app-id",HI=(()=>{class n{constructor(r,t,o,s={}){this.doc=r,this.appId=t,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dp(s),this.resetHostNodes()}addStyles(r){for(let t of r)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(r){for(let t of r)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(t=>t.remove()),r.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let t of this.getAllStyles())this.addStyleToHost(r,t)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let t of this.hostNodes)this.addStyleToHost(t,r)}onStyleRemoved(r){let t=this.styleRef;t.get(r)?.elements?.forEach(o=>o.remove()),t.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Fb}="${this.appId}"]`);if(r?.length){let t=new Map;return r.forEach(o=>{o.textContent!=null&&t.set(o.textContent,o)}),t}return null}changeUsageCount(r,t){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=t,s.usage}return o.set(r,{usage:t,elements:[]}),t}getStyleElement(r,t){let o=this.styleNodesInDOM,s=o?.get(t);if(s?.parentNode===r)return o.delete(t),s.removeAttribute(Fb),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=t,this.platformIsServer&&a.setAttribute(Fb,this.appId),r.appendChild(a),a}}addStyleToHost(r,t){let o=this.getStyleElement(r,t),s=this.styleRef,a=s.get(t)?.elements;a?a.push(o):s.set(t,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(vu),je(bu,8),je(vi))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Nb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hb=/%COMP%/g,GI="%COMP%",PL=`_nghost-${GI}`,FL=`_ngcontent-${GI}`,NL=!0,LL=new ze("",{providedIn:"root",factory:()=>NL});function BL(n){return FL.replace(Hb,n)}function VL(n){return PL.replace(Hb,n)}function $I(n,i){return i.map(r=>r.replace(Hb,n))}var Op=(()=>{class n{constructor(r,t,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Dp(c),this.defaultRenderer=new Ru(r,a,l,this.platformIsServer)}createRenderer(r,t){if(!r||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===wo.ShadowDom&&(t=vt(xe({},t),{encapsulation:wo.Emulated}));let o=this.getOrCreateRenderer(r,t);return o instanceof Rp?o.applyToHost(r):o instanceof Pu&&o.applyStyles(),o}getOrCreateRenderer(r,t){let o=this.rendererByCompId,s=o.get(t.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(t.encapsulation){case wo.Emulated:s=new Rp(l,u,t,this.appId,y,a,c,b);break;case wo.ShadowDom:return new zb(l,u,r,t,a,c,this.nonce,b);default:s=new Pu(l,u,t,y,a,c,b);break}o.set(t.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||n)(je(zI),je(HI),je(vu),je(LL),je(Dt),je(vi),je(ot),je(bu))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Ru=class{constructor(i,r,t,o){this.eventManager=i,this.doc=r,this.ngZone=t,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,r){return r?this.doc.createElementNS(Nb[r]||r,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,r){(VI(i)?i.content:i).appendChild(r)}insertBefore(i,r,t){i&&(VI(i)?i.content:i).insertBefore(r,t)}removeChild(i,r){r.remove()}selectRootElement(i,r){let t=typeof i=="string"?this.doc.querySelector(i):i;if(!t)throw new Xe(-5104,!1);return r||(t.textContent=""),t}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,r,t,o){if(o){r=o+":"+r;let s=Nb[o];s?i.setAttributeNS(s,r,t):i.setAttribute(r,t)}else i.setAttribute(r,t)}removeAttribute(i,r,t){if(t){let o=Nb[t];o?i.removeAttributeNS(o,r):i.removeAttribute(`${t}:${r}`)}else i.removeAttribute(r)}addClass(i,r){i.classList.add(r)}removeClass(i,r){i.classList.remove(r)}setStyle(i,r,t,o){o&(Ko.DashCase|Ko.Important)?i.style.setProperty(r,t,o&Ko.Important?"important":""):i.style[r]=t}removeStyle(i,r,t){t&Ko.DashCase?i.style.removeProperty(r):i.style[r]=""}setProperty(i,r,t){i!=null&&(i[r]=t)}setValue(i,r){i.nodeValue=r}listen(i,r,t){if(typeof i=="string"&&(i=ko().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${r}`);return this.eventManager.addEventListener(i,r,this.decoratePreventDefault(t))}decoratePreventDefault(i){return r=>{if(r==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(r)):i(r))===!1&&r.preventDefault()}}};function VI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zb=class extends Ru{constructor(i,r,t,o,s,a,c,l){super(i,s,a,l),this.sharedStylesHost=r,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=$I(o.id,o.styles);for(let y of u){let b=document.createElement("style");c&&b.setAttribute("nonce",c),b.textContent=y,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,r){return super.appendChild(this.nodeOrShadowRoot(i),r)}insertBefore(i,r,t){return super.insertBefore(this.nodeOrShadowRoot(i),r,t)}removeChild(i,r){return super.removeChild(null,r)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pu=class extends Ru{constructor(i,r,t,o,s,a,c,l){super(i,s,a,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?$I(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rp=class extends Pu{constructor(i,r,t,o,s,a,c,l){let u=o+"-"+t.id;super(i,r,t,s,a,c,l,u),this.contentAttr=BL(u),this.hostAttr=VL(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,r){let t=super.createElement(i,r);return super.setAttribute(t,this.contentAttr,""),t}},UL=(()=>{class n extends Ap{constructor(r){super(r)}supports(r){return!0}addEventListener(r,t,o){return r.addEventListener(t,o,!1),()=>this.removeEventListener(r,t,o)}removeEventListener(r,t,o){return r.removeEventListener(t,o)}static{this.\u0275fac=function(t){return new(t||n)(je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),UI=["alt","control","meta","shift"],zL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},GL=(()=>{class n extends Ap{constructor(r){super(r)}supports(r){return n.parseEventName(r)!=null}addEventListener(r,t,o){let s=n.parseEventName(t),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ko().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let t=r.toLowerCase().split("."),o=t.shift();if(t.length===0||!(o==="keydown"||o==="keyup"))return null;let s=n._normalizeKey(t.pop()),a="",c=t.indexOf("code");if(c>-1&&(t.splice(c,1),a="code."),UI.forEach(u=>{let y=t.indexOf(u);y>-1&&(t.splice(y,1),a+=u+".")}),a+=s,t.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,t){let o=zL[r.key]||r.key,s="";return t.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),UI.forEach(a=>{if(a!==o){let c=HL[a];c(r)&&(s+=a+".")}}),s+=o,s===t)}static eventCallback(r,t,o){return s=>{n.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>t(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}static{this.\u0275fac=function(t){return new(t||n)(je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();function $L(){Bb.makeCurrent()}function WL(){return new Qn}function qL(){return AC(document),document}var YL=[{provide:vi,useValue:Tb},{provide:Gv,useValue:$L,multi:!0},{provide:Dt,useFactory:qL,deps:[]}],WI=yb(lI,"browser",YL),XL=new ze(""),QL=[{provide:Iu,useClass:Vb,deps:[]},{provide:pb,useClass:fp,deps:[ot,pp,Iu]},{provide:fp,useClass:fp,deps:[ot,pp,Iu]}],ZL=[{provide:zf,useValue:"root"},{provide:Qn,useFactory:WL,deps:[]},{provide:Ub,useClass:UL,multi:!0,deps:[Dt,ot,vi]},{provide:Ub,useClass:GL,multi:!0,deps:[Dt]},Op,HI,zI,{provide:Ns,useExisting:Op},{provide:Yl,useClass:RL,deps:[]},[]],Pp=(()=>{class n{constructor(r){}static withServerTransition(r){return{ngModule:n,providers:[{provide:vu,useValue:r.appId}]}}static{this.\u0275fac=function(t){return new(t||n)(je(XL,12))}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[...ZL,...QL],imports:[$r,cI]})}}return n})();var qI=(()=>{class n{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static{this.\u0275fac=function(t){return new(t||n)(je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ls=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:function(t){let o=null;return t?o=new(t||n):o=je(KL),o},providedIn:"root"})}}return n})(),KL=(()=>{class n extends ls{constructor(r){super(),this._doc=r}sanitize(r,t){if(t==null)return null;switch(r){case An.NONE:return t;case An.HTML:return ts(t,"HTML")?Ri(t):Wv(this._doc,String(t)).toString();case An.STYLE:return ts(t,"Style")?Ri(t):t;case An.SCRIPT:if(ts(t,"Script"))return Ri(t);throw new Xe(5200,!1);case An.URL:return ts(t,"URL")?Ri(t):rp(String(t));case An.RESOURCE_URL:if(ts(t,"ResourceURL"))return Ri(t);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(r){return FC(r)}bypassSecurityTrustStyle(r){return NC(r)}bypassSecurityTrustScript(r){return LC(r)}bypassSecurityTrustUrl(r){return BC(r)}bypassSecurityTrustResourceUrl(r){return VC(r)}static{this.\u0275fac=function(t){return new(t||n)(je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kl={type:null,entityIds:null,skip:!1,payload:null},Gb=!1;function $b(){Gb=!1}function xi(n,i,r){dn(n,i,r),Gb=!0}function dn(n,i,r){Gb===!1&&(Kl.type=n,Kl.entityIds=i,Kl.payload=r)}function Wb(n,i){return function(r,t,o){let s=o.value;return o.value=function(...a){return xi(n,i),s.apply(this,a)},o}}function Ao(n,i){return n.hasOwnProperty(i)}function Vi(n){return Array.isArray(n)}function Nu(n){return n.hasOwnProperty("active")}function Fp(n){return Vi(n)}function Lu({active:n,ids:i,entities:r}){return Fp(n)?YI(n,i):Ao(r,n)===!1?null:n}function YI(n,i){let r=n.filter(t=>i.indexOf(t)>-1);return r.length===n.length?n:r}function qb({state:n,entities:i,idKey:r,options:t={},preAddEntity:o}){let s={},a=[],c=!1;for(let l of i)if(Ao(n.entities,l[r])===!1){let u=o(l),y=u[r];s[y]=u,t.prepend?a.unshift(y):a.push(y),c=!0}return c?{newState:vt(xe({},n),{entities:xe(xe({},n.entities),s),ids:t.prepend?[...a,...n.ids]:[...n.ids,...a]}),newIds:a}:null}function vn(n){return n==null}function sn(n){return vn(n)?[]:Array.isArray(n)?n:[n]}var Xs="id";function Oo(n){return Vi(n)?n.length===0:!1}function Cr(n){return typeof n=="function"}function Ro(n){let i=typeof n;return n!=null&&(i=="object"||i=="function")}var XI={resettable:!1,ttl:null,producerFn:void 0};function Jl(){return XI}function QI(){return XI.producerFn}function Va(n){return vn(n)===!1}var Np=new Je,ec=new Ho(50,5e3),ZI=new Je;function KI(n){Np.next(n)}function JI(n){ec.next(n)}function eD(n,i){ZI.next({storeName:n,action:i})}var tc=typeof window<"u",Lp=!tc,Yb=()=>{try{return typeof localStorage<"u"}catch{return!1}},tD=()=>{try{return typeof sessionStorage<"u"}catch{return!1}};var hn={},Xb={};tc&&(window.$$stores=hn,window.$$queries=Xb);var Qs=function(n){return n.Set="Set",n.Add="Add",n.Update="Update",n.Remove="Remove",n}(Qs||{});var Bp=!0;function qr(){return Bp}function Qb(n,i,r){let t;if(Vi(n))t=n;else if(Ro(n)){if(vn(r))return;n=Object.assign({wrap:!0},n);let o=i.indexOf(r);if(n.prev){let s=o===0;if(s&&!n.wrap)return;t=s?i[i.length-1]:i[o-1]}else if(n.next){let s=i.length===o+1;if(s&&!n.wrap)return;t=s?i[0]:i[o+1]}}else{if(n===r)return;t=n}return t}var Zb=()=>({entities:{},ids:[],loading:!0,error:null});function no(n){return n===void 0}function Kb({state:n,ids:i}){if(vn(i))return rD(n);let r=n.entities,t={};for(let s of n.ids)i.includes(s)===!1&&(t[s]=r[s]);let o=vt(xe({},n),{entities:t,ids:n.ids.filter(s=>i.includes(s)===!1)});return Nu(n)&&(o.active=Lu(o)),o}function rD(n){return vt(xe({},n),{entities:{},ids:[],active:Fp(n.active)?[]:null})}function Jb(n,i,r){let t={entities:{},ids:[]};for(let o of n){let s=r(o);t.entities[s[i]]=s,t.ids.push(s[i])}return t}function iD(n){return n.entities&&n.ids}function nD(n,i){let r={};for(let t of Object.keys(n))r[t]=i(n[t]);return r}function e0({state:n,entities:i,idKey:r,preAddEntity:t,isNativePreAdd:o}){let s,a;if(Vi(i)){let l=Jb(i,r,t);s=l.entities,a=l.ids}else iD(i)?(s=o?i.entities:nD(i.entities,t),a=i.ids):(s=o?i:nD(i,t),a=Object.keys(s).map(l=>isNaN(l)?l:Number(l)));let c=vt(xe({},n),{entities:s,ids:a,loading:!1});return Nu(n)&&(c.active=Lu(c)),c}function t0(n){Object.freeze(n);let i=typeof n=="function",r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(n).forEach(function(t){r.call(n,t)&&(!i||t!=="caller"&&t!=="callee"&&t!=="arguments")&&n[t]!==null&&(typeof n[t]=="object"||typeof n[t]=="function")&&!Object.isFrozen(n[t])&&t0(n[t])}),n}function oD(n,i){n||console.error(`@StoreConfig({ name }) is missing in ${i}`)}function cs(n){return n!=null&&`${n}`!="false"}function rc(n){return cs(n)&&n.constructor.name==="Object"}var Ua="akitaConfig";function r0(n){return function(i){i[Ua]={idKey:"id"};for(let r=0,t=Object.keys(n);r<t.length;r++){let o=t[r];o==="name"?i[Ua].storeName=n[o]:i[Ua][o]=n[o]}}}var n3=new Je,sD=new Sr(!1),us={activeTransactions:0,batchTransaction:null};function aD(){Vp()||(us.batchTransaction=new Je),us.activeTransactions++,sD.next(!0)}function lD(){--us.activeTransactions===0&&(us.batchTransaction.next(!0),us.batchTransaction.complete(),sD.next(!1),n3.next(!0))}function Vp(){return us.activeTransactions>0}function n0(){return us.batchTransaction?us.batchTransaction.asObservable():_t(!0)}function Bu(n,i=void 0){aD();try{return n.apply(i)}finally{xi("@Transaction"),lD()}}function Up(){return function(n,i,r){let t=r.value;return r.value=function(...o){return Bu(()=>t.apply(this,o),this)},r}}var Zs=class{constructor(i,r={}){this.options=r,this.inTransaction=!1,this.cache={active:new Sr(!1),ttl:null},this.onInit(i)}setLoading(i=!1){i!==this._value().loading&&(qr()&&dn("Set Loading"),this._setState(r=>vt(xe({},r),{loading:i})))}setHasCache(i,r={restartTTL:!1}){if(i!==this.cache.active.value&&this.cache.active.next(i),r.restartTTL){let t=this.getCacheTTL();t&&(this.cache.ttl!==null&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),t))}}getValue(){return this.storeValue}setError(i){i!==this._value().error&&(qr()&&dn("Set Error"),this._setState(r=>vt(xe({},r),{error:i})))}_select(i){return this.store.asObservable().pipe(wt(r=>i(r.state)),mn())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[Ua]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||t0}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||QI()}get resettable(){return Va(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(i,r=!0){if(Cr(i)){let t=i(this._value());this.storeValue=Bp?this.deepFreeze(t):t}else this.storeValue=i;if(!this.store){this.store=new Sr({state:this.storeValue}),qr()&&this.store.subscribe(({action:t})=>{t&&eD(this.storeName,t)});return}if(Vp()){this.handleTransaction();return}this.dispatch(this.storeValue,r)}reset(){this.isResettable()&&(qr()&&dn("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1))}update(i){qr()&&dn("Update");let r,t=this._value();Cr(i)?r=Cr(this._producerFn)?this._producerFn(t,i):i(t):r=i;let o=this.akitaPreUpdate(t,xe(xe({},t),r)),s=rc(t)?o:new t.constructor(o);this._setState(s)}updateStoreConfig(i){this.options=xe(xe({},this.options),i)}akitaPreUpdate(i,r){return r}destroy(){!(tc?window.hmrEnabled:!1)&&this===hn[this.storeName]&&(delete hn[this.storeName],KI(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(i){hn[this.storeName]=this,this._setState(()=>i),JI(this.storeName),this.isResettable()&&(this._initialState=i),qr()&&oD(this.storeName,this.constructor.name)}dispatch(i,r=!0){let t;r&&(t=Kl,$b()),this.store.next({state:i,action:t})}watchTransaction(){n0().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return this.resettable===!1?!1:this.resettable||Jl().resettable}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||Jl().ttl}};function i0({state:n,ids:i,idKey:r,newStateOrFn:t,preUpdateEntity:o,producerFn:s,onEntityIdChanges:a}){let c={},l=!1,u;for(let f of i){if(Ao(n.entities,f)===!1)continue;let h=n.entities[f],m;Cr(t)?m=Cr(s)?s(h,t):t(h):m=t;let g=m.hasOwnProperty(r)&&m[r]!==h[r],p;u=f,g&&(l=!0,u=m[r]);let v=xe(xe({},h),m);rc(h)?p=v:rc(m)?p=new h.constructor(v):p=new m.constructor(v),c[u]=o(h,p)}let y=n.ids,b=n.entities;if(l){let[f]=i,d=n.entities,{[f]:h}=d;b=ml(d,[j1(f)]),y=n.ids.map(g=>g===f?u:g),a(f,u)}return vt(xe({},n),{entities:xe(xe({},b),c),ids:y})}var cD,za=class n extends Zs{constructor(i={},r={}){super(xe(xe({},Zb()),i),r),this.options=r,this.entityActions=new Je,this.entityIdChanges=new Je}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||Xs}set(i,r={}){if(vn(i))return;qr()&&dn("Set Entity");let t=this.akitaPreAddEntity===n.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(o=>{let s=e0({state:o,entities:i,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity.bind(this),isNativePreAdd:t});return no(r.activeId)===!1&&(s.active=r.activeId),s}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:Qs.Set,ids:this.ids})}add(i,r={loading:!1}){let t=sn(i);if(Oo(t))return;let o=qb({state:this._value(),preAddEntity:this.akitaPreAddEntity.bind(this),entities:t,idKey:this.idKey,options:r});o&&(qr()&&dn("Add Entity"),o.newState.loading=r.loading,this._setState(()=>o.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:Qs.Add,ids:o.newIds}))}update(i,r){if(no(r)){super.update(i);return}let t=[];if(Cr(i)?t=this.ids.filter(s=>i(this.entities[s])):t=vn(i)?this.ids:sn(i),Oo(t))return;qr()&&dn("Update Entity",t);let o;this._setState(s=>i0({idKey:this.idKey,ids:t,preUpdateEntity:this.akitaPreUpdateEntity.bind(this),state:s,newStateOrFn:r,producerFn:this._producerFn,onEntityIdChanges:(a,c)=>{o={oldId:a,newId:c},this.entityIdChanges.next(vt(xe({},o),{pending:!0}))}})),o&&this.entityIdChanges.next(vt(xe({},o),{pending:!1})),this.entityActions.next({type:Qs.Update,ids:t})}upsert(i,r,t,o={}){let s=sn(i),a=b=>d=>Ao(this.entities,d)===b,c=Cr(t)?o.baseClass:t?t.baseClass:void 0,l=Cr(c),u=s.filter(a(!0)),y=s.filter(a(!1)).map(b=>{let d=typeof r=="function"?r({}):r,f=Cr(t)?t(b,d):d,h=vt(xe({},f),{[this.idKey]:b});return l?new c(h):h});this.update(u,r),this.add(y),qr()&&xi("Upsert Entity")}upsertMany(i,r={}){let t=[],o=[],s={};for(let a of i){let c=this.akitaPreCheckEntity(a),l=c[this.idKey];if(Ao(this.entities,l)){let u=this._value().entities[l],y=xe(xe({},this._value().entities[l]),c),b=r.baseClass?new r.baseClass(y):y,d=this.akitaPreUpdateEntity(u,b),f=d[this.idKey];s[f]=d,o.push(f)}else{let u=r.baseClass?new r.baseClass(c):c,y=this.akitaPreAddEntity(u),b=y[this.idKey];t.push(b),s[b]=y}}qr()&&xi("Upsert Many"),this._setState(a=>vt(xe({},a),{ids:t.length?[...a.ids,...t]:a.ids,entities:xe(xe({},a.entities),s),loading:!!r.loading})),o.length&&this.entityActions.next({type:Qs.Update,ids:o}),t.length&&this.entityActions.next({type:Qs.Add,ids:t}),t.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(i,r){let t=sn(i);if(Oo(t))return;let o={};for(let s of t)o[s]=vt(xe({},r),{[this.idKey]:s});qr()&&dn("Replace Entity",i),this._setState(s=>vt(xe({},s),{entities:xe(xe({},s.entities),o)}))}move(i,r){let t=this.ids.slice();t.splice(r<0?t.length+r:r,0,t.splice(i,1)[0]),qr()&&dn("Move Entity"),this._setState(o=>vt(xe({},o),{entities:xe({},o.entities),ids:t}))}remove(i){if(Oo(this.ids))return;let r=Va(i),t=[];Cr(i)?t=this.ids.filter(o=>i(this.entities[o])):t=r?sn(i):this.ids,!Oo(t)&&(qr()&&dn("Remove Entity",t),this._setState(o=>Kb({state:o,ids:t})),r||this.setHasCache(!1),this.handleUIRemove(t),this.entityActions.next({type:Qs.Remove,ids:t}))}updateActive(i){let r=sn(this.active);qr()&&dn("Update Active",r),this.update(r,i)}setActive(i){let r=Qb(i,this.ids,this.active);r!==void 0&&(qr()&&dn("Set Active",r),this._setActive(r))}addActive(i){let r=sn(i);Oo(r)||r.every(o=>this.active.indexOf(o)>-1)||(qr()&&dn("Add Active",i),this._setState(o=>{let s=Array.from(new Set([...o.active,...r]));return vt(xe({},o),{active:s})}))}removeActive(i){let r=sn(i);Oo(r)||!r.some(o=>this.active.indexOf(o)>-1)||(qr()&&dn("Remove Active",i),this._setState(o=>vt(xe({},o),{active:Array.isArray(o.active)?o.active.filter(s=>r.indexOf(s)===-1):null})))}toggleActive(i){let r=sn(i),t=a=>c=>this.active.includes(c)===a,o=r.filter(t(!0)),s=r.filter(t(!1));this.removeActive(o),this.addActive(s),qr()&&xi("Toggle Active")}createUIStore(i={},r={}){let t={name:`UI/${this.storeName}`,idKey:this.idKey};return this.ui=new Vu(i,xe(xe({},t),r)),this.ui}destroy(){super.destroy(),this.ui instanceof n&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(i,r){return r}akitaPreAddEntity(i){return i}akitaPreCheckEntity(i){return i}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(i){this._setState(r=>vt(xe({},r),{active:i}))}handleUICreation(i=!1){let r=this.ids,t=Cr(this.ui._akitaCreateEntityFn),o,s=a=>{let c=this.entities[a],l=t?this.ui._akitaCreateEntityFn(c):this.ui._akitaCreateEntityFn;return xe({[this.idKey]:c[this.idKey]},l)};i?o=this.ids.filter(a=>no(this.ui.entities[a])).map(s):o=r.map(s),i?this.ui.add(o):this.ui.set(o)}hasInitialUIState(){return this.hasUIStore()&&no(this.ui._akitaCreateEntityFn)===!1}handleUIRemove(i){this.hasUIStore()&&this.ui.remove(i)}hasUIStore(){return this.ui instanceof Vu}};Sa([Up(),Xi("design:type",Function),Xi("design:paramtypes",[Object,Object,Object,Object]),Xi("design:returntype",void 0)],za.prototype,"upsert",null);Sa([Up(),Xi("design:type",Function),Xi("design:paramtypes",[typeof(cD=typeof T<"u"&&T)=="function"?cD:Object]),Xi("design:returntype",void 0)],za.prototype,"toggleActive",null);var Vu=class extends za{constructor(i={},r={}){super(i,r)}setInitialEntityState(i){this._akitaCreateEntityFn=i}};function o0(){return Vt(n=>n!=null)}function uD(n){return function(i,r){let t=Cr(n[0]);return n.some(o=>t?o(i)!==o(r):i[o]!==r[o])===!1}}function Ha(n){return typeof n=="string"}var s0="akitaQueryConfig";var Ga=class{constructor(i){this.store=i,this.__store__=i,qr()&&(Xb[i.storeName]=this)}select(i){let r;if(Cr(i))r=i;else if(Ha(i))r=t=>t[i];else{if(Array.isArray(i))return this.store._select(t=>t).pipe(mn(uD(i)),wt(t=>Cr(i[0])?i.map(o=>o(t)):i.reduce((o,s)=>(o[s]=t[s],o),{})));r=t=>t}return this.store._select(r)}selectLoading(){return this.select(i=>i.loading)}selectError(){return this.select(i=>i.error)}getValue(){return this.store._value()}selectHasCache(){return this.store._cache().asObservable()}getHasCache(){return this.store._cache().value}get config(){return this.constructor[s0]}};function $a(n,i){return i.split(".").length===1?n:i.split(".").slice(1).join(".").split(".").reduce((t,o)=>t&&t[o],n)}function nc(n,i,r,t=!1){let o=i.split(".");if(o.length===1)return xe(xe({},n),r);n=xe({},n);let s=o.length-2;return i.split(".").slice(1).reduce((c,l,u)=>u!==s?(c[l]=xe({},c[l]),c&&c[l]):(c[l]=t||Array.isArray(c[l])||!Ro(c[l])?r:xe(xe({},c[l]),r),c&&c[l]),n),n}var hD=!1,l3=new Ho(1);function a0(n){hD=n}function c3(){return hD}function u3(n){return n&&Cr(n.then)}function Uu(n){return u3(n)||Go(n)?dr(n):_t(n)}function l0(n){let i={key:"AkitaStores",enableInNonBrowser:!1,storage:Yb()?localStorage:n.storage,deserialize:JSON.parse,serialize:JSON.stringify,include:[],select:[],persistOnDestroy:!1,preStorageUpdate:function(I,D){return D},preStoreUpdate:function(I,D){return D},skipStorageUpdate:c3,preStorageUpdateOperator:()=>I=>I},{storage:r,enableInNonBrowser:t,deserialize:o,serialize:s,include:a,select:c,key:l,preStorageUpdate:u,persistOnDestroy:y,preStorageUpdateOperator:b,preStoreUpdate:d,skipStorageUpdate:f}=Object.assign({},i,n);if(Lp&&!t||!r)return;let h=a.length>0,m=c.length>0,g,p;h&&(g=a.reduce((I,D)=>{if(Cr(D))I.fns.push(D);else{let P=D.split(".")[0];I[P]=D}return I},{fns:[]})),m&&(p=c.reduce((I,D)=>(I[D.storeName]=D,I),{}));let v={},_={},w=[],S=[];function M(I){Uu(I).subscribe(()=>{let D=S.shift();D&&M(D)})}let j=Yb()&&r===localStorage||tD()&&r===sessionStorage;return Uu(r.getItem(l)).subscribe(I=>{let D=Ro(I)?I:o(I||"{}");function P(O){D.$cache=xe(xe({},D.$cache||{}),O),D=Object.assign({},D,_),S.push(r.setItem(l,j?s(D):D)),M(S.shift())}function A(O,z){v[O]=hn[O]._select(U=>$a(U,z)).pipe(Ms(1),wt(U=>m&&p[O]?p[O](U):U),Vt(()=>f()===!1),b()).subscribe(U=>{_[O]=u(O,U),Promise.resolve().then(()=>P({[O]:hn[O]._cache().getValue()}))})}function N(O,z,U){if(O in D){dn("@PersistState"),z._setState(W=>nc(W,U,d(O,D[O],W)));let F=D.$cache?D.$cache[O]:!1;hn[O].setHasCache(F,{restartTTL:!0})}}w.push(Np.subscribe(O=>{v[O]&&(y===!1&&P({[O]:!1}),v[O].unsubscribe(),delete v[O])})),w.push(ec.subscribe(O=>{if(O==="router")return;let z=hn[O];if(h){let U=g[O];if(!U)if(g.fns.some(W=>W(O)))U=O;else return;N(O,z,U),A(O,U)}else N(O,z,O),A(O,O)})),l3.next(!0)}),{destroy(){w.forEach(I=>I.unsubscribe());for(let I=0,D=Object.keys(v);I<D.length;I++){let P=D[I];v[P].unsubscribe()}v={}},clear(){r.clear()},clearStore(I){if(vn(I)){Uu(r.setItem(l,"{}")).subscribe();return}let D=r.getItem(l);Uu(D).subscribe(P=>{let A=o(P||"{}");A[I]&&(delete A[I],Uu(r.setItem(l,s(A))).subscribe())})}}}var Ks=class{constructor(i,r){this.query=i,r&&r.resetFn&&Jl().resettable&&this.onReset(r.resetFn)}getQuery(){return this.query}getStore(){return this.getQuery().__store__}isEntityBased(i){return cs(i)}selectSource(i,r){return this.isEntityBased(i)?this.getQuery().selectEntity(i).pipe(o0()):r?this.getQuery().select(t=>$a(t,this.withStoreName(r))):this.getQuery().select()}getSource(i,r){if(this.isEntityBased(i))return this.getQuery().getEntity(i);let t=this.getQuery().getValue();return r?$a(t,this.withStoreName(r)):t}withStoreName(i){return`${this.storeName}.${i}`}get storeName(){return this.getStore().storeName}updateStore(i,r,t,o=!1){if(this.isEntityBased(r)){let s=this.getStore();o?s.replace(r,i):s.update(r,i)}else{if(t){this.getStore()._setState(a=>nc(a,this.withStoreName(t),i,!0));return}let s=o?i:a=>xe(xe({},a),i);this.getStore()._setState(s)}}onReset(i){let r=this.getStore().reset;this.getStore().reset=(...t)=>{setTimeout(()=>{r.apply(this.getStore(),t),i()})}}};var p3={pagesControls:!1,range:!1,startWith:1,cacheTimeout:void 0,clearStoreWithCache:!0},zp=class extends Ks{constructor(i,r={}){super(i,{resetFn:()=>{this.initial=!1,this.destroy({clearCache:!0,currentPage:1})}}),this.query=i,this.config=r,this.metadata=new Map,this.pages=new Map,this.pagination={currentPage:1,perPage:0,total:0,lastPage:0,data:[]},this.initial=!0,this.isLoading$=this.query.selectLoading().pipe(qo(0)),this.config=xe(xe({},p3),r);let{startWith:t,cacheTimeout:o}=this.config;this.page=new Sr(t),Go(o)&&(this.clearCacheSubscription=o.subscribe(()=>this.clearCache()))}get pageChanges(){return this.page.asObservable()}get currentPage(){return this.pagination.currentPage}get isFirst(){return this.currentPage===1}get isLast(){return this.currentPage===this.pagination.lastPage}withControls(){return this.config.pagesControls=!0,this}withRange(){return this.config.range=!0,this}setLoading(i=!0){this.getStore().setLoading(i)}update(i){this.pagination=i,this.addPage(i.data)}addPage(i){this.pages.set(this.currentPage,{ids:i.map(r=>r[this.getStore().idKey])}),this.getStore().upsertMany(i)}clearCache(i={}){this.initial||(xi("@Pagination - Clear Cache"),i.clearStore!==!1&&(this.config.clearStoreWithCache||i.clearStore)&&this.getStore().remove(),this.pages=new Map,this.metadata=new Map),this.initial=!1}clearPage(i){this.pages.delete(i)}destroy({clearCache:i,currentPage:r}={}){this.clearCacheSubscription&&this.clearCacheSubscription.unsubscribe(),i&&this.clearCache(),no(r)||this.setPage(r),this.initial=!0}isPageActive(i){return this.currentPage===i}setPage(i){(i!==this.currentPage||!this.hasPage(i))&&this.page.next(this.pagination.currentPage=i)}nextPage(){this.currentPage!==this.pagination.lastPage&&this.setPage(this.pagination.currentPage+1)}prevPage(){this.pagination.currentPage>1&&this.setPage(this.pagination.currentPage-1)}setLastPage(){this.setPage(this.pagination.lastPage)}setFirstPage(){this.setPage(1)}hasPage(i){return this.pages.has(i)}getPage(i){let r=this.pagination.currentPage;return this.hasPage(r)?this.selectPage(r):(this.setLoading(!0),dr(i()).pipe(Tr(t=>(r=t.currentPage,Bu(()=>{this.setLoading(!1),this.update(t)}),this.selectPage(r)))))}getQuery(){return this.query}refreshCurrentPage(){vn(this.currentPage)===!1&&(this.clearPage(this.currentPage),this.setPage(this.currentPage))}getFrom(){return this.isFirst?1:(this.currentPage-1)*this.pagination.perPage+1}getTo(){return this.isLast?this.pagination.total:this.currentPage*this.pagination.perPage}selectPage(i){return this.query.selectAll({asObject:!0}).pipe(Mr(1),wt(r=>{let t=vt(xe({},this.pagination),{data:this.pages.get(i).ids.map(a=>r[a])}),{range:o,pagesControls:s}=this.config;return isNaN(this.pagination.total)&&(t.lastPage===1?t.total=t.data?t.data.length:0:t.total=t.perPage*t.lastPage,this.pagination.total=t.total),o&&(t.from=this.getFrom(),t.to=this.getTo()),s&&(t.pageControls=m3(this.pagination.total,this.pagination.perPage)),t}))}};Sa([Wb("@Pagination - New Page"),Xi("design:type",Function),Xi("design:paramtypes",[Object]),Xi("design:returntype",void 0)],zp.prototype,"update",null);function m3(n,i){let r=Math.ceil(n/i),t=[];for(let o=0;o<r;o++)t.push(o+1);return t}var c0=function(n){return n.Update="UPDATE",n}(c0||{}),ere={[c0.Update]:"update"},ds=function(n){return n.Update="UPDATE",n.AddEntities="ADD_ENTITIES",n.SetEntities="SET_ENTITIES",n.UpdateEntities="UPDATE_ENTITIES",n.RemoveEntities="REMOVE_ENTITIES",n.UpsertEntities="UPSERT_ENTITIES",n.UpsertManyEntities="UPSERT_MANY_ENTITIES",n}(ds||{}),tre={[ds.Update]:"update",[ds.AddEntities]:"add",[ds.SetEntities]:"set",[ds.UpdateEntities]:"update",[ds.RemoveEntities]:"remove",[ds.UpsertEntities]:"upsert",[ds.UpsertManyEntities]:"upsertMany"};var Hp=class{getStoresSnapshot(i=[]){let r={},o=i.length>0?i:Object.keys(hn);for(let s=0;s<o.length;s++){let a=o[s];a!=="router"&&(r[a]=hn[a]._value())}return r}setStoresSnapshot(i,r){let t=xe({skipStorageUpdate:!1,lazy:!1},r);t.skipStorageUpdate&&a0(!0);let o=i;Ha(i)&&(o=JSON.parse(o));let s=Object.keys(o).length;if(t.lazy)ec.pipe(Vt(a=>o.hasOwnProperty(a)),Mr(s)).subscribe(a=>hn[a]._setState(()=>o[a]));else for(let a=0,c=Object.keys(o);a<c.length;a++){let l=c[a];hn[l]&&hn[l]._setState(()=>o[l])}t.skipStorageUpdate&&a0(!1)}},y3=new Hp;var rr=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(rr||{}),Po="*";function Si(n,i){return{type:rr.Trigger,name:n,definitions:i,options:{}}}function On(n,i=null){return{type:rr.Animate,styles:i,timings:n}}function pD(n,i=null){return{type:rr.Sequence,steps:n,options:i}}function Lr(n){return{type:rr.Style,styles:n,offset:null}}function ci(n,i,r){return{type:rr.State,name:n,styles:i,options:r}}function Rn(n,i,r=null){return{type:rr.Transition,expr:n,animation:i,options:r}}var Js=class{constructor(i=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let r=i=="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},zu=class{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let r=0,t=0,o=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++r==s&&this._onFinish()}),a.onDestroy(()=>{++t==s&&this._onDestroy()}),a.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let r=i*this.totalTime;this.players.forEach(t=>{let o=t.totalTime?Math.min(1,r/t.totalTime):1;t.setPosition(o)})}getPosition(){let i=this.players.reduce((r,t)=>r===null||t.totalTime>r.totalTime?t:r,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let r=i=="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},Gp="!";function mD(n){return new Xe(3e3,!1)}function v3(){return new Xe(3100,!1)}function b3(){return new Xe(3101,!1)}function _3(n){return new Xe(3001,!1)}function w3(n){return new Xe(3003,!1)}function x3(n){return new Xe(3004,!1)}function S3(n,i){return new Xe(3005,!1)}function C3(){return new Xe(3006,!1)}function E3(){return new Xe(3007,!1)}function I3(n,i){return new Xe(3008,!1)}function D3(n){return new Xe(3002,!1)}function M3(n,i,r,t,o){return new Xe(3010,!1)}function T3(){return new Xe(3011,!1)}function k3(){return new Xe(3012,!1)}function j3(){return new Xe(3200,!1)}function A3(){return new Xe(3202,!1)}function O3(){return new Xe(3013,!1)}function R3(n){return new Xe(3014,!1)}function P3(n){return new Xe(3015,!1)}function F3(n){return new Xe(3016,!1)}function N3(n,i){return new Xe(3404,!1)}function L3(n){return new Xe(3502,!1)}function B3(n){return new Xe(3503,!1)}function V3(){return new Xe(3300,!1)}function U3(n){return new Xe(3504,!1)}function z3(n){return new Xe(3301,!1)}function H3(n,i){return new Xe(3302,!1)}function G3(n){return new Xe(3303,!1)}function $3(n,i){return new Xe(3400,!1)}function W3(n){return new Xe(3401,!1)}function q3(n){return new Xe(3402,!1)}function Y3(n,i){return new Xe(3505,!1)}function ea(n){switch(n.length){case 0:return new Js;case 1:return n[0];default:return new zu(n)}}function TD(n,i,r=new Map,t=new Map){let o=[],s=[],a=-1,c=null;if(i.forEach(l=>{let u=l.get("offset"),y=u==a,b=y&&c||new Map;l.forEach((d,f)=>{let h=f,m=d;if(f!=="offset")switch(h=n.normalizePropertyName(h,o),m){case Gp:m=r.get(f);break;case Po:m=t.get(f);break;default:m=n.normalizeStyleValue(f,h,m,o);break}b.set(h,m)}),y||s.push(b),c=b,a=u}),o.length)throw L3(o);return s}function A0(n,i,r,t){switch(i){case"start":n.onStart(()=>t(r&&u0(r,"start",n)));break;case"done":n.onDone(()=>t(r&&u0(r,"done",n)));break;case"destroy":n.onDestroy(()=>t(r&&u0(r,"destroy",n)));break}}function u0(n,i,r){let t=r.totalTime,o=!!r.disabled,s=O0(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,o),a=n._data;return a!=null&&(s._data=a),s}function O0(n,i,r,t,o="",s=0,a){return{element:n,triggerName:i,fromState:r,toState:t,phaseName:o,totalTime:s,disabled:!!a}}function Ei(n,i,r){let t=n.get(i);return t||n.set(i,t=r),t}function gD(n){let i=n.indexOf(":"),r=n.substring(1,i),t=n.slice(i+1);return[r,t]}var X3=typeof document>"u"?null:document.documentElement;function R0(n){let i=n.parentNode||n.host||null;return i===X3?null:i}function Q3(n){return n.substring(1,6)=="ebkit"}var Wa=null,yD=!1;function Z3(n){Wa||(Wa=K3()||{},yD=Wa.style?"WebkitAppearance"in Wa.style:!1);let i=!0;return Wa.style&&!Q3(n)&&(i=n in Wa.style,!i&&yD&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wa.style)),i}function K3(){return typeof document<"u"?document.body:null}function kD(n,i){for(;i;){if(i===n)return!0;i=R0(i)}return!1}function jD(n,i,r){if(r)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var P0=(()=>{class n{validateStyleProperty(r){return Z3(r)}containsElement(r,t){return kD(r,t)}getParentElement(r){return R0(r)}query(r,t,o){return jD(r,t,o)}computeStyle(r,t,o){return o||""}animate(r,t,o,s,a,c=[],l){return new Js(o,s)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})(),Xa=class{static{this.NOOP=new P0}},Qa=class{};var J3=1e3,AD="{{",e5="}}",OD="ng-enter",g0="ng-leave",$p="ng-trigger",Qp=".ng-trigger",vD="ng-animating",y0=".ng-animating";function hs(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:v0(parseFloat(i[1]),i[2])}function v0(n,i){switch(i){case"s":return n*J3;default:return n}}function Zp(n,i,r){return n.hasOwnProperty("duration")?n:t5(n,i,r)}function t5(n,i,r){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,s=0,a="";if(typeof n=="string"){let c=n.match(t);if(c===null)return i.push(mD(n)),{duration:0,delay:0,easing:""};o=v0(parseFloat(c[1]),c[2]);let l=c[3];l!=null&&(s=v0(parseFloat(l),c[4]));let u=c[5];u&&(a=u)}else o=n;if(!r){let c=!1,l=i.length;o<0&&(i.push(v3()),c=!0),s<0&&(i.push(b3()),c=!0),c&&i.splice(l,0,mD(n))}return{duration:o,delay:s,easing:a}}function r5(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function Fo(n,i,r){i.forEach((t,o)=>{let s=F0(o);r&&!r.has(o)&&r.set(o,n.style[s]),n.style[s]=t})}function Ya(n,i){i.forEach((r,t)=>{let o=F0(t);n.style[o]=""})}function Hu(n){return Array.isArray(n)?n.length==1?n[0]:pD(n):n}function n5(n,i,r){let t=i.params||{},o=RD(n);o.length&&o.forEach(s=>{t.hasOwnProperty(s)||r.push(_3(s))})}var b0=new RegExp(`${AD}\\s*(.+?)\\s*${e5}`,"g");function RD(n){let i=[];if(typeof n=="string"){let r;for(;r=b0.exec(n);)i.push(r[1]);b0.lastIndex=0}return i}function $u(n,i,r){let t=`${n}`,o=t.replace(b0,(s,a)=>{let c=i[a];return c==null&&(r.push(w3(a)),c=""),c.toString()});return o==t?n:o}var i5=/-+([a-z0-9])/g;function F0(n){return n.replace(i5,(...i)=>i[1].toUpperCase())}function o5(n,i){return n===0||i===0}function s5(n,i,r){if(r.size&&i.length){let t=i[0],o=[];if(r.forEach((s,a)=>{t.has(a)||o.push(a),t.set(a,s)}),o.length)for(let s=1;s<i.length;s++){let a=i[s];o.forEach(c=>a.set(c,N0(n,c)))}}return i}function Ci(n,i,r){switch(i.type){case rr.Trigger:return n.visitTrigger(i,r);case rr.State:return n.visitState(i,r);case rr.Transition:return n.visitTransition(i,r);case rr.Sequence:return n.visitSequence(i,r);case rr.Group:return n.visitGroup(i,r);case rr.Animate:return n.visitAnimate(i,r);case rr.Keyframes:return n.visitKeyframes(i,r);case rr.Style:return n.visitStyle(i,r);case rr.Reference:return n.visitReference(i,r);case rr.AnimateChild:return n.visitAnimateChild(i,r);case rr.AnimateRef:return n.visitAnimateRef(i,r);case rr.Query:return n.visitQuery(i,r);case rr.Stagger:return n.visitStagger(i,r);default:throw x3(i.type)}}function N0(n,i){return window.getComputedStyle(n)[i]}var a5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Kp=class extends Qa{normalizePropertyName(i,r){return F0(i)}normalizeStyleValue(i,r,t,o){let s="",a=t.toString().trim();if(a5.has(r)&&t!==0&&t!=="0")if(typeof t=="number")s="px";else{let c=t.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&o.push(S3(i,t))}return a+s}};var Jp="*";function l5(n,i){let r=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>c5(t,r,i)):r.push(n),r}function c5(n,i,r){if(n[0]==":"){let l=u5(n,r);if(typeof l=="function"){i.push(l);return}n=l}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return r.push(P3(n)),i;let o=t[1],s=t[2],a=t[3];i.push(bD(o,a));let c=o==Jp&&a==Jp;s[0]=="<"&&!c&&i.push(bD(a,o))}function u5(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,t)=>parseFloat(t)>parseFloat(r);case":decrement":return(r,t)=>parseFloat(t)<parseFloat(r);default:return i.push(F3(n)),"* => *"}}var Wp=new Set(["true","1"]),qp=new Set(["false","0"]);function bD(n,i){let r=Wp.has(n)||qp.has(n),t=Wp.has(i)||qp.has(i);return(o,s)=>{let a=n==Jp||n==o,c=i==Jp||i==s;return!a&&r&&typeof o=="boolean"&&(a=o?Wp.has(n):qp.has(n)),!c&&t&&typeof s=="boolean"&&(c=s?Wp.has(i):qp.has(i)),a&&c}}var PD=":self",d5=new RegExp(`s*${PD}s*,?`,"g");function FD(n,i,r,t){return new _0(n).build(i,r,t)}var _D="",_0=class{constructor(i){this._driver=i}build(i,r,t){let o=new w0(r);return this._resetContextStyleTimingState(o),Ci(this,Hu(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector=_D,i.collectedStyles=new Map,i.collectedStyles.set(_D,new Map),i.currentTime=0}visitTrigger(i,r){let t=r.queryCount=0,o=r.depCount=0,s=[],a=[];return i.name.charAt(0)=="@"&&r.errors.push(C3()),i.definitions.forEach(c=>{if(this._resetContextStyleTimingState(r),c.type==rr.State){let l=c,u=l.name;u.toString().split(/\s*,\s*/).forEach(y=>{l.name=y,s.push(this.visitState(l,r))}),l.name=u}else if(c.type==rr.Transition){let l=this.visitTransition(c,r);t+=l.queryCount,o+=l.depCount,a.push(l)}else r.errors.push(E3())}),{type:rr.Trigger,name:i.name,states:s,transitions:a,queryCount:t,depCount:o,options:null}}visitState(i,r){let t=this.visitStyle(i.styles,r),o=i.options&&i.options.params||null;if(t.containsDynamicStyles){let s=new Set,a=o||{};t.styles.forEach(c=>{c instanceof Map&&c.forEach(l=>{RD(l).forEach(u=>{a.hasOwnProperty(u)||s.add(u)})})}),s.size&&r.errors.push(I3(i.name,[...s.values()]))}return{type:rr.State,name:i.name,style:t,options:o?{params:o}:null}}visitTransition(i,r){r.queryCount=0,r.depCount=0;let t=Ci(this,Hu(i.animation),r),o=l5(i.expr,r.errors);return{type:rr.Transition,matchers:o,animation:t,queryCount:r.queryCount,depCount:r.depCount,options:qa(i.options)}}visitSequence(i,r){return{type:rr.Sequence,steps:i.steps.map(t=>Ci(this,t,r)),options:qa(i.options)}}visitGroup(i,r){let t=r.currentTime,o=0,s=i.steps.map(a=>{r.currentTime=t;let c=Ci(this,a,r);return o=Math.max(o,r.currentTime),c});return r.currentTime=o,{type:rr.Group,steps:s,options:qa(i.options)}}visitAnimate(i,r){let t=m5(i.timings,r.errors);r.currentAnimateTimings=t;let o,s=i.styles?i.styles:Lr({});if(s.type==rr.Keyframes)o=this.visitKeyframes(s,r);else{let a=i.styles,c=!1;if(!a){c=!0;let u={};t.easing&&(u.easing=t.easing),a=Lr(u)}r.currentTime+=t.duration+t.delay;let l=this.visitStyle(a,r);l.isEmptyStep=c,o=l}return r.currentAnimateTimings=null,{type:rr.Animate,timings:t,style:o,options:null}}visitStyle(i,r){let t=this._makeStyleAst(i,r);return this._validateStyleAst(t,r),t}_makeStyleAst(i,r){let t=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let c of o)typeof c=="string"?c===Po?t.push(c):r.errors.push(D3(c)):t.push(new Map(Object.entries(c)));let s=!1,a=null;return t.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s)){for(let l of c.values())if(l.toString().indexOf(AD)>=0){s=!0;break}}}),{type:rr.Style,styles:t,easing:a,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,r){let t=r.currentAnimateTimings,o=r.currentTime,s=r.currentTime;t&&s>0&&(s-=t.duration+t.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((c,l)=>{let u=r.collectedStyles.get(r.currentQuerySelector),y=u.get(l),b=!0;y&&(s!=o&&s>=y.startTime&&o<=y.endTime&&(r.errors.push(M3(l,y.startTime,y.endTime,s,o)),b=!1),s=y.startTime),b&&u.set(l,{startTime:s,endTime:o}),r.options&&n5(c,r.options,r.errors)})})}visitKeyframes(i,r){let t={type:rr.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(T3()),t;let o=1,s=0,a=[],c=!1,l=!1,u=0,y=i.steps.map(p=>{let v=this._makeStyleAst(p,r),_=v.offset!=null?v.offset:p5(v.styles),w=0;return _!=null&&(s++,w=v.offset=_),l=l||w<0||w>1,c=c||w<u,u=w,a.push(w),v});l&&r.errors.push(k3()),c&&r.errors.push(j3());let b=i.steps.length,d=0;s>0&&s<b?r.errors.push(A3()):s==0&&(d=o/(b-1));let f=b-1,h=r.currentTime,m=r.currentAnimateTimings,g=m.duration;return y.forEach((p,v)=>{let _=d>0?v==f?1:d*v:a[v],w=_*g;r.currentTime=h+m.delay+w,m.duration=w,this._validateStyleAst(p,r),p.offset=_,t.styles.push(p)}),t}visitReference(i,r){return{type:rr.Reference,animation:Ci(this,Hu(i.animation),r),options:qa(i.options)}}visitAnimateChild(i,r){return r.depCount++,{type:rr.AnimateChild,options:qa(i.options)}}visitAnimateRef(i,r){return{type:rr.AnimateRef,animation:this.visitReference(i.animation,r),options:qa(i.options)}}visitQuery(i,r){let t=r.currentQuerySelector,o=i.options||{};r.queryCount++,r.currentQuery=i;let[s,a]=h5(i.selector);r.currentQuerySelector=t.length?t+" "+s:s,Ei(r.collectedStyles,r.currentQuerySelector,new Map);let c=Ci(this,Hu(i.animation),r);return r.currentQuery=null,r.currentQuerySelector=t,{type:rr.Query,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:c,originalSelector:i.selector,options:qa(i.options)}}visitStagger(i,r){r.currentQuery||r.errors.push(O3());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:Zp(i.timings,r.errors,!0);return{type:rr.Stagger,animation:Ci(this,Hu(i.animation),r),timings:t,options:null}}};function h5(n){let i=!!n.split(/\s*,\s*/).find(r=>r==PD);return i&&(n=n.replace(d5,"")),n=n.replace(/@\*/g,Qp).replace(/@\w+/g,r=>Qp+"-"+r.slice(1)).replace(/:animating/g,y0),[n,i]}function f5(n){return n?xe({},n):null}var w0=class{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function p5(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(r=>{if(r instanceof Map&&r.has("offset")){let t=r;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let r=n;i=parseFloat(r.get("offset")),r.delete("offset")}return i}function m5(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Zp(n,i).duration;return d0(s,0,"")}let r=n;if(r.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=d0(0,0,"");return s.dynamic=!0,s.strValue=r,s}let o=Zp(r,i);return d0(o.duration,o.delay,o.easing)}function qa(n){return n?(n=xe({},n),n.params&&(n.params=f5(n.params))):n={},n}function d0(n,i,r){return{duration:n,delay:i,easing:r}}function L0(n,i,r,t,o,s,a=null,c=!1){return{type:1,element:n,keyframes:i,preStyleProps:r,postStyleProps:t,duration:o,delay:s,totalTime:o+s,easing:a,subTimeline:c}}var Wu=class{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,r){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...r)}has(i){return this._map.has(i)}clear(){this._map.clear()}},g5=1,y5=":enter",v5=new RegExp(y5,"g"),b5=":leave",_5=new RegExp(b5,"g");function ND(n,i,r,t,o,s=new Map,a=new Map,c,l,u=[]){return new x0().buildKeyframes(n,i,r,t,o,s,a,c,l,u)}var x0=class{buildKeyframes(i,r,t,o,s,a,c,l,u,y=[]){u=u||new Wu;let b=new S0(i,r,u,o,s,y,[]);b.options=l;let d=l.delay?hs(l.delay):0;b.currentTimeline.delayNextStep(d),b.currentTimeline.setStyles([a],null,b.errors,l),Ci(this,t,b);let f=b.timelines.filter(h=>h.containsAnimation());if(f.length&&c.size){let h;for(let m=f.length-1;m>=0;m--){let g=f[m];if(g.element===r){h=g;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([c],null,b.errors,l)}return f.length?f.map(h=>h.buildKeyframes()):[L0(r,[],[],[],0,d,"",!1)]}visitTrigger(i,r){}visitState(i,r){}visitTransition(i,r){}visitAnimateChild(i,r){let t=r.subInstructions.get(r.element);if(t){let o=r.createSubContext(i.options),s=r.currentTimeline.currentTime,a=this._visitSubInstructions(t,o,o.options);s!=a&&r.transformIntoNewTimeline(a)}r.previousNode=i}visitAnimateRef(i,r){let t=r.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],r,t),this.visitReference(i.animation,t),r.transformIntoNewTimeline(t.currentTimeline.currentTime),r.previousNode=i}_applyAnimationRefDelays(i,r,t){for(let o of i){let s=o?.delay;if(s){let a=typeof s=="number"?s:hs($u(s,o?.params??{},r.errors));t.delayNextStep(a)}}}_visitSubInstructions(i,r,t){let s=r.currentTimeline.currentTime,a=t.duration!=null?hs(t.duration):null,c=t.delay!=null?hs(t.delay):null;return a!==0&&i.forEach(l=>{let u=r.appendInstructionToTimeline(l,a,c);s=Math.max(s,u.duration+u.delay)}),s}visitReference(i,r){r.updateOptions(i.options,!0),Ci(this,i.animation,r),r.previousNode=i}visitSequence(i,r){let t=r.subContextCount,o=r,s=i.options;if(s&&(s.params||s.delay)&&(o=r.createSubContext(s),o.transformIntoNewTimeline(),s.delay!=null)){o.previousNode.type==rr.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=em);let a=hs(s.delay);o.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>Ci(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),r.previousNode=i}visitGroup(i,r){let t=[],o=r.currentTimeline.currentTime,s=i.options&&i.options.delay?hs(i.options.delay):0;i.steps.forEach(a=>{let c=r.createSubContext(i.options);s&&c.delayNextStep(s),Ci(this,a,c),o=Math.max(o,c.currentTimeline.currentTime),t.push(c.currentTimeline)}),t.forEach(a=>r.currentTimeline.mergeTimelineCollectedStyles(a)),r.transformIntoNewTimeline(o),r.previousNode=i}_visitTiming(i,r){if(i.dynamic){let t=i.strValue,o=r.params?$u(t,r.params,r.errors):t;return Zp(o,r.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,r){let t=r.currentAnimateTimings=this._visitTiming(i.timings,r),o=r.currentTimeline;t.delay&&(r.incrementTime(t.delay),o.snapshotCurrentStyles());let s=i.style;s.type==rr.Keyframes?this.visitKeyframes(s,r):(r.incrementTime(t.duration),this.visitStyle(s,r),o.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=i}visitStyle(i,r){let t=r.currentTimeline,o=r.currentAnimateTimings;!o&&t.hasCurrentStyleProperties()&&t.forwardFrame();let s=o&&o.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(s):t.setStyles(i.styles,s,r.errors,r.options),r.previousNode=i}visitKeyframes(i,r){let t=r.currentAnimateTimings,o=r.currentTimeline.duration,s=t.duration,c=r.createSubContext().currentTimeline;c.easing=t.easing,i.styles.forEach(l=>{let u=l.offset||0;c.forwardTime(u*s),c.setStyles(l.styles,l.easing,r.errors,r.options),c.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(c),r.transformIntoNewTimeline(o+s),r.previousNode=i}visitQuery(i,r){let t=r.currentTimeline.currentTime,o=i.options||{},s=o.delay?hs(o.delay):0;s&&(r.previousNode.type===rr.Style||t==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=em);let a=t,c=r.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,r.errors);r.currentQueryTotal=c.length;let l=null;c.forEach((u,y)=>{r.currentQueryIndex=y;let b=r.createSubContext(i.options,u);s&&b.delayNextStep(s),u===r.element&&(l=b.currentTimeline),Ci(this,i.animation,b),b.currentTimeline.applyStylesToKeyframe();let d=b.currentTimeline.currentTime;a=Math.max(a,d)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(a),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=i}visitStagger(i,r){let t=r.parentContext,o=r.currentTimeline,s=i.timings,a=Math.abs(s.duration),c=a*(r.currentQueryTotal-1),l=a*r.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=c-l;break;case"full":l=t.currentStaggerTime;break}let y=r.currentTimeline;l&&y.delayNextStep(l);let b=y.currentTime;Ci(this,i.animation,r),r.previousNode=i,t.currentStaggerTime=o.currentTime-b+(o.startTime-t.currentTimeline.startTime)}},em={},S0=class n{constructor(i,r,t,o,s,a,c,l){this._driver=i,this.element=r,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=s,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=em,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new tm(this._driver,r,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,r){if(!i)return;let t=i,o=this.options;t.duration!=null&&(o.duration=hs(t.duration)),t.delay!=null&&(o.delay=hs(t.delay));let s=t.params;if(s){let a=o.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!r||!a.hasOwnProperty(c))&&(a[c]=$u(s[c],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let r=this.options.params;if(r){let t=i.params={};Object.keys(r).forEach(o=>{t[o]=r[o]})}}return i}createSubContext(i=null,r,t){let o=r||this.element,s=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=em,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,r,t){let o={duration:r??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},s=new C0(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,r,t,o,s,a){let c=[];if(o&&c.push(this.element),i.length>0){i=i.replace(v5,"."+this._enterClassName),i=i.replace(_5,"."+this._leaveClassName);let l=t!=1,u=this._driver.query(this.element,i,l);t!==0&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),c.push(...u)}return!s&&c.length==0&&a.push(R3(r)),c}},tm=class n{constructor(i,r,t,o){this._driver=i,this.element=r,this.startTime=t,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+i),r&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,r){return this.applyStylesToKeyframe(),new n(this._driver,i,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=g5,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,r){this._localTimelineStyles.set(i,r),this._globalTimelineStyles.set(i,r),this._styleSummary.set(i,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[r,t]of this._globalTimelineStyles)this._backFill.set(r,t||Po),this._currentKeyframe.set(r,Po);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,r,t,o){r&&this._previousKeyframe.set("easing",r);let s=o&&o.params||{},a=w5(i,this._globalTimelineStyles);for(let[c,l]of a){let u=$u(l,s,t);this._pendingStyles.set(c,u),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Po),this._updateStyle(c,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,r)=>{this._currentKeyframe.set(r,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,i)}))}snapshotCurrentStyles(){for(let[i,r]of this._localTimelineStyles)this._pendingStyles.set(i,r),this._updateStyle(i,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let r in this._currentKeyframe)i.push(r);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((r,t)=>{let o=this._styleSummary.get(t);(!o||r.time>o.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,r=new Set,t=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((c,l)=>{let u=new Map([...this._backFill,...c]);u.forEach((y,b)=>{y===Gp?i.add(b):y===Po&&r.add(b)}),t||u.set("offset",l/this.duration),o.push(u)});let s=[...i.values()],a=[...r.values()];if(t){let c=o[0],l=new Map(c);c.set("offset",0),l.set("offset",1),o=[c,l]}return L0(this.element,o,s,a,this.duration,this.startTime,this.easing,!1)}},C0=class extends tm{constructor(i,r,t,o,s,a,c=!1){super(i,r,a.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:r,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&r){let s=[],a=t+r,c=r/a,l=new Map(i[0]);l.set("offset",0),s.push(l);let u=new Map(i[0]);u.set("offset",wD(c)),s.push(u);let y=i.length-1;for(let b=1;b<=y;b++){let d=new Map(i[b]),f=d.get("offset"),h=r+f*t;d.set("offset",wD(h/a)),s.push(d)}t=a,r=0,o="",i=s}return L0(this.element,i,this.preStyleProps,this.postStyleProps,t,r,o,!0)}};function wD(n,i=3){let r=Math.pow(10,i-1);return Math.round(n*r)/r}function w5(n,i){let r=new Map,t;return n.forEach(o=>{if(o==="*"){t??=i.keys();for(let s of t)r.set(s,Po)}else for(let[s,a]of o)r.set(s,a)}),r}function xD(n,i,r,t,o,s,a,c,l,u,y,b,d){return{type:0,element:n,triggerName:i,isRemovalTransition:o,fromState:r,fromStyles:s,toState:t,toStyles:a,timelines:c,queriedElements:l,preStyleProps:u,postStyleProps:y,totalTime:b,errors:d}}var h0={},rm=class{constructor(i,r,t){this._triggerName=i,this.ast=r,this._stateStyles=t}match(i,r,t,o){return x5(this.ast.matchers,i,r,t,o)}buildStyles(i,r,t){let o=this._stateStyles.get("*");return i!==void 0&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(r,t):new Map}build(i,r,t,o,s,a,c,l,u,y){let b=[],d=this.ast.options&&this.ast.options.params||h0,f=c&&c.params||h0,h=this.buildStyles(t,f,b),m=l&&l.params||h0,g=this.buildStyles(o,m,b),p=new Set,v=new Map,_=new Map,w=o==="void",S={params:LD(m,d),delay:this.ast.options?.delay},M=y?[]:ND(i,r,this.ast.animation,s,a,h,g,S,u,b),j=0;return M.forEach(I=>{j=Math.max(I.duration+I.delay,j)}),b.length?xD(r,this._triggerName,t,o,w,h,g,[],[],v,_,j,b):(M.forEach(I=>{let D=I.element,P=Ei(v,D,new Set);I.preStyleProps.forEach(N=>P.add(N));let A=Ei(_,D,new Set);I.postStyleProps.forEach(N=>A.add(N)),D!==r&&p.add(D)}),xD(r,this._triggerName,t,o,w,h,g,M,[...p.values()],v,_,j))}};function x5(n,i,r,t,o){return n.some(s=>s(i,r,t,o))}function LD(n,i){let r=xe({},i);return Object.entries(n).forEach(([t,o])=>{o!=null&&(r[t]=o)}),r}var E0=class{constructor(i,r,t){this.styles=i,this.defaultParams=r,this.normalizer=t}buildStyles(i,r){let t=new Map,o=LD(i,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{a&&(a=$u(a,o,r));let l=this.normalizer.normalizePropertyName(c,r);a=this.normalizer.normalizeStyleValue(c,l,a,r),t.set(c,a)})}),t}};function S5(n,i,r){return new I0(n,i,r)}var I0=class{constructor(i,r,t){this.name=i,this.ast=r,this._normalizer=t,this.transitionFactories=[],this.states=new Map,r.states.forEach(o=>{let s=o.options&&o.options.params||{};this.states.set(o.name,new E0(o.style,s,t))}),SD(this.states,"true","1"),SD(this.states,"false","0"),r.transitions.forEach(o=>{this.transitionFactories.push(new rm(i,o,this.states))}),this.fallbackTransition=C5(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,r,t,o){return this.transitionFactories.find(a=>a.match(i,r,t,o))||null}matchStyles(i,r,t){return this.fallbackTransition.buildStyles(i,r,t)}};function C5(n,i,r){let t=[(a,c)=>!0],o={type:rr.Sequence,steps:[],options:null},s={type:rr.Transition,animation:o,matchers:t,options:null,queryCount:0,depCount:0};return new rm(n,s,i)}function SD(n,i,r){n.has(i)?n.has(r)||n.set(r,n.get(i)):n.has(r)&&n.set(i,n.get(r))}var E5=new Wu,D0=class{constructor(i,r,t){this.bodyNode=i,this._driver=r,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,r){let t=[],o=[],s=FD(this._driver,r,t,o);if(t.length)throw B3(t);o.length&&void 0,this._animations.set(i,s)}_buildPlayer(i,r,t){let o=i.element,s=TD(this._normalizer,i.keyframes,r,t);return this._driver.animate(o,s,i.duration,i.delay,i.easing,[],!0)}create(i,r,t={}){let o=[],s=this._animations.get(i),a,c=new Map;if(s?(a=ND(this._driver,r,s,OD,g0,new Map,new Map,t,E5,o),a.forEach(y=>{let b=Ei(c,y.element,new Map);y.postStyleProps.forEach(d=>b.set(d,null))})):(o.push(V3()),a=[]),o.length)throw U3(o);c.forEach((y,b)=>{y.forEach((d,f)=>{y.set(f,this._driver.computeStyle(b,f,Po))})});let l=a.map(y=>{let b=c.get(y.element);return this._buildPlayer(y,new Map,b)}),u=ea(l);return this._playersById.set(i,u),u.onDestroy(()=>this.destroy(i)),this.players.push(u),u}destroy(i){let r=this._getPlayer(i);r.destroy(),this._playersById.delete(i);let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1)}_getPlayer(i){let r=this._playersById.get(i);if(!r)throw z3(i);return r}listen(i,r,t,o){let s=O0(r,"","","");return A0(this._getPlayer(i),t,s,o),()=>{}}command(i,r,t,o){if(t=="register"){this.register(i,o[0]);return}if(t=="create"){let a=o[0]||{};this.create(i,r,a);return}let s=this._getPlayer(i);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i);break}}},CD="ng-animate-queued",I5=".ng-animate-queued",f0="ng-animate-disabled",D5=".ng-animate-disabled",M5="ng-star-inserted",T5=".ng-star-inserted",k5=[],BD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed",qu=class{get params(){return this.options.params}constructor(i,r=""){this.namespaceId=r;let t=i&&i.hasOwnProperty("value"),o=t?i.value:i;if(this.value=O5(o),t){let s=i,{value:a}=s,c=ml(s,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let r=i.params;if(r){let t=this.options.params;Object.keys(r).forEach(o=>{t[o]==null&&(t[o]=r[o])})}}},Gu="void",p0=new qu(Gu),M0=class{constructor(i,r,t){this.id=i,this.hostElement=r,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ui(r,this._hostClassName)}listen(i,r,t,o){if(!this._triggers.has(r))throw H3(t,r);if(t==null||t.length==0)throw G3(r);if(!R5(t))throw $3(t,r);let s=Ei(this._elementListeners,i,[]),a={name:r,phase:t,callback:o};s.push(a);let c=Ei(this._engine.statesByElement,i,new Map);return c.has(r)||(Ui(i,$p),Ui(i,$p+"-"+r),c.set(r,p0)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(r)||c.delete(r)})}}register(i,r){return this._triggers.has(i)?!1:(this._triggers.set(i,r),!0)}_getTrigger(i){let r=this._triggers.get(i);if(!r)throw W3(i);return r}trigger(i,r,t,o=!0){let s=this._getTrigger(r),a=new Yu(this.id,r,i),c=this._engine.statesByElement.get(i);c||(Ui(i,$p),Ui(i,$p+"-"+r),this._engine.statesByElement.set(i,c=new Map));let l=c.get(r),u=new qu(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),c.set(r,u),l||(l=p0),!(u.value===Gu)&&l.value===u.value){if(!N5(l.params,u.params)){let m=[],g=s.matchStyles(l.value,l.params,m),p=s.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ya(i,g),Fo(i,p)})}return}let d=Ei(this._engine.playersByElement,i,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==r&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,u.value,i,u.params),h=!1;if(!f){if(!o)return;f=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:r,transition:f,fromState:l,toState:u,player:a,isFallbackTransition:h}),h||(Ui(i,CD),a.onStart(()=>{ic(i,CD)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);let g=this._engine.playersByElement.get(i);if(g){let p=g.indexOf(a);p>=0&&g.splice(p,1)}}),this.players.push(a),d.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(r=>r.delete(i)),this._elementListeners.forEach((r,t)=>{this._elementListeners.set(t,r.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let r=this._engine.playersByElement.get(i);r&&(r.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,r){let t=this._engine.driver.query(i,Qp,!0);t.forEach(o=>{if(o[io])return;let s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(a=>a.triggerLeaveAnimation(o,r,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,r,t,o){let s=this._engine.statesByElement.get(i),a=new Map;if(s){let c=[];if(s.forEach((l,u)=>{if(a.set(u,l.value),this._triggers.has(u)){let y=this.trigger(i,u,Gu,o);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,i,!0,r,a),t&&ea(c).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let r=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(r&&t){let o=new Set;r.forEach(s=>{let a=s.name;if(o.has(a))return;o.add(a);let l=this._triggers.get(a).fallbackTransition,u=t.get(a)||p0,y=new qu(Gu),b=new Yu(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:l,fromState:u,toState:y,player:b,isFallbackTransition:!0})})}}removeNode(i,r){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,r),this.triggerLeaveAnimation(i,r,!0))return;let o=!1;if(t.totalAnimations){let s=t.players.length?t.playersByQueriedElement.get(i):[];if(s&&s.length)o=!0;else{let a=i;for(;a=a.parentNode;)if(t.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)t.markElementAsRemoved(this.id,i,!1,r);else{let s=i[io];(!s||s===BD)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,r))}}insertNode(i,r){Ui(i,this._hostClassName)}drainQueuedTransitions(i){let r=[];return this._queue.forEach(t=>{let o=t.player;if(o.destroyed)return;let s=t.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==t.triggerName){let l=O0(s,t.triggerName,t.fromState.value,t.toState.value);l._data=i,A0(t.player,c.phase,l,c.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):r.push(t)}),this._queue=[],r.sort((t,o)=>{let s=t.transition.ast.depCount,a=o.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(i){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},T0=class{_onRemovalComplete(i,r){this.onRemovalComplete(i,r)}constructor(i,r,t){this.bodyNode=i,this.driver=r,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let i=[];return this._namespaceList.forEach(r=>{r.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,r){let t=new M0(i,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(t,r):(this.newHostElements.set(r,t),this.collectEnterElement(r)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,r){let t=this._namespaceList,o=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,c=this.driver.getParentElement(r);for(;c;){let l=o.get(c);if(l){let u=t.indexOf(l);t.splice(u+1,0,i),a=!0;break}c=this.driver.getParentElement(c)}a||t.unshift(i)}else t.push(i);return o.set(r,i),i}register(i,r){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,r)),t}registerTrigger(i,r,t){let o=this._namespaceLookup[i];o&&o.register(r,t)&&this.totalAnimations++}destroy(i,r){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1),t.destroy(r),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let r=new Set,t=this.statesByElement.get(i);if(t){for(let o of t.values())if(o.namespaceId){let s=this._fetchNamespace(o.namespaceId);s&&r.add(s)}}return r}trigger(i,r,t,o){if(Yp(r)){let s=this._fetchNamespace(i);if(s)return s.trigger(r,t,o),!0}return!1}insertNode(i,r,t,o){if(!Yp(r))return;let s=r[io];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(r);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(r,t)}o&&this.collectEnterElement(r)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,r){r?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ui(i,f0)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ic(i,f0))}removeNode(i,r,t){if(Yp(r)){let o=i?this._fetchNamespace(i):null;o?o.removeNode(r,t):this.markElementAsRemoved(i,r,!1,t);let s=this.namespacesByHostElement.get(r);s&&s.id!==i&&s.removeNode(r,t)}else this._onRemovalComplete(r,t)}markElementAsRemoved(i,r,t,o,s){this.collectedLeaveElements.push(r),r[io]={namespaceId:i,setForRemoval:o,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,r,t,o,s){return Yp(r)?this._fetchNamespace(i).listen(r,t,o,s):()=>{}}_buildInstruction(i,r,t,o,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,o,i.fromState.options,i.toState.options,r,s)}destroyInnerAnimations(i){let r=this.driver.query(i,Qp,!0);r.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(i,y0,!0),r.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let r=this.playersByElement.get(i);r&&r.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let r=this.playersByQueriedElement.get(i);r&&r.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return ea(this.players).onDone(()=>i());i()})}processLeaveNode(i){let r=i[io];if(r&&r.setForRemoval){if(i[io]=BD,r.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(r.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,r.setForRemoval)}i.classList?.contains(f0)&&this.markElementAsDisabled(i,!1),this.driver.query(i,D5,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let o=this.collectedEnterElements[t];Ui(o,M5)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{r=this._flushAnimations(t,i)}finally{for(let o=0;o<t.length;o++)t[o]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let o=this.collectedLeaveElements[t];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],r.length?ea(r).onDone(()=>{t.forEach(o=>o())}):t.forEach(o=>o())}}reportError(i){throw q3(i)}_flushAnimations(i,r){let t=new Wu,o=[],s=new Map,a=[],c=new Map,l=new Map,u=new Map,y=new Set;this.disabledNodes.forEach(F=>{y.add(F);let W=this.driver.query(F,I5,!0);for(let $=0;$<W.length;$++)y.add(W[$])});let b=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=DD(d,this.collectedEnterElements),h=new Map,m=0;f.forEach((F,W)=>{let $=OD+m++;h.set(W,$),F.forEach(H=>Ui(H,$))});let g=[],p=new Set,v=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let W=this.collectedLeaveElements[F],$=W[io];$&&$.setForRemoval&&(g.push(W),p.add(W),$.hasAnimation?this.driver.query(W,T5,!0).forEach(H=>p.add(H)):v.add(W))}let _=new Map,w=DD(d,Array.from(p));w.forEach((F,W)=>{let $=g0+m++;_.set(W,$),F.forEach(H=>Ui(H,$))}),i.push(()=>{f.forEach((F,W)=>{let $=h.get(W);F.forEach(H=>ic(H,$))}),w.forEach((F,W)=>{let $=_.get(W);F.forEach(H=>ic(H,$))}),g.forEach(F=>{this.processLeaveNode(F)})});let S=[],M=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(r).forEach($=>{let H=$.player,X=$.element;if(S.push(H),this.collectedEnterElements.length){let Q=X[io];if(Q&&Q.setForMove){if(Q.previousTriggersValues&&Q.previousTriggersValues.has($.triggerName)){let ee=Q.previousTriggersValues.get($.triggerName),se=this.statesByElement.get($.element);if(se&&se.has($.triggerName)){let ue=se.get($.triggerName);ue.value=ee,se.set($.triggerName,ue)}}H.destroy();return}}let K=!b||!this.driver.containsElement(b,X),ae=_.get(X),L=h.get(X),E=this._buildInstruction($,t,L,ae,K);if(E.errors&&E.errors.length){M.push(E);return}if(K){H.onStart(()=>Ya(X,E.fromStyles)),H.onDestroy(()=>Fo(X,E.toStyles)),o.push(H);return}if($.isFallbackTransition){H.onStart(()=>Ya(X,E.fromStyles)),H.onDestroy(()=>Fo(X,E.toStyles)),o.push(H);return}let B=[];E.timelines.forEach(Q=>{Q.stretchStartingKeyframe=!0,this.disabledNodes.has(Q.element)||B.push(Q)}),E.timelines=B,t.append(X,E.timelines);let G={instruction:E,player:H,element:X};a.push(G),E.queriedElements.forEach(Q=>Ei(c,Q,[]).push(H)),E.preStyleProps.forEach((Q,ee)=>{if(Q.size){let se=l.get(ee);se||l.set(ee,se=new Set),Q.forEach((ue,ie)=>se.add(ie))}}),E.postStyleProps.forEach((Q,ee)=>{let se=u.get(ee);se||u.set(ee,se=new Set),Q.forEach((ue,ie)=>se.add(ie))})});if(M.length){let F=[];M.forEach(W=>{F.push(Y3(W.triggerName,W.errors))}),S.forEach(W=>W.destroy()),this.reportError(F)}let j=new Map,I=new Map;a.forEach(F=>{let W=F.element;t.has(W)&&(I.set(W,W),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,j))}),o.forEach(F=>{let W=F.element;this._getPreviousPlayers(W,!1,F.namespaceId,F.triggerName,null).forEach(H=>{Ei(j,W,[]).push(H),H.destroy()})});let D=g.filter(F=>MD(F,l,u)),P=new Map;ID(P,this.driver,v,u,Po).forEach(F=>{MD(F,l,u)&&D.push(F)});let N=new Map;f.forEach((F,W)=>{ID(N,this.driver,new Set(F),l,Gp)}),D.forEach(F=>{let W=P.get(F),$=N.get(F);P.set(F,new Map([...W?.entries()??[],...$?.entries()??[]]))});let O=[],z=[],U={};a.forEach(F=>{let{element:W,player:$,instruction:H}=F;if(t.has(W)){if(y.has(W)){$.onDestroy(()=>Fo(W,H.toStyles)),$.disabled=!0,$.overrideTotalTime(H.totalTime),o.push($);return}let X=U;if(I.size>1){let ae=W,L=[];for(;ae=ae.parentNode;){let E=I.get(ae);if(E){X=E;break}L.push(ae)}L.forEach(E=>I.set(E,X))}let K=this._buildAnimation($.namespaceId,H,j,s,N,P);if($.setRealPlayer(K),X===U)O.push($);else{let ae=this.playersByElement.get(X);ae&&ae.length&&($.parentPlayer=ea(ae)),o.push($)}}else Ya(W,H.fromStyles),$.onDestroy(()=>Fo(W,H.toStyles)),z.push($),y.has(W)&&o.push($)}),z.forEach(F=>{let W=s.get(F.element);if(W&&W.length){let $=ea(W);F.setRealPlayer($)}}),o.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<g.length;F++){let W=g[F],$=W[io];if(ic(W,g0),$&&$.hasAnimation)continue;let H=[];if(c.size){let K=c.get(W);K&&K.length&&H.push(...K);let ae=this.driver.query(W,y0,!0);for(let L=0;L<ae.length;L++){let E=c.get(ae[L]);E&&E.length&&H.push(...E)}}let X=H.filter(K=>!K.destroyed);X.length?P5(this,W,X):this.processLeaveNode(W)}return g.length=0,O.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let W=this.players.indexOf(F);this.players.splice(W,1)}),F.play()}),O}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,r,t,o,s){let a=[];if(r){let c=this.playersByQueriedElement.get(i);c&&(a=c)}else{let c=this.playersByElement.get(i);if(c){let l=!s||s==Gu;c.forEach(u=>{u.queued||!l&&u.triggerName!=o||a.push(u)})}}return(t||o)&&(a=a.filter(c=>!(t&&t!=c.namespaceId||o&&o!=c.triggerName))),a}_beforeAnimationBuild(i,r,t){let o=r.triggerName,s=r.element,a=r.isRemovalTransition?void 0:i,c=r.isRemovalTransition?void 0:o;for(let l of r.timelines){let u=l.element,y=u!==s,b=Ei(t,u,[]);this._getPreviousPlayers(u,y,a,c,r.toState).forEach(f=>{let h=f.getRealPlayer();h.beforeDestroy&&h.beforeDestroy(),f.destroy(),b.push(f)})}Ya(s,r.fromStyles)}_buildAnimation(i,r,t,o,s,a){let c=r.triggerName,l=r.element,u=[],y=new Set,b=new Set,d=r.timelines.map(h=>{let m=h.element;y.add(m);let g=m[io];if(g&&g.removedBeforeQueried)return new Js(h.duration,h.delay);let p=m!==l,v=F5((t.get(m)||k5).map(j=>j.getRealPlayer())).filter(j=>{let I=j;return I.element?I.element===m:!1}),_=s.get(m),w=a.get(m),S=TD(this._normalizer,h.keyframes,_,w),M=this._buildPlayer(h,S,v);if(h.subTimeline&&o&&b.add(m),p){let j=new Yu(i,c,m);j.setRealPlayer(M),u.push(j)}return M});u.forEach(h=>{Ei(this.playersByQueriedElement,h.element,[]).push(h),h.onDone(()=>A5(this.playersByQueriedElement,h.element,h))}),y.forEach(h=>Ui(h,vD));let f=ea(d);return f.onDestroy(()=>{y.forEach(h=>ic(h,vD)),Fo(l,r.toStyles)}),b.forEach(h=>{Ei(o,h,[]).push(f)}),f}_buildPlayer(i,r,t){return r.length>0?this.driver.animate(i.element,r,i.duration,i.delay,i.easing,t):new Js(i.duration,i.delay)}},Yu=class{constructor(i,r,t){this.namespaceId=i,this.triggerName=r,this.element=t,this._player=new Js,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((r,t)=>{r.forEach(o=>A0(i,t,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let r=this._player;r.triggerCallback&&i.onStart(()=>r.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,r){Ei(this._queuedCallbacks,i,[]).push(r)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let r=this._player;r.triggerCallback&&r.triggerCallback(i)}};function A5(n,i,r){let t=n.get(i);if(t){if(t.length){let o=t.indexOf(r);t.splice(o,1)}t.length==0&&n.delete(i)}return t}function O5(n){return n??null}function Yp(n){return n&&n.nodeType===1}function R5(n){return n=="start"||n=="done"}function ED(n,i){let r=n.style.display;return n.style.display=i??"none",r}function ID(n,i,r,t,o){let s=[];r.forEach(l=>s.push(ED(l)));let a=[];t.forEach((l,u)=>{let y=new Map;l.forEach(b=>{let d=i.computeStyle(u,b,o);y.set(b,d),(!d||d.length==0)&&(u[io]=j5,a.push(u))}),n.set(u,y)});let c=0;return r.forEach(l=>ED(l,s[c++])),a}function DD(n,i){let r=new Map;if(n.forEach(c=>r.set(c,[])),i.length==0)return r;let t=1,o=new Set(i),s=new Map;function a(c){if(!c)return t;let l=s.get(c);if(l)return l;let u=c.parentNode;return r.has(u)?l=u:o.has(u)?l=t:l=a(u),s.set(c,l),l}return i.forEach(c=>{let l=a(c);l!==t&&r.get(l).push(c)}),r}function Ui(n,i){n.classList?.add(i)}function ic(n,i){n.classList?.remove(i)}function P5(n,i,r){ea(r).onDone(()=>n.processLeaveNode(i))}function F5(n){let i=[];return VD(n,i),i}function VD(n,i){for(let r=0;r<n.length;r++){let t=n[r];t instanceof zu?VD(t.players,i):i.push(t)}}function N5(n,i){let r=Object.keys(n),t=Object.keys(i);if(r.length!=t.length)return!1;for(let o=0;o<r.length;o++){let s=r[o];if(!i.hasOwnProperty(s)||n[s]!==i[s])return!1}return!0}function MD(n,i,r){let t=r.get(n);if(!t)return!1;let o=i.get(n);return o?t.forEach(s=>o.add(s)):i.set(n,t),r.delete(n),!0}var oc=class{constructor(i,r,t){this._driver=r,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new T0(i.body,r,t),this._timelineEngine=new D0(i.body,r,t),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(i,r,t,o,s){let a=i+"-"+o,c=this._triggerCache[a];if(!c){let l=[],u=[],y=FD(this._driver,s,l,u);if(l.length)throw N3(o,l);u.length&&void 0,c=S5(o,y,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(r,o,c)}register(i,r){this._transitionEngine.register(i,r)}destroy(i,r){this._transitionEngine.destroy(i,r)}onInsert(i,r,t,o){this._transitionEngine.insertNode(i,r,t,o)}onRemove(i,r,t){this._transitionEngine.removeNode(i,r,t)}disableAnimations(i,r){this._transitionEngine.markElementAsDisabled(i,r)}process(i,r,t,o){if(t.charAt(0)=="@"){let[s,a]=gD(t),c=o;this._timelineEngine.command(s,r,a,c)}else this._transitionEngine.trigger(i,r,t,o)}listen(i,r,t,o,s){if(t.charAt(0)=="@"){let[a,c]=gD(t);return this._timelineEngine.listen(a,r,c,s)}return this._transitionEngine.listen(i,r,t,o,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function L5(n,i){let r=null,t=null;return Array.isArray(i)&&i.length?(r=m0(i[0]),i.length>1&&(t=m0(i[i.length-1]))):i instanceof Map&&(r=m0(i)),r||t?new k0(n,r,t):null}var k0=class n{static{this.initialStylesByElement=new WeakMap}constructor(i,r,t){this._element=i,this._startStyles=r,this._endStyles=t,this._state=0;let o=n.initialStylesByElement.get(i);o||n.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fo(this._element,this._initialStyles),this._endStyles&&(Fo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ya(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ya(this._element,this._endStyles),this._endStyles=null),Fo(this._element,this._initialStyles),this._state=3)}};function m0(n){let i=null;return n.forEach((r,t)=>{B5(t)&&(i=i||new Map,i.set(t,r))}),i}function B5(n){return n==="display"||n==="position"}var nm=class{constructor(i,r,t,o){this.element=i,this.keyframes=r,this.options=t,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let r=[];return i.forEach(t=>{r.push(Object.fromEntries(t))}),r}_triggerWebAnimation(i,r,t){return i.animate(this._convertKeyframesToObject(r),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,o)=>{o!=="offset"&&i.set(o,this._finished?t:N0(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){let r=i==="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},im=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,r){return kD(i,r)}getParentElement(i){return R0(i)}query(i,r,t){return jD(i,r,t)}computeStyle(i,r,t){return N0(i,r)}animate(i,r,t,o,s,a=[]){let c=o==0?"both":"forwards",l={duration:t,delay:o,fill:c};s&&(l.easing=s);let u=new Map,y=a.filter(f=>f instanceof nm);o5(t,o)&&y.forEach(f=>{f.currentSnapshot.forEach((h,m)=>u.set(m,h))});let b=r5(r).map(f=>new Map(f));b=s5(i,b,u);let d=L5(i,b);return new nm(i,b,l,d)}};var Xp="@",UD="@.disabled",om=class{constructor(i,r,t,o){this.namespaceId=i,this.delegate=r,this.engine=t,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,r){return this.delegate.createElement(i,r)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,r){this.delegate.appendChild(i,r),this.engine.onInsert(this.namespaceId,r,i,!1)}insertBefore(i,r,t,o=!0){this.delegate.insertBefore(i,r,t),this.engine.onInsert(this.namespaceId,r,i,o)}removeChild(i,r,t){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(i,r){return this.delegate.selectRootElement(i,r)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,r,t,o){this.delegate.setAttribute(i,r,t,o)}removeAttribute(i,r,t){this.delegate.removeAttribute(i,r,t)}addClass(i,r){this.delegate.addClass(i,r)}removeClass(i,r){this.delegate.removeClass(i,r)}setStyle(i,r,t,o){this.delegate.setStyle(i,r,t,o)}removeStyle(i,r,t){this.delegate.removeStyle(i,r,t)}setProperty(i,r,t){r.charAt(0)==Xp&&r==UD?this.disableAnimations(i,!!t):this.delegate.setProperty(i,r,t)}setValue(i,r){this.delegate.setValue(i,r)}listen(i,r,t){return this.delegate.listen(i,r,t)}disableAnimations(i,r){this.engine.disableAnimations(i,r)}},j0=class extends om{constructor(i,r,t,o,s){super(r,t,o,s),this.factory=i,this.namespaceId=r}setProperty(i,r,t){r.charAt(0)==Xp?r.charAt(1)=="."&&r==UD?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,r.slice(1),t):this.delegate.setProperty(i,r,t)}listen(i,r,t){if(r.charAt(0)==Xp){let o=V5(i),s=r.slice(1),a="";return s.charAt(0)!=Xp&&([s,a]=U5(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,t,c)})}return this.delegate.listen(i,r,t)}};function V5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function U5(n){let i=n.indexOf("."),r=n.substring(0,i),t=n.slice(i+1);return[r,t]}var sm=class{constructor(i,r,t){this.delegate=i,this.engine=r,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{s?.removeChild(null,o)}}createRenderer(i,r){let t="",o=this.delegate.createRenderer(i,r);if(!i||!r?.data?.animation){let u=this._rendererCache,y=u.get(o);if(!y){let b=()=>u.delete(o);y=new om(t,o,this.engine,b),u.set(o,y)}return y}let s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,i,u.name,u)};return r.data.animation.forEach(c),new j0(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>r(t));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(s=>{let[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),o.push([r,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var H5=(()=>{class n extends oc{constructor(r,t,o){super(r,t,o)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(Xa),je(Qa))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();function G5(){return new Kp}function $5(n,i,r){return new sm(n,i,r)}var HD=[{provide:Qa,useFactory:G5},{provide:oc,useClass:H5},{provide:Ns,useFactory:$5,deps:[Op,oc,ot]}],zD=[{provide:Xa,useFactory:()=>new im},{provide:gn,useValue:"BrowserAnimations"},...HD],W5=[{provide:Xa,useClass:P0},{provide:gn,useValue:"NoopAnimations"},...HD],GD=(()=>{class n{static withConfig(r){return{ngModule:n,providers:r.disableAnimations?W5:zD}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:zD,imports:[Pp]})}}return n})();var ir="primary",ld=Symbol("RouteTitle"),H0=class{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let r=this.params[i];return Array.isArray(r)?r[0]:r}return null}getAll(i){if(this.has(i)){let r=this.params[i];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function dc(n){return new H0(n)}function q5(n,i,r){let t=r.path.split("/");if(t.length>n.length||r.pathMatch==="full"&&(i.hasChildren()||t.length<n.length))return null;let o={};for(let s=0;s<t.length;s++){let a=t[s],c=n[s];if(a[0]===":")o[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,t.length),posParams:o}}function Y5(n,i){if(n.length!==i.length)return!1;for(let r=0;r<n.length;++r)if(!No(n[r],i[r]))return!1;return!0}function No(n,i){let r=n?G0(n):void 0,t=i?G0(i):void 0;if(!r||!t||r.length!=t.length)return!1;let o;for(let s=0;s<r.length;s++)if(o=r[s],!tM(n[o],i[o]))return!1;return!0}function G0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function tM(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;let r=[...n].sort(),t=[...i].sort();return r.every((o,s)=>t[s]===o)}else return n===i}function rM(n){return n.length>0?n[n.length-1]:null}function na(n){return Go(n)?n:Gs(n)?dr(Promise.resolve(n)):_t(n)}var X5={exact:iM,subset:oM},nM={exact:Q5,subset:Z5,ignored:()=>!0};function $D(n,i,r){return X5[r.paths](n.root,i.root,r.matrixParams)&&nM[r.queryParams](n.queryParams,i.queryParams)&&!(r.fragment==="exact"&&n.fragment!==i.fragment)}function Q5(n,i){return No(n,i)}function iM(n,i,r){if(!Ka(n.segments,i.segments)||!cm(n.segments,i.segments,r)||n.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!n.children[t]||!iM(n.children[t],i.children[t],r))return!1;return!0}function Z5(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(r=>tM(n[r],i[r]))}function oM(n,i,r){return sM(n,i,i.segments,r)}function sM(n,i,r,t){if(n.segments.length>r.length){let o=n.segments.slice(0,r.length);return!(!Ka(o,r)||i.hasChildren()||!cm(o,r,t))}else if(n.segments.length===r.length){if(!Ka(n.segments,r)||!cm(n.segments,r,t))return!1;for(let o in i.children)if(!n.children[o]||!oM(n.children[o],i.children[o],t))return!1;return!0}else{let o=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!Ka(n.segments,o)||!cm(n.segments,o,t)||!n.children[ir]?!1:sM(n.children[ir],i,s,t)}}function cm(n,i,r){return i.every((t,o)=>nM[r](n[o].parameters,t.parameters))}var ps=class{constructor(i=new Ir([],{}),r={},t=null){this.root=i,this.queryParams=r,this.fragment=t}get queryParamMap(){return this._queryParamMap??=dc(this.queryParams),this._queryParamMap}toString(){return e4.serialize(this)}},Ir=class{constructor(i,r){this.segments=i,this.children=r,this.parent=null,Object.values(r).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return um(this)}},Za=class{constructor(i,r){this.path=i,this.parameters=r}get parameterMap(){return this._parameterMap??=dc(this.parameters),this._parameterMap}toString(){return lM(this)}};function K5(n,i){return Ka(n,i)&&n.every((r,t)=>No(r.parameters,i[t].parameters))}function Ka(n,i){return n.length!==i.length?!1:n.every((r,t)=>r.path===i[t].path)}function J5(n,i){let r=[];return Object.entries(n.children).forEach(([t,o])=>{t===ir&&(r=r.concat(i(o,t)))}),Object.entries(n.children).forEach(([t,o])=>{t!==ir&&(r=r.concat(i(o,t)))}),r}var cd=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>new hc,providedIn:"root"})}}return n})(),hc=class{parse(i){let r=new W0(i);return new ps(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(i){let r=`/${Xu(i.root,!0)}`,t=n4(i.queryParams),o=typeof i.fragment=="string"?`#${t4(i.fragment)}`:"";return`${r}${t}${o}`}},e4=new hc;function um(n){return n.segments.map(i=>lM(i)).join("/")}function Xu(n,i){if(!n.hasChildren())return um(n);if(i){let r=n.children[ir]?Xu(n.children[ir],!1):"",t=[];return Object.entries(n.children).forEach(([o,s])=>{o!==ir&&t.push(`${o}:${Xu(s,!1)}`)}),t.length>0?`${r}(${t.join("//")})`:r}else{let r=J5(n,(t,o)=>o===ir?[Xu(n.children[ir],!1)]:[`${o}:${Xu(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[ir]!=null?`${um(n)}/${r[0]}`:`${um(n)}/(${r.join("//")})`}}function aM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function am(n){return aM(n).replace(/%3B/gi,";")}function t4(n){return encodeURI(n)}function $0(n){return aM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dm(n){return decodeURIComponent(n)}function WD(n){return dm(n.replace(/\+/g,"%20"))}function lM(n){return`${$0(n.path)}${r4(n.parameters)}`}function r4(n){return Object.entries(n).map(([i,r])=>`;${$0(i)}=${$0(r)}`).join("")}function n4(n){let i=Object.entries(n).map(([r,t])=>Array.isArray(t)?t.map(o=>`${am(r)}=${am(o)}`).join("&"):`${am(r)}=${am(t)}`).filter(r=>r);return i.length?`?${i.join("&")}`:""}var i4=/^[^\/()?;#]+/;function B0(n){let i=n.match(i4);return i?i[0]:""}var o4=/^[^\/()?;=#]+/;function s4(n){let i=n.match(o4);return i?i[0]:""}var a4=/^[^=?&#]+/;function l4(n){let i=n.match(a4);return i?i[0]:""}var c4=/^[^&#]+/;function u4(n){let i=n.match(c4);return i?i[0]:""}var W0=class{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ir([],{}):new Ir([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(i.length>0||Object.keys(r).length>0)&&(t[ir]=new Ir(i,r)),t}parseSegment(){let i=B0(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(i),new Za(dm(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let r=s4(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let o=B0(this.remaining);o&&(t=o,this.capture(t))}i[dm(r)]=dm(t)}parseQueryParam(i){let r=l4(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let a=u4(this.remaining);a&&(t=a,this.capture(t))}let o=WD(r),s=WD(t);if(i.hasOwnProperty(o)){let a=i[o];Array.isArray(a)||(a=[a],i[o]=a),a.push(s)}else i[o]=s}parseParens(i){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=B0(this.remaining),o=this.remaining[t.length];if(o!=="/"&&o!==")"&&o!==";")throw new Xe(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=ir);let a=this.parseChildren();r[s]=Object.keys(a).length===1?a[ir]:new Ir([],a),this.consumeOptional("//")}return r}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Xe(4011,!1)}};function cM(n){return n.segments.length>0?new Ir([],{[ir]:n}):n}function uM(n){let i={};for(let[t,o]of Object.entries(n.children)){let s=uM(o);if(t===ir&&s.segments.length===0&&s.hasChildren())for(let[a,c]of Object.entries(s.children))i[a]=c;else(s.segments.length>0||s.hasChildren())&&(i[t]=s)}let r=new Ir(n.segments,i);return d4(r)}function d4(n){if(n.numberOfChildren===1&&n.children[ir]){let i=n.children[ir];return new Ir(n.segments.concat(i.segments),i.children)}return n}function Ja(n){return n instanceof ps}function h4(n,i,r=null,t=null){let o=dM(n);return hM(o,i,r,t)}function dM(n){let i;function r(s){let a={};for(let l of s.children){let u=r(l);a[l.outlet]=u}let c=new Ir(s.url,a);return s===n&&(i=c),c}let t=r(n.root),o=cM(t);return i??o}function hM(n,i,r,t){let o=n;for(;o.parent;)o=o.parent;if(i.length===0)return V0(o,o,o,r,t);let s=f4(i);if(s.toRoot())return V0(o,o,new Ir([],{}),r,t);let a=p4(s,o,n),c=a.processChildren?Ku(a.segmentGroup,a.index,s.commands):pM(a.segmentGroup,a.index,s.commands);return V0(o,a.segmentGroup,c,r,t)}function hm(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function td(n){return typeof n=="object"&&n!=null&&n.outlets}function V0(n,i,r,t,o){let s={};t&&Object.entries(t).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(y=>`${y}`):`${u}`});let a;n===i?a=r:a=fM(n,i,r);let c=cM(uM(a));return new ps(c,s,o)}function fM(n,i,r){let t={};return Object.entries(n.children).forEach(([o,s])=>{s===i?t[o]=r:t[o]=fM(s,i,r)}),new Ir(n.segments,t)}var fm=class{constructor(i,r,t){if(this.isAbsolute=i,this.numberOfDoubleDots=r,this.commands=t,i&&t.length>0&&hm(t[0]))throw new Xe(4003,!1);let o=t.find(td);if(o&&o!==rM(t))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function f4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fm(!0,0,n);let i=0,r=!1,t=n.reduce((o,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:c}]}if(s.segmentPath)return[...o,s.segmentPath]}return typeof s!="string"?[...o,s]:a===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?r=!0:c===".."?i++:c!=""&&o.push(c))}),o):[...o,s]},[]);return new fm(r,i,t)}var lc=class{constructor(i,r,t){this.segmentGroup=i,this.processChildren=r,this.index=t}};function p4(n,i,r){if(n.isAbsolute)return new lc(i,!0,0);if(!r)return new lc(i,!1,NaN);if(r.parent===null)return new lc(r,!0,0);let t=hm(n.commands[0])?0:1,o=r.segments.length-1+t;return m4(r,o,n.numberOfDoubleDots)}function m4(n,i,r){let t=n,o=i,s=r;for(;s>o;){if(s-=o,t=t.parent,!t)throw new Xe(4005,!1);o=t.segments.length}return new lc(t,!1,o-s)}function g4(n){return td(n[0])?n[0].outlets:{[ir]:n}}function pM(n,i,r){if(n??=new Ir([],{}),n.segments.length===0&&n.hasChildren())return Ku(n,i,r);let t=y4(n,i,r),o=r.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let s=new Ir(n.segments.slice(0,t.pathIndex),{});return s.children[ir]=new Ir(n.segments.slice(t.pathIndex),n.children),Ku(s,0,o)}else return t.match&&o.length===0?new Ir(n.segments,{}):t.match&&!n.hasChildren()?q0(n,i,r):t.match?Ku(n,0,o):q0(n,i,r)}function Ku(n,i,r){if(r.length===0)return new Ir(n.segments,{});{let t=g4(r),o={};if(Object.keys(t).some(s=>s!==ir)&&n.children[ir]&&n.numberOfChildren===1&&n.children[ir].segments.length===0){let s=Ku(n.children[ir],i,r);return new Ir(n.segments,s.children)}return Object.entries(t).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[s]=pM(n.children[s],i,a))}),Object.entries(n.children).forEach(([s,a])=>{t[s]===void 0&&(o[s]=a)}),new Ir(n.segments,o)}}function y4(n,i,r){let t=0,o=i,s={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(t>=r.length)return s;let a=n.segments[o],c=r[t];if(td(c))break;let l=`${c}`,u=t<r.length-1?r[t+1]:null;if(o>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!YD(l,u,a))return s;t+=2}else{if(!YD(l,{},a))return s;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}function q0(n,i,r){let t=n.segments.slice(0,i),o=0;for(;o<r.length;){let s=r[o];if(td(s)){let l=v4(s.outlets);return new Ir(t,l)}if(o===0&&hm(r[0])){let l=n.segments[i];t.push(new Za(l.path,qD(r[0]))),o++;continue}let a=td(s)?s.outlets[ir]:`${s}`,c=o<r.length-1?r[o+1]:null;a&&c&&hm(c)?(t.push(new Za(a,qD(c))),o+=2):(t.push(new Za(a,{})),o++)}return new Ir(t,{})}function v4(n){let i={};return Object.entries(n).forEach(([r,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[r]=q0(new Ir([],{}),0,t))}),i}function qD(n){let i={};return Object.entries(n).forEach(([r,t])=>i[r]=`${t}`),i}function YD(n,i,r){return n==r.path&&No(i,r.parameters)}var Ju="imperative",Cn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Cn||{}),zi=class{constructor(i,r){this.id=i,this.url=r}},fc=class extends zi{constructor(i,r,t="imperative",o=null){super(i,r),this.type=Cn.NavigationStart,this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mi=class extends zi{constructor(i,r,t){super(i,r),this.urlAfterRedirects=t,this.type=Cn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Di=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Di||{}),pm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(pm||{}),fs=class extends zi{constructor(i,r,t,o){super(i,r),this.reason=t,this.code=o,this.type=Cn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ta=class extends zi{constructor(i,r,t,o){super(i,r),this.reason=t,this.code=o,this.type=Cn.NavigationSkipped}},rd=class extends zi{constructor(i,r,t,o){super(i,r),this.error=t,this.target=o,this.type=Cn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mm=class extends zi{constructor(i,r,t,o){super(i,r),this.urlAfterRedirects=t,this.state=o,this.type=Cn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Y0=class extends zi{constructor(i,r,t,o){super(i,r),this.urlAfterRedirects=t,this.state=o,this.type=Cn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X0=class extends zi{constructor(i,r,t,o,s){super(i,r),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=s,this.type=Cn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Q0=class extends zi{constructor(i,r,t,o){super(i,r),this.urlAfterRedirects=t,this.state=o,this.type=Cn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z0=class extends zi{constructor(i,r,t,o){super(i,r),this.urlAfterRedirects=t,this.state=o,this.type=Cn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},K0=class{constructor(i){this.route=i,this.type=Cn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},J0=class{constructor(i){this.route=i,this.type=Cn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},e_=class{constructor(i){this.snapshot=i,this.type=Cn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},t_=class{constructor(i){this.snapshot=i,this.type=Cn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r_=class{constructor(i){this.snapshot=i,this.type=Cn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n_=class{constructor(i){this.snapshot=i,this.type=Cn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gm=class{constructor(i,r,t){this.routerEvent=i,this.position=r,this.anchor=t,this.type=Cn.Scroll}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},nd=class{},pc=class{constructor(i,r){this.url=i,this.navigationBehaviorOptions=r}};function b4(n,i){return n.providers&&!n._injector&&(n._injector=dp(n.providers,i,`Route: ${n.path}`)),n._injector??i}function oo(n){return n.outlet||ir}function _4(n,i){let r=n.filter(t=>oo(t)===i);return r.push(...n.filter(t=>oo(t)!==i)),r}function ud(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){let r=i.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var i_=class{get injector(){return ud(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new dd(this.rootInjector),this.attachRef=null}},dd=(()=>{class n{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,t){let o=this.getOrCreateContext(r);o.outlet=t,this.contexts.set(r,o)}onChildOutletDestroyed(r){let t=this.getContext(r);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let t=this.getContext(r);return t||(t=new i_(this.rootInjector),this.contexts.set(r,t)),t}getContext(r){return this.contexts.get(r)||null}static{this.\u0275fac=function(t){return new(t||n)(je(Tn))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ym=class{constructor(i){this._root=i}get root(){return this._root.value}parent(i){let r=this.pathFromRoot(i);return r.length>1?r[r.length-2]:null}children(i){let r=o_(i,this._root);return r?r.children.map(t=>t.value):[]}firstChild(i){let r=o_(i,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(i){let r=s_(i,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return s_(i,this._root).map(r=>r.value)}};function o_(n,i){if(n===i.value)return i;for(let r of i.children){let t=o_(n,r);if(t)return t}return null}function s_(n,i){if(n===i.value)return[i];for(let r of i.children){let t=s_(n,r);if(t.length)return t.unshift(i),t}return[]}var Ii=class{constructor(i,r){this.value=i,this.children=r}toString(){return`TreeNode(${this.value})`}};function ac(n){let i={};return n&&n.children.forEach(r=>i[r.value.outlet]=r),i}var vm=class extends ym{constructor(i,r){super(i),this.snapshot=r,m_(this,i)}toString(){return this.snapshot.toString()}};function mM(n){let i=w4(n),r=new Sr([new Za("",{})]),t=new Sr({}),o=new Sr({}),s=new Sr({}),a=new Sr(""),c=new ei(r,t,s,a,o,ir,n,i.root);return c.snapshot=i.root,new vm(new Ii(c,[]),i)}function w4(n){let i={},r={},t={},o="",s=new cc([],i,t,o,r,ir,n,null,{});return new _m("",new Ii(s,[]))}var ei=class{constructor(i,r,t,o,s,a,c,l){this.urlSubject=i,this.paramsSubject=r,this.queryParamsSubject=t,this.fragmentSubject=o,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(wt(u=>u[ld]))??_t(void 0),this.url=i,this.params=r,this.queryParams=t,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(wt(i=>dc(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(wt(i=>dc(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bm(n,i,r="emptyOnly"){let t,{routeConfig:o}=n;return i!==null&&(r==="always"||o?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:xe(xe({},i.params),n.params),data:xe(xe({},i.data),n.data),resolve:xe(xe(xe(xe({},n.data),i.data),o?.data),n._resolvedData)}:t={params:xe({},n.params),data:xe({},n.data),resolve:xe(xe({},n.data),n._resolvedData??{})},o&&yM(o)&&(t.resolve[ld]=o.title),t}var cc=class{get title(){return this.data?.[ld]}constructor(i,r,t,o,s,a,c,l,u){this.url=i,this.params=r,this.queryParams=t,this.fragment=o,this.data=s,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=dc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=dc(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${r}')`}},_m=class extends ym{constructor(i,r){super(r),this.url=i,m_(this,r)}toString(){return gM(this._root)}};function m_(n,i){i.value._routerState=n,i.children.forEach(r=>m_(n,r))}function gM(n){let i=n.children.length>0?` { ${n.children.map(gM).join(", ")} } `:"";return`${n.value}${i}`}function U0(n){if(n.snapshot){let i=n.snapshot,r=n._futureSnapshot;n.snapshot=r,No(i.queryParams,r.queryParams)||n.queryParamsSubject.next(r.queryParams),i.fragment!==r.fragment&&n.fragmentSubject.next(r.fragment),No(i.params,r.params)||n.paramsSubject.next(r.params),Y5(i.url,r.url)||n.urlSubject.next(r.url),No(i.data,r.data)||n.dataSubject.next(r.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function a_(n,i){let r=No(n.params,i.params)&&K5(n.url,i.url),t=!n.parent!=!i.parent;return r&&!t&&(!n.parent||a_(n.parent,i.parent))}function yM(n){return typeof n.title=="string"||n.title===null}var g_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ir,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=Be(dd),this.location=Be(Sn),this.changeDetector=Be(br),this.inputBinder=Be(Em,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:t,previousValue:o}=r.name;if(t)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,t){this.activated=r,this._activatedRoute=t,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,t){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new l_(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]})}}return n})(),l_=class n{__ngOutletInjector(i){return new n(this.route,this.childContexts,i)}constructor(i,r,t){this.route=i,this.childContexts=r,this.parent=t}get(i,r){return i===ei?this.route:i===dd?this.childContexts:this.parent.get(i,r)}},Em=new ze(""),XD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:t}=r,o=Ca([t.queryParams,t.params,t.data]).pipe(Tr(([s,a,c],l)=>(c=xe(xe(xe({},s),a),c),l===0?_t(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(r);return}let a=uI(t.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();function x4(n,i,r){let t=id(n,i._root,r?r._root:void 0);return new vm(t,i)}function id(n,i,r){if(r&&n.shouldReuseRoute(i.value,r.value.snapshot)){let t=r.value;t._futureSnapshot=i.value;let o=S4(n,i,r);return new Ii(t,o)}else{if(n.shouldAttach(i.value)){let s=n.retrieve(i.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(c=>id(n,c)),a}}let t=C4(i.value),o=i.children.map(s=>id(n,s));return new Ii(t,o)}}function S4(n,i,r){return i.children.map(t=>{for(let o of r.children)if(n.shouldReuseRoute(t.value,o.value.snapshot))return id(n,t,o);return id(n,t)})}function C4(n){return new ei(new Sr(n.url),new Sr(n.params),new Sr(n.queryParams),new Sr(n.fragment),new Sr(n.data),n.outlet,n.component,n)}var od=class{constructor(i,r){this.redirectTo=i,this.navigationBehaviorOptions=r}},vM="ngNavigationCancelingError";function wm(n,i){let{redirectTo:r,navigationBehaviorOptions:t}=Ja(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,o=bM(!1,Di.Redirect);return o.url=r,o.navigationBehaviorOptions=t,o}function bM(n,i){let r=new Error(`NavigationCancelingError: ${n||""}`);return r[vM]=!0,r.cancellationCode=i,r}function E4(n){return _M(n)&&Ja(n.url)}function _M(n){return!!n&&n[vM]}var I4=(n,i,r,t)=>wt(o=>(new c_(i,o.targetRouterState,o.currentRouterState,r,t).activate(n),o)),c_=class{constructor(i,r,t,o,s){this.routeReuseStrategy=i,this.futureState=r,this.currState=t,this.forwardEvent=o,this.inputBindingEnabled=s}activate(i){let r=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,t,i),U0(this.futureState.root),this.activateChildRoutes(r,t,i)}deactivateChildRoutes(i,r,t){let o=ac(r);i.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,o[a],t),delete o[a]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(i,r,t){let o=i.value,s=r?r.value:null;if(o===s)if(o.component){let a=t.getContext(o.outlet);a&&this.deactivateChildRoutes(i,r,a.children)}else this.deactivateChildRoutes(i,r,t);else s&&this.deactivateRouteAndItsChildren(r,t)}deactivateRouteAndItsChildren(i,r){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,r):this.deactivateRouteAndOutlet(i,r)}detachAndStoreRouteSubtree(i,r){let t=r.getContext(i.value.outlet),o=t&&i.value.component?t.children:r,s=ac(i);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,o);if(t&&t.outlet){let a=t.outlet.detach(),c=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:c})}}deactivateRouteAndOutlet(i,r){let t=r.getContext(i.value.outlet),o=t&&i.value.component?t.children:r,s=ac(i);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,o);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,r,t){let o=ac(r);i.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],t),this.forwardEvent(new n_(s.value.snapshot))}),i.children.length&&this.forwardEvent(new t_(i.value.snapshot))}activateRoutes(i,r,t){let o=i.value,s=r?r.value:null;if(U0(o),o===s)if(o.component){let a=t.getOrCreateContext(o.outlet);this.activateChildRoutes(i,r,a.children)}else this.activateChildRoutes(i,r,t);else if(o.component){let a=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),U0(c.route.value),this.activateChildRoutes(i,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(i,null,a.children)}else this.activateChildRoutes(i,null,t)}},xm=class{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},uc=class{constructor(i,r){this.component=i,this.route=r}};function D4(n,i,r){let t=n._root,o=i?i._root:null;return Qu(t,o,r,[t.value])}function M4(n){let i=n.routeConfig?n.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:n,guards:i}}function gc(n,i){let r=Symbol(),t=i.get(n,r);return t===r?typeof n=="function"&&!yS(n)?n:i.get(n):t}function Qu(n,i,r,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=ac(i);return n.children.forEach(a=>{T4(a,s[a.value.outlet],r,t.concat([a.value]),o),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>ed(c,r.getContext(a),o)),o}function T4(n,i,r,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=i?i.value:null,c=r?r.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let l=k4(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new xm(t)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Qu(n,i,c?c.children:null,t,o):Qu(n,i,r,t,o),l&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new uc(c.outlet.component,a))}else a&&ed(i,c,o),o.canActivateChecks.push(new xm(t)),s.component?Qu(n,null,c?c.children:null,t,o):Qu(n,null,r,t,o);return o}function k4(n,i,r){if(typeof r=="function")return r(n,i);switch(r){case"pathParamsChange":return!Ka(n.url,i.url);case"pathParamsOrQueryParamsChange":return!Ka(n.url,i.url)||!No(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a_(n,i)||!No(n.queryParams,i.queryParams);case"paramsChange":default:return!a_(n,i)}}function ed(n,i,r){let t=ac(n),o=n.value;Object.entries(t).forEach(([s,a])=>{o.component?i?ed(a,i.children.getContext(s),r):ed(a,null,r):ed(a,i,r)}),o.component?i&&i.outlet&&i.outlet.isActivated?r.canDeactivateChecks.push(new uc(i.outlet.component,o)):r.canDeactivateChecks.push(new uc(null,o)):r.canDeactivateChecks.push(new uc(null,o))}function hd(n){return typeof n=="function"}function j4(n){return typeof n=="boolean"}function A4(n){return n&&hd(n.canLoad)}function O4(n){return n&&hd(n.canActivate)}function R4(n){return n&&hd(n.canActivateChild)}function P4(n){return n&&hd(n.canDeactivate)}function F4(n){return n&&hd(n.canMatch)}function wM(n){return n instanceof $o||n?.name==="EmptyError"}var lm=Symbol("INITIAL_VALUE");function mc(){return Tr(n=>Ca(n.map(i=>i.pipe(Mr(1),on(lm)))).pipe(wt(i=>{for(let r of i)if(r!==!0){if(r===lm)return lm;if(r===!1||N4(r))return r}return!0}),Vt(i=>i!==lm),Mr(1)))}function N4(n){return Ja(n)||n instanceof od}function L4(n,i){return Fr(r=>{let{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:a}}=r;return a.length===0&&s.length===0?_t(vt(xe({},r),{guardsResult:!0})):B4(a,t,o,n).pipe(Fr(c=>c&&j4(c)?V4(t,s,n,i):_t(c)),wt(c=>vt(xe({},r),{guardsResult:c})))})}function B4(n,i,r,t){return dr(n).pipe(Fr(o=>$4(o.component,o.route,r,i,t)),vo(o=>o!==!0,!0))}function V4(n,i,r,t){return dr(i).pipe(Wo(o=>go(z4(o.route.parent,t),U4(o.route,t),G4(n,o.path,r),H4(n,o.route,r))),vo(o=>o!==!0,!0))}function U4(n,i){return n!==null&&i&&i(new r_(n)),_t(!0)}function z4(n,i){return n!==null&&i&&i(new e_(n)),_t(!0)}function H4(n,i,r){let t=i.routeConfig?i.routeConfig.canActivate:null;if(!t||t.length===0)return _t(!0);let o=t.map(s=>Vh(()=>{let a=ud(i)??r,c=gc(s,a),l=O4(c)?c.canActivate(i,n):Ai(a,()=>c(i,n));return na(l).pipe(vo())}));return _t(o).pipe(mc())}function G4(n,i,r){let t=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(a=>M4(a)).filter(a=>a!==null).map(a=>Vh(()=>{let c=a.guards.map(l=>{let u=ud(a.node)??r,y=gc(l,u),b=R4(y)?y.canActivateChild(t,n):Ai(u,()=>y(t,n));return na(b).pipe(vo())});return _t(c).pipe(mc())}));return _t(s).pipe(mc())}function $4(n,i,r,t,o){let s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!s||s.length===0)return _t(!0);let a=s.map(c=>{let l=ud(i)??o,u=gc(c,l),y=P4(u)?u.canDeactivate(n,i,r,t):Ai(l,()=>u(n,i,r,t));return na(y).pipe(vo())});return _t(a).pipe(mc())}function W4(n,i,r,t){let o=i.canLoad;if(o===void 0||o.length===0)return _t(!0);let s=o.map(a=>{let c=gc(a,n),l=A4(c)?c.canLoad(i,r):Ai(n,()=>c(i,r));return na(l)});return _t(s).pipe(mc(),xM(t))}function xM(n){return Hg(pr(i=>{if(typeof i!="boolean")throw wm(n,i)}),wt(i=>i===!0))}function q4(n,i,r,t){let o=i.canMatch;if(!o||o.length===0)return _t(!0);let s=o.map(a=>{let c=gc(a,n),l=F4(c)?c.canMatch(i,r):Ai(n,()=>c(i,r));return na(l)});return _t(s).pipe(mc(),xM(t))}var sd=class{constructor(i){this.segmentGroup=i||null}},ad=class extends Error{constructor(i){super(),this.urlTree=i}};function sc(n){return Es(new sd(n))}function Y4(n){return Es(new Xe(4e3,!1))}function X4(n){return Es(bM(!1,Di.GuardRejected))}var u_=class{constructor(i,r){this.urlSerializer=i,this.urlTree=r}lineralizeSegments(i,r){let t=[],o=r.root;for(;;){if(t=t.concat(o.segments),o.numberOfChildren===0)return _t(t);if(o.numberOfChildren>1||!o.children[ir])return Y4(`${i.redirectTo}`);o=o.children[ir]}}applyRedirectCommands(i,r,t,o,s){if(typeof r!="string"){let c=r,{queryParams:l,fragment:u,routeConfig:y,url:b,outlet:d,params:f,data:h,title:m}=o,g=Ai(s,()=>c({params:f,data:h,queryParams:l,fragment:u,routeConfig:y,url:b,outlet:d,title:m}));if(g instanceof ps)throw new ad(g);r=g}let a=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),i,t);if(r[0]==="/")throw new ad(a);return a}applyRedirectCreateUrlTree(i,r,t,o){let s=this.createSegmentGroup(i,r.root,t,o);return new ps(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(i,r){let t={};return Object.entries(i).forEach(([o,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);t[o]=r[c]}else t[o]=s}),t}createSegmentGroup(i,r,t,o){let s=this.createSegments(i,r.segments,t,o),a={};return Object.entries(r.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(i,l,t,o)}),new Ir(s,a)}createSegments(i,r,t,o){return r.map(s=>s.path[0]===":"?this.findPosParam(i,s,o):this.findOrReturn(s,t))}findPosParam(i,r,t){let o=t[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(i,r){let t=0;for(let o of r){if(o.path===i.path)return r.splice(t),o;t++}return i}},d_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q4(n,i,r,t,o){let s=SM(n,i,r);return s.matched?(t=b4(i,t),q4(t,i,r,o).pipe(wt(a=>a===!0?s:xe({},d_)))):_t(s)}function SM(n,i,r){if(i.path==="**")return Z4(r);if(i.path==="")return i.pathMatch==="full"&&(n.hasChildren()||r.length>0)?xe({},d_):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let o=(i.matcher||q5)(r,n,i);if(!o)return xe({},d_);let s={};Object.entries(o.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let a=o.consumed.length>0?xe(xe({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function Z4(n){return{matched:!0,parameters:n.length>0?rM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function QD(n,i,r,t){return r.length>0&&eB(n,r,t)?{segmentGroup:new Ir(i,J4(t,new Ir(r,n.children))),slicedSegments:[]}:r.length===0&&tB(n,r,t)?{segmentGroup:new Ir(n.segments,K4(n,r,t,n.children)),slicedSegments:r}:{segmentGroup:new Ir(n.segments,n.children),slicedSegments:r}}function K4(n,i,r,t){let o={};for(let s of r)if(Im(n,i,s)&&!t[oo(s)]){let a=new Ir([],{});o[oo(s)]=a}return xe(xe({},t),o)}function J4(n,i){let r={};r[ir]=i;for(let t of n)if(t.path===""&&oo(t)!==ir){let o=new Ir([],{});r[oo(t)]=o}return r}function eB(n,i,r){return r.some(t=>Im(n,i,t)&&oo(t)!==ir)}function tB(n,i,r){return r.some(t=>Im(n,i,t))}function Im(n,i,r){return(n.hasChildren()||i.length>0)&&r.pathMatch==="full"?!1:r.path===""}function rB(n,i,r){return i.length===0&&!n.children[r]}var h_=class{};function nB(n,i,r,t,o,s,a="emptyOnly"){return new f_(n,i,r,t,o,a,s).recognize()}var iB=31,f_=class{constructor(i,r,t,o,s,a,c){this.injector=i,this.configLoader=r,this.rootComponentType=t,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new u_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new Xe(4002,`'${i.segmentGroup}'`)}recognize(){let i=QD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(wt(({children:r,rootSnapshot:t})=>{let o=new Ii(t,r),s=new _m("",o),a=h4(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(i){let r=new cc([],Object.freeze({}),Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ir,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,ir,r).pipe(wt(t=>({children:t,rootSnapshot:r})),yo(t=>{if(t instanceof ad)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof sd?this.noMatchError(t):t}))}processSegmentGroup(i,r,t,o,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(i,r,t,s):this.processSegment(i,r,t,t.segments,o,!0,s).pipe(wt(a=>a instanceof Ii?[a]:[]))}processChildren(i,r,t,o){let s=[];for(let a of Object.keys(t.children))a==="primary"?s.unshift(a):s.push(a);return dr(s).pipe(Wo(a=>{let c=t.children[a],l=_4(r,a);return this.processSegmentGroup(i,l,c,a,o)}),Jg((a,c)=>(a.push(...c),a)),Is(null),Kg(),Fr(a=>{if(a===null)return sc(t);let c=CM(a);return oB(c),_t(c)}))}processSegment(i,r,t,o,s,a,c){return dr(r).pipe(Wo(l=>this.processSegmentAgainstRoute(l._injector??i,r,l,t,o,s,a,c).pipe(yo(u=>{if(u instanceof sd)return _t(null);throw u}))),vo(l=>!!l),yo(l=>{if(wM(l))return rB(t,o,s)?_t(new h_):sc(t);throw l}))}processSegmentAgainstRoute(i,r,t,o,s,a,c,l){return oo(t)!==a&&(a===ir||!Im(o,s,t))?sc(o):t.redirectTo===void 0?this.matchSegmentAgainstRoute(i,o,t,s,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(i,o,r,t,s,a,l):sc(o)}expandSegmentAgainstRouteUsingRedirect(i,r,t,o,s,a,c){let{matched:l,parameters:u,consumedSegments:y,positionalParamSegments:b,remainingSegments:d}=SM(r,o,s);if(!l)return sc(r);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iB&&(this.allowRedirects=!1));let f=new cc(s,u,Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,ZD(o),oo(o),o.component??o._loadedComponent??null,o,KD(o)),h=bm(f,c,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let m=this.applyRedirects.applyRedirectCommands(y,o.redirectTo,b,f,i);return this.applyRedirects.lineralizeSegments(o,m).pipe(Fr(g=>this.processSegment(i,t,r,g.concat(d),a,!1,c)))}matchSegmentAgainstRoute(i,r,t,o,s,a){let c=Q4(r,t,o,i,this.urlSerializer);return t.path==="**"&&(r.children={}),c.pipe(Tr(l=>l.matched?(i=t._injector??i,this.getChildConfig(i,t,o).pipe(Tr(({routes:u})=>{let y=t._loadedInjector??i,{parameters:b,consumedSegments:d,remainingSegments:f}=l,h=new cc(d,b,Object.freeze(xe({},this.urlTree.queryParams)),this.urlTree.fragment,ZD(t),oo(t),t.component??t._loadedComponent??null,t,KD(t)),m=bm(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:p}=QD(r,d,f,u);if(p.length===0&&g.hasChildren())return this.processChildren(y,u,g,h).pipe(wt(_=>new Ii(h,_)));if(u.length===0&&p.length===0)return _t(new Ii(h,[]));let v=oo(t)===s;return this.processSegment(y,u,g,p,v?ir:s,!0,h).pipe(wt(_=>new Ii(h,_ instanceof Ii?[_]:[])))}))):sc(r)))}getChildConfig(i,r,t){return r.children?_t({routes:r.children,injector:i}):r.loadChildren?r._loadedRoutes!==void 0?_t({routes:r._loadedRoutes,injector:r._loadedInjector}):W4(i,r,t,this.urlSerializer).pipe(Fr(o=>o?this.configLoader.loadChildren(i,r).pipe(pr(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):X4(r))):_t({routes:[],injector:i})}};function oB(n){n.sort((i,r)=>i.value.outlet===ir?-1:r.value.outlet===ir?1:i.value.outlet.localeCompare(r.value.outlet))}function sB(n){let i=n.value.routeConfig;return i&&i.path===""}function CM(n){let i=[],r=new Set;for(let t of n){if(!sB(t)){i.push(t);continue}let o=i.find(s=>t.value.routeConfig===s.value.routeConfig);o!==void 0?(o.children.push(...t.children),r.add(o)):i.push(t)}for(let t of r){let o=CM(t.children);i.push(new Ii(t.value,o))}return i.filter(t=>!r.has(t))}function ZD(n){return n.data||{}}function KD(n){return n.resolve||{}}function aB(n,i,r,t,o,s){return Fr(a=>nB(n,i,r,t,a.extractedUrl,o,s).pipe(wt(({state:c,tree:l})=>vt(xe({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function lB(n,i){return Fr(r=>{let{targetSnapshot:t,guards:{canActivateChecks:o}}=r;if(!o.length)return _t(r);let s=new Set(o.map(l=>l.route)),a=new Set;for(let l of s)if(!a.has(l))for(let u of EM(l))a.add(u);let c=0;return dr(a).pipe(Wo(l=>s.has(l)?cB(l,t,n,i):(l.data=bm(l,l.parent,n).resolve,_t(void 0))),pr(()=>c++),Dl(1),Fr(l=>c===a.size?_t(r):nn))})}function EM(n){let i=n.children.map(r=>EM(r)).flat();return[n,...i]}function cB(n,i,r,t){let o=n.routeConfig,s=n._resolve;return o?.title!==void 0&&!yM(o)&&(s[ld]=o.title),uB(s,n,i,t).pipe(wt(a=>(n._resolvedData=a,n.data=bm(n,n.parent,r).resolve,null)))}function uB(n,i,r,t){let o=G0(n);if(o.length===0)return _t({});let s={};return dr(o).pipe(Fr(a=>dB(n[a],i,r,t).pipe(vo(),pr(c=>{if(c instanceof od)throw wm(new hc,c);s[a]=c}))),Dl(1),Ds(s),yo(a=>wM(a)?nn:Es(a)))}function dB(n,i,r,t){let o=ud(i)??t,s=gc(n,o),a=s.resolve?s.resolve(i,r):Ai(o,()=>s(i,r));return na(a)}function z0(n){return Tr(i=>{let r=n(i);return r?dr(r).pipe(wt(()=>i)):_t(i)})}var IM=(()=>{class n{buildTitle(r){let t,o=r.root;for(;o!==void 0;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(s=>s.outlet===ir);return t}getResolvedTitleForRoute(r){return r.data[ld]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(hB),providedIn:"root"})}}return n})(),hB=(()=>{class n extends IM{constructor(r){super(),this.title=r}updateTitle(r){let t=this.buildTitle(r);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||n)(je(qI))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fd=new ze("",{providedIn:"root",factory:()=>({})}),fB=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(t,o){t&1&&lt(0,"router-outlet")},dependencies:[g_],encapsulation:2})}}return n})();function y_(n){let i=n.children&&n.children.map(y_),r=i?vt(xe({},n),{children:i}):xe({},n);return!r.component&&!r.loadComponent&&(i||r.loadChildren)&&r.outlet&&r.outlet!==ir&&(r.component=fB),r}var Sm=new ze(""),v_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Be(yp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return _t(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let t=na(r.loadComponent()).pipe(wt(DM),pr(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),si(()=>{this.componentLoaders.delete(r)})),o=new xl(t,()=>new Je).pipe(wl());return this.componentLoaders.set(r,o),o}loadChildren(r,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return _t({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let s=pB(t,this.compiler,r,this.onLoadEndListener).pipe(si(()=>{this.childrenLoaders.delete(t)})),a=new xl(s,()=>new Je).pipe(wl());return this.childrenLoaders.set(t,a),a}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pB(n,i,r,t){return na(n.loadChildren()).pipe(wt(DM),Fr(o=>o instanceof hu||Array.isArray(o)?_t(o):dr(i.compileModuleAsync(o))),wt(o=>{t&&t(n);let s,a,c=!1;return Array.isArray(o)?(a=o,c=!0):(s=o.create(r).injector,a=s.get(Sm,[],{optional:!0,self:!0}).flat()),{routes:a.map(y_),injector:s}}))}function mB(n){return n&&typeof n=="object"&&"default"in n}function DM(n){return mB(n)?n.default:n}var b_=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(gB),providedIn:"root"})}}return n})(),gB=(()=>{class n{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,t){return r}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MM=new ze(""),TM=new ze("");function yB(n,i,r){let t=n.get(TM),o=n.get(Dt);return n.get(ot).runOutsideAngular(()=>{if(!o.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,a=new Promise(u=>{s=u}),c=o.startViewTransition(()=>(s(),vB(n))),{onViewTransitionCreated:l}=t;return l&&Ai(n,()=>l({transition:c,from:i,to:r})),a})}function vB(n){return new Promise(i=>{Kn({read:()=>setTimeout(i)},{injector:n})})}var bB=new ze(""),__=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=Be(v_),this.environmentInjector=Be(Tn),this.urlSerializer=Be(cd),this.rootContexts=Be(dd),this.location=Be($s),this.inputBindingEnabled=Be(Em,{optional:!0})!==null,this.titleStrategy=Be(IM),this.options=Be(fd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Be(b_),this.createViewTransition=Be(MM,{optional:!0}),this.navigationErrorHandler=Be(bB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_t(void 0),this.rootComponentType=null;let r=o=>this.events.next(new K0(o)),t=o=>this.events.next(new J0(o));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let t=++this.navigationId;this.transitions?.next(vt(xe(xe({},this.transitions.value),r),{id:t}))}setupNavigations(r,t,o){return this.transitions=new Sr({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ju,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(s=>s.id!==0),wt(s=>vt(xe({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Tr(s=>{let a=!1,c=!1;return _t(s).pipe(Tr(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Di.SupersededByNewNavigation),nn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?vt(xe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&y!=="reload"){let b="";return this.events.next(new ta(l.id,this.urlSerializer.serialize(l.rawUrl),b,pm.IgnoredSameUrlNavigation)),l.resolve(!1),nn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _t(l).pipe(Tr(b=>{let d=this.transitions?.getValue();return this.events.next(new fc(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),d!==this.transitions?.getValue()?nn:Promise.resolve(b)}),aB(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pr(b=>{s.targetSnapshot=b.targetSnapshot,s.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=vt(xe({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let d=new mm(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(d)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:b,extractedUrl:d,source:f,restoredState:h,extras:m}=l,g=new fc(b,this.urlSerializer.serialize(d),f,h);this.events.next(g);let p=mM(this.rootComponentType).snapshot;return this.currentTransition=s=vt(xe({},l),{targetSnapshot:p,urlAfterRedirects:d,extras:vt(xe({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,_t(s)}else{let b="";return this.events.next(new ta(l.id,this.urlSerializer.serialize(l.extractedUrl),b,pm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),nn}}),pr(l=>{let u=new Y0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),wt(l=>(this.currentTransition=s=vt(xe({},l),{guards:D4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),L4(this.environmentInjector,l=>this.events.next(l)),pr(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw wm(this.urlSerializer,l.guardsResult);let u=new X0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Di.GuardRejected),!1)),z0(l=>{if(l.guards.canActivateChecks.length)return _t(l).pipe(pr(u=>{let y=new Q0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(y)}),Tr(u=>{let y=!1;return _t(u).pipe(lB(this.paramsInheritanceStrategy,this.environmentInjector),pr({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(u,"",Di.NoDataFromResolver)}}))}),pr(u=>{let y=new Z0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(y)}))}),z0(l=>{let u=y=>{let b=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(y.routeConfig).pipe(pr(d=>{y.component=d}),wt(()=>{})));for(let d of y.children)b.push(...u(d));return b};return Ca(u(l.targetSnapshot.root)).pipe(Is(null),Mr(1))}),z0(()=>this.afterPreactivation()),Tr(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,y=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return y?dr(y).pipe(wt(()=>s)):_t(s)}),wt(l=>{let u=x4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=vt(xe({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),pr(()=>{this.events.next(new nd)}),I4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Mr(1),pr({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ut(this.transitionAbortSubject.pipe(pr(l=>{throw l}))),si(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Di.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yo(l=>{if(c=!0,_M(l))this.events.next(new fs(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),E4(l)?this.events.next(new pc(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new rd(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let y=Ai(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(y instanceof od){let{message:b,cancellationCode:d}=wm(this.urlSerializer,y);this.events.next(new fs(s.id,this.urlSerializer.serialize(s.extractedUrl),b,d)),this.events.next(new pc(y.redirectTo,y.navigationBehaviorOptions))}else{this.events.next(u);let b=r.errorHandler(l);s.resolve(!!b)}}catch(y){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(y)}}return nn}))}))}cancelNavigationTransition(r,t,o){let s=new fs(r.id,this.urlSerializer.serialize(r.extractedUrl),t,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _B(n){return n!==Ju}var wB=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(xB),providedIn:"root"})}}return n})(),p_=class{shouldDetach(i){return!1}store(i,r){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,r){return i.routeConfig===r.routeConfig}},xB=(()=>{class n extends p_{static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kM=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:()=>Be(SB),providedIn:"root"})}}return n})(),SB=(()=>{class n extends kM{constructor(){super(...arguments),this.location=Be($s),this.urlSerializer=Be(cd),this.options=Be(fd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Be(b_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ps,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(t=>{t.type==="popstate"&&r(t.url,t.state)})}handleRouterEvent(r,t){if(r instanceof fc)this.stateMemento=this.createStateMemento();else if(r instanceof ta)this.rawUrlTree=t.initialUrl;else if(r instanceof mm){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??o,t)}}else r instanceof nd?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):r instanceof fs&&(r.code===Di.GuardRejected||r.code===Di.NoDataFromResolver)?this.restoreHistory(t):r instanceof rd?this.restoreHistory(t,!0):r instanceof Mi&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,t){let o=r instanceof ps?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl){let s=this.browserPageId,a=xe(xe({},t.extras.state),this.generateNgRouterState(t.id,s));this.location.replaceState(o,"",a)}else{let s=xe(xe({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,t=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,t){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:t}:{navigationId:r}}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zu||{});function jM(n,i){n.events.pipe(Vt(r=>r instanceof Mi||r instanceof fs||r instanceof rd||r instanceof ta),wt(r=>r instanceof Mi||r instanceof ta?Zu.COMPLETE:(r instanceof fs?r.code===Di.Redirect||r.code===Di.SupersededByNewNavigation:!1)?Zu.REDIRECTING:Zu.FAILED),Vt(r=>r!==Zu.REDIRECTING),Mr(1)).subscribe(()=>{i()})}function CB(n){throw n}var EB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ti=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Be(hp),this.stateManager=Be(kM),this.options=Be(fd,{optional:!0})||{},this.pendingTasks=Be(Eo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Be(__),this.urlSerializer=Be(cd),this.location=Be($s),this.urlHandlingStrategy=Be(b_),this._events=new Je,this.errorHandler=this.options.errorHandler||CB,this.navigated=!1,this.routeReuseStrategy=Be(wB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Be(Sm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Be(Em,{optional:!0}),this.eventsSubscription=new Jt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(t=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(t,s),t instanceof fs&&t.code!==Di.Redirect&&t.code!==Di.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Mi)this.navigated=!0;else if(t instanceof pc){let a=t.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(t.url,o.currentRawUrl),l=xe({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_B(o.source)},a);this.scheduleNavigation(c,Ju,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}MB(t)&&this._events.next(t)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ju,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",t)},0)})}navigateToSyncWithBrowser(r,t,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=xe({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,t,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(y_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,t={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=t,u=l?this.currentUrlTree.fragment:a,y=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":y=xe(xe({},this.currentUrlTree.queryParams),s);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}y!==null&&(y=this.removeEmptyProps(y));let b;try{let d=o?o.snapshot:this.routerState.snapshot.root;b=dM(d)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),b=this.currentUrlTree.root}return hM(b,r,y,u??null)}navigateByUrl(r,t={skipLocationChange:!1}){let o=Ja(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ju,null,t)}navigate(r,t={skipLocationChange:!1}){return DB(r),this.navigateByUrl(this.createUrlTree(r,t),t)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,t){let o;if(t===!0?o=xe({},EB):t===!1?o=xe({},IB):o=t,Ja(r))return $D(this.currentUrlTree,r,o);let s=this.parseUrl(r);return $D(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((t,[o,s])=>(s!=null&&(t[o]=s),t),{})}scheduleNavigation(r,t,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((b,d)=>{c=b,l=d});let y=this.pendingTasks.add();return jM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(b=>Promise.reject(b))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DB(n){for(let i=0;i<n.length;i++)if(n[i]==null)throw new Xe(4008,!1)}function MB(n){return!(n instanceof nd)&&!(n instanceof pc)}var ra=(()=>{class n{constructor(r,t,o,s,a,c){this.router=r,this.route=t,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new Je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ja(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,t,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||t||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let t=this.href===null?null:WC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(r,t){let o=this.renderer,s=this.el.nativeElement;t!==null?o.setAttribute(s,r,t):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:Ja(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(t){return new(t||n)(ge(ti),ge(ei),Vs("tabindex"),ge(Io),ge(bt),ge(os))}}static{this.\u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,o){t&1&&Ft("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),t&2&&At("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yr],replaceUrl:[2,"replaceUrl","replaceUrl",yr],routerLink:"routerLink"},standalone:!0,features:[Qr,Wr]})}}return n})(),AM=(()=>{class n{get isActive(){return this._isActive}constructor(r,t,o,s,a){this.router=r,this.element=t,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Mt,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Mi&&this.update()})}ngAfterContentInit(){_t(this.links.changes,_t(null)).pipe(mo()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=dr(r).pipe(mo()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(r){let t=Array.isArray(r)?r:r.split(" ");this.classes=t.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(t=>{r?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let t=TB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,t):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}static{this.\u0275fac=function(t){return new(t||n)(ge(ti),ge(bt),ge(Io),ge(br),ge(ra,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,o,s){if(t&1&&vr(s,ra,5),t&2){let a;Et(a=It())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Wr]})}}return n})();function TB(n){return!!n.paths}var Cm=class{};var kB=(()=>{class n{constructor(r,t,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(r=>r instanceof Mi),Wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,t){let o=[];for(let s of t){s.providers&&!s._injector&&(s._injector=dp(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return dr(o).pipe(mo())}preloadConfig(r,t){return this.preloadingStrategy.preload(t,()=>{let o;t.loadChildren&&t.canLoad===void 0?o=this.loader.loadChildren(r,t):o=_t(null);let s=o.pipe(Fr(a=>a===null?_t(void 0):(t._loadedRoutes=a.routes,t._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(t.loadComponent&&!t._loadedComponent){let a=this.loader.loadComponent(t);return dr([s,a]).pipe(mo())}else return s})}static{this.\u0275fac=function(t){return new(t||n)(je(ti),je(yp),je(Tn),je(Cm),je(v_))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OM=new ze(""),jB=(()=>{class n{constructor(r,t,o,s,a={}){this.urlSerializer=r,this.transitions=t,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof fc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Mi?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ta&&r.code===pm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(t){ap()}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac})}}return n})();function AB(n){return n.routerState.root}function pd(n,i){return{\u0275kind:n,\u0275providers:i}}function OB(){let n=Be(cr);return i=>{let r=n.get(Bi);if(i!==r.components[0])return;let t=n.get(ti),o=n.get(RM);n.get(w_)===1&&t.initialNavigation(),n.get(PM,null,lr.Optional)?.setUpPreloading(),n.get(OM,null,lr.Optional)?.init(),t.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var RM=new ze("",{factory:()=>new Je}),w_=new ze("",{providedIn:"root",factory:()=>1});function RB(){return pd(2,[{provide:w_,useValue:0},{provide:mp,multi:!0,deps:[cr],useFactory:i=>{let r=i.get(vI,Promise.resolve());return()=>r.then(()=>new Promise(t=>{let o=i.get(ti),s=i.get(RM);jM(o,()=>{t(!0)}),i.get(__).afterPreactivation=()=>(t(!0),s.closed?_t(void 0):s),o.initialNavigation()}))}}])}function PB(){return pd(3,[{provide:mp,multi:!0,useFactory:()=>{let i=Be(ti);return()=>{i.setUpLocationChangeListener()}}},{provide:w_,useValue:2}])}var PM=new ze("");function FB(n){return pd(0,[{provide:PM,useExisting:kB},{provide:Cm,useExisting:n}])}function NB(){return pd(8,[XD,{provide:Em,useExisting:XD}])}function LB(n){let i=[{provide:MM,useValue:yB},{provide:TM,useValue:xe({skipNextTransition:!!n?.skipInitialTransition},n)}];return pd(9,i)}var JD=new ze("ROUTER_FORROOT_GUARD"),BB=[$s,{provide:cd,useClass:hc},ti,dd,{provide:ei,useFactory:AB,deps:[ti]},v_,[]],md=(()=>{class n{constructor(r){}static forRoot(r,t){return{ngModule:n,providers:[BB,[],{provide:Sm,multi:!0,useValue:r},{provide:JD,useFactory:HB,deps:[[ti,new mu,new Vf]]},{provide:fd,useValue:t||{}},t?.useHash?UB():zB(),VB(),t?.preloadingStrategy?FB(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?GB(t):[],t?.bindToComponentInputs?NB().\u0275providers:[],t?.enableViewTransitions?LB().\u0275providers:[],$B()]}}static forChild(r){return{ngModule:n,providers:[{provide:Sm,multi:!0,useValue:r}]}}static{this.\u0275fac=function(t){return new(t||n)(je(JD,8))}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})();function VB(){return{provide:OM,useFactory:()=>{let n=Be(SI),i=Be(ot),r=Be(fd),t=Be(__),o=Be(cd);return r.scrollOffset&&n.setOffset(r.scrollOffset),new jB(o,t,n,i,r)}}}function UB(){return{provide:os,useClass:_I}}function zB(){return{provide:os,useClass:Db}}function HB(n){return"guarded"}function GB(n){return[n.initialNavigation==="disabled"?PB().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RB().\u0275providers:[]]}var eM=new ze("");function $B(){return[{provide:eM,useFactory:OB},{provide:gp,multi:!0,useExisting:eM}]}var FM=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["app-about"]],decls:56,vars:0,consts:[[1,"container","margin-top"],["href","https://www.plataformadeartecontemporaneo.com/pac/juanma-moreno-lo-peor-y-lo-mejor-de-la-selfie-generation/","target","_blank","rel","noopener noreferrer"],["href","https://www.abc.es/cultura/cultural/javier-villuendas-trienio-aberrante-arte-pocos-vieron-venir-20230915102255-nt.html","target","_blank","rel","noopener noreferrer"]],template:function(t,o){t&1&&(Ae(0,"div",0)(1,"p"),et(2," My artistic journey is a dynamic exploration that weaves together traditional and contemporary elements, navigating the intersection of the digital and analog, rural and urban landscapes. My work embraces technology as both a subject and a creative tool, maintaining a constant dialogue with the past while embracing the challenges and opportunities of the digital age. "),ke(),Ae(3,"h2"),et(4,"Painting"),ke(),Ae(5,"p"),et(6," In painting is where, throughout my entire life, I have found a place to retreat and distance myself from the day-to-day."),lt(7,"br"),ke(),Ae(8,"p"),et(9," This distance involves spending time outside the automatism of routine and the dynamics in which we spend most of our time, a necessary condition to be able to conceive new narratives, places, and forms. "),ke(),Ae(10,"p"),et(11," Painting is an ancient craft that allows as much work on a surface as the artist wishes to dedicate, with the only limits being space and time. "),Ae(12,"strong"),et(13,"Painting is a precious anachronism."),ke(),et(14," Simultaneously, painting is always relevant because it is an infinite field of knowledge. Each artist, over the years, discovers small findings on their journey, which together are inevitably unique. That's why the work of an artist who has worked for years is almost always special and valuable. "),ke(),Ae(15,"h2"),et(16,"Art"),ke(),Ae(17,"p"),et(18," My refuge in painting, sculpture, generative art, or digital art has yielded different fruits over time. There are peculiarities in my art that are constant and cut across production, and there are others that are variable, coming and going over time: "),ke(),Ae(19,"h2"),et(20,"Constants"),ke(),Ae(21,"p")(22,"strong"),et(23,"Internet. "),ke(),et(24," Representing technology artistically in painting and making technology by hand are ways of trying to reconcile our two halves; our physical self and our avatar. For a reason, my generation, "),Ae(25,"a",1)(26,"em"),et(27,"the millennial"),ke()(),et(28,", is the only one that has had to live and work on the Internet, having been educated with pen and paper. Moreover, most images I use in my creative process originate from the Internet. Specifically, through chance encounters with random images. These images are abducted by me, and I take ownership of them. Even before the emergence of AIs, the internet is virtually infinite, considering the tiny information processing capacity we humans have individually. "),ke(),Ae(29,"p")(30,"strong"),et(31,"Disturbing Element. "),ke(),et(32," In a hypothetical painting, a character looks at or interacts with something. But we don't know who they are, what they are doing, or why they are doing it. Even if it's something indeterminate, the action introduces narrative and invites spending time contemplating the image. The idea is for the image to propose an open premise, something beyond the pose, and for the viewer to complete it. "),ke(),Ae(33,"p")(34,"strong"),et(35,"Tradition. "),ke(),et(36," Cultural heritage is the DNA of any cultural identity. Great authors and the great themes of art history have had, have, and will have a tremendously gravitational effect. Vel\xE1zquez, Goya, Menzel, Rego, Hopper, Rauch, etc., have created great masterpieces in which the great themes of the history of art have been developed yesterday and today. Themes that are inherently human and are transversal and universal: love, death, fear,.. "),ke(),Ae(37,"p")(38,"strong"),et(39,"Failure as one of the Fine Arts. "),ke(),et(40,' "I have done many things because I have failed at all of them. I start from failure as one of the Fine Arts." This quote from the multifaceted Pep\xEDn Tre perfectly illustrates the reason for multidisciplinarity. Genius, divine enlightenment, or inspiration are nothing but mythological clich\xE9s. Reality, as always, is much more prosaic: it is failure (real or perceived) that moves an artist to investigate, try new techniques, new ways of reaching the public, etc. On the contrary, I am convinced that success (real or perceived) has a paralyzing capacity and ends up producing artists bored with their own art and themselves. '),ke(),Ae(41,"h2"),et(42,"Variables"),ke(),Ae(43,"p")(44,"strong"),et(45,"Artificial Intelligence. "),ke(),Ae(46,"a",2)(47,"em"),et(48,"In 2019, a minimal advance guard of creators, like Juanma Moreno, already experimented with the old Artificial Intelligence of that time"),ke()(),et(49,", as Javier Villuendas says in his column in ABC Cultural. In 2019, few of us intuited the creative potential of the AI of the time. Old neural networks like StyleGan or Bigbigan stimulated our imagination by creating very interesting monsters. Nowadays, AI-generated art is commonplace and has reached new levels of formal sufficiency. But at that time, the margin of error (loss) was much wider, and accidents produced unheard-of and highly interesting monsters. From 2019 to 2023, the primary source of inspiration for my work shifted from images found on the internet to images that Artificial Intelligences are capable of generating. "),ke(),Ae(50,"p")(51,"strong"),et(52,"Software. "),ke(),et(53," Software doesn't have to be an ultra-rational and efficient solution to an engineering problem. Software can also satisfy an artist's curiosity, be flexible, organic, random, disorganized, and unpredictable. Once again, we must value error. It is in the brushstroke that goes slightly beyond the contour, the accident that causes software to distort an image until it aberrates, where the value and originality lie. "),ke(),Ae(54,"p"),et(55," Rationalizing and verbalizing a task done intuitively is arduous work. I haven't always been able to do it. Today, I believe that the art I produce is, in summary, a consequence of who I am and the collision of worlds. "),ke()())}})}}return n})();var En=function(n){return n.MEDIUM="Medium",n.HEIGHT="Height",n.WIDTH="Width",n.UNIT="Unit",n.YEAR="Year",n.IMAGETYPE="Image Type",n.ARTIST="Artist",n.PROJECT="Project",n.DESC_AUTHOR="Description Author",n.DESC_LANG="Description language",n}(En||{}),x_=function(n){return n.FRONTAL="Frontal view",n.PROGRESS="Work in progress",n}(x_||{}),NM="0x2059eA8350FA506df249327510e592140905e026",LM=["1","3","55","33"],BM=["23","24","25","26","30","34","37","58","59","61","64","66","70","71","72","74","75","77","94","112","114","115","118","117"];var Dm=class{static dataIsOld(i){let t=Math.abs(new Date().getTime()-new Date(i).getTime());return Math.ceil(t/(1e3*3600*24))>7}};var el={production:!1,polygonPOSKey:"hIycsV1nNzriwJk9zqo1j-w5BpxfEe3m",polygonNetwork:jg.MATIC_MAINNET,homeTokenId:"2",adminAdress:"0xD7D089B7eBecCaf4FF8f183F22376913ce6193B9",backendUrl:"https://juanmamoreno-backend-oidvzp4jza-no.a.run.app/"};var VM={apiKey:el.polygonPOSKey,network:el.polygonNetwork};function WB(){return{artPieces:[],lastArtPiecesUpdate:void 0}}var yc=class Mm extends Zs{constructor(){super(WB())}static{this.\u0275fac=function(r){return new(r||Mm)}}static{this.\u0275prov=He({token:Mm,factory:Mm.\u0275fac,providedIn:"root"})}};yc=Sa([r0({name:"session"})],yc);var zM=(()=>{class n{constructor(r){this.sessionStore=r,this.alchemyPaginationSize=100,this.tempNFTList=[],this.alchemy=new Ag(VM)}getAlchemyNetwork(){return this.alchemy.config.network}fetchNFTsByContract(r,t){let o={pageSize:this.alchemyPaginationSize,pageKey:t};return dr(this.alchemy.nft.getNftsForContract(r,o).then(s=>(this.tempNFTList.push(...s.nfts.filter(a=>!LM.includes(a.tokenId))),s.pageKey?this.fetchNFTsByContract(r,s.pageKey):this.saveNftsLocally(this.tempNFTList),this.tempNFTList)).catch(s=>s))}saveNftsLocally(r){this.sessionStore.update({artPieces:r,lastArtPiecesUpdate:new Date})}static{this.\u0275fac=function(t){return new(t||n)(je(yc))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vc=(()=>{class n extends Ga{get selectArtPieces(){return this.getValue().artPieces}get selectLastArtPiecesUpdate(){return this.getValue().lastArtPiecesUpdate}get years(){return new Set(this.getValue().artPieces?.map(r=>Number(r.raw.metadata.attributes.find(t=>t.trait_type===En.YEAR).value)).filter(r=>r).sort().reverse())}constructor(r){super(r),this.store=r,this.selectArtPiecesObservable=this.select(({artPieces:t})=>[...t].sort(()=>Math.round(Math.random()-1)))}static{this.\u0275fac=function(t){return new(t||n)(je(yc))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lo=(()=>{class n{constructor(r,t,o){this.alchemyService=t,this.sessionQuery=o}getNfts(r){return this.itIsNeccesaryToFetch()?this.alchemyService.fetchNFTsByContract(r):this.sessionQuery.selectArtPiecesObservable}getOptimalUrl(r){return r.thumbnailUrl||r.cachedUrl||r.originalUrl}getQualityUrl(r){return r.originalUrl||r.cachedUrl||r.thumbnailUrl}getNftByIdObservable(r){return this.sessionQuery.selectArtPiecesObservable.pipe(wt(t=>t.find(({tokenId:o})=>r===o)))}getNftById(r){return this.sessionQuery.selectArtPieces.find(({tokenId:o})=>r===o)||null}getArtByYear(r){return this.sessionQuery.selectArtPieces?.filter(t=>t.raw.metadata[En.YEAR]===r)}getSameArtThan(r){return this.getNftByIdObservable(r).pipe(Vt(t=>!!t?.name),wt(t=>this.getArtByTitle(t.name)))}getArtByTitle(r){return this.sessionQuery.selectArtPieces?.filter(({name:t})=>t===r)}itIsNeccesaryToFetch(){return!this.sessionQuery.selectArtPieces.length||!this.sessionQuery.selectLastArtPiecesUpdate||Dm.dataIsOld(this.sessionQuery.selectLastArtPiecesUpdate)}static{this.\u0275fac=function(t){return new(t||n)(je("persistStorage"),je(zM),je(vc))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gn(n){return n!=null&&`${n}`!="false"}function ia(n,i=0){return YB(n)?Number(n):arguments.length===2?i:0}function YB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bc(n){return Array.isArray(n)?n:[n]}function an(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ui(n){return n instanceof bt?n.nativeElement:n}var E_;try{E_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E_=!1}var or=(()=>{class n{constructor(r){this._platformId=r,this.isBrowser=this._platformId?Ip(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||E_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(t){return new(t||n)(je(vi))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _c,HM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function I_(){if(_c)return _c;if(typeof document!="object"||!document)return _c=new Set(HM),_c;let n=document.createElement("input");return _c=new Set(HM.filter(i=>(n.setAttribute("type",i),n.type===i))),_c}var vd;function XB(){if(vd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vd=!0}))}finally{vd=vd||!1}return vd}function Bo(n){return XB()?n:!!n.capture}var so=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(so||{}),Tm,tl;function km(){if(tl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return tl=!1,tl;if("scrollBehavior"in document.documentElement.style)tl=!0;else{let n=Element.prototype.scrollTo;n?tl=!/\{\s*\[native code\]\s*\}/.test(n.toString()):tl=!1}}return tl}function oa(){if(typeof document!="object"||!document)return so.NORMAL;if(Tm==null){let n=document.createElement("div"),i=n.style;n.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let r=document.createElement("div"),t=r.style;t.width="2px",t.height="1px",n.appendChild(r),document.body.appendChild(n),Tm=so.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Tm=n.scrollLeft===0?so.NEGATED:so.INVERTED),n.remove()}return Tm}var C_;function QB(){if(C_==null){let n=typeof document<"u"?document.head:null;C_=!!(n&&(n.createShadowRoot||n.attachShadow))}return C_}function GM(n){if(QB()){let i=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Hi(n){return n.composedPath?n.composedPath()[0]:n.target}function bd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $M=new Set,rl,ZB=(()=>{class n{constructor(r,t){this._platform=r,this._nonce=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JB}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&KB(r,this._nonce),this._matchMedia(r)}static{this.\u0275fac=function(t){return new(t||n)(je(or),je(bu,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KB(n,i){if(!$M.has(n))try{rl||(rl=document.createElement("style"),i&&rl.setAttribute("nonce",i),rl.setAttribute("type","text/css"),document.head.appendChild(rl)),rl.sheet&&(rl.sheet.insertRule(`@media ${n} {body{ }}`,0),$M.add(n))}catch(r){console.error(r)}}function JB(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var sa=(()=>{class n{constructor(r,t){this._mediaMatcher=r,this._zone=t,this._queries=new Map,this._destroySubject=new Je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return WM(bc(r)).some(o=>this._registerQuery(o).mql.matches)}observe(r){let o=WM(bc(r)).map(a=>this._registerQuery(a).observable),s=Ca(o);return s=go(s.pipe(Mr(1)),s.pipe(Ms(1),oi(0))),s.pipe(wt(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let t=this._mediaMatcher.matchMedia(r),s={observable:new Ht(a=>{let c=l=>this._zone.run(()=>a.next(l));return t.addListener(c),()=>{t.removeListener(c)}}).pipe(on(t),wt(({matches:a})=>({query:r,matches:a})),Ut(this._destroySubject)),mql:t};return this._queries.set(r,s),s}static{this.\u0275fac=function(t){return new(t||n)(je(ZB),je(ot))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WM(n){return n.map(i=>i.split(",")).reduce((i,r)=>i.concat(r)).map(i=>i.trim())}var nl={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var aa=(()=>{class n{constructor(r){this.responsive=r,this.displayMobileLayout=new Sr(!1),this.responsive.observe([nl.XSmall]).pipe(mn()).subscribe(t=>{this.displayMobileLayout.next(!0),t.matches&&this.displayMobileLayout.next(!1)})}static{this.\u0275fac=function(t){return new(t||n)(je(sa))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wc(n,...i){return i.length?i.some(r=>n[r]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var eV=(()=>{class n{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xc=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[eV]})}}return n})();var pV=200,T_=class{constructor(i,r){this._letterKeyStream=new Je,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Je,this.selectedItem=this._selectedItem;let t=typeof r?.debounceInterval=="number"?r.debounceInterval:pV;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(i),this._setupKeyHandler(t)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let r=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(pr(r=>this._pressedLetters.push(r)),oi(i),Vt(()=>this._pressedLetters.length>0),wt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let t=1;t<this._items.length+1;t++){let o=(this._selectedItemIndex+t)%this._items.length,s=this._items[o];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},k_=class{constructor(i,r){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Jt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this.tabOut=new Je,this.change=new Je,i instanceof Zn?this._itemChangesSubscription=i.changes.subscribe(t=>this._itemsChanged(t.toArray())):cb(i)&&(this._effectRef=_p(()=>this._itemsChanged(i()),{injector:r}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let r=this._getItemsArray();return this._typeahead=new T_(r,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:t=>this._skipPredicateFn(t)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(t=>{this.setActiveItem(t)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,r=10){return this._pageUpAndDown={enabled:i,delta:r},this}setActiveItem(i){let r=this._activeItem;this.updateActiveItem(i),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(i){let r=i.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(r){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}else return;default:(o||wc(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let r=this._getItemsArray(),t=typeof i=="number"?i:r.indexOf(i),o=r[t];this._activeItem=o??null,this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let r=this._getItemsArray();for(let t=1;t<=r.length;t++){let o=(this._activeItemIndex+i*t+r.length)%r.length,s=r[o];if(!this._skipPredicateFn(s)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,r){let t=this._getItemsArray();if(t[i]){for(;this._skipPredicateFn(t[i]);)if(i+=r,!t[i])return;this.setActiveItem(i)}}_getItemsArray(){return cb(this._items)?this._items():this._items instanceof Zn?this._items.toArray():this._items}_itemsChanged(i){if(this._typeahead?.setItems(i),this._activeItem){let r=i.indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Cc=class extends k_{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var Pm=(()=>{class n{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return gV(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let t=mV(CV(r));if(t&&(qM(t)===-1||!this.isVisible(t)))return!1;let o=r.nodeName.toLowerCase(),s=qM(r);return r.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!xV(r)?!1:o==="audio"?r.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,t){return SV(r)&&!this.isDisabled(r)&&(t?.ignoreVisibility||this.isVisible(r))}static{this.\u0275fac=function(t){return new(t||n)(je(or))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mV(n){try{return n.frameElement}catch{return null}}function gV(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function yV(n){let i=n.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function vV(n){return _V(n)&&n.type=="hidden"}function bV(n){return wV(n)&&n.hasAttribute("href")}function _V(n){return n.nodeName.toLowerCase()=="input"}function wV(n){return n.nodeName.toLowerCase()=="a"}function ZM(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let i=n.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function qM(n){if(!ZM(n))return null;let i=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function xV(n){let i=n.nodeName.toLowerCase(),r=i==="input"&&n.type;return r==="text"||r==="password"||i==="select"||i==="textarea"}function SV(n){return vV(n)?!1:yV(n)||bV(n)||n.hasAttribute("contenteditable")||ZM(n)}function CV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Rm=class{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,r,t,o,s=!1,a){this._element=i,this._checker=r,this._ngZone=t,this._document=o,this._injector=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let i=this._startAnchor,r=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let r=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let t=this._getFirstTabbableElement(r);return t?.focus(i),!!t}return r.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let r=this._getRegionBoundary("start");return r&&r.focus(i),!!r}focusLastTabbableElement(i){let r=this._getRegionBoundary("end");return r&&r.focus(i),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let r=i.children;for(let t=0;t<r.length;t++){let o=r[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[t]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let r=i.children;for(let t=r.length-1;t>=0;t--){let o=r[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[t]):null;if(o)return o}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,r){i?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?Kn(i,{injector:this._injector}):setTimeout(i)}},KM=(()=>{class n{constructor(r,t,o){this._checker=r,this._ngZone=t,this._injector=Be(cr),this._document=o}create(r,t=!1){return new Rm(r,this._checker,this._ngZone,this._document,t,this._injector)}static{this.\u0275fac=function(t){return new(t||n)(je(Pm),je(ot),je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var j_=class extends Rm{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(i,r,t,o,s,a,c,l){super(i,r,t,o,c.defer,l),this._focusTrapManager=s,this._inertStrategy=a,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},A_=class{constructor(){this._listener=null}preventFocus(i){this._listener&&i._document.removeEventListener("focus",this._listener,!0),this._listener=r=>this._trapFocus(i,r),i._ngZone.runOutsideAngular(()=>{i._document.addEventListener("focus",this._listener,!0)})}allowFocus(i){this._listener&&(i._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(i,r){let t=r.target,o=i._element;t&&!o.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{i.enabled&&!o.contains(i._document.activeElement)&&i.focusFirstTabbableElement()})}},EV=new ze("FOCUS_TRAP_INERT_STRATEGY"),IV=(()=>{class n{constructor(){this._focusTrapStack=[]}register(r){this._focusTrapStack=this._focusTrapStack.filter(o=>o!==r);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(r),r._enable()}deregister(r){r._disable();let t=this._focusTrapStack,o=t.indexOf(r);o!==-1&&(t.splice(o,1),t.length&&t[t.length-1]._enable())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JM=(()=>{class n{constructor(r,t,o,s,a){this._checker=r,this._ngZone=t,this._focusTrapManager=o,this._injector=Be(cr),this._document=s,this._inertStrategy=a||new A_}create(r,t={defer:!1}){let o;return typeof t=="boolean"?o={defer:t}:o=t,new j_(r,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,o,this._injector)}static{this.\u0275fac=function(t){return new(t||n)(je(Pm),je(ot),je(IV),je(Dt),je(EV,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xd(n){return n.buttons===0||n.detail===0}function Sd(n){let i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}var DV=new ze("cdk-input-modality-detector-options"),MV={ignoreKeys:[18,17,224,91,16]},eT=650,Sc=Bo({passive:!0,capture:!0}),TV=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(r,t,o,s){this._platform=r,this._mostRecentTarget=null,this._modality=new Sr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hi(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<eT||(this._modality.next(xd(a)?"keyboard":"mouse"),this._mostRecentTarget=Hi(a))},this._onTouchstart=a=>{if(Sd(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hi(a)},this._options=xe(xe({},MV),s),this.modalityDetected=this._modality.pipe(Ms(1)),this.modalityChanged=this.modalityDetected.pipe(mn()),r.isBrowser&&t.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Sc),o.addEventListener("mousedown",this._onMousedown,Sc),o.addEventListener("touchstart",this._onTouchstart,Sc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sc),document.removeEventListener("mousedown",this._onMousedown,Sc),document.removeEventListener("touchstart",this._onTouchstart,Sc))}static{this.\u0275fac=function(t){return new(t||n)(je(or),je(ot),je(Dt),je(DV,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kV=new ze("liveAnnouncerElement",{providedIn:"root",factory:jV});function jV(){return null}var AV=new ze("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),OV=0,tT=(()=>{class n{constructor(r,t,o,s){this._ngZone=t,this._defaultOptions=s,this._document=o,this._liveElement=r||this._createLiveElement()}announce(r,...t){let o=this._defaultOptions,s,a;return t.length===1&&typeof t[0]=="number"?a=t[0]:[s,a]=t,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",t=this._document.getElementsByClassName(r),o=this._document.createElement("div");for(let s=0;s<t.length;s++)t[s].remove();return o.classList.add(r),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${OV++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(r){let t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){let s=t[o],a=s.getAttribute("aria-owns");a?a.indexOf(r)===-1&&s.setAttribute("aria-owns",a+" "+r):s.setAttribute("aria-owns",r)}}static{this.\u0275fac=function(t){return new(t||n)(je(kV,8),je(ot),je(Dt),je(AV,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Om=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Om||{}),RV=new ze("cdk-focus-monitor-default-options"),Am=Bo({passive:!0,capture:!0}),ms=(()=>{class n{constructor(r,t,o,s,a){this._ngZone=r,this._platform=t,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Je,this._rootNodeFocusAndBlurListener=c=>{let l=Hi(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=a?.detectionMode||Om.IMMEDIATE}monitor(r,t=!1){let o=ui(r);if(!this._platform.isBrowser||o.nodeType!==1)return _t();let s=GM(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return t&&(a.checkChildren=!0),a.subject;let c={checkChildren:t,subject:new Je,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let t=ui(r),o=this._elementInfo.get(t);o&&(o.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(o))}focusVia(r,t,o){let s=ui(r),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,t,l)):(this._setOrigin(t),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((r,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===Om.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,t){r.classList.toggle("cdk-focused",!!t),r.classList.toggle("cdk-touch-focused",t==="touch"),r.classList.toggle("cdk-keyboard-focused",t==="keyboard"),r.classList.toggle("cdk-mouse-focused",t==="mouse"),r.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(r,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&t,this._detectionMode===Om.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?eT:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(r,t){let o=this._elementInfo.get(t),s=Hi(r);!o||!o.checkChildren&&t!==s||this._originChanged(t,this._getFocusOrigin(s),o)}_onBlur(r,t){let o=this._elementInfo.get(t);!o||o.checkChildren&&r.relatedTarget instanceof Node&&t.contains(r.relatedTarget)||(this._setClasses(t),this._emitOrigin(o,null))}_emitOrigin(r,t){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(t))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let t=r.rootNode,o=this._rootNodeFocusListenerCount.get(t)||0;o||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Am),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Am)}),this._rootNodeFocusListenerCount.set(t,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ut(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(r){let t=r.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let o=this._rootNodeFocusListenerCount.get(t);o>1?this._rootNodeFocusListenerCount.set(t,o-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Am),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Am),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,t,o){this._setClasses(r,t),this._emitOrigin(o,t),this._lastFocusOrigin=t}_getClosestElementsInfo(r){let t=[];return this._elementInfo.forEach((o,s)=>{(s===r||o.checkChildren&&s.contains(r))&&t.push([s,o])}),t}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:t,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!t||t===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let s=r.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(t))return!0}return!1}static{this.\u0275fac=function(t){return new(t||n)(je(ot),je(or),je(TV),je(Dt,8),je(RV,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var il=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(il||{}),YM="cdk-high-contrast-black-on-white",XM="cdk-high-contrast-white-on-black",M_="cdk-high-contrast-active",P_=(()=>{class n{constructor(r,t){this._platform=r,this._document=t,this._breakpointSubscription=Be(sa).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return il.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let t=this._document.defaultView||window,o=t&&t.getComputedStyle?t.getComputedStyle(r):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(r.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return il.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return il.BLACK_ON_WHITE}return il.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(M_,YM,XM),this._hasCheckedHighContrastMode=!0;let t=this.getHighContrastMode();t===il.BLACK_ON_WHITE?r.add(M_,YM):t===il.WHITE_ON_BLACK&&r.add(M_,XM)}}static{this.\u0275fac=function(t){return new(t||n)(je(or),je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rT=(()=>{class n{constructor(r){r._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(t){return new(t||n)(je(P_))}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[xc]})}}return n})();var PV=new ze("cdk-dir-doc",{providedIn:"root",factory:FV});function FV(){return Be(Dt)}var NV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function LV(n){let i=n?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?NV.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var di=(()=>{class n{constructor(r){if(this.value="ltr",this.change=new Mt,r){let t=r.body?r.body.dir:null,o=r.documentElement?r.documentElement.dir:null;this.value=LV(t||o||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(t){return new(t||n)(je(PV,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var la=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})();function BV(){return!0}var VV=new ze("mat-sanity-checks",{providedIn:"root",factory:BV}),Xt=(()=>{class n{constructor(r,t,o){this._sanityChecks=t,this._document=o,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return bd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}static{this.\u0275fac=function(t){return new(t||n)(je(P_),je(VV,8),je(Dt))}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[la,la]})}}return n})();var Cd=class{constructor(i,r,t,o,s){this._defaultMatcher=i,this.ngControl=r,this._parentFormGroup=t,this._parentForm=o,this._stateChanges=s,this.errorState=!1}updateErrorState(){let i=this.errorState,r=this._parentFormGroup||this._parentForm,t=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,s=t?.isErrorState(o,r)??!1;s!==i&&(this.errorState=s,this._stateChanges.next())}};var Lm=(()=>{class n{isErrorState(r,t){return!!(r&&r.invalid&&(r.touched||t&&t.submitted))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var V_=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,Xt]})}}return n})(),Gi=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Gi||{}),L_=class{constructor(i,r,t,o=!1){this._renderer=i,this.element=r,this.config=t,this._animationForciblyDisabledThroughCss=o,this.state=Gi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},nT=Bo({passive:!0,capture:!0}),B_=class{constructor(){this._events=new Map,this._delegateEventHandler=i=>{let r=Hi(i);r&&this._events.get(i.type)?.forEach((t,o)=>{(o===r||o.contains(r))&&t.forEach(s=>s.handleEvent(i))})}}addHandler(i,r,t,o){let s=this._events.get(r);if(s){let a=s.get(t);a?a.add(o):s.set(t,new Set([o]))}else this._events.set(r,new Map([[t,new Set([o])]])),i.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,nT)})}removeHandler(i,r,t){let o=this._events.get(i);if(!o)return;let s=o.get(r);s&&(s.delete(t),s.size===0&&o.delete(r),o.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,nT)))}},iT={enterDuration:225,exitDuration:150},UV=800,oT=Bo({passive:!0,capture:!0}),sT=["mousedown","touchstart"],aT=["mouseup","mouseleave","touchend","touchcancel"],Nm=class n{static{this._eventManager=new B_}constructor(i,r,t,o){this._target=i,this._ngZone=r,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ui(t))}fadeInRipple(i,r,t={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=xe(xe({},iT),t.animation);t.centered&&(i=o.left+o.width/2,r=o.top+o.height/2);let a=t.radius||zV(i,r,o),c=i-o.left,l=r-o.top,u=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=`${c-a}px`,y.style.top=`${l-a}px`,y.style.height=`${a*2}px`,y.style.width=`${a*2}px`,t.color!=null&&(y.style.backgroundColor=t.color),y.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(y);let b=window.getComputedStyle(y),d=b.transitionProperty,f=b.transitionDuration,h=d==="none"||f==="0s"||f==="0s, 0s"||o.width===0&&o.height===0,m=new L_(this,y,t,h);y.style.transform="scale3d(1, 1, 1)",m.state=Gi.FADING_IN,t.persistent||(this._mostRecentTransientRipple=m);let g=null;return!h&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let p=()=>{g&&(g.fallbackTimer=null),clearTimeout(_),this._finishRippleTransition(m)},v=()=>this._destroyRipple(m),_=setTimeout(v,u+100);y.addEventListener("transitionend",p),y.addEventListener("transitioncancel",v),g={onTransitionEnd:p,onTransitionCancel:v,fallbackTimer:_}}),this._activeRipples.set(m,g),(h||!u)&&this._finishRippleTransition(m),m}fadeOutRipple(i){if(i.state===Gi.FADING_OUT||i.state===Gi.HIDDEN)return;let r=i.element,t=xe(xe({},iT),i.config.animation);r.style.transitionDuration=`${t.exitDuration}ms`,r.style.opacity="0",i.state=Gi.FADING_OUT,(i._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let r=ui(i);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,sT.forEach(t=>{n._eventManager.addHandler(this._ngZone,t,r,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aT.forEach(r=>{this._triggerElement.addEventListener(r,this,oT)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Gi.FADING_IN?this._startFadeOutTransition(i):i.state===Gi.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let r=i===this._mostRecentTransientRipple,{persistent:t}=i.config;i.state=Gi.VISIBLE,!t&&(!r||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let r=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Gi.HIDDEN,r!==null&&(i.element.removeEventListener("transitionend",r.onTransitionEnd),i.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),i.element.remove()}_onMousedown(i){let r=xd(i),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+UV;!this._target.rippleDisabled&&!r&&!t&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!Sd(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=i.changedTouches;if(r)for(let t=0;t<r.length;t++)this.fadeInRipple(r[t].clientX,r[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let r=i.state===Gi.VISIBLE||i.config.terminateOnPointerUp&&i.state===Gi.FADING_IN;!i.config.persistent&&r&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(sT.forEach(r=>n._eventManager.removeHandler(r,i,this)),this._pointerUpEventsRegistered&&(aT.forEach(r=>i.removeEventListener(r,this,oT)),this._pointerUpEventsRegistered=!1))}};function zV(n,i,r){let t=Math.max(Math.abs(n-r.left),Math.abs(n-r.right)),o=Math.max(Math.abs(i-r.top),Math.abs(i-r.bottom));return Math.sqrt(t*t+o*o)}var Ed=new ze("mat-ripple-global-options"),U_=(()=>{class n{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,t,o,s,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Nm(this,t,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:xe(xe(xe({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,t=0,o){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,t,xe(xe({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,xe(xe({},this.rippleConfig),r))}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(ot),ge(or),ge(Ed,8),ge(gn,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){t&2&&Yt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),ca=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,Xt]})}}return n})();var dT=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt]})}}return n})();var lT={capture:!0},cT=["focus","mousedown","mouseenter","touchstart"],F_="mat-ripple-loader-uninitialized",N_="mat-ripple-loader-class-name",uT="mat-ripple-loader-centered",Fm="mat-ripple-loader-disabled",Bm=(()=>{class n{constructor(){this._document=Be(Dt,{optional:!0}),this._animationMode=Be(gn,{optional:!0}),this._globalRippleOptions=Be(Ed,{optional:!0}),this._platform=Be(or),this._ngZone=Be(ot),this._hosts=new Map,this._onInteraction=r=>{let t=Hi(r);if(t instanceof HTMLElement){let o=t.closest(`[${F_}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let r of cT)this._document?.addEventListener(r,this._onInteraction,lT)})}ngOnDestroy(){let r=this._hosts.keys();for(let t of r)this.destroyRipple(t);for(let t of cT)this._document?.removeEventListener(t,this._onInteraction,lT)}configureRipple(r,t){r.setAttribute(F_,this._globalRippleOptions?.namespace??""),(t.className||!r.hasAttribute(N_))&&r.setAttribute(N_,t.className||""),t.centered&&r.setAttribute(uT,""),t.disabled&&r.setAttribute(Fm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,t){let o=this._hosts.get(r);if(o){o.disabled=t;return}t?r.setAttribute(Fm,""):r.removeAttribute(Fm)}_createRipple(r){if(!this._document)return;let t=this._hosts.get(r);if(t)return t;r.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",r.getAttribute(N_)),r.append(o);let s=new U_(new bt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=r,s.centered=r.hasAttribute(uT),s.disabled=r.hasAttribute(Fm),this.attachRipple(r,s),s}attachRipple(r,t){r.removeAttribute(F_),this._hosts.set(r,t)}destroyRipple(r){let t=this._hosts.get(r);t&&(t.ngOnDestroy(),this._hosts.delete(r))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vm=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=Gn(r)}get inset(){return this._inset}set inset(r){this._inset=Gn(r)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,o){t&2&&(At("aria-orientation",o.vertical?"vertical":"horizontal"),Yt("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Ot],decls:0,vars:0,template:function(t,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return n})(),Um=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,Xt]})}}return n})();var fT=["*"];var GV=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",z_=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,r){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=r.map(t=>this._trackTile(t))}_trackTile(i){let r=this._findMatchingGap(i.colspan);return this._markTilePosition(r,i),this.columnIndex=r+i.colspan,new H_(this.rowIndex,r)}_findMatchingGap(i){i>this.tracker.length;let r=-1,t=-1;do{if(this.columnIndex+i>this.tracker.length){this._nextRow(),r=this.tracker.indexOf(0,this.columnIndex),t=this._findGapEndIndex(r);continue}if(r=this.tracker.indexOf(0,this.columnIndex),r==-1){this._nextRow(),r=this.tracker.indexOf(0,this.columnIndex),t=this._findGapEndIndex(r);continue}t=this._findGapEndIndex(r),this.columnIndex=r+1}while(t-r<i||t==0);return Math.max(r,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let r=i+1;r<this.tracker.length;r++)if(this.tracker[r]!=0)return r;return this.tracker.length}_markTilePosition(i,r){for(let t=0;t<r.colspan;t++)this.tracker[i+t]=r.rowspan}},H_=class{constructor(i,r){this.row=i,this.col=r}},pT=new ze("MAT_GRID_LIST"),gs=(()=>{class n{constructor(r,t){this._element=r,this._gridList=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(r){this._rowspan=Math.round(ia(r))}get colspan(){return this._colspan}set colspan(r){this._colspan=Math.round(ia(r))}_setStyle(r,t){this._element.nativeElement.style[r]=t}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(pT,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,o){t&2&&At("rowspan",o.rowspan)("colspan",o.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[Ot],ngContentSelectors:fT,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,o){t&1&&(xr(),Ae(0,"div",0),Lt(1),ke())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return n})();var $V=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Id=class{constructor(){this._rows=0,this._rowspan=0}init(i,r,t,o){this._gutterSize=mT(i),this._rows=r.rowCount,this._rowspan=r.rowspan,this._cols=t,this._direction=o}getBaseTileSize(i,r){return`(${i}% - (${this._gutterSize} * ${r}))`}getTilePosition(i,r){return r===0?"0":sl(`(${i} + ${this._gutterSize}) * ${r}`)}getTileSize(i,r){return`(${i} * ${r}) + (${r-1} * ${this._gutterSize})`}setStyle(i,r,t){let o=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(i,t,o,s),this.setRowStyles(i,r,o,s)}setColStyles(i,r,t,o){let s=this.getBaseTileSize(t,o),a=this._direction==="rtl"?"right":"left";i._setStyle(a,this.getTilePosition(s,r)),i._setStyle("width",sl(this.getTileSize(s,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}},G_=class extends Id{constructor(i){super(),this.fixedRowHeight=i}init(i,r,t,o){super.init(i,r,t,o),this.fixedRowHeight=mT(this.fixedRowHeight),$V.test(this.fixedRowHeight)}setRowStyles(i,r){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,r)),i._setStyle("height",sl(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",sl(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(r=>{r._setStyle("top",null),r._setStyle("height",null)})}},$_=class extends Id{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,r,t,o){let s=t/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(s,o),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,r)),i._setStyle("paddingTop",sl(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",sl(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(r=>{r._setStyle("marginTop",null),r._setStyle("paddingTop",null)})}_parseRatio(i){let r=i.split(":");r.length,this.rowHeightRatio=parseFloat(r[0])/parseFloat(r[1])}},W_=class extends Id{setRowStyles(i,r){let t=100/this._rowspan,o=(this._rows-1)/this._rows,s=this.getBaseTileSize(t,o);i._setStyle("top",this.getTilePosition(s,r)),i._setStyle("height",sl(this.getTileSize(s,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(r=>{r._setStyle("top",null),r._setStyle("height",null)})}};function sl(n){return`calc(${n})`}function mT(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}var WV="fit",ua=(()=>{class n{constructor(r,t){this._element=r,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(r){this._cols=Math.max(1,Math.round(ia(r)))}get gutterSize(){return this._gutter}set gutterSize(r){this._gutter=`${r??""}`}get rowHeight(){return this._rowHeight}set rowHeight(r){let t=`${r??""}`;t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(r){this._tileStyler&&this._tileStyler.reset(this),r===WV?this._tileStyler=new W_:r&&r.indexOf(":")>-1?this._tileStyler=new $_(r):this._tileStyler=new G_(r)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new z_);let r=this._tileCoordinator,t=this._tiles.filter(s=>!s._gridList||s._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,t),this._tileStyler.init(this.gutterSize,r,this.cols,o),t.forEach((s,a)=>{let c=r.positions[a];this._tileStyler.setStyle(s,c.row,c.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(r){r&&(this._element.nativeElement.style[r[0]]=r[1])}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(di,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,o,s){if(t&1&&vr(s,gs,5),t&2){let a;Et(a=It())&&(o._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,o){t&2&&At("cols",o.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[Or([{provide:pT,useExisting:n}]),Ot],ngContentSelectors:fT,decls:2,vars:0,template:function(t,o){t&1&&(xr(),Ae(0,"div"),Lt(1),ke())},styles:[GV],encapsulation:2,changeDetection:0})}}return n})(),gT=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[V_,Xt,V_,Xt]})}}return n})();function q_(n,i){let r=!i?.manualCleanup;r&&!i?.injector&&yu(q_);let t=r?i?.injector?.get(Us)??Be(Us):null,o=qV(i?.equal),s;i?.requireSync?s=_i({kind:0},{equal:o}):s=_i({kind:1,value:i?.initialValue},{equal:o});let a=n.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{if(i?.rejectErrors)throw c;s.set({kind:2,error:c})}});if(i?.requireSync&&s().kind===0)throw new Xe(601,!1);return t?.onDestroy(a.unsubscribe.bind(a)),ro(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new Xe(601,!1)}},{equal:i?.equal})}function qV(n=Object.is){return(i,r)=>i.kind===1&&r.kind===1&&n(i.value,r.value)}var YV=["*"];var XV=new ze("MAT_CARD_CONFIG"),yT=(()=>{class n{constructor(r){this.appearance=r?.appearance||"raised"}static{this.\u0275fac=function(t){return new(t||n)(ge(XV,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,o){t&2&&Yt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Ot],ngContentSelectors:YV,decls:1,vars:0,template:function(t,o){t&1&&(xr(),Lt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})();var vT=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}}return n})();var Hm=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,$r,Xt]})}}return n})();var ZV=n=>({container:n});function KV(n,i){if(n&1){let r=Ar();Ae(0,"mat-grid-tile",2),Ft("click",function(){mr(r);let o=Ke().$implicit,s=Ke();return gr(s.handleArtPieceClick(o.tokenId))}),Ae(1,"mat-card"),lt(2,"img",3),ke()()}if(n&2){let r=Ke().$implicit,t=Ke();Le(2),Ue("src",t.getImgThumbUrl(r.image),zs)("alt",r.name)}}function JV(n,i){if(n&1&&dt(0,KV,3,2,"mat-grid-tile"),n&2){let r=i.$implicit,t=Ke();Gt(t.displayPiece(r)?0:-1)}}var Ic=(()=>{class n{constructor(r,t,o,s,a){this.sessionQuery=r,this.activatedroute=t,this.router=o,this.nftService=s,this.responsiveService=a,this.numberOfCols=ep(this.responsiveService.displayMobileLayout.value?5:2),this.viewAsWidget=ep(!1),this.nftFilters=ep({}),this.selectedTokenId=EC(),this.artPieces=q_(this.sessionQuery.selectArtPiecesObservable)}ngOnInit(){this.listenYearParamChange()}listenYearParamChange(){this.router.events.pipe(mn()).subscribe(()=>{if(this.activatedroute.firstChild){let r=this.activatedroute.firstChild.snapshot.paramMap.get("year");this.nftFilters().years=r?[r]:[]}else if(!this.activatedroute.snapshot.paramMap.get("id")){let r=this.activatedroute.snapshot.paramMap.get("year");this.nftFilters().years=r?[r]:[]}})}displayPiece(r){return!this.isExcludedByYear(r)&&!this.isExcludedById(r)&&this.isFrontalView(r)}isExcludedById(r){return this.nftFilters()?.idsToExclude?.length?this.nftFilters().idsToExclude.includes(r.tokenId):!1}isExcludedByYear(r){return this.nftFilters().years?.length?this.nftFilters().years.some(t=>r.raw.metadata.attributes.find(o=>o.trait_type===En.YEAR).value!==t):!1}isFrontalView(r){let t=r.raw.metadata.attributes.find(s=>s.trait_type===En.IMAGETYPE),o=!!t;return t.value===x_.FRONTAL||!o}getImgThumbUrl(r){return this.nftService.getOptimalUrl(r)}handleArtPieceClick(r){this.selectedTokenId.emit(r),this.router.navigate(["/artwork",r])}listTracking(r,t){return t}static{this.\u0275fac=function(t){return new(t||n)(ge(vc),ge(ei),ge(ti),ge(Lo),ge(aa))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-art-pieces-list"]],inputs:{numberOfCols:[1,"numberOfCols"],viewAsWidget:[1,"viewAsWidget"],nftFilters:[1,"nftFilters"]},outputs:{selectedTokenId:"selectedTokenId"},decls:4,vars:4,consts:[[3,"ngClass"],["gutterSize","10","rowHeight","1:1",3,"cols"],[3,"click"],["mat-card-image","",1,"front-image",3,"src","alt"]],template:function(t,o){t&1&&(Ae(0,"div",0)(1,"mat-grid-list",1),Fi(2,JV,1,1,null,null,o.listTracking,!0),ke()()),t&2&&(Ue("ngClass",Cu(2,ZV,!o.viewAsWidget())),Le(),Ue("cols",o.numberOfCols()),Le(),Ni(o.artPieces()))},dependencies:[Mb,yT,vT,ua,gs],styles:["mat-grid-tile[_ngcontent-%COMP%]{cursor:pointer}"]})}}return n})();function tU(n,i){if(n&1){let r=Ar();Ae(0,"div",1),Ft("click",function(){let o=mr(r).index,s=Ke();return gr(s.gallery.ref(s.galleryId).set(o))}),lt(1,"div",2),ke()}if(n&2){let r=i.index,t=Ke();ns("width",t.config==null?null:t.config.dotsSize,"px")("height",t.config==null?null:t.config.dotsSize,"px"),Yt("g-dot-active",r===t.state.currIndex)}}function rU(n,i){if(n&1){let r=Ar();Ae(0,"i",2),Ft("click",function(){mr(r);let o=Ke();return gr(o.gallery.ref(o.galleryId).prev(o.config.navScrollBehavior))}),ke()}if(n&2){let r=Ke();Ue("innerHtml",r.navIcon,Pi)}}function nU(n,i){if(n&1){let r=Ar();Ae(0,"i",3),Ft("click",function(){mr(r);let o=Ke();return gr(o.gallery.ref(o.galleryId).next(o.config.navScrollBehavior))}),ke()}if(n&2){let r=Ke();Ue("innerHtml",r.navIcon,Pi)}}var iU=["iframe"];function oU(n,i){if(n&1&&lt(0,"iframe",3,1),n&2){let r=Ke();Ue("src",r.iframeSrc,np),At("loading",r.loadingAttr)}}function sU(n,i){if(n&1&&lt(0,"iframe",4,1),n&2){let r=Ke();Ue("src",r.iframeSrc,np),At("loading",r.loadingAttr)}}var aU=["video"];function lU(n,i){if(n&1&&lt(0,"source",5),n&2){let r=Ke().$implicit;Ue("src",r==null?null:r.url,zs)("type",r.type)}}function cU(n,i){if(n&1&&lt(0,"source",6),n&2){let r=Ke().$implicit;Ue("src",r==null?null:r.url,zs)}}function uU(n,i){if(n&1&&(Mo(0),dt(1,lU,1,2,"source",4)(2,cU,1,1,"ng-template",null,1,Li),To()),n&2){let r=i.$implicit,t=yn(3);Le(),Ue("ngIf",r==null?null:r.type)("ngIfElse",t)}}function dU(n,i){if(n&1&&lt(0,"div",9),n&2){let r=Ke(2);Ue("innerHTML",r.errorTemplate,Pi)}}function hU(n,i){if(n&1&&(Mo(0),Ae(1,"h4"),lt(2,"div",11),ke(),To()),n&2){let r=Ke(3);Le(2),Ue("innerHTML",r.errorSvg,Pi)}}function fU(n,i){if(n&1&&(Ae(0,"h2"),lt(1,"div",12),ke(),Ae(2,"p"),et(3,"Unable to load the image!"),ke()),n&2){let r=Ke(3);Le(),Ue("innerHTML",r.errorSvg,Pi)}}function pU(n,i){if(n&1&&dt(0,hU,3,1,"ng-container",10)(1,fU,4,1,"ng-template",null,1,Li),n&2){let r=yn(2),t=Ke(2);Ue("ngIf",t.isThumbnail)("ngIfElse",r)}}function mU(n,i){if(n&1&&(Ae(0,"div",7),dt(1,dU,1,1,"div",8)(2,pU,3,2,"ng-template",null,0,Li),ke()),n&2){let r=yn(3),t=Ke();Le(),Ue("ngIf",t.errorTemplate)("ngIfElse",r)}}function gU(n,i){if(n&1&&lt(0,"div",14),n&2){let r=Ke(2);Ue("innerHTML",r.loaderTemplate,Pi)}}function yU(n,i){n&1&&lt(0,"div",16)}function vU(n,i){if(n&1&&dt(0,yU,1,0,"div",15),n&2){let r=Ke(2);Ue("ngIf",r.isThumbnail)}}function bU(n,i){if(n&1&&(Mo(0),dt(1,gU,1,1,"div",13)(2,vU,1,1,"ng-template",null,2,Li),To()),n&2){let r=yn(3),t=Ke();Le(),Ue("ngIf",t.loaderTemplate)("ngIfElse",r)}}function _U(n,i){n&1&&Na(0)}function wU(n,i){if(n&1&&(Ae(0,"div",9),dt(1,_U,1,0,"ng-container",10),ke()),n&2){let r=Ke(3);Le(),Ue("ngTemplateOutlet",r.config.imageTemplate)("ngTemplateOutletContext",r.imageContext)}}function xU(n,i){if(n&1){let r=Ar();Mo(0),Ae(1,"gallery-image",7),Ft("loaded",function(){mr(r);let o=Ke(2);return gr(o.onItemLoaded())})("error",function(o){mr(r);let s=Ke(2);return gr(s.error.emit(o))}),ke(),dt(2,wU,2,2,"div",8),To()}if(n&2){let r=Ke(2);Le(),Ue("src",r.imageData.src)("alt",r.imageData.alt)("loadingAttr",r.config.loadingAttr)("loadingIcon",r.config.loadingIcon)("loadingError",r.config.loadingError),Le(),Ue("ngIf",r.config.imageTemplate)}}function SU(n,i){if(n&1){let r=Ar();Ae(0,"gallery-video",11),Ft("error",function(o){mr(r);let s=Ke(2);return gr(s.error.emit(o))}),ke()}if(n&2){let r=Ke(2);Ue("src",r.videoData.src)("mute",r.videoData.mute)("poster",r.videoData.poster)("controls",r.videoData.controls)("controlsList",r.videoData.controlsList)("disablePictureInPicture",r.videoData.disablePictureInPicture)("play",r.isAutoPlay)("pause",r.currIndex!==r.index)}}function CU(n,i){if(n&1&&lt(0,"gallery-iframe",12),n&2){let r=Ke(2);Ue("src",r.youtubeSrc)("autoplay",r.isAutoPlay)("loadingAttr",r.config.loadingAttr)("pause",r.currIndex!==r.index)}}function EU(n,i){if(n&1&&lt(0,"gallery-iframe",13),n&2){let r=Ke(2);Ue("src",r.data.src)("loadingAttr",r.config.loadingAttr)}}function IU(n,i){n&1&&Na(0)}function DU(n,i){if(n&1&&(Ae(0,"div",9),dt(1,IU,1,0,"ng-container",10),ke()),n&2){let r=Ke(3);Le(),Ue("ngTemplateOutlet",r.config.itemTemplate)("ngTemplateOutletContext",r.itemContext)}}function MU(n,i){if(n&1&&(Mo(0),dt(1,DU,2,2,"div",8),To()),n&2){let r=Ke(2);Le(),Ue("ngIf",r.config.itemTemplate)}}function TU(n,i){if(n&1&&(Mo(0,1),dt(1,xU,3,6,"ng-container",2)(2,SU,1,8,"gallery-video",3)(3,CU,1,4,"gallery-iframe",4)(4,EU,1,2,"gallery-iframe",5)(5,MU,2,1,"ng-container",6),To()),n&2){let r=Ke();Ue("ngSwitch",r.type),Le(),Ue("ngSwitchCase",r.Types.Image),Le(),Ue("ngSwitchCase",r.Types.Video),Le(),Ue("ngSwitchCase",r.Types.Youtube),Le(),Ue("ngSwitchCase",r.Types.Iframe)}}var ST=["slider"],kU=["*"];function jU(n,i){if(n&1){let r=Ar();Ae(0,"gallery-item",4),Ft("click",function(){let o=mr(r).index,s=Ke();return gr(s.itemClick.emit(o))})("error",function(o){let s=mr(r).index,a=Ke();return gr(a.error.emit({itemIndex:s,error:o}))}),ke()}if(n&2){let r=i.$implicit,t=i.index,o=Ke();Ue("type",r.type)("config",o.config)("data",r.data)("currIndex",o.state.currIndex)("index",t)("count",o.state.items.length),At("galleryId",o.galleryId)}}function AU(n,i){n&1&&Na(0)}function OU(n,i){if(n&1&&(Ae(0,"div",2),dt(1,AU,1,0,"ng-container",3),ke()),n&2){let r=Ke();Le(),Ue("ngTemplateOutlet",r.config.thumbTemplate)("ngTemplateOutletContext",r.imageContext)}}function RU(n,i){if(n&1){let r=Ar();Ae(0,"gallery-thumb",4),Ft("click",function(){let o=mr(r).index,s=Ke();return gr(s.config.disableThumb?null:s.thumbClick.emit(o))})("error",function(o){let s=mr(r).index,a=Ke();return gr(a.error.emit({itemIndex:s,error:o}))}),ke()}if(n&2){let r=i.$implicit,t=i.index,o=Ke();Ue("type",r.type)("config",o.config)("data",r.data)("currIndex",o.state.currIndex)("index",t)("count",o.state.items.length)}}var PU=(n,i)=>({state:n,config:i});function FU(n,i){if(n&1){let r=Ar();Ae(0,"gallery-thumbs",7),Ft("thumbClick",function(o){mr(r);let s=Ke();return gr(s.thumbClick.emit(o))})("error",function(o){mr(r);let s=Ke();return gr(s.error.emit(o))}),ke()}if(n&2){let r=Ke();Ue("state",r.state)("config",r.config)}}function NU(n,i){if(n&1&&lt(0,"gallery-nav",8),n&2){let r=Ke();Ue("state",r.state)("config",r.config)("galleryId",r.galleryId)}}function LU(n,i){if(n&1&&lt(0,"gallery-dots",8),n&2){let r=Ke();Ue("state",r.state)("config",r.config)("galleryId",r.galleryId)}}function BU(n,i){if(n&1&&lt(0,"gallery-counter",9),n&2){let r=Ke();Ue("state",r.state)}}function VU(n,i){n&1&&Na(0)}var $n=function(n){return n.INITIALIZED="initialized",n.ITEMS_CHANGED="itemsChanged",n.INDEX_CHANGED="indexChanged",n.PLAY="play",n.STOP="stop",n}($n||{}),Y_=function(n){return n.Cover="cover",n.Contain="contain",n}(Y_||{}),$m=function(n){return n.Preload="preload",n.Lazy="lazy",n.Default="default",n}($m||{}),CT=function(n){return n.Eager="eager",n.Lazy="lazy",n}(CT||{}),da=function(n){return n.Top="top",n.Left="left",n.Right="right",n.Bottom="bottom",n}(da||{}),ET=function(n){return n.Top="top",n.Bottom="bottom",n}(ET||{}),IT=function(n){return n.Top="top",n.Bottom="bottom",n}(IT||{}),Wm=function(n){return n.Horizontal="horizontal",n.Vertical="vertical",n}(Wm||{}),ys=function(n){return n.Image="image",n.Video="video",n.Youtube="youtube",n.Iframe="iframe",n}(ys||{}),Td=function(n){return n.Default="default",n.Contain="contain",n}(Td||{}),bT={action:$n.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},_T={nav:!0,loop:!0,dots:!1,thumb:!0,debug:!1,dotsSize:6,counter:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,disableThumb:!1,slidingDisabled:!1,thumbSlidingDisabled:!1,mouseSlidingDisabled:!1,thumbMouseSlidingDisabled:!1,playerInterval:3e3,slidingDuration:468,slidingEase:{x1:.42,y1:0,x2:.58,y2:1},thumbAutosize:!1,itemAutosize:!1,autoHeight:!1,scrollBehavior:"smooth",navScrollBehavior:"smooth",resizeDebounceTime:50,loadingAttr:CT.Lazy,imageSize:Y_.Contain,thumbImageSize:Y_.Cover,thumbView:Td.Default,dotsPosition:ET.Bottom,counterPosition:IT.Top,thumbPosition:da.Bottom,loadingStrategy:$m.Preload,slidingDirection:Wm.Horizontal,navIcon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM241 377c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l87-87-87-87c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L345 239c9.4 9.4 9.4 24.6 0 33.9L241 377z"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},qm=class{constructor(i){this.data=i,this.type=ys.Image}},X_=class{constructor(i){this.data=i,this.type=ys.Video}},Q_=class{constructor(i){this.data=i,this.type=ys.Iframe}},Z_=class{constructor(i){this.data=vt(xe({},i),{src:`https://youtube.com/embed/${i.src}`,thumb:i.thumb?i.thumb:`//img.youtube.com/vi/${i.src}/default.jpg`}),this.type=ys.Youtube}},Dd=n=>Vt(i=>n.indexOf(i.action)>-1),K_=class{get stateSnapshot(){return this._state.value}get configSnapshot(){return this._config.value}get initialized(){return this.state.pipe(Dd([$n.INITIALIZED]))}get itemsChanged(){return this.state.pipe(Dd([$n.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(Dd([$n.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(Dd([$n.PLAY,$n.STOP]))}get playerActions(){return this.state.pipe(Dd([$n.PLAY,$n.STOP,$n.INDEX_CHANGED]))}constructor(i,r){this.deleteInstance=r,this.itemClick=new Je,this.thumbClick=new Je,this.error=new Je,this._state=new Sr(bT),this._config=new Sr(i),this.state=this._state.asObservable(),this.config=this._config.asObservable()}activatePlayer(){return this.playerActions.pipe(Tr(i=>i.isPlaying?_t({}).pipe(qo(this._config.value.playerInterval),pr(()=>this.next(this._config.value.scrollBehavior))):nn))}setState(i){this._state.next(xe(xe({},this.stateSnapshot),i))}setConfig(i){this._config.next(xe(xe({},this._config.value),i))}add(i,r){let t=[...this.stateSnapshot.items,i];this.setState({action:$n.ITEMS_CHANGED,items:t,hasNext:t.length>1,currIndex:r?t.length-1:this.stateSnapshot.currIndex})}addImage(i,r){this.add(new qm(i),r)}addVideo(i,r){this.add(new X_(i),r)}addIframe(i,r){this.add(new Q_(i),r)}addYoutube(i,r){this.add(new Z_(i),r)}remove(i){let r=this.stateSnapshot,t=[...r.items.slice(0,i),...r.items.slice(i+1,r.items.length)];this.setState({action:$n.ITEMS_CHANGED,currIndex:i<1?r.currIndex:i-1,items:t,hasNext:t.length>1,hasPrev:i>0})}load(i){i&&this.setState({action:$n.ITEMS_CHANGED,items:i,hasNext:i.length>1,hasPrev:!1})}set(i,r=this._config.value.scrollBehavior){if(i<0||i>=this.stateSnapshot.items.length){console.error(`[NgGallery]: Unable to set the active item because the given index (${i}) is outside the items range!`);return}i!==this.stateSnapshot.currIndex&&this.setState({behavior:r,action:$n.INDEX_CHANGED,currIndex:i,hasNext:i<this.stateSnapshot.items.length-1,hasPrev:i>0})}next(i=this._config.value.scrollBehavior,r=!0){this.stateSnapshot.hasNext?this.set(this.stateSnapshot.currIndex+1,i):r&&this._config.value.loop&&this.set(0,i)}prev(i=this._config.value.scrollBehavior,r=!0){this.stateSnapshot.hasPrev?this.set(this.stateSnapshot.currIndex-1,i):r&&this._config.value.loop&&this.set(this.stateSnapshot.items.length-1,i)}play(i){i&&this.setConfig({playerInterval:i}),this.setState({action:$n.PLAY,isPlaying:!0})}stop(){this.setState({action:$n.STOP,isPlaying:!1})}reset(){this.setState(bT)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}},nw=new ze("GALLERY_CONFIG"),Dc=(()=>{class n{constructor(r){this._instances=new Map,this.config=r?xe(xe({},_T),r):_T}ref(r="root",t){if(this._instances.has(r)){let o=this._instances.get(r);return t&&o.setConfig(xe(xe({},this.config),t)),o}else return this._instances.set(r,new K_(xe(xe({},this.config),t),this.deleteInstance(r))).get(r)}destroyAll(){this._instances.forEach(r=>r.destroy())}resetAll(){this._instances.forEach(r=>r.reset())}debugConsole(...r){this.config.debug&&console.log(...r)}deleteInstance(r){return()=>{this._instances.has(r)&&this._instances.delete(r)}}static{this.\u0275fac=function(t){return new(t||n)(je(nw,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UU=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-counter"]],inputs:{state:"state"},standalone:!0,features:[Ot],decls:2,vars:1,consts:[[1,"g-counter"]],template:function(t,o){t&1&&(Ae(0,"div",0),et(1),ke()),t&2&&(Le(),Zr(o.state.currIndex+1+" / "+o.state.items.length))},encapsulation:2,changeDetection:0})}}return n})(),zU=(()=>{class n{constructor(r){this.gallery=r}static{this.\u0275fac=function(t){return new(t||n)(ge(Dc))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-dots"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},standalone:!0,features:[Ot],decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","click",4,"ngFor","ngForOf"],[1,"g-dot",3,"click"],[1,"g-dot-inner"]],template:function(t,o){t&1&&dt(0,tU,2,6,"div",0),t&2&&Ue("ngForOf",o.state.items)},dependencies:[$r,Xl],encapsulation:2,changeDetection:0})}}return n})(),HU=(()=>{class n{constructor(r,t){this.gallery=r,this._sanitizer=t}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}static{this.\u0275fac=function(t){return new(t||n)(ge(Dc),ge(ls))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-nav"]],inputs:{galleryId:"galleryId",state:"state",config:"config"},standalone:!0,features:[Ot],decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous","role","button",3,"innerHtml","click",4,"ngIf"],["class","g-nav-next","aria-label","Next","role","button",3,"innerHtml","click",4,"ngIf"],["aria-label","Previous","role","button",1,"g-nav-prev",3,"click","innerHtml"],["aria-label","Next","role","button",1,"g-nav-next",3,"click","innerHtml"]],template:function(t,o){t&1&&dt(0,rU,1,1,"i",0)(1,nU,1,1,"i",1),t&2&&(Ue("ngIf",o.config.loop||o.state.hasPrev),Le(),Ue("ngIf",o.config.loop||o.state.hasNext))},dependencies:[$r,ss],encapsulation:2,changeDetection:0})}}return n})(),GU=2,$U=4,WU=8,qU=16;var Ym=class{get scrollValue(){return this.slider.scrollLeft}get clientSize(){return this.slider.clientWidth}constructor(i,r){this.slider=i,this.config=r,this.panDirection=GU|$U,this.scrollSnapType="x mandatory"}getPanValue(i,r,t){return{behavior:t,left:i-r.deltaX}}},Xm=class{get scrollValue(){return this.slider.scrollTop}get clientSize(){return this.slider.clientHeight}constructor(i,r){this.slider=i,this.config=r,this.scrollSnapType="y mandatory",this.panDirection=WU|qU}getPanValue(i,r,t){return{behavior:t,top:i-r.deltaY}}},J_=class extends Ym{get thumbSize(){return this.config.thumbWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(i,r){super(i,r),this.slider=i,this.config=r}getCentralisedScrollToValue(i,r,t){let o=i.offsetLeft;return t===Td.Default&&(o-=this.clientSize/2-i.clientWidth/2),{start:o,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(i,r){return{start:i.offsetLeft-(this.clientSize-i.clientWidth)/2,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},ew=class extends Xm{get thumbSize(){return this.config.thumbHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(i,r){super(i,r),this.slider=i,this.config=r}getCentralisedScrollToValue(i,r,t){let o=i.offsetTop;return t===Td.Default&&(o-=this.clientSize/2-i.clientHeight/2),{top:o,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getScrollToValue(i,r){return{top:i.offsetTop-(this.clientSize-i.clientHeight)/2,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}},tw=class extends Ym{get measureIndex(){return this.slider.scrollLeft/this.slider.clientWidth}get isContentLessThanContainer(){return this.slider.clientWidth>=this.slider.firstElementChild.clientWidth}constructor(i,r){super(i,r),this.slider=i,this.config=r}getClientSize(i){return i.clientWidth}getOffsetSize(i){return i.offsetLeft}getScrollToValue(i,r){return{start:i.offsetLeft-(this.clientSize-i.clientWidth)/2,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(i){return i.deltaX}getPanVelocity(i){return i.velocityX}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientWidth/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientWidth)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientWidth/2}},rw=class extends Xm{get measureIndex(){return this.slider.scrollTop/this.slider.clientHeight}get isContentLessThanContainer(){return this.slider.clientHeight>=this.slider.firstElementChild.clientHeight}constructor(i,r){super(i,r),this.slider=i,this.config=r}getClientSize(i){return i.clientHeight}getOffsetSize(i){return i.offsetTop}getScrollToValue(i,r){return{top:i.offsetTop-(this.clientSize-i.clientHeight)/2,duration:r==="smooth"?this.config.slidingDuration:0,easing:this.config.slidingEase}}getPanDelta(i){return i.deltaY}getPanVelocity(i){return i.velocityY}getCentralizerStartSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.firstElementChild?.clientHeight/2}getCentralizerEndSize(){return this.isContentLessThanContainer?(this.clientSize-this.slider.firstElementChild.clientHeight)/2:this.clientSize/2-this.slider.firstElementChild.lastElementChild?.clientHeight/2}};function DT(n){return new Ht(i=>{let r=new ResizeObserver(t=>i.next(t));return r.observe(n),function(){r.disconnect()}})}var YU=(()=>{class n{set src(r){this.videoSrc=r,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(r)}set pauseVideo(r){if(this.iframe?.nativeElement&&r){let t=this.iframe.nativeElement;t.src=null,!this.autoplay&&this.videoSrc&&(this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc))}}constructor(r){this._sanitizer=r}static{this.\u0275fac=function(t){return new(t||n)(ge(ls))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-iframe"]],viewQuery:function(t,o){if(t&1&&hr(iU,5),t&2){let s;Et(s=It())&&(o.iframe=s.first)}},inputs:{src:"src",pauseVideo:[0,"pause","pauseVideo"],autoplay:"autoplay",loadingAttr:"loadingAttr"},standalone:!0,features:[Ot],decls:3,vars:2,consts:[["default",""],["iframe",""],["allowfullscreen","","allow","","style","border:none",3,"src",4,"ngIf","ngIfElse"],["allowfullscreen","","allow","",2,"border","none",3,"src"],["allowfullscreen","",2,"border","none",3,"src"]],template:function(t,o){if(t&1&&dt(0,oU,2,2,"iframe",2)(1,sU,2,2,"ng-template",null,0,Li),t&2){let s=yn(2);Ue("ngIf",o.autoplay)("ngIfElse",s)}},dependencies:[ss],encapsulation:2,changeDetection:0})}}return n})(),XU=(()=>{class n{constructor(){this.error=new Mt}set pauseVideo(r){if(this.video.nativeElement){let t=this.video.nativeElement;r&&!t.paused&&t.pause()}}set playVideo(r){if(this.video.nativeElement){let t=this.video.nativeElement;r&&t.play()}}ngOnInit(){this.src instanceof Array?this.videoSources=[...this.src]:this.videoSources=[{url:this.src}]}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-video"]],viewQuery:function(t,o){if(t&1&&hr(aU,7),t&2){let s;Et(s=It())&&(o.video=s.first)}},inputs:{src:"src",poster:"poster",mute:"mute",loop:"loop",controls:"controls",controlsList:"controlsList",disableRemotePlayback:"disableRemotePlayback",disablePictureInPicture:"disablePictureInPicture",pauseVideo:[0,"pause","pauseVideo"],playVideo:[0,"play","playVideo"]},outputs:{error:"error"},standalone:!0,features:[Ot],decls:3,vars:8,consts:[["video",""],["noType",""],[3,"error","disableRemotePlayback","controls","loop","poster"],[4,"ngFor","ngForOf"],[3,"src","type",4,"ngIf","ngIfElse"],[3,"src","type"],[3,"src"]],template:function(t,o){if(t&1){let s=Ar();Ae(0,"video",2,0),Ft("error",function(c){return mr(s),gr(o.error.emit(c))}),dt(2,uU,4,2,"ng-container",3),ke()}t&2&&(Ue("disableRemotePlayback",o.disableRemotePlayback)("controls",o.controls)("loop",o.loop)("poster",o.poster,zs),At("mute",o.mute)("controlsList",o.controlsList)("disablePictureInPicture",o.disablePictureInPicture),Le(2),Ue("ngForOf",o.videoSources))},dependencies:[Xl,ss],encapsulation:2,changeDetection:0})}}return n})(),QU=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="100" height="100" version="1.1" viewBox="0 0 256 256" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
 <g transform="translate(1.4066 1.4066) scale(2.81)">
	<path d="m74.453 48.627c-5.538 0-11.075-2.107-15.291-6.324-6.11-6.11-7.768-14.99-5.024-22.629h-48.08c-3.346 1e-3 -6.058 2.713-6.058 6.059v16.322l23.834 20.315c2.278 1.942 5.573 2.119 8.047 0.434l14.382-9.801c2.33-1.588 5.408-1.531 7.677 0.141l27.15 20.001v-25.574c-2.156 0.692-4.394 1.056-6.637 1.056z" fill="#c1e5f4" stroke-linecap="round"/>
 <circle cx="27.942" cy="37.942" r="6.072" fill="#fff0a9"/>
 <path d="m85.446 16.02c-6.061-6.061-15.922-6.061-21.983 0s-6.061 15.923 0 21.984c3.031 3.031 7.011 4.546 10.992 4.546 3.98 0 7.962-1.515 10.992-4.545 2.936-2.937 4.553-6.841 4.553-10.993s-1.617-8.056-4.554-10.992zm-3.555 3.555c1.987 1.986 3.081 4.627 3.081 7.436 0 1.95-0.538 3.813-1.525 5.438l-14.428-14.428c4.043-2.442 9.384-1.934 12.872 1.554zm-14.873 14.874c-3.486-3.487-3.997-8.829-1.554-12.873l14.426 14.427c-4.043 2.443-9.385 1.932-12.872-1.554z" fill="#e29393" stroke-linecap="round"/>
 <path d="m0 40.043v32.425c0 3.346 2.712 6.058 6.058 6.058h68.974c3.346 0 6.058-2.712 6.058-6.058v-1.335l-27.15-20.001c-2.27-1.672-5.348-1.729-7.677-0.141l-14.383 9.801c-2.473 1.686-5.769 1.508-8.047-0.434l-23.833-20.315z" fill="#96ea9c" stroke-linecap="round"/>
</g>
</svg>
`,MT=(()=>{class n{get imageState(){return this.state}constructor(r){this._sanitizer=r,this.state="loading",this.progress=0,this.errorIcon=QU,this.error=new Mt,this.loaded=new Mt}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError)),this.errorIcon&&(this.errorSvg=this._sanitizer.bypassSecurityTrustHtml(this.errorIcon))}static{this.\u0275fac=function(t){return new(t||n)(ge(ls))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-image"]],hostVars:1,hostBindings:function(t,o){t&2&&At("imageState",o.imageState)},inputs:{isThumbnail:"isThumbnail",loadingAttr:"loadingAttr",alt:"alt",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError",errorIcon:"errorIcon"},outputs:{error:"error",loaded:"loaded"},standalone:!0,features:[Ot],decls:4,vars:9,consts:[["defaultError",""],["isLarge",""],["defaultLoader",""],[3,"ngSwitch"],[1,"g-image-item",3,"load","error","src"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],[1,"gallery-thumb-error",3,"innerHTML"],[1,"gallery-image-error",3,"innerHTML"],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function(t,o){t&1&&(Mo(0,3),Ae(1,"img",4),Ft("load",function(){return o.state="success",o.loaded.emit()})("error",function(a){return o.state="failed",o.error.emit(a)}),ke(),dt(2,mU,4,2,"div",5)(3,bU,4,2,"ng-container",6),To()),t&2&&(Ue("ngSwitch",o.state),Le(),ns("visibility",o.state==="success"?"visible":"hidden"),Ue("@fadeIn",o.state)("src",o.src,zs),At("alt",o.alt)("loading",o.loadingAttr),Le(),Ue("ngSwitchCase","failed"),Le(),Ue("ngSwitchCase","loading"))},dependencies:[Ql,Ep,ss],encapsulation:2,data:{animation:[Si("fadeIn",[Rn("* => success",[Lr({opacity:0}),On("300ms ease-in",Lr({opacity:1}))])])]},changeDetection:0})}}return n})(),wT=(()=>{class n{get isActive(){return this.index===this.currIndex}get isIndexAttr(){return this.index}get imageState(){return this.imageLoadingState}get imageContext(){return{$implicit:this.imageData,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get itemContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}get element(){return this.el.nativeElement}get isAutoPlay(){if(this.isActive&&(this.type===ys.Video||this.type===ys.Youtube))return this.videoData.autoplay}get youtubeSrc(){let r=0;this.isActive&&this.type===ys.Youtube&&this.data.autoplay&&(r=1);let t=new URL(this.data.src);return t.search=new URLSearchParams(vt(xe({wmode:"transparent"},this.data.params),{autoplay:r})).toString(),t.href}get load(){switch(this.config.loadingStrategy){case $m.Preload:return!0;case $m.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}get imageData(){return this.data}get videoData(){return this.data}constructor(r,t,o){this.el=r,this.cd=t,this._platform=o,this.Types=ys,this.imageLoadingState="IN_PROGRESS",this.error=new Mt}ngAfterViewChecked(){let r=this.getHeight();if(this._platform.isBrowser&&(this.element.style.setProperty("--g-item-width",`${this.getWidth()}px`),this.element.style.setProperty("--g-item-height",`${r}px`)),this.currIndex===this.index){let t=this.config.thumbPosition===da.Top||this.config.thumbPosition===da.Bottom;this.config.autoHeight&&r&&t&&(this.element.parentElement.parentElement.style.height=`${r}px`)}}onItemLoaded(){this.imageLoadingState==="IN_PROGRESS"&&(this.imageLoadingState="DONE",this.cd.detectChanges())}getWidth(){if(this.config.slidingDirection==="horizontal"){let r=this.element?.firstElementChild;if(this.config.itemAutosize&&this.imageLoadingState==="DONE"&&r?.clientWidth)return r.clientWidth}return this.element.parentElement.parentElement.clientWidth}getHeight(){let r=this.element.firstElementChild;return r&&(this.config.autoHeight&&this.imageLoadingState==="DONE"&&r.clientHeight||this.config.slidingDirection==="vertical"&&this.config.itemAutosize&&this.imageLoadingState==="DONE"&&r.clientHeight)?r.clientHeight:this.element.parentElement.parentElement.clientHeight}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(br),ge(or))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-item"]],hostVars:4,hostBindings:function(t,o){t&2&&(At("galleryIndex",o.isIndexAttr)("imageState",o.imageState),Yt("g-active-item",o.isActive))},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},standalone:!0,features:[Ot],decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","loadingAttr","pause",4,"ngSwitchCase"],[3,"src","loadingAttr",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"loaded","error","src","alt","loadingAttr","loadingIcon","loadingError"],["class","g-template g-item-template",4,"ngIf"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"error","src","mute","poster","controls","controlsList","disablePictureInPicture","play","pause"],[3,"src","autoplay","loadingAttr","pause"],[3,"src","loadingAttr"]],template:function(t,o){t&1&&dt(0,TU,6,5,"ng-container",0),t&2&&Ue("ngIf",o.load)},dependencies:[$r,ss,jo,Ql,Ep,wI,MT,XU,YU],encapsulation:2,changeDetection:0})}}return n})(),ZU=4,KU=.001,JU=1e-7,e8=10,Md=11,Gm=1/(Md-1),t8=typeof Float32Array=="function";function TT(n,i){return 1-3*i+3*n}function kT(n,i){return 3*i-6*n}function jT(n){return 3*n}function Qm(n,i,r){return((TT(i,r)*n+kT(i,r))*n+jT(i))*n}function AT(n,i,r){return 3*TT(i,r)*n*n+2*kT(i,r)*n+jT(i)}function r8(n,i,r,t,o){let s,a,c=0;do a=i+(r-i)/2,s=Qm(a,t,o)-n,s>0?r=a:i=a;while(Math.abs(s)>JU&&++c<e8);return a}function n8(n,i,r,t){for(let o=0;o<ZU;++o){let s=AT(i,r,t);if(s===0)return i;let a=Qm(i,r,t)-n;i-=a/s}return i}function i8(n){return n}function o8(n,i,r,t){if(!(0<=n&&n<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===i&&r===t)return i8;let o=t8?new Float32Array(Md):new Array(Md);for(let a=0;a<Md;++a)o[a]=Qm(a*Gm,n,r);function s(a){let c=0,l=1,u=Md-1;for(;l!==u&&o[l]<=a;++l)c+=Gm;--l;let y=(a-o[l])/(o[l+1]-o[l]),b=c+y*Gm,d=AT(b,n,r);return d>=KU?n8(a,b,n,r):d===0?b:r8(a,c,c+Gm,n,r)}return function(c){return c===0?0:c===1?1:Qm(s(c),i,t)}}var s8=new ze("SMOOTH_SCROLL_OPTIONS"),OT=(()=>{class n{get _w(){return this._document.defaultView}get _now(){return this._w.performance?.now?.bind(this._w.performance)||Date.now}constructor(r,t,o){this._document=r,this._platform=o,this._onGoingScrolls=new Map,this._defaultOptions=xe({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},t)}_scrollElement(r,t,o){r.scrollLeft=t,r.scrollTop=o}_getElement(r,t){return typeof r=="string"?(t||this._document).querySelector(r):ui(r)}_initSmoothScroll(r){return this._onGoingScrolls.has(r)&&this._onGoingScrolls.get(r).next(),this._onGoingScrolls.set(r,new Je).get(r)}_isFinished(r,t,o){return r.currentX!==r.x||r.currentY!==r.y?!0:(t.next(),o(),!1)}_interrupted(r,t){return Bn(ii(r,"wheel",{passive:!0,capture:!0}),ii(r,"touchmove",{passive:!0,capture:!0}),t).pipe(Mr(1))}_destroy(r,t){t.complete(),this._onGoingScrolls.delete(r)}_step(r){return new Ht(t=>{let o=(this._now()-r.startTime)/r.duration;o=o>1?1:o;let s=r.easing(o);r.currentX=r.startX+(r.x-r.startX)*s,r.currentY=r.startY+(r.y-r.startY)*s,this._scrollElement(r.scrollable,r.currentX,r.currentY),requestAnimationFrame(()=>t.next(r))})}_applyScrollToOptions(r,t){if(!t.duration)return this._scrollElement(r,t.left,t.top),Promise.resolve();let o=this._initSmoothScroll(r),s={scrollable:r,startTime:this._now(),startX:r.scrollLeft,startY:r.scrollTop,x:t.left==null?r.scrollLeft:~~t.left,y:t.top==null?r.scrollTop:~~t.top,duration:t.duration,easing:o8(t.easing.x1,t.easing.y1,t.easing.x2,t.easing.y2)};return new Promise(a=>{_t(null).pipe(Zg(()=>this._step(s).pipe($h(c=>this._isFinished(c,o,a)))),Ut(this._interrupted(r,o)),si(()=>this._destroy(r,o))).subscribe()})}dismissOngoingScroll(r){this._onGoingScrolls.get(r)?.next()}scrollTo(r,t){if(this._platform.isBrowser){let o=this._getElement(r),s=getComputedStyle(o).direction==="rtl",a=oa(),c=vt(xe(xe({},this._defaultOptions),t),{left:t.left==null?s?t.end:t.start:t.left,right:t.right==null?s?t.start:t.end:t.right});return c.bottom!=null&&(c.top=o.scrollHeight-o.clientHeight-c.bottom),s&&a!==0?(c.left!=null&&(c.right=o.scrollWidth-o.clientWidth-c.left),a===2?c.left=c.right:a===1&&(c.left=c.right?-c.right:c.right)):c.right!=null&&(c.left=o.scrollWidth-o.clientWidth-c.right),this._applyScrollToOptions(o,c)}return Promise.resolve()}scrollToElement(r,t,o={}){let s=this._getElement(r),a=this._getElement(t,s),c=vt(xe({},o),{left:a.offsetLeft+(o.left||0),top:a.offsetTop+(o.top||0)});return a?this.scrollTo(s,c):Promise.resolve()}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(s8,8),je(or))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),a8=(()=>{class n{get slider(){return this.sliderEl.nativeElement}constructor(r,t,o,s,a,c){this._el=r,this._cd=t,this._zone=o,this._platform=s,this._smoothScroll=a,this._gallery=c,this.scrollHandler$=new Je,this.visibleElements=new Map,this._destroyed$=new Je,this.itemClick=new Mt,this.error=new Mt,this.items=new Zn,this.scrollHandler$.pipe(oi(0,Sh),Tr(({value:l,behavior:u})=>{this._gallery.debugConsole("[Gallery scrollHandler$] ",this.slider.style.scrollSnapType),this.slider.style.scrollSnapType="unset";let y=this.items.get(l)?.element;if(this._gallery.debugConsole("\u{1F92F} [Gallery scrollHandler$] scrollSnapType = unset, scrollTo element",!!y),y){this.slider.classList.add("g-scrolling");let b=this.adapter.getScrollToValue(y,u||this.config.scrollBehavior),d=+this.items.get(l)?.element.getAttribute("galleryIndex");return this._gallery.debugConsole(`\u{1F680} [Gallery scrollHandler$] Scroll start ===> index: ${d}, position:`,b),this._gallery.debugConsole("\u{1F680} [Gallery scrollHandler$] slider scrollable",this.adapter.scrollValue),dr(this._smoothScroll.scrollTo(this.slider,b)).pipe(pr(()=>{this._isPanning=!1,this.slider.classList.remove("g-scrolling"),this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this._gallery.debugConsole("\u2705 [Gallery scrollHandler$] Scroll end")}))}return this._gallery.debugConsole("\u{1F621} [Gallery scrollHandler$] Scroll element was not found!"),nn}),Ut(this._destroyed$)).subscribe()}ngOnChanges(r){if(r.config){if(r.config.currentValue?.slidingDirection!==r.config.previousValue?.slidingDirection){switch(this.config.slidingDirection){case Wm.Horizontal:this.adapter=new tw(this.slider,this.config);break;case Wm.Vertical:this.adapter=new rw(this.slider,this.config);break}this._platform.isBrowser&&(r.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&!r.config.firstChange&&r.config.currentValue?.mouseSlidingDisabled!==r.config.previousValue?.mouseSlidingDisabled&&this.enableDisableGestures()}this._platform.isBrowser&&r.state&&r.state.currentValue?.currIndex!==r.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,r.state.firstChange?"auto":this.state.behavior)})}ngOnInit(){this._platform.isBrowser&&this._zone.runOutsideAngular(()=>{this.createIntersectionObserver(this.slider).pipe(pr(r=>{r.target.classList.toggle("g-item-visible",r.isIntersecting),r.isIntersecting?this.visibleElements.set(r.target,r):this.visibleElements.delete(r.target)}),Ut(this._destroyed$)).subscribe(),ii(this.slider,"scroll",{passive:!0}).pipe(oi(50),Vt(()=>!this._isPanning),pr(()=>this.onViewportScroll()),Ut(this._destroyed$)).subscribe(),DT(this._el.nativeElement).pipe(oi(this.config.resizeDebounceTime),pr(([r])=>this.onHostResize(r)),Ut(this._destroyed$)).subscribe()})}ngAfterViewInit(){this._platform.isBrowser&&(this.items.notifyOnChanges(),this.items.changes.pipe(on(null),pr(()=>{this.visibleElements.forEach(r=>{this.intersectionObserver.unobserve(r.target)}),this.items.toArray().map(r=>{this.intersectionObserver.observe(r.element)})}),Ut(this._destroyed$)).subscribe())}ngAfterViewChecked(){this.config.itemAutosize&&this._platform.isBrowser&&(this.slider.style.setProperty("--slider-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--slider-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.deactivateGestures()}trackByFn(r,t){return t.type}onHostResize(r){let t=Math.ceil(r.contentRect.width),o=Math.ceil(r.contentRect.height);this.slider.style.width=`${t}px`,this.slider.style.height=`${o}px`,this.scrollToIndex(this.state.currIndex,"auto"),this._cd.detectChanges(),this._gallery.debugConsole("\u{1F990} [Gallery OnHostResize]: set viewport width to absolute number")}onViewportScroll(){let r=this.items.get(this.state.currIndex)?.element,t=this.getElementFromViewportCenter();t?t!==r&&this.tryScrollToElement(t):(this._gallery.debugConsole("\u2049 [Gallery onViewportScroll]: No center element was found"),this.visibleElements.forEach(o=>{this.tryScrollToElement(o.target)}))}tryScrollToElement(r){let o=(this.adapter.clientSize-this.adapter.getClientSize(r))/2,s=this.adapter.scrollValue+o,a=this.adapter.scrollValue+this.adapter.clientSize-o,c=this.adapter.getOffsetSize(r),l=c+this.adapter.getClientSize(r),u=s+10>=c&&s-10<=c,y=a+10>=l&&a-10<=l;if(this.slider.style.scrollSnapType=this.adapter.scrollSnapType,u&&y){this._gallery.debugConsole("\u{1F344} [Gallery onViewportScroll]: Set active gallery item");let b=+r.getAttribute("galleryIndex");this._zone.run(()=>this._gallery.ref(this.galleryId).set(b,"smooth"))}}scrollToIndex(r,t,o){this.scrollHandler$.next({value:r,behavior:t,onEnd:o})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.mouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"){this.deactivateGestures();let r=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:r});let t;this._hammer.on("panstart",()=>{this._smoothScroll.dismissOngoingScroll(this.slider),t=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding"),this._isPanning=!0}),this._hammer.on("panmove",o=>this.slider.scrollTo(this.adapter.getPanValue(t,o,"auto"))),this._hammer.on("panend",o=>this.onPanEnd(o))})}}deactivateGestures(){this._hammer?.destroy()}onPanEnd(r){this._gallery.debugConsole("\u{1F5B1}\uFE0F [Gallery]: onPanEnd",r),this.slider.classList.remove("g-sliding");let t=this.adapter.getPanDelta(r),o=this.adapter.getPanVelocity(r),s=this._gallery.ref(this.galleryId);this._zone.run(()=>{let a=this.items.get(this.state.currIndex)?.element,c=this.getElementFromViewportCenter();if(c&&c!==a){let l=+c.getAttribute("galleryIndex");this.scrollToIndex(l,"smooth");return}if(Math.abs(t)>(a.clientWidth||this.adapter.clientSize)/2)return t>0?s.prev("smooth",!1):s.next("smooth",!1);if(Math.abs(o)>.3)return o>0?s.prev("smooth",!1):s.next("smooth",!1);this.scrollToIndex(this.state.currIndex,"smooth")})}getElementFromViewportCenter(){let r=this.slider.getBoundingClientRect(),o=document.elementsFromPoint(r.x+r.width/2,r.y+r.height/2).find(s=>s.localName==="gallery-item"&&s.getAttribute("galleryId")===this.galleryId);return this._gallery.debugConsole("\u{1FA9F} [Gallery]: getElementFromViewportCenter",o),o}createIntersectionObserver(r){return new Ht(t=>(this.intersectionObserver=new IntersectionObserver(o=>t.next(o),{root:r}),()=>this.intersectionObserver.disconnect())).pipe(Fr(t=>t),mn())}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(br),ge(ot),ge(or),ge(OT),ge(Dc))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-slider"]],viewQuery:function(t,o){if(t&1&&(hr(ST,7),hr(wT,5)),t&2){let s;Et(s=It())&&(o.sliderEl=s.first),Et(s=It())&&(o.items=s)}},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",error:"error"},standalone:!0,features:[Wr,Ot],ngContentSelectors:kU,decls:5,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(t,o){t&1&&(xr(),Ae(0,"div",1,0)(2,"div",2),dt(3,jU,1,7,"gallery-item",3),ke()(),Lt(4)),t&2&&(At("centralised",o.config.itemAutosize),Le(3),Ue("ngForOf",o.state.items)("ngForTrackBy",o.trackByFn))},dependencies:[$r,Xl,wT],encapsulation:2,changeDetection:0})}}return n})(),xT=(()=>{class n{constructor(){this.error=new Mt}get isActive(){return this.index===this.currIndex}get imageContext(){return{$implicit:this.data,index:this.index,type:this.type,active:this.isActive,count:this.count,first:this.index===0,last:this.index===this.count-1}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(t,o){t&2&&Yt("g-active-thumb",o.isActive)},inputs:{config:"config",index:"index",count:"count",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},standalone:!0,features:[Ot],decls:2,vars:6,consts:[[3,"error","src","alt","isThumbnail","loadingIcon","loadingError"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(Ae(0,"gallery-image",0),Ft("error",function(a){return o.error.emit(a)}),ke(),dt(1,OU,2,2,"div",1)),t&2&&(Ue("src",o.data.thumb)("alt",o.data.alt+"-thumbnail")("isThumbnail",!0)("loadingIcon",o.config.thumbLoadingIcon)("loadingError",o.config.thumbLoadingError),Le(),Ue("ngIf",o.config.thumbTemplate))},dependencies:[$r,ss,jo,MT],encapsulation:2,changeDetection:0})}}return n})(),l8=(()=>{class n{get slider(){return this.sliderEl.nativeElement}constructor(r,t,o,s,a){this._el=r,this._zone=t,this._smoothScroll=o,this._cd=s,this._platform=a,this.thumbnailsView=Td,this._destroyed$=new Je,this.thumbClick=new Mt,this.error=new Mt,this.items=new Zn}ngOnChanges(r){if(r.config){if(r.config.currentValue?.thumbPosition!==r.config.previousValue?.thumbPosition){switch(this.config.thumbPosition){case da.Right:case da.Left:this.adapter=new ew(this.slider,this.config);break;case da.Top:case da.Bottom:this.adapter=new J_(this.slider,this.config);break}this._platform.isBrowser&&(r.config.firstChange||requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,"auto")}),this.enableDisableGestures())}this._platform.isBrowser&&(!r.config.firstChange&&r.config.currentValue?.thumbMouseSlidingDisabled!==r.config.previousValue?.thumbMouseSlidingDisabled&&this.enableDisableGestures(),this.slider.style.setProperty("--thumb-height",`${this.config.thumbHeight}px`),this.slider.style.setProperty("--thumb-width",`${this.config.thumbWidth}px`))}this._platform.isBrowser&&r.state&&(r.state.firstChange||!this.config.thumbDetached)&&r.state.currentValue?.currIndex!==r.state.previousValue?.currIndex&&requestAnimationFrame(()=>{this.scrollToIndex(this.state.currIndex,r.state?.firstChange?"auto":"smooth")})}ngAfterViewInit(){this._platform.isBrowser&&(setTimeout(()=>this.scrollToIndex(this.state.currIndex,"auto"),200),this._zone.runOutsideAngular(()=>{DT(this._el.nativeElement).pipe(oi(this.config.resizeDebounceTime),pr(()=>{this.items.get(this.state.currIndex)?.nativeElement&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px")),this._cd.detectChanges(),this.scrollToIndex(this.state.currIndex,"auto")}),Ut(this._destroyed$)).subscribe()}))}ngAfterViewChecked(){this.items.get(this.state.currIndex)?.nativeElement&&this._platform.isBrowser&&(this.slider.style.setProperty("--thumb-centralize-start-size",this.adapter.getCentralizerStartSize()+"px"),this.slider.style.setProperty("--thumb-centralize-end-size",this.adapter.getCentralizerEndSize()+"px"))}ngOnDestroy(){this.deactivateGestures(),this._destroyed$.next(),this._destroyed$.complete()}trackByFn(r,t){return t.type}scrollToIndex(r,t){this._zone.runOutsideAngular(()=>{this.slider.style.scrollSnapType="unset";let o=this.items.get(r)?.nativeElement;o&&this._smoothScroll.scrollTo(this.slider,this.adapter.getScrollToValue(o,t)).then(()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType})})}enableDisableGestures(){!this._platform.IOS&&!this._platform.ANDROID&&(this.config.thumbMouseSlidingDisabled?this.deactivateGestures():this.activateGestures())}activateGestures(){if(typeof Hammer<"u"&&!this.config.disableThumb){let r=this.adapter.panDirection;this._zone.runOutsideAngular(()=>{this._hammer=new Hammer(this._el.nativeElement,{inputClass:Hammer.MouseInput}),this._hammer.get("pan").set({direction:r});let t=0;this._hammer.on("panstart",()=>{t=this.adapter.scrollValue,this.slider.style.scrollSnapType="unset",this.slider.classList.add("g-sliding")}),this._hammer.on("panmove",o=>this.slider.scrollTo(this.adapter.getPanValue(t,o,"auto"))),this._hammer.on("panend",()=>{this.slider.style.scrollSnapType=this.adapter.scrollSnapType,this.slider.classList.remove("g-sliding")})})}}deactivateGestures(){this._hammer?.destroy()}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(ot),ge(OT),ge(br),ge(or))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-thumbs"]],viewQuery:function(t,o){if(t&1&&(hr(ST,7),hr(xT,5,bt)),t&2){let s;Et(s=It())&&(o.sliderEl=s.first),Et(s=It())&&(o.items=s)}},inputs:{state:"state",config:"config"},outputs:{thumbClick:"thumbClick",error:"error"},standalone:!0,features:[Wr,Ot],decls:4,vars:3,consts:[["slider",""],[1,"g-slider"],[1,"g-slider-content"],[3,"type","config","data","currIndex","index","count","click","error",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","error","type","config","data","currIndex","index","count"]],template:function(t,o){t&1&&(Ae(0,"div",1,0)(2,"div",2),dt(3,RU,1,6,"gallery-thumb",3),ke()()),t&2&&(At("centralised",o.config.thumbView===o.thumbnailsView.Contain||o.adapter.isContentLessThanContainer),Le(3),Ue("ngForOf",o.state.items)("ngForTrackBy",o.trackByFn))},dependencies:[$r,Xl,xT],encapsulation:2,changeDetection:0})}}return n})(),c8=(()=>{class n{constructor(){this.itemClick=new Mt,this.thumbClick=new Mt,this.error=new Mt}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get thumbImageSize(){return this.config.thumbImageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}get slidingDisabled(){return this.config.slidingDisabled}get thumbSlidingDisabled(){return this.config.thumbSlidingDisabled}get itemAutosize(){return this.config.itemAutosize}get autoHeight(){return this.config.autoHeight}get thumbAutosize(){return this.config.thumbAutosize}get debug(){return this.config.debug}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery-core"]],hostVars:13,hostBindings:function(t,o){t&2&&At("thumbPosition",o.thumbPosition)("slidingDirection",o.slidingDirection)("disableThumb",o.disableThumb)("imageSize",o.imageSize)("thumbImageSize",o.thumbImageSize)("dotsPosition",o.dotsPosition)("counterPosition",o.counterPosition)("slidingDisabled",o.slidingDisabled)("thumbSlidingDisabled",o.thumbSlidingDisabled)("itemAutosize",o.itemAutosize)("autoHeight",o.autoHeight)("thumbAutosize",o.thumbAutosize)("debug",o.debug)},inputs:{galleryId:"galleryId",state:"state",config:"config"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},standalone:!0,features:[Ot],decls:8,vars:12,consts:[[3,"state","config","thumbClick","error",4,"ngIf"],[1,"g-box"],[3,"itemClick","error","state","config","galleryId"],[3,"state","config","galleryId",4,"ngIf"],[3,"state",4,"ngIf"],[1,"g-box-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"thumbClick","error","state","config"],[3,"state","config","galleryId"],[3,"state"]],template:function(t,o){t&1&&(dt(0,FU,1,2,"gallery-thumbs",0),Ae(1,"div",1)(2,"gallery-slider",2),Ft("itemClick",function(a){return o.itemClick.emit(a)})("error",function(a){return o.error.emit(a)}),dt(3,NU,1,3,"gallery-nav",3),ke(),dt(4,LU,1,3,"gallery-dots",3)(5,BU,1,1,"gallery-counter",4),Ae(6,"div",5),dt(7,VU,1,0,"ng-container",6),ke()()),t&2&&(Ue("ngIf",o.config.thumb),Le(2),Ue("state",o.state)("config",o.config)("galleryId",o.galleryId),Le(),Ue("ngIf",o.config.nav&&o.state.items.length>1),Le(),Ue("ngIf",o.config.dots),Le(),Ue("ngIf",o.config.counter),Le(2),Ue("ngTemplateOutlet",o.config.boxTemplate)("ngTemplateOutletContext",Eu(9,PU,o.state,o.config)))},dependencies:[$r,ss,jo,l8,a8,HU,zU,UU],encapsulation:2,changeDetection:0})}}return n})(),u8=(()=>{class n{constructor(r){this.templateRef=r}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(tn))}}static{this.\u0275dir=xt({type:n,selectors:[["","galleryImageDef",""]],standalone:!0})}}return n})(),d8=(()=>{class n{constructor(r){this.templateRef=r}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(tn))}}static{this.\u0275dir=xt({type:n,selectors:[["","galleryThumbDef",""]],standalone:!0})}}return n})(),h8=(()=>{class n{constructor(r){this.templateRef=r}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(tn))}}static{this.\u0275dir=xt({type:n,selectors:[["","galleryItemDef",""]],standalone:!0})}}return n})(),f8=(()=>{class n{constructor(r){this.templateRef=r}static ngTemplateContextGuard(r,t){return!0}static{this.\u0275fac=function(t){return new(t||n)(ge(tn))}}static{this.\u0275dir=xt({type:n,selectors:[["","galleryBoxDef",""]],standalone:!0})}}return n})(),ha=(()=>{class n{constructor(r){this._gallery=r,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.debug=this._gallery.config.debug,this.thumb=this._gallery.config.thumb,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.scrollBehavior=this._gallery.config.scrollBehavior,this.navScrollBehavior=this._gallery.config.navScrollBehavior,this.slidingDisabled=this._gallery.config.slidingDisabled,this.thumbSlidingDisabled=this._gallery.config.thumbSlidingDisabled,this.mouseSlidingDisabled=this._gallery.config.mouseSlidingDisabled,this.thumbMouseSlidingDisabled=this._gallery.config.thumbMouseSlidingDisabled,this.playerInterval=this._gallery.config.playerInterval,this.slidingDuration=this._gallery.config.slidingDuration,this.slidingEase=this._gallery.config.slidingEase,this.resizeDebounceTime=this._gallery.config.resizeDebounceTime,this.imageSize=this._gallery.config.imageSize,this.thumbImageSize=this._gallery.config.thumbImageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingAttr=this._gallery.config.loadingAttr,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.thumbView=this._gallery.config.thumbView,this.thumbDetached=this._gallery.config.thumbDetached,this.thumbAutosize=this._gallery.config.thumbAutosize,this.itemAutosize=this._gallery.config.itemAutosize,this.autoHeight=this._gallery.config.autoHeight,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new Mt,this.thumbClick=new Mt,this.playingChange=new Mt,this.indexChange=new Mt,this.itemsChange=new Mt,this.error=new Mt,this._itemClick$=Jt.EMPTY,this._thumbClick$=Jt.EMPTY,this._itemChange$=Jt.EMPTY,this._indexChange$=Jt.EMPTY,this._playingChange$=Jt.EMPTY,this._playerListener$=Jt.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,debug:this.debug,thumb:this.thumb,counter:this.counter,autoPlay:this.autoPlay,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbImageSize:this.thumbImageSize,scrollBehavior:this.scrollBehavior,navScrollBehavior:this.navScrollBehavior,thumbView:this.thumbView,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,slidingEase:this.slidingEase,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,loadingAttr:this.loadingAttr,thumbDetached:this.thumbDetached,thumbPosition:this.thumbPosition,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDuration:this.slidingDuration,slidingDirection:this.slidingDirection,resizeDebounceTime:this.resizeDebounceTime,slidingDisabled:this.slidingDisabled,thumbSlidingDisabled:this.thumbSlidingDisabled,mouseSlidingDisabled:this.mouseSlidingDisabled,thumbMouseSlidingDisabled:this.thumbMouseSlidingDisabled,thumbAutosize:this.thumbAutosize,itemAutosize:this.itemAutosize,autoHeight:this.autoHeight}}ngOnChanges(r){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),r.items&&r.items.currentValue!==r.items.previousValue&&this.load(this.items))}ngOnInit(){this.skipInitConfig?this.galleryRef=this._gallery.ref(this.id):this.galleryRef=this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observed&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(r=>this.indexChange.emit(r))),this.itemsChange.observed&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(r=>this.itemsChange.emit(r))),this.playingChange.observed&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(r=>this.playingChange.emit(r))),this.autoPlay&&this.play()}ngAfterContentInit(){let r={};this.galleryItemDef&&(r.itemTemplate=this.galleryItemDef.templateRef),this.galleryImageDef&&(r.imageTemplate=this.galleryImageDef.templateRef),this.galleryThumbDef&&(r.thumbTemplate=this.galleryThumbDef.templateRef),this.galleryBoxDef&&(r.boxTemplate=this.galleryBoxDef.templateRef),Object.keys(r).length&&this.galleryRef.setConfig(r)}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(r){this.itemClick.emit(r),this.galleryRef.itemClick.next(r)}onThumbClick(r){this.galleryRef.set(r),this.thumbClick.emit(r),this.galleryRef.thumbClick.next(r)}onError(r){this.error.emit(r),this.galleryRef.error.next(r)}load(r){this.galleryRef.load(r)}add(r,t){this.galleryRef.add(r,t)}addImage(r,t){this.galleryRef.addImage(r,t)}addVideo(r,t){this.galleryRef.addVideo(r,t)}addIframe(r,t){this.galleryRef.addIframe(r,t)}addYoutube(r,t){this.galleryRef.addYoutube(r,t)}remove(r){this.galleryRef.remove(r)}next(r,t){this.galleryRef.next(r,t)}prev(r,t){this.galleryRef.prev(r,t)}set(r,t){this.galleryRef.set(r,t)}reset(){this.galleryRef.reset()}play(r){this.galleryRef.play(r)}stop(){this.galleryRef.stop()}static{this.\u0275fac=function(t){return new(t||n)(ge(Dc))}}static{this.\u0275cmp=ut({type:n,selectors:[["gallery"]],contentQueries:function(t,o,s){if(t&1&&(vr(s,h8,5),vr(s,u8,5),vr(s,d8,5),vr(s,f8,5)),t&2){let a;Et(a=It())&&(o.galleryItemDef=a.first),Et(a=It())&&(o.galleryImageDef=a.first),Et(a=It())&&(o.galleryThumbDef=a.first),Et(a=It())&&(o.galleryBoxDef=a.first)}},inputs:{id:"id",items:"items",nav:"nav",dots:"dots",loop:"loop",debug:"debug",thumb:"thumb",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",scrollBehavior:"scrollBehavior",navScrollBehavior:"navScrollBehavior",slidingDisabled:"slidingDisabled",thumbSlidingDisabled:"thumbSlidingDisabled",mouseSlidingDisabled:"mouseSlidingDisabled",thumbMouseSlidingDisabled:"thumbMouseSlidingDisabled",playerInterval:"playerInterval",slidingDuration:"slidingDuration",slidingEase:"slidingEase",resizeDebounceTime:"resizeDebounceTime",imageSize:"imageSize",thumbImageSize:"thumbImageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingAttr:"loadingAttr",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",thumbView:"thumbView",thumbDetached:"thumbDetached",thumbAutosize:"thumbAutosize",itemAutosize:"itemAutosize",autoHeight:"autoHeight",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},standalone:!0,features:[Wr,Ot],decls:3,vars:7,consts:[[3,"itemClick","thumbClick","error","galleryId","state","config"]],template:function(t,o){t&1&&(Ae(0,"gallery-core",0),hb(1,"async"),hb(2,"async"),Ft("itemClick",function(a){return o.onItemClick(a)})("thumbClick",function(a){return o.onThumbClick(a)})("error",function(a){return o.onError(a)}),ke()),t&2&&Ue("galleryId",o.id)("state",fb(1,3,o.galleryRef.state))("config",fb(2,5,o.galleryRef.config))},dependencies:[$r,xI,c8],styles:['gallery-core[dotsPosition=top] gallery-dots{top:15px}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:15px}  gallery-dots{position:absolute;left:50%;z-index:99;transform:translate(-50%);display:flex;gap:6px}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1}  .g-dot-inner{background-color:var(--g-overlay-color);opacity:.4;width:100%;height:100%;border-radius:50%;transition:opacity linear .15s}  gallery-dots,   .g-dot,   .g-dot-inner{display:flex;justify-content:center;align-items:center}  .g-nav-next,   .g-nav-prev{position:absolute;top:50%;display:flex;padding:16px 8px;cursor:pointer;z-index:999;opacity:.6;transition:opacity linear .15s,right linear .15s,left linear .15s}  .g-nav-next:hover,   .g-nav-prev:hover{opacity:1}  .g-nav-next svg,   .g-nav-prev svg{filter:var(--g-nav-drop-shadow);width:28px;height:28px;fill:#fff}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-next:hover{right:.4em}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}  .g-nav-prev:hover{left:.4em}@media only screen and (max-width: 480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  gallery-slider{position:relative;display:flex;align-items:center;justify-content:center}  gallery-slider .g-slider[centralised=true]:before,   gallery-slider .g-slider[centralised=true]:after{content:""}  gallery-slider .g-slider[centralised=true]:before{flex:0 0 var(--slider-centralize-start-size)}  gallery-slider .g-slider[centralised=true]:after{flex:0 0 var(--slider-centralize-end-size)}  .g-slider-content{flex:0 0 auto;display:flex;align-items:center;gap:1px}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider{overflow-x:auto;overflow-y:hidden;scroll-snap-type:x mandatory;flex-direction:row}  gallery-core[slidingDirection=horizontal] gallery-slider .g-slider-content{flex-direction:row;height:100%}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider{overflow-x:hidden;overflow-y:auto;scroll-snap-type:y mandatory;flex-direction:column}  gallery-core[slidingDirection=vertical] gallery-slider .g-slider-content{flex-direction:column;width:100%}  gallery-core[slidingDisabled=true] .g-slider{overflow:hidden!important}  .g-slider{display:flex;align-items:center;width:100%;transition:var(--g-height-transition);scrollbar-width:none;-ms-overflow-style:none}  .g-slider::-webkit-scrollbar{display:none}  .g-slider.g-sliding .g-slider-content,   .g-slider.g-scrolling .g-slider-content{pointer-events:none}  .g-slider gallery-thumb,   .g-slider gallery-item{display:flex;flex-direction:column;flex:0 0 auto;scroll-snap-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}  .g-slider gallery-thumb gallery-image[imageState=success],   .g-slider gallery-item gallery-image[imageState=success]{align-self:center}  gallery-thumbs{max-height:100%;max-width:100%;display:block;z-index:100}  gallery-thumbs .g-slider[centralised=true]:before,   gallery-thumbs .g-slider[centralised=true]:after{content:""}  gallery-thumbs .g-slider[centralised=true]:before{flex:0 0 var(--thumb-centralize-start-size)}  gallery-thumbs .g-slider[centralised=true]:after{flex:0 0 var(--thumb-centralize-end-size)}  gallery-thumbs .g-slider gallery-thumb{background:black;height:var(--thumb-height);width:var(--thumb-width);max-height:var(--thumb-height);max-width:var(--thumb-width)}  gallery-thumbs .g-slider gallery-thumb gallery-image,   gallery-thumbs .g-slider gallery-thumb img{width:100%;height:100%}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{top:0;overflow-x:auto;flex-direction:row}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider-content{flex-direction:row}  gallery-core[thumbPosition=top][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=bottom][thumbAutosize=true] gallery-thumb{width:initial;max-width:unset}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{left:0;overflow-y:auto;flex-direction:column}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider-content,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider-content{flex-direction:column}  gallery-core[thumbPosition=left][thumbAutosize=true] gallery-thumb,   gallery-core[thumbPosition=right][thumbAutosize=true] gallery-thumb{height:initial;max-height:unset}  gallery-core[thumbSlidingDisabled=true] gallery-thumbs .g-slider{overflow:hidden!important}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{position:relative;overflow:hidden;width:100%;height:100%;background-color:#262626}  .g-thumb-loading:before{content:"";position:absolute;inset:0 0 0 50%;z-index:1;width:500%;margin-left:-250%;animation:_ngcontent-%COMP%_phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@keyframes _ngcontent-%COMP%_phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}  gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}  .g-counter{font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.6;transition:opacity linear .15s;z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:var(--g-font-color);background-color:var(--g-overlay-color);box-shadow:var(--g-box-shadow)}  .g-counter:hover{opacity:.8}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-core{gap:1px}  gallery-image img{width:100%!important}  .gallery-image-error svg,   .gallery-thumb-error svg{width:100%;height:100%}  .gallery-thumb-error{width:40px;height:40px}  .gallery-image-error{width:100px;height:100px}  gallery-item,   gallery-thumb{position:relative;display:block;overflow:hidden}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item gallery-image,   gallery-thumb gallery-image{transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-item{--g-item-width: "auto";--g-item-height: 100%;height:var(--g-item-height);width:var(--g-item-width);max-height:var(--g-item-height);max-width:100%;z-index:10}  gallery-item gallery-image{width:100%;height:100%}  gallery-item.g-active-item gallery-image{opacity:1}  gallery-item video,   gallery-item iframe{position:absolute;width:100%;height:100%}  gallery-thumb{align-self:center;cursor:pointer;max-height:100%}  gallery-thumb gallery-image{opacity:.5}  gallery-thumb.g-active-thumb gallery-image{opacity:1}  gallery-image{min-height:100%;display:flex}  .g-image-item{pointer-events:none;max-height:100%;max-width:100%}  .g-template,   .g-image-error-message{position:absolute;z-index:10;inset:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}  .g-loading{position:absolute;transform:translate3d(-50%,-50%,0);left:50%;top:50%;width:80px;height:80px}  gallery-core[imageSize=contain] gallery-item .g-image-item{-o-object-fit:contain;object-fit:contain}  gallery-core[imageSize=cover] gallery-item .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery-core[thumbImageSize=cover] gallery-thumb .g-image-item{-o-object-fit:cover;object-fit:cover}  gallery{position:relative;z-index:1;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#000;--g-height-transition: height .4s linear;--g-nav-drop-shadow: drop-shadow(0 0 2px rgba(0, 0, 0, .6));--g-box-shadow: 0 0 3px rgba(0, 0, 0, .6);--g-font-color: #000;--g-overlay-color: #fff}  gallery *{box-sizing:border-box}  gallery,   gallery-core{position:relative;overflow:hidden}  gallery-core{max-height:100%;min-height:100%;height:500px}  gallery-core,   .g-box,   .g-slider{display:flex;width:100%;max-height:100%}  .g-box,   gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;order:1;flex:1}  gallery-core[autoHeight=true][thumbPosition=top],   gallery-core[autoHeight=true][thumbPosition=bottom]{height:-moz-fit-content!important;height:fit-content!important}  gallery-core[autoHeight=true][thumbPosition=top] .g-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] .g-slider{height:100%}  gallery-core[autoHeight=true][thumbPosition=top] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=top] gallery-core,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-slider,   gallery-core[autoHeight=true][thumbPosition=bottom] gallery-core{height:100%}  gallery-core[autoHeight=true] gallery-item{min-height:100%}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item{height:unset;max-height:unset;min-height:unset}  gallery-core[autoHeight=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[autoHeight=false][slidingDirection=horizontal] gallery-item,   gallery-core[autoHeight=false][slidingDirection=horizontal] .g-slider{height:100%}  gallery-core[itemAutoSize=true][slidingDirection=horizontal] gallery-item gallery-image{height:100%;width:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item{height:auto}  gallery-core[itemAutoSize=true][slidingDirection=vertical] gallery-item gallery-image{width:100%;height:auto}  gallery-core[debug=true] gallery-slider:after,   gallery-core[debug=true] gallery-slider:before{position:absolute;content:"";background:lime;box-shadow:0 0 5px #0f0;z-index:99999}  gallery-core[debug=true] gallery-slider:before{width:100%;height:1px}  gallery-core[debug=true] gallery-slider:after{height:100%;width:1px}  gallery-core[debug=true] gallery-slider gallery-item{outline:1px solid darkorange}  .g-box-template{position:absolute;z-index:10}'],changeDetection:0})}}return n})(),kd=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[ha]})}}return n})();var jd=class{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},fa=class extends jd{constructor(i,r,t,o,s){super(),this.component=i,this.viewContainerRef=r,this.injector=t,this.componentFactoryResolver=o,this.projectableNodes=s}},pa=class extends jd{constructor(i,r,t,o){super(),this.templateRef=i,this.viewContainerRef=r,this.context=t,this.injector=o}get origin(){return this.templateRef.elementRef}attach(i,r=this.context){return this.context=r,super.attach(i)}detach(){return this.context=void 0,super.detach()}},iw=class extends jd{constructor(i){super(),this.element=i instanceof bt?i.nativeElement:i}},Mc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof fa)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof pa)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof iw)return this._attachedPortal=i,this.attachDomPortal(i)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ad=class extends Mc{constructor(i,r,t,o,s){super(),this.outletElement=i,this._componentFactoryResolver=r,this._appRef=t,this._defaultInjector=o,this.attachDomPortal=a=>{this._document;let c=a.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=s}attachComponentPortal(i){let t=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),o;return i.viewContainerRef?(o=i.viewContainerRef.createComponent(t,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=t.create(i.injector||this._defaultInjector||cr.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=i,o}attachTemplatePortal(i){let r=i.viewContainerRef,t=r.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return t.rootNodes.forEach(o=>this.outletElement.appendChild(o)),t.detectChanges(),this.setDisposeFn(()=>{let o=r.indexOf(t);o!==-1&&r.remove(o)}),this._attachedPortal=i,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var ow=(()=>{class n extends Mc{constructor(r,t,o){super(),this._componentFactoryResolver=r,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new Mt,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let t=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,s=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=t.createComponent(s,t.length,r.injector||t.injector,r.projectableNodes||void 0);return t!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let t=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}static{this.\u0275fac=function(t){return new(t||n)(ge(Ji),ge(Sn),ge(Dt))}}static{this.\u0275dir=xt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ur]})}}return n})();var Zm=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})();var p8=20,Od=(()=>{class n{constructor(r,t,o){this._ngZone=r,this._platform=t,this._scrolled=new Je,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let t=this.scrollContainers.get(r);t&&(t.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=p8){return this._platform.isBrowser?new Ht(t=>{this._globalSubscription||this._addGlobalListener();let o=r>0?this._scrolled.pipe(zh(r)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_t()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(r,t){let o=this.getAncestorScrollContainers(r);return this.scrolled(t).pipe(Vt(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(r){let t=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,r)&&t.push(s)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,t){let o=ui(t),s=r.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return ii(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(t){return new(t||n)(je(ot),je(or),je(Dt,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Km=(()=>{class n{constructor(r,t,o,s){this.elementRef=r,this.scrollDispatcher=t,this.ngZone=o,this.dir=s,this._destroyed=new Je,this._elementScrolled=new Ht(a=>this.ngZone.runOutsideAngular(()=>ii(this.elementRef.nativeElement,"scroll").pipe(Ut(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(r){let t=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";r.left==null&&(r.left=o?r.end:r.start),r.right==null&&(r.right=o?r.start:r.end),r.bottom!=null&&(r.top=t.scrollHeight-t.clientHeight-r.bottom),o&&oa()!=so.NORMAL?(r.left!=null&&(r.right=t.scrollWidth-t.clientWidth-r.left),oa()==so.INVERTED?r.left=r.right:oa()==so.NEGATED&&(r.left=r.right?-r.right:r.right)):r.right!=null&&(r.left=t.scrollWidth-t.clientWidth-r.right),this._applyScrollToOptions(r)}_applyScrollToOptions(r){let t=this.elementRef.nativeElement;km()?t.scrollTo(r):(r.top!=null&&(t.scrollTop=r.top),r.left!=null&&(t.scrollLeft=r.left))}measureScrollOffset(r){let t="left",o="right",s=this.elementRef.nativeElement;if(r=="top")return s.scrollTop;if(r=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return r=="start"?r=a?o:t:r=="end"&&(r=a?t:o),a&&oa()==so.INVERTED?r==t?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&oa()==so.NEGATED?r==t?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:r==t?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(Od),ge(ot),ge(di,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),m8=20,Rd=(()=>{class n{constructor(r,t,o){this._platform=r,this._change=new Je,this._changeListener=s=>{this._change.next(s)},this._document=o,t.runOutsideAngular(()=>{if(r.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+t,height:o,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,t=this._getWindow(),o=r.documentElement,s=o.getBoundingClientRect(),a=-s.top||r.body.scrollTop||t.scrollY||o.scrollTop||0,c=-s.left||r.body.scrollLeft||t.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(r=m8){return r>0?this._change.pipe(zh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(t){return new(t||n)(je(or),je(ot),je(Dt,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ao=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})(),Pd=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[la,ao,la,ao]})}}return n})();var FT=km(),sw=class{constructor(i,r){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=an(-this._previousScrollPosition.left),i.style.top=an(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,r=this._document.body,t=i.style,o=r.style,s=t.scrollBehavior||"",a=o.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),FT&&(t.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FT&&(t.scrollBehavior=s,o.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,t=this._viewportRuler.getViewportSize();return r.scrollHeight>t.height||r.scrollWidth>t.width}};var aw=class{constructor(i,r,t,o){this._scrollDispatcher=i,this._ngZone=r,this._viewportRuler=t,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(Vt(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Jm=class{enable(){}disable(){}attach(){}};function lw(n,i){return i.some(r=>{let t=n.bottom<r.top,o=n.top>r.bottom,s=n.right<r.left,a=n.left>r.right;return t||o||s||a})}function NT(n,i){return i.some(r=>{let t=n.top<r.top,o=n.bottom>r.bottom,s=n.left<r.left,a=n.right>r.right;return t||o||s||a})}var cw=class{constructor(i,r,t,o){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=t,this._config=o,this._scrollSubscription=null}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:o}=this._viewportRuler.getViewportSize();lw(r,[{width:t,height:o,bottom:o,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},g8=(()=>{class n{constructor(r,t,o,s){this._scrollDispatcher=r,this._viewportRuler=t,this._ngZone=o,this.noop=()=>new Jm,this.close=a=>new aw(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new sw(this._viewportRuler,this._document),this.reposition=a=>new cw(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}static{this.\u0275fac=function(t){return new(t||n)(je(Od),je(Rd),je(ot),je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ll=class{constructor(i){if(this.scrollStrategy=new Jm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){let r=Object.keys(i);for(let t of r)i[t]!==void 0&&(this[t]=i[t])}}};var uw=class{constructor(i,r){this.connectionPair=i,this.scrollableViewProperties=r}};var HT=(()=>{class n{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let t=this._attachedOverlays.indexOf(r);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(t){return new(t||n)(je(Dt))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),y8=(()=>{class n extends HT{constructor(r,t){super(r),this._ngZone=t,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(ot,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v8=(()=>{class n extends HT{constructor(r,t,o){super(r),this._platform=t,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Hi(s)},this._clickListener=s=>{let a=Hi(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let y=l[u];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(LT(y.overlayElement,a)||LT(y.overlayElement,c))break;let b=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(s)):b.next(s)}}}add(r){if(super.add(r),!this._isAttached){let t=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(t)):this._addEventListeners(t),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(or),je(ot,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LT(n,i){let r=typeof ShadowRoot<"u"&&ShadowRoot,t=i;for(;t;){if(t===n)return!0;t=r&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var GT=(()=>{class n{constructor(r,t){this._platform=t,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||bd()){let o=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let t=this._document.createElement("div");t.classList.add(r),bd()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}static{this.\u0275fac=function(t){return new(t||n)(je(Dt),je(or))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dw=class{constructor(i,r,t,o,s,a,c,l,u,y=!1,b){this._portalOutlet=i,this._host=r,this._pane=t,this._config=o,this._ngZone=s,this._keyboardDispatcher=a,this._document=c,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=y,this._injector=b,this._backdropElement=null,this._backdropClick=new Je,this._attachments=new Je,this._detachments=new Je,this._locationChanges=Jt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Je,this._outsidePointerEvents=new Je,this._renders=new Je,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Jn(()=>Su(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Kn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=xe(xe({},this._config),i),this._updateElementSize()}setDirection(i){this._config=vt(xe({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=an(this._config.width),i.height=an(this._config.height),i.minWidth=an(this._config.minWidth),i.minHeight=an(this._config.minHeight),i.maxWidth=an(this._config.maxWidth),i.maxHeight=an(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(i){if(this._animationsDisabled){this._disposeBackdrop(i);return}i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,r,t){let o=bc(r||[]).filter(s=>!!s);o.length&&(t?i.classList.add(...o):i.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(Ut(Bn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},BT="cdk-overlay-connected-position-bounding-box",b8=/([A-Za-z%]+)$/,hw=class{get positions(){return this._preferredPositions}constructor(i,r,t,o,s){this._viewportRuler=r,this._document=t,this._platform=o,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Je,this._resizeSubscription=Jt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(BT),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,r=this._overlayRect,t=this._viewportRect,o=this._containerRect,s=[],a;for(let c of this._preferredPositions){let l=this._getOriginPoint(i,o,c),u=this._getOverlayPoint(l,r,c),y=this._getOverlayFit(u,r,t,c);if(y.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(y,u,t)){s.push({position:c,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!a||a.overlayFit.visibleArea<y.visibleArea)&&(a={overlayFit:y,overlayPoint:u,originPoint:l,position:c,overlayRect:r})}if(s.length){let c=null,l=-1;for(let u of s){let y=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);y>l&&(l=y,c=u)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&al(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(BT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,r)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,r,t){let o;if(t.originX=="center")o=i.left+i.width/2;else{let a=this._isRtl()?i.right:i.left,c=this._isRtl()?i.left:i.right;o=t.originX=="start"?a:c}r.left<0&&(o-=r.left);let s;return t.originY=="center"?s=i.top+i.height/2:s=t.originY=="top"?i.top:i.bottom,r.top<0&&(s-=r.top),{x:o,y:s}}_getOverlayPoint(i,r,t){let o;t.overlayX=="center"?o=-r.width/2:t.overlayX==="start"?o=this._isRtl()?-r.width:0:o=this._isRtl()?0:-r.width;let s;return t.overlayY=="center"?s=-r.height/2:s=t.overlayY=="top"?0:-r.height,{x:i.x+o,y:i.y+s}}_getOverlayFit(i,r,t,o){let s=UT(r),{x:a,y:c}=i,l=this._getOffset(o,"x"),u=this._getOffset(o,"y");l&&(a+=l),u&&(c+=u);let y=0-a,b=a+s.width-t.width,d=0-c,f=c+s.height-t.height,h=this._subtractOverflows(s.width,y,b),m=this._subtractOverflows(s.height,d,f),g=h*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:h==s.width}}_canFitWithFlexibleDimensions(i,r,t){if(this._hasFlexibleDimensions){let o=t.bottom-r.y,s=t.right-r.x,a=VT(this._overlayRef.getConfig().minHeight),c=VT(this._overlayRef.getConfig().minWidth),l=i.fitsInViewportVertically||a!=null&&a<=o,u=i.fitsInViewportHorizontally||c!=null&&c<=s;return l&&u}return!1}_pushOverlayOnScreen(i,r,t){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let o=UT(r),s=this._viewportRect,a=Math.max(i.x+o.width-s.width,0),c=Math.max(i.y+o.height-s.height,0),l=Math.max(s.top-t.top-i.y,0),u=Math.max(s.left-t.left-i.x,0),y=0,b=0;return o.width<=s.width?y=u||-a:y=i.x<this._viewportMargin?s.left-t.left-i.x:0,o.height<=s.height?b=l||-c:b=i.y<this._viewportMargin?s.top-t.top-i.y:0,this._previousPushAmount={x:y,y:b},{x:i.x+y,y:i.y+b}}_applyPosition(i,r){if(this._setTransformOrigin(i),this._setOverlayElementStyles(r,i),this._setBoundingBoxStyles(r,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!_8(this._lastScrollVisibility,t)){let o=new uw(i,t);this._positionChanges.next(o)}this._lastScrollVisibility=t}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,o=i.overlayY;i.overlayX==="center"?t="center":this._isRtl()?t=i.overlayX==="start"?"right":"left":t=i.overlayX==="start"?"left":"right";for(let s=0;s<r.length;s++)r[s].style.transformOrigin=`${t} ${o}`}_calculateBoundingBoxRect(i,r){let t=this._viewportRect,o=this._isRtl(),s,a,c;if(r.overlayY==="top")a=i.y,s=t.height-a+this._viewportMargin;else if(r.overlayY==="bottom")c=t.height-i.y+this._viewportMargin*2,s=t.height-c+this._viewportMargin;else{let f=Math.min(t.bottom-i.y+t.top,i.y),h=this._lastBoundingBoxSize.height;s=f*2,a=i.y-f,s>h&&!this._isInitialRender&&!this._growAfterOpen&&(a=i.y-h/2)}let l=r.overlayX==="start"&&!o||r.overlayX==="end"&&o,u=r.overlayX==="end"&&!o||r.overlayX==="start"&&o,y,b,d;if(u)d=t.width-i.x+this._viewportMargin*2,y=i.x-this._viewportMargin;else if(l)b=i.x,y=t.right-i.x;else{let f=Math.min(t.right-i.x+t.left,i.x),h=this._lastBoundingBoxSize.width;y=f*2,b=i.x-f,y>h&&!this._isInitialRender&&!this._growAfterOpen&&(b=i.x-h/2)}return{top:a,left:b,bottom:c,right:d,width:y,height:s}}_setBoundingBoxStyles(i,r){let t=this._calculateBoundingBoxRect(i,r);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;o.height=an(t.height),o.top=an(t.top),o.bottom=an(t.bottom),o.width=an(t.width),o.left=an(t.left),o.right=an(t.right),r.overlayX==="center"?o.alignItems="center":o.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?o.justifyContent="center":o.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",s&&(o.maxHeight=an(s)),a&&(o.maxWidth=an(a))}this._lastBoundingBoxSize=t,al(this._boundingBox.style,o)}_resetBoundingBoxStyles(){al(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){al(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,r){let t={},o=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(o){let y=this._viewportRuler.getViewportScrollPosition();al(t,this._getExactOverlayY(r,i,y)),al(t,this._getExactOverlayX(r,i,y))}else t.position="static";let c="",l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(c+=`translateX(${l}px) `),u&&(c+=`translateY(${u}px)`),t.transform=c.trim(),a.maxHeight&&(o?t.maxHeight=an(a.maxHeight):s&&(t.maxHeight="")),a.maxWidth&&(o?t.maxWidth=an(a.maxWidth):s&&(t.maxWidth="")),al(this._pane.style,t)}_getExactOverlayY(i,r,t){let o={top:"",bottom:""},s=this._getOverlayPoint(r,this._overlayRect,i);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),i.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;o.bottom=`${a-(s.y+this._overlayRect.height)}px`}else o.top=an(s.y);return o}_getExactOverlayX(i,r,t){let o={left:"",right:""},s=this._getOverlayPoint(r,this._overlayRect,i);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t));let a;if(this._isRtl()?a=i.overlayX==="end"?"left":"right":a=i.overlayX==="end"?"right":"left",a==="right"){let c=this._document.documentElement.clientWidth;o.right=`${c-(s.x+this._overlayRect.width)}px`}else o.left=an(s.x);return o}_getScrollVisibility(){let i=this._getOriginRect(),r=this._pane.getBoundingClientRect(),t=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NT(i,t),isOriginOutsideView:lw(i,t),isOverlayClipped:NT(r,t),isOverlayOutsideView:lw(r,t)}}_subtractOverflows(i,...r){return r.reduce((t,o)=>t-Math.max(o,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+i-this._viewportMargin,bottom:t.top+r-this._viewportMargin,width:i-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,r){return r==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&bc(i).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof bt)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let r=i.width||0,t=i.height||0;return{top:i.y,bottom:i.y+t,left:i.x,right:i.x+r,height:t,width:r}}};function al(n,i){for(let r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);return n}function VT(n){if(typeof n!="number"&&n!=null){let[i,r]=n.split(b8);return!r||r==="px"?parseFloat(i):null}return n||null}function UT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function _8(n,i){return n===i?!0:n.isOriginClipped===i.isOriginClipped&&n.isOriginOutsideView===i.isOriginOutsideView&&n.isOverlayClipped===i.isOverlayClipped&&n.isOverlayOutsideView===i.isOverlayOutsideView}var zT="cdk-global-overlay-wrapper",fw=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){let r=i.getConfig();this._overlayRef=i,this._width&&!r.width&&i.updateSize({width:this._width}),this._height&&!r.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(zT),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:o,height:s,maxWidth:a,maxHeight:c}=t,l=(o==="100%"||o==="100vw")&&(!a||a==="100%"||a==="100vw"),u=(s==="100%"||s==="100vh")&&(!c||c==="100%"||c==="100vh"),y=this._xPosition,b=this._xOffset,d=this._overlayRef.getConfig().direction==="rtl",f="",h="",m="";l?m="flex-start":y==="center"?(m="center",d?h=b:f=b):d?y==="left"||y==="end"?(m="flex-end",f=b):(y==="right"||y==="start")&&(m="flex-start",h=b):y==="left"||y==="start"?(m="flex-start",f=b):(y==="right"||y==="end")&&(m="flex-end",h=b),i.position=this._cssPosition,i.marginLeft=l?"0":f,i.marginTop=u?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=l?"0":h,r.justifyContent=m,r.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,t=r.style;r.classList.remove(zT),t.justifyContent=t.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},w8=(()=>{class n{constructor(r,t,o,s){this._viewportRuler=r,this._document=t,this._platform=o,this._overlayContainer=s}global(){return new fw}flexibleConnectedTo(r){return new hw(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(t){return new(t||n)(je(Rd),je(Dt),je(or),je(GT))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),x8=0,ri=(()=>{class n{constructor(r,t,o,s,a,c,l,u,y,b,d,f){this.scrollStrategies=r,this._overlayContainer=t,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=y,this._location=b,this._outsideClickDispatcher=d,this._animationsModuleType=f}create(r){let t=this._createHostElement(),o=this._createPaneElement(t),s=this._createPortalOutlet(o),a=new ll(r);return a.direction=a.direction||this._directionality.value,new dw(s,t,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Tn))}position(){return this._positionBuilder}_createPaneElement(r){let t=this._document.createElement("div");return t.id=`cdk-overlay-${x8++}`,t.classList.add("cdk-overlay-pane"),r.appendChild(t),t}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Bi)),new Ad(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(t){return new(t||n)(je(g8),je(GT),je(Ji),je(w8),je(y8),je(cr),je(ot),je(Dt),je(di),je($s),je(v8),je(gn,8))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S8=new ze("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=Be(ri);return()=>n.scrollStrategies.reposition()}});function C8(n){return()=>n.scrollStrategies.reposition()}var E8={provide:S8,deps:[ri],useFactory:C8},Tc=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[ri,E8],imports:[la,Zm,Pd,Pd]})}}return n})();var I8=(n,i)=>({startAnimationTime:n,exitAnimationTime:i}),D8=(n,i)=>({value:n,params:i}),M8=new ze("LIGHTBOX_CONFIG"),T8=Si("lightbox",[ci("void, exit",Lr({opacity:0,transform:"scale(0.7)"})),ci("enter",Lr({transform:"none"})),Rn("* => enter",On("{{startAnimationTime}}ms cubic-bezier(0, 0, 0.2, 1)",Lr({transform:"none",opacity:1}))),Rn("* => void, * => exit",On("{{exitAnimationTime}}ms cubic-bezier(0.4, 0.0, 0.2, 1)",Lr({opacity:0})))]),k8=(()=>{class n{constructor(r,t,o){this._document=r,this._focusTrapFactory=t,this._elementRef=o,this.state="enter",this._savePreviouslyFocusedElement()}onAnimationDone(r){r.toState==="enter"?this._trapFocus():(this.overlayRef.dispose(),this._restoreFocus())}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_restoreFocus(){let r=this._elementFocusedBeforeDialogWasOpened;r&&typeof r.focus=="function"&&r.focus(),this._focusTrap&&this._focusTrap.destroy()}static{this.\u0275fac=function(t){return new(t||n)(ge(Dt,8),ge(JM),ge(bt))}}static{this.\u0275cmp=ut({type:n,selectors:[["lightbox"]],hostAttrs:["tabindex","-1","aria-modal","true"],hostVars:12,hostBindings:function(t,o){t&1&&Ba("@lightbox.done",function(a){return o.onAnimationDone(a)}),t&2&&(La("@lightbox",Eu(9,D8,o.state,Eu(6,I8,o.startAnimationTime,o.exitAnimationTime))),At("id","lightbox-"+o.id)("role",o.role)("aria-labelledby",o.ariaLabel?null:o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-describedby",o.ariaDescribedBy||null))},standalone:!0,features:[Ot],decls:2,vars:4,consts:[["aria-label","Close",1,"g-btn-close",3,"click","innerHTML"],[3,"id","destroyRef","skipInitConfig"]],template:function(t,o){t&1&&(Ae(0,"i",0),Ft("click",function(){return o.overlayRef.detach()}),ke(),lt(1,"gallery",1)),t&2&&(Ue("innerHTML",o.closeIcon,Pi),Le(),Ue("id",o.id)("destroyRef",!1)("skipInitConfig",!0))},dependencies:[ha],styles:["lightbox{position:relative;display:block;width:1100px;height:800px;max-width:94vw;max-height:90vh;border-radius:4px;overflow:hidden;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}  lightbox:focus{outline:none}  lightbox gallery{height:100%;width:100%;overflow:hidden;margin:0}  lightbox gallery gallery-core{height:100%!important}  .g-backdrop{background-color:#00000052}  .fullscreen{width:100%}  .fullscreen   lightbox{max-width:unset;max-height:unset;position:fixed;inset:0;height:100%;width:100%;border-radius:0}  .g-overlay{margin:auto}@media only screen and (max-width: 480px){  .g-overlay{width:100%}  .g-overlay   lightbox{max-width:unset;max-height:unset;position:fixed;inset:0;height:100%;width:100%;border-radius:0}}  .g-btn-close{position:absolute;right:.9em;top:.9em;z-index:60;cursor:pointer;width:20px;height:20px}@media only screen and (max-width: 480px){  .g-btn-close{right:.7em;top:.7em}}  .g-btn-close svg{width:100%;height:100%;opacity:.6;transition:opacity linear .15s;filter:drop-shadow(0px 0px 2px rgba(0,0,0,.8))}  .g-btn-close svg:hover{opacity:1}"],data:{animation:[T8]},changeDetection:0})}}return n})(),$T={backdropClass:"g-backdrop",panelClass:"g-overlay",hasBackdrop:!0,keyboardShortcuts:!0,role:"lightbox",startAnimationTime:150,exitAnimationTime:75,closeIcon:`<?xml version="1.0" encoding="UTF-8"?>
<svg width="512px" height="512px" enable-background="new 0 0 47.971 47.971" version="1.1" viewBox="0 0 47.971 47.971" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
	<path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z" fill="#fff"/>
</svg>
`},WT=(()=>{class n{constructor(r,t,o,s){this._gallery=t,this._overlay=o,this._sanitizer=s,this.opened=new Je,this.closed=new Je,this._config=r?xe(xe({},$T),r):$T}setConfig(r){this._config=xe(xe({},this._config),r)}open(r=0,t="lightbox",o){let s=o?xe(xe({},this._config),o):this._config,a={backdropClass:s.backdropClass,panelClass:s.panelClass,hasBackdrop:s.hasBackdrop,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block(),disposeOnNavigation:!0},c=this._gallery.ref(t);c.set(r),this._overlayRef=this._overlay.create(a),this._overlayRef.attachments().subscribe(()=>this.opened.next(t)),this._overlayRef.detachments().subscribe(()=>this.closed.next(t));let l=new fa(k8),u=this._overlayRef.attach(l);u.instance.id=t,u.instance.overlayRef=this._overlayRef,u.instance.closeIcon=this._sanitizer.bypassSecurityTrustHtml(this._config.closeIcon),u.instance.role=this._config.role,u.instance.ariaLabel=this._config.ariaLabel,u.instance.ariaLabelledBy=this._config.ariaLabelledBy,u.instance.ariaDescribedBy=this._config.ariaDescribedBy,u.instance.startAnimationTime=this._config.startAnimationTime,u.instance.exitAnimationTime=this._config.exitAnimationTime,s.hasBackdrop&&this._overlayRef.backdropClick().subscribe(()=>this.close()),s.keyboardShortcuts&&this._overlayRef.keydownEvents().subscribe(y=>{switch(y.keyCode){case 37:c.prev();break;case 39:c.next();break;case 27:this.close()}})}close(){this._overlayRef.hasAttached()&&this._overlayRef.detach()}static{this.\u0275fac=function(t){return new(t||n)(je(M8,8),je(Dc),je(ri),je(ls))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qT=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[kd,kd]})}}return n})();var YT=(()=>{class n{constructor(r,t){this.lightbox=r,this.nftService=t,this.loadingStrategy="lazy",this.galleryId="gallery"}ngOnChanges(r){this.gallery?.reset(),this.addNftsToGallery(r.nfts.currentValue)}ngAfterViewInit(){this.nfts&&this.addNftsToGallery(this.nfts)}addNftsToGallery(r){r.forEach(t=>{this.gallery?.addImage({src:this.nftService.getQualityUrl(t.image),thumb:this.nftService.getOptimalUrl(t.image)})})}static{this.\u0275fac=function(t){return new(t||n)(ge(WT),ge(Lo))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-image-viewer"]],viewQuery:function(t,o){if(t&1&&hr(ha,5),t&2){let s;Et(s=It())&&(o.gallery=s.first)}},inputs:{nfts:"nfts"},features:[Wr],decls:1,vars:4,consts:[[3,"id","counter","loadingStrategy","thumb"]],template:function(t,o){t&1&&lt(0,"gallery",0),t&2&&Ue("id",o.galleryId)("counter",!1)("loadingStrategy",o.loadingStrategy)("thumb",!1)},dependencies:[ha]})}}return n})();function O8(n,i){n&1&&lt(0,"span",7)}function R8(n,i){if(n&1&&(Ae(0,"div",8)(1,"h3"),et(2),ke(),Ae(3,"p"),et(4),ke(),Ae(5,"h3"),et(6),ke()()),n&2){let r=Ke(2).$implicit,t=Ke();Le(2),Zr(t.getTraitValue(r,t.validTraits.PROJECT)),Le(2),Zr(r==null?null:r.description),Le(2),Zr(t.getTraitValue(r,t.validTraits.DESC_AUTHOR))}}function P8(n,i){if(n&1){let r=Ar();Ae(0,"mat-grid-list",1)(1,"mat-grid-tile",2),lt(2,"app-image-viewer",3),ke(),Ae(3,"mat-grid-tile",4)(4,"div",5)(5,"h3")(6,"i"),et(7),ke()(),Ae(8,"h3")(9,"small")(10,"a",6),et(11),ke(),et(12),dt(13,O8,1,0,"span",7),ke()()()()(),dt(14,R8,7,3,"div",8),Ae(15,"div",9),lt(16,"mat-divider"),Ae(17,"h3"),et(18),ke(),Ae(19,"app-art-pieces-list",10),Ft("selectedTokenId",function(o){mr(r);let s=Ke(2);return gr(s.handleSelectedItem(o))}),ke()()}if(n&2){let r=Ke().$implicit,t=Ke();Le(),Ue("colspan",t.horizontalView?2:3)("rowspan",t.generateRatio(r)),Le(),Ue("nfts",t.nfts()),Le(),Ue("colspan",t.horizontalView?1:3),Le(4),Hn("",r==null?null:r.name,". "),Le(3),Ue("routerLink","/artworks/"+t.getTraitValue(r,t.validTraits.YEAR)),Le(),Zr(t.getTraitValue(r,t.validTraits.YEAR)),Le(),db(", ",t.getTraitValue(r,t.validTraits.MEDIUM),", ",t.getTraitValue(r,t.validTraits.HEIGHT)," x ",t.getTraitValue(r,t.validTraits.WIDTH)," ",t.getTraitValue(r,t.validTraits.UNIT),". "),Le(),Gt(t.sold(r.tokenId)?13:-1),Le(),Gt(r!=null&&r.description?14:-1),Le(4),Hn("More on ",t.getTraitValue(r,t.validTraits.YEAR),""),Le(),Ue("viewAsWidget",!0)("numberOfCols",t.numberOfViewMoreColumns)("nftFilters",t.getSameYearListFilter(r))}}function F8(n,i){if(n&1&&dt(0,P8,20,17),n&2){let r=i.$index,t=i.$count;Gt(r===t-1?0:-1)}}var XT=(()=>{class n{constructor(r,t,o,s){this.nftsService=r,this.activatedroute=t,this.router=o,this.responsiveService=s,this.validTraits=En,this.tokenId=_i(""),this.nfts=_i([]),this.numberOfViewMoreColumns=6,this.horizontalView=!1,this.responsiveService.displayMobileLayout.subscribe(a=>this.horizontalView=a)}ngOnInit(){this.listenIdParamChange()}listenIdParamChange(){this.activatedroute.paramMap.pipe(wt(r=>r.get("id")),Tr(r=>(this.tokenId.set(r),this.nftsService.getSameArtThan(r)))).subscribe(r=>{this.nfts.set(r)})}generateRatio(r){let t=parseFloat(this.getTraitValue(r,En.HEIGHT)),o=parseFloat(this.getTraitValue(r,En.WIDTH)),s=this.horizontalView?0:Math.ceil(t/o);return Math.ceil(t/o*2)+s}getSameYearListFilter(r){return{years:[this.getTraitValue(r,this.validTraits.YEAR)],idsToExclude:[r.tokenId]}}getTraitValue(r,t){try{return r.raw.metadata.attributes.find(o=>o.trait_type===t).value}catch{switch(t){case En.MEDIUM:return"Error getting medium";case En.HEIGHT:return"XX";case En.WIDTH:return"XX";case En.UNIT:return"cm";case En.YEAR:return"XXXX";case En.IMAGETYPE:return"Frontal view";default:return"Error getting data"}}}sold(r){return BM.includes(r)}getQualityImg(r){return this.nftsService.getQualityUrl(r)}handleSelectedItem(r){this.router.navigate(["/art",r])}static{this.\u0275fac=function(t){return new(t||n)(ge(Lo),ge(ei),ge(ti),ge(aa))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-art-piece"]],decls:3,vars:0,consts:[[1,"container","margin-top"],["cols","3"],[3,"colspan","rowspan"],[1,"fit-width",3,"nfts"],["rowspan","2",3,"colspan"],[1,"art-piece-labels"],[3,"routerLink"],[1,"dot"],[1,"art-piece-desc"],[1,"margin-top"],[3,"selectedTokenId","viewAsWidget","numberOfCols","nftFilters"]],template:function(t,o){t&1&&(Ae(0,"div",0),Fi(1,F8,1,1,null,null,Do),ke()),t&2&&(Le(),Ni(o.nfts()))},dependencies:[Vm,ua,gs,ra,Ic,YT],styles:[".dot[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#cf2525;border-radius:50%;display:inline-block;margin-left:15px;vertical-align:middle}.art-piece-labels[_ngcontent-%COMP%]{padding:10%;text-align:center;width:100%}.art-piece-desc[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return n})();var rk=(()=>{class n{constructor(r,t){this._renderer=r,this._elementRef=t,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,t){this._renderer.setProperty(this._elementRef.nativeElement,r,t)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}static{this.\u0275fac=function(t){return new(t||n)(ge(Io),ge(bt))}}static{this.\u0275dir=xt({type:n})}}return n})(),N8=(()=>{class n extends rk{static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275dir=xt({type:n,features:[Ur]})}}return n})(),dg=new ze("");var L8={provide:dg,useExisting:gi(()=>hg),multi:!0};function B8(){let n=ko()?ko().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var V8=new ze(""),hg=(()=>{class n extends rk{constructor(r,t,o){super(r,t),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!B8())}writeValue(r){let t=r??"";this.setProperty("value",t)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}static{this.\u0275fac=function(t){return new(t||n)(ge(Io),ge(bt),ge(V8,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){t&1&&Ft("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Or([L8]),Ur]})}}return n})();function ma(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function nk(n){return n!=null&&typeof n.length=="number"}var Ud=new ze(""),_w=new ze(""),U8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lo=class{static min(i){return z8(i)}static max(i){return H8(i)}static required(i){return ik(i)}static requiredTrue(i){return G8(i)}static email(i){return $8(i)}static minLength(i){return W8(i)}static maxLength(i){return ok(i)}static pattern(i){return q8(i)}static nullValidator(i){return rg(i)}static compose(i){return dk(i)}static composeAsync(i){return hk(i)}};function z8(n){return i=>{if(ma(i.value)||ma(n))return null;let r=parseFloat(i.value);return!isNaN(r)&&r<n?{min:{min:n,actual:i.value}}:null}}function H8(n){return i=>{if(ma(i.value)||ma(n))return null;let r=parseFloat(i.value);return!isNaN(r)&&r>n?{max:{max:n,actual:i.value}}:null}}function ik(n){return ma(n.value)?{required:!0}:null}function G8(n){return n.value===!0?null:{required:!0}}function $8(n){return ma(n.value)||U8.test(n.value)?null:{email:!0}}function W8(n){return i=>ma(i.value)||!nk(i.value)?null:i.value.length<n?{minlength:{requiredLength:n,actualLength:i.value.length}}:null}function ok(n){return i=>nk(i.value)&&i.value.length>n?{maxlength:{requiredLength:n,actualLength:i.value.length}}:null}function q8(n){if(!n)return rg;let i,r;return typeof n=="string"?(r="",n.charAt(0)!=="^"&&(r+="^"),r+=n,n.charAt(n.length-1)!=="$"&&(r+="$"),i=new RegExp(r)):(r=n.toString(),i=n),t=>{if(ma(t.value))return null;let o=t.value;return i.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}function rg(n){return null}function sk(n){return n!=null}function ak(n){return Gs(n)?dr(n):n}function lk(n){let i={};return n.forEach(r=>{i=r!=null?xe(xe({},i),r):i}),Object.keys(i).length===0?null:i}function ck(n,i){return i.map(r=>r(n))}function Y8(n){return!n.validate}function uk(n){return n.map(i=>Y8(i)?i:r=>i.validate(r))}function dk(n){if(!n)return null;let i=n.filter(sk);return i.length==0?null:function(r){return lk(ck(r,i))}}function ww(n){return n!=null?dk(uk(n)):null}function hk(n){if(!n)return null;let i=n.filter(sk);return i.length==0?null:function(r){let t=ck(r,i).map(ak);return ru(t).pipe(wt(lk))}}function xw(n){return n!=null?hk(uk(n)):null}function QT(n,i){return n===null?[i]:Array.isArray(n)?[...n,i]:[n,i]}function fk(n){return n._rawValidators}function pk(n){return n._rawAsyncValidators}function mw(n){return n?Array.isArray(n)?n:[n]:[]}function ng(n,i){return Array.isArray(n)?n.includes(i):n===i}function ZT(n,i){let r=mw(i);return mw(n).forEach(o=>{ng(r,o)||r.push(o)}),r}function KT(n,i){return mw(i).filter(r=>!ng(n,r))}var ig=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=ww(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=xw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,r){return this.control?this.control.hasError(i,r):!1}getError(i,r){return this.control?this.control.getError(i,r):null}},cl=class extends ig{get formDirective(){return null}get path(){return null}},ul=class extends ig{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},og=class{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},X8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xce=vt(xe({},X8),{"[class.ng-submitted]":"isSubmitted"}),mk=(()=>{class n extends og{constructor(r){super(r)}static{this.\u0275fac=function(t){return new(t||n)(ge(ul,2))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){t&2&&Yt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ur]})}}return n})(),gk=(()=>{class n extends og{constructor(r){super(r)}static{this.\u0275fac=function(t){return new(t||n)(ge(cl,10))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){t&2&&Yt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ur]})}}return n})();var Fd="VALID",tg="INVALID",kc="PENDING",Nd="DISABLED",ga=class{},sg=class extends ga{constructor(i,r){super(),this.value=i,this.source=r}},Bd=class extends ga{constructor(i,r){super(),this.pristine=i,this.source=r}},Vd=class extends ga{constructor(i,r){super(),this.touched=i,this.source=r}},jc=class extends ga{constructor(i,r){super(),this.status=i,this.source=r}},gw=class extends ga{constructor(i){super(),this.source=i}},yw=class extends ga{constructor(i){super(),this.source=i}};function Sw(n){return(fg(n)?n.validators:n)||null}function Q8(n){return Array.isArray(n)?ww(n):n||null}function Cw(n,i){return(fg(i)?i.asyncValidators:n)||null}function Z8(n){return Array.isArray(n)?xw(n):n||null}function fg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yk(n,i,r){let t=n.controls;if(!(i?Object.keys(t):t).length)throw new Xe(1e3,"");if(!t[r])throw new Xe(1001,"")}function vk(n,i,r){n._forEachChild((t,o)=>{if(r[o]===void 0)throw new Xe(1002,"")})}var Ac=class{constructor(i,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ro(()=>this.statusReactive()),this.statusReactive=_i(void 0),this._pristine=ro(()=>this.pristineReactive()),this.pristineReactive=_i(!0),this._touched=ro(()=>this.touchedReactive()),this.touchedReactive=_i(!1),this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return Jn(this.statusReactive)}set status(i){Jn(()=>this.statusReactive.set(i))}get valid(){return this.status===Fd}get invalid(){return this.status===tg}get pending(){return this.status==kc}get disabled(){return this.status===Nd}get enabled(){return this.status!==Nd}get pristine(){return Jn(this.pristineReactive)}set pristine(i){Jn(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return Jn(this.touchedReactive)}set touched(i){Jn(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(ZT(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(ZT(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(KT(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(KT(i,this._rawAsyncValidators))}hasValidator(i){return ng(this._rawValidators,i)}hasAsyncValidator(i){return ng(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let r=this.touched===!1;this.touched=!0;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(vt(xe({},i),{sourceControl:t})),r&&i.emitEvent!==!1&&this._events.next(new Vd(!0,t))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(i))}markAsUntouched(i={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=i.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:t})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t),r&&i.emitEvent!==!1&&this._events.next(new Vd(!1,t))}markAsDirty(i={}){let r=this.pristine===!0;this.pristine=!1;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(vt(xe({},i),{sourceControl:t})),r&&i.emitEvent!==!1&&this._events.next(new Bd(!1,t))}markAsPristine(i={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=i.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),r&&i.emitEvent!==!1&&this._events.next(new Bd(!0,t))}markAsPending(i={}){this.status=kc;let r=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new jc(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(vt(xe({},i),{sourceControl:r}))}disable(i={}){let r=this._parentMarkedDirty(i.onlySelf);this.status=Nd,this.errors=null,this._forEachChild(o=>{o.disable(vt(xe({},i),{onlySelf:!0}))}),this._updateValue();let t=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new sg(this.value,t)),this._events.next(new jc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(xe({},i),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){let r=this._parentMarkedDirty(i.onlySelf);this.status=Fd,this._forEachChild(t=>{t.enable(vt(xe({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(vt(xe({},i),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(i,r){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fd||this.status===kc)&&this._runAsyncValidator(t,i.emitEvent)}let r=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new sg(this.value,r)),this._events.next(new jc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(vt(xe({},i),{sourceControl:r}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nd:Fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,r){if(this.asyncValidator){this.status=kc,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=ak(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:r,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,r={}){this.errors=i,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(i){let r=i;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,o)=>t&&t._find(o),this)}getError(i,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[i]:null}hasError(i,r){return!!this.getError(i,r)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,r,t){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||t)&&this._events.next(new jc(this.status,r)),this._parent&&this._parent._updateControlsErrors(i,r,t)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Nd:this.errors?tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kc)?kc:this._anyControlsHaveStatus(tg)?tg:Fd}_anyControlsHaveStatus(i){return this._anyControls(r=>r.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,r){let t=!this._anyControlsDirty(),o=this.pristine!==t;this.pristine=t,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,r),o&&this._events.next(new Bd(this.pristine,r))}_updateTouched(i={},r){this.touched=this._anyControlsTouched(),this._events.next(new Vd(this.touched,r)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,r)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){fg(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let r=this._parent&&this._parent.dirty;return!i&&!!r&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=Q8(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=Z8(this._rawAsyncValidators)}},Oc=class extends Ac{constructor(i,r,t){super(Sw(r),Cw(t,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,r){return this.controls[i]?this.controls[i]:(this.controls[i]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(i,r,t={}){this.registerControl(i,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(i,r={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(i,r,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],r&&this.registerControl(i,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,r={}){vk(this,!0,i),Object.keys(i).forEach(t=>{yk(this,!0,t),this.controls[t].setValue(i[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){i!=null&&(Object.keys(i).forEach(t=>{let o=this.controls[t];o&&o.patchValue(i[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i={},r={}){this._forEachChild((t,o)=>{t.reset(i?i[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(i,r,t)=>(i[t]=r.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&i(t,r)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&i(t))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(r,t,o)=>((t.enabled||this.disabled)&&(r[o]=t.value),r))}_reduceChildren(i,r){let t=i;return this._forEachChild((o,s)=>{t=r(t,o,s)}),t}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var vw=class extends Oc{};var zd=new ze("CallSetDisabledState",{providedIn:"root",factory:()=>pg}),pg="always";function ag(n,i,r=pg){Ew(n,i),i.valueAccessor.writeValue(n.value),(n.disabled||r==="always")&&i.valueAccessor.setDisabledState?.(n.disabled),J8(n,i),tz(n,i),ez(n,i),K8(n,i)}function lg(n,i,r=!0){let t=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(t),i.valueAccessor.registerOnTouched(t)),ug(n,i),n&&(i._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cg(n,i){n.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(i)})}function K8(n,i){if(i.valueAccessor.setDisabledState){let r=t=>{i.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(r),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(r)})}}function Ew(n,i){let r=fk(n);i.validator!==null?n.setValidators(QT(r,i.validator)):typeof r=="function"&&n.setValidators([r]);let t=pk(n);i.asyncValidator!==null?n.setAsyncValidators(QT(t,i.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let o=()=>n.updateValueAndValidity();cg(i._rawValidators,o),cg(i._rawAsyncValidators,o)}function ug(n,i){let r=!1;if(n!==null){if(i.validator!==null){let o=fk(n);if(Array.isArray(o)&&o.length>0){let s=o.filter(a=>a!==i.validator);s.length!==o.length&&(r=!0,n.setValidators(s))}}if(i.asyncValidator!==null){let o=pk(n);if(Array.isArray(o)&&o.length>0){let s=o.filter(a=>a!==i.asyncValidator);s.length!==o.length&&(r=!0,n.setAsyncValidators(s))}}}let t=()=>{};return cg(i._rawValidators,t),cg(i._rawAsyncValidators,t),r}function J8(n,i){i.valueAccessor.registerOnChange(r=>{n._pendingValue=r,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bk(n,i)})}function ez(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bk(n,i),n.updateOn!=="submit"&&n.markAsTouched()})}function bk(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tz(n,i){let r=(t,o)=>{i.valueAccessor.writeValue(t),o&&i.viewToModelUpdate(t)};n.registerOnChange(r),i._registerOnDestroy(()=>{n._unregisterOnChange(r)})}function _k(n,i){n==null,Ew(n,i)}function rz(n,i){return ug(n,i)}function nz(n,i){if(!n.hasOwnProperty("model"))return!1;let r=n.model;return r.isFirstChange()?!0:!Object.is(i,r.currentValue)}function iz(n){return Object.getPrototypeOf(n.constructor)===N8}function wk(n,i){n._syncPendingControls(),i.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function oz(n,i){if(!i)return null;Array.isArray(i);let r,t,o;return i.forEach(s=>{s.constructor===hg?r=s:iz(s)?t=s:o=s}),o||t||r||null}function sz(n,i){let r=n.indexOf(i);r>-1&&n.splice(r,1)}var az={provide:cl,useExisting:gi(()=>Iw)},Ld=Promise.resolve(),Iw=(()=>{class n extends cl{get submitted(){return Jn(this.submittedReactive)}constructor(r,t,o){super(),this.callSetDisabledState=o,this._submitted=ro(()=>this.submittedReactive()),this.submittedReactive=_i(!1),this._directives=new Set,this.ngSubmit=new Mt,this.form=new Oc({},ww(r),xw(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ld.then(()=>{let t=this._findContainer(r.path);r.control=t.registerControl(r.name,r.control),ag(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ld.then(()=>{let t=this._findContainer(r.path);t&&t.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ld.then(()=>{let t=this._findContainer(r.path),o=new Oc({});_k(o,r),t.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ld.then(()=>{let t=this._findContainer(r.path);t&&t.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,t){Ld.then(()=>{this.form.get(r.path).setValue(t)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),wk(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}static{this.\u0275fac=function(t){return new(t||n)(ge(Ud,10),ge(_w,10),ge(zd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){t&1&&Ft("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Or([az]),Ur]})}}return n})();function JT(n,i){let r=n.indexOf(i);r>-1&&n.splice(r,1)}function ek(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var vs=class extends Ac{constructor(i=null,r,t){super(Sw(r),Cw(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(ek(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,r={}){this.value=this._pendingValue=i,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(i,r={}){this.setValue(i,r)}reset(i=this.defaultValue,r={}){this._applyFormState(i),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){JT(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){JT(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){ek(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var lz=n=>n instanceof vs;var xk=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Sk=new ze(""),cz={provide:ul,useExisting:gi(()=>Dw)},Dw=(()=>{class n extends ul{set isDisabled(r){}static{this._ngModelWarningSentOnce=!1}constructor(r,t,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new Mt,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(t),this.valueAccessor=oz(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let t=r.form.previousValue;t&&lg(t,this,!1),ag(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nz(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&lg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}static{this.\u0275fac=function(t){return new(t||n)(ge(Ud,10),ge(_w,10),ge(dg,10),ge(Sk,8),ge(zd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Or([cz]),Ur,Wr]})}}return n})(),uz={provide:cl,useExisting:gi(()=>Hd)},Hd=(()=>{class n extends cl{get submitted(){return Jn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,t,o){super(),this.callSetDisabledState=o,this._submitted=ro(()=>this._submittedReactive()),this._submittedReactive=_i(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mt,this._setValidators(r),this._setAsyncValidators(t)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ug(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let t=this.form.get(r.path);return ag(t,r,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),t}getControl(r){return this.form.get(r.path)}removeControl(r){lg(r.control||null,r,!1),sz(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,t){this.form.get(r.path).setValue(t)}onSubmit(r){return this._submittedReactive.set(!0),wk(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new gw(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new yw(this.form))}_updateDomValue(){this.directives.forEach(r=>{let t=r.control,o=this.form.get(r.path);t!==o&&(lg(t||null,r),lz(o)&&(ag(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let t=this.form.get(r.path);_k(t,r),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let t=this.form.get(r.path);t&&rz(t,r)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ew(this.form,this),this._oldForm&&ug(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(t){return new(t||n)(ge(Ud,10),ge(_w,10),ge(zd,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,o){t&1&&Ft("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Or([uz]),Ur,Wr]})}}return n})();function dz(n){return typeof n=="number"?n:parseInt(n,10)}var Ck=(()=>{class n{constructor(){this._validator=rg}ngOnChanges(r){if(this.inputName in r){let t=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):rg,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,features:[Wr]})}}return n})();var hz={provide:Ud,useExisting:gi(()=>Mw),multi:!0};var Mw=(()=>{class n extends Ck{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yr,this.createValidator=r=>ik}enabled(r){return r}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){t&2&&At("required",o._enabled?"":null)},inputs:{required:"required"},features:[Or([hz]),Ur]})}}return n})();var fz={provide:Ud,useExisting:gi(()=>Tw),multi:!0},Tw=(()=>{class n extends Ck{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>dz(r),this.createValidator=r=>ok(r)}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275dir=xt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&At("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Or([fz]),Ur]})}}return n})();var Ek=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})(),bw=class extends Ac{constructor(i,r,t){super(Sw(r),Cw(t,r)),this.controls=i,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,r={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(i,r,t={}){this.controls.splice(i,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(i,r={}){let t=this._adjustIndex(i);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(i,r,t={}){let o=this._adjustIndex(i);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),r&&(this.controls.splice(o,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,r={}){vk(this,!1,i),i.forEach((t,o)=>{yk(this,!1,o),this.at(o).setValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(i,r={}){i!=null&&(i.forEach((t,o)=>{this.at(o)&&this.at(o).patchValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(i=[],r={}){this._forEachChild((t,o)=>{t.reset(i[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((r,t)=>t._syncPendingControls()?!0:r,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((r,t)=>{i(r,t)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(r=>r.enabled&&i(r))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function tk(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ik=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new n;return r.useNonNullable=!0,r}group(r,t=null){let o=this._reduceControls(r),s={};return tk(t)?s=t:t!==null&&(s.validators=t.validator,s.asyncValidators=t.asyncValidator),new Oc(o,s)}record(r,t=null){let o=this._reduceControls(r);return new vw(o,t)}control(r,t,o){let s={};return this.useNonNullable?(tk(t)?s=t:(s.validators=t,s.asyncValidators=o),new vs(r,vt(xe({},s),{nonNullable:!0}))):new vs(r,t,o)}array(r,t,o){let s=r.map(a=>this._createControl(a));return new bw(s,t,o)}_reduceControls(r){let t={};return Object.keys(r).forEach(o=>{t[o]=this._createControl(r[o])}),t}_createControl(r){if(r instanceof vs)return r;if(r instanceof Ac)return r;if(Array.isArray(r)){let t=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(t,o,s)}else return this.control(r)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Dk=(()=>{class n{static withConfig(r){return{ngModule:n,providers:[{provide:zd,useValue:r.callSetDisabledState??pg}]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Ek]})}}return n})(),Mk=(()=>{class n{static withConfig(r){return{ngModule:n,providers:[{provide:Sk,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:zd,useValue:r.callSetDisabledState??pg}]}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Ek]})}}return n})();var pz=["mat-button",""],jk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ak=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var mz=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var gz=["mat-mini-fab",""],yz='.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}',vz=["mat-icon-button",""],bz=["*"];var _z=new ze("MAT_BUTTON_CONFIG");var wz=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],kw=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=r,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._updateRippleDisabled()}constructor(r,t,o,s){this._elementRef=r,this._platform=t,this._ngZone=o,this._animationMode=s,this._focusMonitor=Be(ms),this._rippleLoader=Be(Bm),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=Be(_z,{optional:!0}),c=r.nativeElement,l=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:y}of wz)c.hasAttribute(u)&&l.add(...y)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(r="program",t){r?this._focusMonitor.focusVia(this._elementRef.nativeElement,r,t):this._elementRef.nativeElement.focus(t)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(t){ap()}}static{this.\u0275dir=xt({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",yr],disabled:[2,"disabled","disabled",yr],ariaDisabled:[2,"aria-disabled","ariaDisabled",yr],disabledInteractive:[2,"disabledInteractive","disabledInteractive",yr]},features:[Qr]})}}return n})();var Rc=(()=>{class n extends kw{constructor(r,t,o,s){super(r,t,o,s)}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(or),ge(ot),ge(gn,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(t,o){t&2&&(At("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),wi(o.color?"mat-"+o.color:""),Yt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ur,Ot],attrs:pz,ngContentSelectors:Ak,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,o){t&1&&(xr(jk),lt(0,"span",0),Lt(1),Ae(2,"span",1),Lt(3,1),ke(),Lt(4,2),lt(5,"span",2)(6,"span",3)),t&2&&Yt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var xz=new ze("mat-mdc-fab-default-options",{providedIn:"root",factory:Ok});function Ok(){return{color:"accent"}}var kk=Ok();var Rk=(()=>{class n extends kw{constructor(r,t,o,s,a){super(r,t,o,s),this._options=a,this._isFab=!0,this._options=this._options||kk,this.color=this._options.color||kk.color}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(or),ge(ot),ge(gn,8),ge(xz,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(t,o){t&2&&(At("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),wi(o.color?"mat-"+o.color:""),Yt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ur,Ot],attrs:gz,ngContentSelectors:Ak,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,o){t&1&&(xr(jk),lt(0,"span",0),Lt(1),Ae(2,"span",1),Lt(3,1),ke(),Lt(4,2),lt(5,"span",2)(6,"span",3)),t&2&&Yt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[yz],encapsulation:2,changeDetection:0})}}return n})();var Pk=(()=>{class n extends kw{constructor(r,t,o,s){super(r,t,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(or),ge(ot),ge(gn,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(t,o){t&2&&(At("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),wi(o.color?"mat-"+o.color:""),Yt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ur,Ot],attrs:vz,ngContentSelectors:bz,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,o){t&1&&(xr(),lt(0,"span",0),Lt(1),lt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',mz],encapsulation:2,changeDetection:0})}}return n})();var Pc=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,ca,Xt]})}}return n})();function Sz(n,i){if(n&1){let r=Ar();Ae(0,"div",1)(1,"button",2),Ft("click",function(){mr(r);let o=Ke();return gr(o.action())}),et(2),ke()()}if(n&2){let r=Ke();Le(2),Hn(" ",r.data.action," ")}}var Cz=["label"];function Ez(n,i){}var Iz=Math.pow(2,31)-1,Gd=class{constructor(i,r){this._overlayRef=r,this._afterDismissed=new Je,this._afterOpened=new Je,this._onAction=new Je,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Iz))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Fk=new ze("MatSnackBarData"),Fc=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Dz=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return n})(),Mz=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return n})(),Tz=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return n})(),Nk=(()=>{class n{constructor(r,t){this.snackBarRef=r,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(t){return new(t||n)(ge(Gd),ge(Fk))}}static{this.\u0275cmp=ut({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ot],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,o){t&1&&(Ae(0,"div",0),et(1),ke(),dt(2,Sz,3,1,"div",1)),t&2&&(Le(),Hn(" ",o.data.message,`
`),Le(),Gt(o.hasAction?2:-1))},dependencies:[Rc,Dz,Mz,Tz],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})(),kz={snackBarState:Si("state",[ci("void, hidden",Lr({transform:"scale(0.8)",opacity:0})),ci("visible",Lr({transform:"scale(1)",opacity:1})),Rn("* => visible",On("150ms cubic-bezier(0, 0, 0.2, 1)")),Rn("* => void, * => hidden",On("75ms cubic-bezier(0.4, 0.0, 1, 1)",Lr({opacity:0})))])},jz=0,Az=(()=>{class n extends Mc{constructor(r,t,o,s,a){super(),this._ngZone=r,this._elementRef=t,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._document=Be(Dt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Je,this._onExit=new Je,this._onEnter=new Je,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${jz++}`,this.attachDomPortal=c=>{this._assertNotAttached();let l=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),l},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(r){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(r);return this._afterPortalAttached(),t}attachTemplatePortal(r){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(r);return this._afterPortalAttached(),t}onAnimationEnd(r){let{fromState:t,toState:o}=r;if((o==="void"&&t!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let r=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(a=>r.classList.add(a)):r.classList.add(t)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let r=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<t.length;o++){let s=t[o],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(r)===-1&&s.setAttribute("aria-owns",a+" "+r):s.setAttribute("aria-owns",r)}}_clearFromModals(){this._trackedModals.forEach(r=>{let t=r.getAttribute("aria-owns");if(t){let o=t.replace(this._liveElementId,"").trim();o.length>0?r.setAttribute("aria-owns",o):r.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(r&&t){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(o=document.activeElement),r.removeAttribute("aria-hidden"),t.appendChild(r),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(t){return new(t||n)(ge(ot),ge(bt),ge(br),ge(or),ge(Fc))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,o){if(t&1&&(hr(ow,7),hr(Cz,7)),t&2){let s;Et(s=It())&&(o._portalOutlet=s.first),Et(s=It())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(t,o){t&1&&Ba("@state.done",function(a){return o.onAnimationEnd(a)}),t&2&&La("@state",o._animationState)},standalone:!0,features:[Ur,Ot],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(Ae(0,"div",1)(1,"div",2,0)(3,"div",3),dt(4,Ez,0,0,"ng-template",4),ke(),lt(5,"div"),ke()()),t&2&&(Le(5),At("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[ow],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[kz.snackBarState]}})}}return n})();function Oz(){return new Fc}var Rz=new ze("mat-snack-bar-default-options",{providedIn:"root",factory:Oz}),Aw=(()=>{class n{get _openedSnackBarRef(){let r=this._parentSnackBar;return r?r._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(r){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=r:this._snackBarRefAtThisLevel=r}constructor(r,t,o,s,a,c){this._overlay=r,this._live=t,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=c,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Nk,this.snackBarContainerComponent=Az,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(r,t){return this._attach(r,t)}openFromTemplate(r,t){return this._attach(r,t)}open(r,t="",o){let s=xe(xe({},this._defaultConfig),o);return s.data={message:r,action:t},s.announcementMessage===r&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(r,t){let o=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=cr.create({parent:o||this._injector,providers:[{provide:Fc,useValue:t}]}),a=new fa(this.snackBarContainerComponent,t.viewContainerRef,s),c=r.attach(a);return c.instance.snackBarConfig=t,c.instance}_attach(r,t){let o=xe(xe(xe({},new Fc),this._defaultConfig),t),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),c=new Gd(a,s);if(r instanceof tn){let l=new pa(r,null,{$implicit:o.data,snackBarRef:c});c.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(o,c),u=new fa(r,void 0,l),y=a.attachComponentPortal(u);c.instance=y.instance}return this._breakpointObserver.observe(nl.HandsetPortrait).pipe(Ut(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(c,o),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(r,t){r.afterDismissed().subscribe(()=>{this._openedSnackBarRef==r&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{r.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):r.containerInstance.enter(),t.duration&&t.duration>0&&r.afterOpened().subscribe(()=>r._dismissAfter(t.duration))}_createOverlay(r){let t=new ll;t.direction=r.direction;let o=this._overlay.position().global(),s=r.direction==="rtl",a=r.horizontalPosition==="left"||r.horizontalPosition==="start"&&!s||r.horizontalPosition==="end"&&s,c=!a&&r.horizontalPosition!=="center";return a?o.left("0"):c?o.right("0"):o.centerHorizontally(),r.verticalPosition==="top"?o.top("0"):o.bottom("0"),t.positionStrategy=o,this._overlay.create(t)}_createInjector(r,t){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector;return cr.create({parent:o||this._injector,providers:[{provide:Gd,useValue:t},{provide:Fk,useValue:r.data}]})}static{this.\u0275fac=function(t){return new(t||n)(je(ri),je(tT),je(cr),je(sa),je(n,12),je(Rz))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Lk=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[Aw],imports:[Tc,Zm,Pc,Xt,Nk,Xt]})}}return n})();var Ow=class{constructor(i){this._box=i,this._destroyed=new Je,this._resizeSubject=new Je,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new Ht(r=>{let t=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),t.unsubscribe(),this._elementObservables.delete(i)}}).pipe(Vt(r=>r.some(t=>t.target===i)),Gh({bufferSize:1,refCount:!0}),Ut(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Bk=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=Be(ot),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,r]of this._observers)r.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(r,t){let o=t?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new Ow(o)),this._observers.get(o).observe(r)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fz=["notch"],Nz=["matFormFieldNotchedOutline",""],Lz=["*"],Bz=["textField"],Vz=["iconPrefixContainer"],Uz=["textPrefixContainer"],zz=["iconSuffixContainer"],Hz=["textSuffixContainer"],Gz=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$z=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Wz(n,i){n&1&&lt(0,"span",21)}function qz(n,i){if(n&1&&(Ae(0,"label",20),Lt(1,1),dt(2,Wz,1,0,"span",21),ke()),n&2){let r=Ke(2);Ue("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),At("for",r._control.disableAutomaticLabeling?null:r._control.id),Le(2),Gt(!r.hideRequiredMarker&&r._control.required?2:-1)}}function Yz(n,i){if(n&1&&dt(0,qz,3,5,"label",20),n&2){let r=Ke();Gt(r._hasFloatingLabel()?0:-1)}}function Xz(n,i){n&1&&lt(0,"div",7)}function Qz(n,i){}function Zz(n,i){if(n&1&&dt(0,Qz,0,0,"ng-template",13),n&2){Ke(2);let r=yn(1);Ue("ngTemplateOutlet",r)}}function Kz(n,i){if(n&1&&(Ae(0,"div",9),dt(1,Zz,1,1,null,13),ke()),n&2){let r=Ke();Ue("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),Le(),Gt(r._forceDisplayInfixLabel()?-1:1)}}function Jz(n,i){n&1&&(Ae(0,"div",10,2),Lt(2,2),ke())}function e6(n,i){n&1&&(Ae(0,"div",11,3),Lt(2,3),ke())}function t6(n,i){}function r6(n,i){if(n&1&&dt(0,t6,0,0,"ng-template",13),n&2){Ke();let r=yn(1);Ue("ngTemplateOutlet",r)}}function n6(n,i){n&1&&(Ae(0,"div",14,4),Lt(2,4),ke())}function i6(n,i){n&1&&(Ae(0,"div",15,5),Lt(2,5),ke())}function o6(n,i){n&1&&lt(0,"div",16)}function s6(n,i){if(n&1&&(Ae(0,"div",18),Lt(1,6),ke()),n&2){let r=Ke();Ue("@transitionMessages",r._subscriptAnimationState)}}function a6(n,i){if(n&1&&(Ae(0,"mat-hint",22),et(1),ke()),n&2){let r=Ke(2);Ue("id",r._hintLabelId),Le(),Zr(r.hintLabel)}}function l6(n,i){if(n&1&&(Ae(0,"div",19),dt(1,a6,2,2,"mat-hint",22),Lt(2,7),lt(3,"div",23),Lt(4,8),ke()),n&2){let r=Ke();Ue("@transitionMessages",r._subscriptAnimationState),Le(),Gt(r.hintLabel?1:-1)}}var gg=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})(),c6=0,qk=new ze("MatError"),Yk=(()=>{class n{constructor(r,t){this.id=`mat-mdc-error-${c6++}`,r||t.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(t){return new(t||n)(Vs("aria-live"),ge(bt))}}static{this.\u0275dir=xt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,o){t&2&&to("id",o.id)},inputs:{id:"id"},standalone:!0,features:[Or([{provide:qk,useExisting:n}])]})}}return n})(),u6=0,yg=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${u6++}`}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,o){t&2&&(to("id",o.id),At("align",null),Yt("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})(),d6=new ze("MatPrefix");var h6=new ze("MatSuffix");var Xk=new ze("FloatingLabelParent"),Vk=(()=>{class n{get floating(){return this._floating}set floating(r){this._floating=r,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(r){this._monitorResize=r,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(r){this._elementRef=r,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Be(Bk),this._ngZone=Be(ot),this._parent=Be(Xk),this._resizeSubscription=new Jt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return f6(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(t){return new(t||n)(ge(bt))}}static{this.\u0275dir=xt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,o){t&2&&Yt("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();function f6(n){let i=n;if(i.offsetParent!==null)return i.scrollWidth;let r=i.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let t=r.scrollWidth;return r.remove(),t}var Uk="mdc-line-ripple--active",mg="mdc-line-ripple--deactivating",zk=(()=>{class n{constructor(r,t){this._elementRef=r,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(mg);o.propertyName==="opacity"&&a&&s.remove(Uk,mg)},t.runOutsideAngular(()=>{r.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let r=this._elementRef.nativeElement.classList;r.remove(mg),r.add(Uk)}deactivate(){this._elementRef.nativeElement.classList.add(mg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(ot))}}static{this.\u0275dir=xt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),Hk=(()=>{class n{constructor(r,t){this._elementRef=r,this._ngZone=t,this.open=!1}ngAfterViewInit(){let r=this._elementRef.nativeElement.querySelector(".mdc-floating-label");r?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(r){!this.open||!r?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${r}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(ot))}}static{this.\u0275cmp=ut({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(t,o){if(t&1&&hr(Fz,5),t&2){let s;Et(s=It())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,o){t&2&&Yt("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ot],attrs:Nz,ngContentSelectors:Lz,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(t,o){t&1&&(xr(),lt(0,"div",1),Ae(1,"div",2,0),Lt(3),ke(),lt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),p6={transitionMessages:Si("transitionMessages",[ci("enter",Lr({opacity:1,transform:"translateY(0%)"})),Rn("void => enter",[Lr({opacity:0,transform:"translateY(-5px)"}),On("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Rw=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n})}}return n})();var Pw=new ze("MatFormField"),m6=new ze("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Gk=0,$k="fill",g6="auto",Wk="fixed",y6="translateY(-50%)",Qk=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=Gn(r)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||g6}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(r){let t=this._appearance,o=r||this._defaults?.appearance||$k;this._appearance=o,this._appearance==="outline"&&this._appearance!==t&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Wk}set subscriptSizing(r){this._subscriptSizing=r||this._defaults?.subscriptSizing||Wk}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(r){this._explicitFormFieldControl=r}constructor(r,t,o,s,a,c,l,u){this._elementRef=r,this._changeDetectorRef=t,this._dir=s,this._platform=a,this._defaults=c,this._animationMode=l,this._labelChild=LE(gg),this._hideRequiredMarker=!1,this.color="primary",this._appearance=$k,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Gk++}`,this._hintLabelId=`mat-mdc-hint-${Gk++}`,this._subscriptAnimationState="",this._destroyed=new Je,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Be(cr),this.getLabelId=ro(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=ro(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(r){let t=this._control,o="mat-mdc-form-field-type-";r&&this._elementRef.nativeElement.classList.remove(o+r.controlType),t.controlType&&this._elementRef.nativeElement.classList.add(o+t.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),t.ngControl&&t.ngControl.valueChanges&&(this._valueChanges=t.ngControl.valueChanges.pipe(Ut(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(r=>!r._isText),this._hasTextPrefix=!!this._prefixChildren.find(r=>r._isText),this._hasIconSuffix=!!this._suffixChildren.find(r=>!r._isText),this._hasTextSuffix=!!this._suffixChildren.find(r=>r._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Bn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Su(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ut(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(r){let t=this._control?this._control.ngControl:null;return t&&t[r]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&r.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let t=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;t?r.push(t.id):this._hintLabel&&r.push(this._hintLabelId),o&&r.push(o.id)}else this._errorChildren&&r.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(r)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let r=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){r.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let t=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,c=t?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,u=s?.getBoundingClientRect().width??0,y=a?.getBoundingClientRect().width??0,b=this._dir.value==="rtl"?"-1":"1",d=`${c+l}px`,h=`calc(${b} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;r.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${y6} translateX(${h})
    )`;let m=c+l+u+y;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${m}px)`)}_isAttachedToDom(){let r=this._elementRef.nativeElement;if(r.getRootNode){let t=r.getRootNode();return t&&t!==r}return document.documentElement.contains(r)}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(br),ge(ot),ge(di),ge(or),ge(m6,8),ge(gn,8),ge(Dt))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,o,s){if(t&1&&(ZE(s,o._labelChild,gg,5),vr(s,Rw,5),vr(s,d6,5),vr(s,h6,5),vr(s,qk,5),vr(s,yg,5)),t&2){KE();let a;Et(a=It())&&(o._formFieldControl=a.first),Et(a=It())&&(o._prefixChildren=a),Et(a=It())&&(o._suffixChildren=a),Et(a=It())&&(o._errorChildren=a),Et(a=It())&&(o._hintChildren=a)}},viewQuery:function(t,o){if(t&1&&(hr(Bz,5),hr(Vz,5),hr(Uz,5),hr(zz,5),hr(Hz,5),hr(Vk,5),hr(Hk,5),hr(zk,5)),t&2){let s;Et(s=It())&&(o._textField=s.first),Et(s=It())&&(o._iconPrefixContainer=s.first),Et(s=It())&&(o._textPrefixContainer=s.first),Et(s=It())&&(o._iconSuffixContainer=s.first),Et(s=It())&&(o._textSuffixContainer=s.first),Et(s=It())&&(o._floatingLabel=s.first),Et(s=It())&&(o._notchedOutline=s.first),Et(s=It())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,o){t&2&&Yt("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Or([{provide:Pw,useExisting:n},{provide:Xk,useExisting:n}]),Ot],ngContentSelectors:$z,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(t,o){if(t&1){let s=Ar();xr(Gz),dt(0,Yz,1,1,"ng-template",null,0,Li),Ae(2,"div",6,1),Ft("click",function(c){return mr(s),gr(o._control.onContainerClick(c))}),dt(4,Xz,1,0,"div",7),Ae(5,"div",8),dt(6,Kz,2,2,"div",9)(7,Jz,3,0,"div",10)(8,e6,3,0,"div",11),Ae(9,"div",12),dt(10,r6,1,1,null,13),Lt(11),ke(),dt(12,n6,3,0,"div",14)(13,i6,3,0,"div",15),ke(),dt(14,o6,1,0,"div",16),ke(),Ae(15,"div",17),dt(16,s6,2,1,"div",18)(17,l6,5,2,"div",19),ke()}if(t&2){let s;Le(2),Yt("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),Le(2),Gt(!o._hasOutline()&&!o._control.disabled?4:-1),Le(2),Gt(o._hasOutline()?6:-1),Le(),Gt(o._hasIconPrefix?7:-1),Le(),Gt(o._hasTextPrefix?8:-1),Le(2),Gt(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),Le(2),Gt(o._hasTextSuffix?12:-1),Le(),Gt(o._hasIconSuffix?13:-1),Le(),Gt(o._hasOutline()?-1:14),Le(),Yt("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),Le(),Gt((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[Vk,Hk,jo,zk,yg],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[p6.transitionMessages]},changeDetection:0})}}return n})(),$d=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,$r,xc,Xt]})}}return n})();var Zk=Bo({passive:!0}),Kk=(()=>{class n{constructor(r,t){this._platform=r,this._ngZone=t,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return nn;let t=ui(r),o=this._monitoredElements.get(t);if(o)return o.subject;let s=new Je,a="cdk-text-field-autofilled",c=l=>{l.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(a)?(t.classList.add(a),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(a)&&(t.classList.remove(a),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",c,Zk),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:s,unlisten:()=>{t.removeEventListener("animationstart",c,Zk)}}),s}stopMonitoring(r){let t=ui(r),o=this._monitoredElements.get(t);o&&(o.unlisten(),o.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((r,t)=>this.stopMonitoring(t))}static{this.\u0275fac=function(t){return new(t||n)(je(or),je(ot))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jk=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({})}}return n})();var _6=new ze("MAT_INPUT_VALUE_ACCESSOR"),w6=["button","checkbox","file","hidden","image","radio","range","reset","submit"],x6=0,e2=(()=>{class n{get disabled(){return this._disabled}set disabled(r){this._disabled=Gn(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lo.required)??!1}set required(r){this._required=Gn(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&I_().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(r){this._errorStateTracker.matcher=r}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=Gn(r)}get errorState(){return this._errorStateTracker.errorState}set errorState(r){this._errorStateTracker.errorState=r}constructor(r,t,o,s,a,c,l,u,y,b){this._elementRef=r,this._platform=t,this.ngControl=o,this._autofillMonitor=u,this._ngZone=y,this._formField=b,this._uid=`mat-input-${x6++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Je,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(h=>I_().has(h)),this._iOSKeyupListener=h=>{let m=h.target;!m.value&&m.selectionStart===0&&m.selectionEnd===0&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let d=this._elementRef.nativeElement,f=d.nodeName.toLowerCase();this._inputValueAccessor=l||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&y.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Cd(c,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=f==="select",this._isTextarea=f==="textarea",this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){let r=this._getPlaceholder();if(r!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=r,r?t.setAttribute("placeholder",r):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){w6.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let r=this._elementRef.nativeElement,t=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&t&&t.label)}else return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(or),ge(ul,10),ge(Iw,8),ge(Hd,8),ge(Lm),ge(_6,10),ge(Kk),ge(ot),ge(Pw,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,o){t&1&&Ft("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),t&2&&(to("id",o.id)("disabled",o.disabled)("required",o.required),At("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Yt("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Or([{provide:Rw,useExisting:n}]),Wr]})}}return n})(),t2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,$d,$d,Jk,Xt]})}}return n})();function C6(n,i){if(n&1&&(Ae(0,"mat-error"),et(1),ke()),n&2){let r=Ke();Le(),Zr(r.getNameError())}}function E6(n,i){if(n&1&&(Ae(0,"mat-error"),et(1),ke()),n&2){let r=Ke();Le(),Zr(r.getEmailError())}}function I6(n,i){if(n&1&&(Ae(0,"mat-error"),et(1),ke()),n&2){let r=Ke();Le(),Zr(r.getMessageError())}}var r2=(()=>{class n{constructor(r,t,o,s){this.httpClient=r,this.formBuilder=t,this.responsiveService=o,this.snackBar=s,this.EMPTYSTRING="",this.name=new vs(this.EMPTYSTRING,[lo.required]),this.email=new vs(this.EMPTYSTRING,[lo.required,lo.email]),this.message=new vs(this.EMPTYSTRING,[lo.required,lo.maxLength(500)]),this.honeypot=new vs(this.EMPTYSTRING),this.submitted=!1,this.isLoading=!1,this.horizontalView=!0,this.form=this.formBuilder.group({name:this.name,email:this.email,message:this.message,honeypot:this.honeypot}),this.responsiveService.displayMobileLayout.subscribe(a=>this.horizontalView=a)}onSubmit(){if(this.checkFormValidity()){this.form.disable();let r={name:this.form.get("name")?.value,email:this.form.get("email")?.value,message:this.form.get("message")?.value};this.isLoading=!0,this.httpClient.post(el.backendUrl+"contact",r).subscribe(t=>{this.form.enable(),this.form.reset(),this.openSnackBar(t.message),this.submitted=!0,this.isLoading=!1},t=>{console.error("error ",t),this.form.enable(),this.openSnackBar(t.message),this.submitted=!0,this.isLoading=!1})}}openSnackBar(r){let t={duration:3e3};this.snackBar.open(r,"Ok!",t)}checkFormValidity(){return this.form.valid&&this.honeypot.value===this.EMPTYSTRING}getNameError(){return this.name.hasError("required")&&"You must enter a value"}getEmailError(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")&&"Not a valid email"}getMessageError(){return this.message.hasError("required")&&"You must enter a value"}static{this.\u0275fac=function(t){return new(t||n)(ge(Au),ge(Ik),ge(aa),ge(Aw))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-contact"]],decls:36,vars:12,consts:[[1,"container","margin-top"],[1,"padding-sides"],["href","https://www.instagram.com/juanmamorenosanchez/","target","_blank"],["method","post",3,"ngSubmit","formGroup"],["cols","2","rowHeight","10vh"],[3,"colspan"],[1,"fit-width","padding-sides"],["matInput","","required","",3,"formControl"],["matInput","","placeholder","email@example.com","required","",3,"formControl"],["colspan","2"],["matInput","","maxlength","256","placeholder","I'm interested in...","required","",3,"formControl"],["mat-raised-button","","color","primary","type","submit",1,"margin-top",3,"disabled"],["type","text",1,"hidden",3,"formControl"]],template:function(t,o){t&1&&(Ae(0,"div",0)(1,"div",1)(2,"h2"),et(3,"Contact"),ke(),Ae(4,"h3"),et(5,"Please contact me using the form bellow. I will get back to you soon. You can also follow me on "),Ae(6,"a",2),et(7,"Instagram"),ke(),et(8," to stay on the loop."),ke()(),Ae(9,"form",3),Ft("ngSubmit",function(){return o.onSubmit()}),Ae(10,"mat-grid-list",4)(11,"mat-grid-tile",5)(12,"mat-form-field",6)(13,"mat-label"),et(14,"Name"),ke(),lt(15,"input",7),dt(16,C6,2,1,"mat-error"),ke()(),Ae(17,"mat-grid-tile",5)(18,"mat-form-field",6)(19,"mat-label"),et(20,"Email"),ke(),lt(21,"input",8),dt(22,E6,2,1,"mat-error"),ke()(),Ae(23,"mat-grid-tile",9)(24,"mat-form-field",6)(25,"mat-label"),et(26,"Message"),ke(),lt(27,"textarea",10),Ae(28,"mat-hint"),et(29),ke(),dt(30,I6,2,1,"mat-error"),ke()(),Ae(31,"mat-grid-tile",9)(32,"div",1)(33,"button",11),et(34,"Submit"),ke()()()(),lt(35,"input",12),ke()()),t&2&&(Le(9),Ue("formGroup",o.form),Le(2),Ue("colspan",o.horizontalView?1:2),Le(4),Ue("formControl",o.name),Le(),Gt(o.name.invalid?16:-1),Le(),Ue("colspan",o.horizontalView?1:2),Le(4),Ue("formControl",o.email),Le(),Gt(o.email.invalid?22:-1),Le(5),Ue("formControl",o.message),Le(2),Hn("",o.message.value.length,"/256"),Le(),Gt(o.message.invalid?30:-1),Le(3),Ue("disabled",o.isLoading),Le(2),Ue("formControl",o.honeypot))},dependencies:[xk,hg,mk,gk,Mw,Tw,Rc,Qk,gg,yg,Yk,ua,gs,e2,Dw,Hd],styles:[".hidden[_ngcontent-%COMP%]{display:none}"]})}}return n})();var $t=function(n){return n.ONLINE="Online",n.SPAIN="Spain",n.USA="USA",n.GERMANY="Germany",n.MEXICO="Mexico",n.ITALY="Italy",n}($t||{});var n2=[{title:"Solo shows",items:[{title:"El valle inquietante",venue:"<a href='https://galeriazunino.com/exposiciones/el-valle-inquietante/' target='_blank'>Zunino gallery</a>",city:"Sevilla",country:$t.SPAIN,year:2024},{title:"El sue\xF1o de los robots",venue:"<a href='https://www.galeriazunino.com/index.php/2021/02/25/el-sueno-de-los-robots/' target='_blank'>Zunino gallery &amp; Red Collectors</a>",city:"Sevilla",country:$t.SPAIN,year:2021},{title:"33. El desenga\xF1o",venue:"La 13 dada trouch Gallery",city:"Huelva",country:$t.SPAIN,year:2019},{title:"#blessed",venue:"Un gato en bicicleta",city:"Sevilla",country:$t.SPAIN,year:2017},{title:"I was there",venue:"La silla el\xE9ctrica",city:"Sevilla",country:$t.SPAIN,year:2017},{title:"Never Gone Forever",venue:"Gallo Rojo",city:"Sevilla",country:$t.SPAIN,year:2016},{title:"Pintura Aumentada",venue:"Red House",city:"Sevilla",country:$t.SPAIN,year:2014},{title:"Historias aparentemente inconexas",venue:"Aula Magna de Capuchinos",city:"Alcal\xE1 la Real",country:$t.SPAIN,year:2013},{title:"Juanma Moreno",venue:"No-Lugar",city:"Sevilla",country:$t.SPAIN,year:2012},{title:"Transe\xFAntes",venue:"Harz Mensa",city:"Halle Saale",country:$t.GERMANY,year:2008}]},{title:"Collective exhibitions (selection)",items:[{title:"Outsiders. Vol. 1",venue:"<a href='https://www.galeriazunino.com/' target='_blank'>Zunino gallery</a>",city:"Sevilla",country:$t.SPAIN,year:2024},{title:"Realidad y artificio, Anna Jonsson & Juanma Moreno",venue:"El Estudio de Ignacio del R\xEDo",city:"Villanueva del Rosario",country:$t.SPAIN,year:2024},{title:"Pintores pensando la pintura",venue:"<a href='https://www.espacio75.com/' target='_blank'>Espacio 75 Art Gallery</a>",city:"Madrid",country:$t.SPAIN,year:2023},{title:"Nocturnos",venue:"Sala Pescader\xEDa Vieja / CAC V\xE9lez-M\xE1laga",city:"Jerez de la Frontera / V\xE9lez-M\xE1laga",country:$t.SPAIN,year:2023},{title:"Los \xFAnicos que saben de arte son los artistas",venue:"<a href='https://www.galeriazunino.com/index.php/2021/02/25/el-sueno-de-los-robots/' target='_blank'>Zunino gallery</a>",city:"Sevilla",country:$t.SPAIN,year:2023},{title:"Zunino Gallery at <a href='https://discoveryartfair.com/fairs/koeln/' target='_blank'> Discovery Art Fair Cologne</a>",city:"Cologne",country:$t.GERMANY,year:2022},{title:"Zunino Gallery at <a href='https://www.luccaartfair.com/' target='_blank'> Lucca Art Fair</a>",country:$t.ONLINE,year:2021},{title:"Figuraci\xF3n Fant\xE1stica Sevillana",venue:"<a href='https://impulsogaleria.com/en/home/' target='_blank'>Galer\xEDa Impulso</a>",city:"Quer\xE9taro",country:$t.MEXICO,year:2021},{title:"Interpaisajes",venue:"<a href='https://www.eldevenirartgallery.com/'>Eldevenir</a> &amp; <a href='https://www.galeriazunino.com'>Zunino Gallery</a>",country:$t.ONLINE,year:2020},{title:"72 horas",venue:"<a href='https://www.galeriazunino.com'>Zunino Gallery</a>",city:"Sevilla",country:$t.SPAIN,year:2019},{title:"Homenaje a Dolores Montijano",venue:"Aula Magna de Capuchinos",city:"Alcal\xE1 la Real",country:$t.SPAIN,year:2019},{title:"Redes de fe",venue:"<a href='https://renace.art/' target='_blank'>Galer\xEDa Renace Art</a>",city:"Jaen",country:$t.SPAIN,year:2019},{title:"Todo encaja",venue:"<a href='https://www.galeriazunino.com'>Zunino Gallery</a>",city:"Sevilla",country:$t.SPAIN,year:2018},{title:"Lodo",venue:"Un gato en bicicleta",city:"Sevilla",country:$t.SPAIN,year:2017},{title:"Escozor",venue:"Un gato en bicicleta",city:"Sevilla",country:$t.SPAIN,year:2015},{title:"A paloma muerta",venue:"<a href='http://estudio22photo.es' target='blank'>Estudio22 </a>",city:"Logro\xF1o",country:$t.SPAIN,year:2015},{title:"Nemoart festival, digital art",venue:"Casa Museo Niceto Alcal\xE1 Zamora",city:"Priego de C\xF3rdoba",country:$t.SPAIN,year:2015},{title:"Promoci\xF3n equis",venue:"Cienfuegos",city:"M\xE1laga",country:$t.SPAIN,year:2015},{title:"En az\xFAcar de sand\xEDa",venue:"Suricatta Gallery",city:"Jerez de la Frontera",country:$t.SPAIN,year:2015},{title:"El tama\xF1o no importa",venue:"Un gato en bicicleta",city:"Sevilla",country:$t.SPAIN,year:2014},{title:"MULTI/TUTTI/FEST",venue:"Cienfuegos",city:"M\xE1laga",country:$t.SPAIN,year:2014},{title:"Plato del d\xEDa",venue:"Red House",city:"Sevilla",country:$t.SPAIN,year:2013},{title:"Lo mejorcito de cada casa",venue:"No-Lugar",city:"Sevilla",country:$t.SPAIN,year:2013},{title:"Carmen del Campo Gallery at Room Art Fair #2",venue:"Praktik Metropol",city:"Madrid",country:$t.SPAIN,year:2012},{title:"Weisser TV",venue:"<a href='https://www.129gallery.com/' target='blank'>129 Gallery</a>",city:"Berlin",country:$t.GERMANY,year:2011},{title:"Mehr Licht, tributo a Chema Alvargonzalez",venue:"<a href='https://glogauair.net/' target='blank'>GlogauAIR Project Space</a>",city:"Berlin",country:$t.GERMANY,year:2011},{title:"Modern Classic, influence of the past in today's art",venue:"Your Mum",city:"Berlin",country:$t.GERMANY,year:2011},{title:"The Mac Gyver Problem",venue:"Galerie im Regierungsviertel/The Forgotten Bar",city:"Berlin",country:$t.GERMANY,year:2010},{title:"XXL-Art, nuevas tendencias de la figuraci\xF3n en gran formato",venue:"Dami\xE1n Bay\xF3n Art Center",city:"Santa Fe",country:$t.SPAIN,year:2009},{title:"La m\xE1s elegante del invernadero III",venue:"Galer\xEDa Jes\xFAs Puerto",city:"Granada",country:$t.SPAIN,year:2009},{title:"Becas Lefranc&amp;Bourgueois de creaci\xF3n art\xEDstica",venue:"Corrala de Santiago",city:"Granada",country:$t.SPAIN,year:2006}]},{title:"Artistic awards and residencies (selection)",items:[{title:"<a href='http://www.pkf.org/' target='blank'>The Pollock-Krasner Foundation award</a>",city:"New York",country:$t.USA,year:2014},{title:"<a href='http://www.fundacionantoniogala.org/' target='blank'>Antonio Gala Foundation Residence Program</a>",city:"C\xF3rdoba",country:$t.SPAIN,year:2012},{title:"<a href='http://www.glogauair.net/' target='blank'>GlogauAIR Residence Program</a>",city:"Berl\xEDn",country:$t.GERMANY,year:2010},{title:"Lefranc&amp;Bourgueois art award",country:$t.SPAIN,year:2006}]},{title:"Education",items:[{title:"Bachelor on arts degree",venue:"<a href='http://bellasartes.ugr.es/' target='blank'>University of Granada",city:"Granada",country:$t.SPAIN,year:2009},{title:"LLP Erasmus Scholarship",venue:"<a href='http://www.burg-halle.de/' target='blank'>Burg Giebichenstein, Hochschule f\xFCr Kunst und Design</a>",city:"Halle Saale",country:$t.GERMANY,year:2008}]}];function D6(n,i){if(n&1&&(Ae(0,"mat-grid-tile",8)(1,"h3"),et(2),ke()()),n&2){let r=Ke().$implicit,t=Ke().$implicit,o=Ke();Ue("colspan",o.yearColSpan)("rowspan",o.numberOfItemsInYear(t.items,r)),Le(2),Zr(r.year)}}function M6(n,i){if(n&1&&lt(0,"span",9),n&2){let r=Ke().$implicit;Ue("innerHTML",r.venue+",",Pi)}}function T6(n,i){if(n&1&&(Ae(0,"span"),et(1),ke()),n&2){let r=Ke().$implicit;Le(),Hn(" ",r.city,", ")}}function k6(n,i){if(n&1&&(Ae(0,"span"),et(1),ke()),n&2){let r=Ke().$implicit;Le(),Hn("(",r.country,")")}}function j6(n,i){if(n&1&&(Ae(0,"div"),dt(1,D6,3,3,"mat-grid-tile",8),Ae(2,"mat-grid-tile",6)(3,"p")(4,"i")(5,"strong"),lt(6,"span",9),ke()(),et(7,", "),Ae(8,"small"),dt(9,M6,1,1,"span",9)(10,T6,2,1,"span")(11,k6,2,1,"span"),ke()()()()),n&2){let r=i.$implicit,t=Ke().$implicit,o=Ke();Le(),Gt(o.displayYearLabel(t.items,r)?1:-1),Le(),Ue("colspan",o.descColSpan),Le(4),Ue("innerHTML",r.title,Pi),Le(3),Gt(r.venue?9:-1),Le(),Gt(r.city?10:-1),Le(),Gt(r.country?11:-1)}}function A6(n,i){if(n&1&&(lt(0,"mat-divider"),Ae(1,"mat-grid-list",5),lt(2,"mat-grid-tile",3),Ae(3,"mat-grid-tile",6)(4,"h2"),et(5),ke()()(),Ae(6,"mat-grid-list",7),Fi(7,j6,12,6,"div",null,Do),ke()),n&2){let r=i.$implicit,t=Ke();Le(),Ue("cols",t.totalCols),Le(),Ue("colspan",t.yearColSpan),Le(),Ue("colspan",t.descColSpan),Le(2),Zr(r.title),Le(),Ue("cols",t.totalCols),Le(),Ni(r.items)}}var i2=(()=>{class n{constructor(r){this.breakpointObserver=r,this.totalCols=14,this.smallScreenYearColSpan=2,this.bigScreenYearColSpan=1,this.cvTimeline=n2,this.yearColSpan=this.bigScreenYearColSpan,this.descColSpan=this.totalCols-this.yearColSpan,this.isSmallScreen=!1,this.listenToScreenSize()}numberOfItemsInYear(r,t){return r.filter(o=>o.year===t.year).length}displayYearLabel(r,t){return r.filter(s=>s.year===t.year)[0].title===t.title}listenToScreenSize(){this.breakpointObserver.observe([nl.HandsetLandscape,nl.HandsetPortrait]).subscribe(r=>{r.breakpoints["(max-width: 599.98px) and (orientation: portrait)"]?this.isSmallScreen=!0:this.isSmallScreen=!1,this.yearColSpan=this.isSmallScreen?this.smallScreenYearColSpan:this.bigScreenYearColSpan,this.descColSpan=this.totalCols-this.yearColSpan})}static{this.\u0275fac=function(t){return new(t||n)(ge(sa))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-cv"]],decls:16,vars:5,consts:[[1,"container","margin-top"],["rowHeight","2.8rem",3,"cols"],["rowspan","3",3,"colspan"],[3,"colspan"],["href","https://galeriazunino.com/","target","_blank"],["rowHeight","4rem","role","list",3,"cols"],["role","listitem",3,"colspan"],["rowHeight","2.8rem","role","list",3,"cols"],[3,"colspan","rowspan"],[3,"innerHTML"]],template:function(t,o){t&1&&(Ae(0,"div",0)(1,"mat-grid-list",1),lt(2,"mat-grid-tile",2),Ae(3,"mat-grid-tile",3)(4,"h2"),et(5,"Juanma Moreno S\xE1nchez"),ke()(),Ae(6,"mat-grid-tile",3)(7,"h3"),et(8,"Alcal\xE1 la Real (Ja\xE9n, Spain), 1986. Based in Madrid (Spain)"),ke()(),Ae(9,"mat-grid-tile",3)(10,"h4"),et(11,"Currently represented by "),Ae(12,"a",4),et(13,"Zunino Gallery"),ke()()()(),Fi(14,A6,9,5,null,null,Do),ke()),t&2&&(Le(),Ue("cols",o.totalCols),Le(),Ue("colspan",o.yearColSpan),Le(),Ue("colspan",o.descColSpan),Le(3),Ue("colspan",o.descColSpan),Le(3),Ue("colspan",o.descColSpan),Le(5),Ni(o.cvTimeline))},dependencies:[Vm,ua,gs]})}}return n})();var Fw=n=>{let i=Math.PI*2,r=.005,t=0,o,s,a,c,l,u,y,b,d;n.preload=()=>{let m="assets/images/canvases/";l=n.loadImage(`${m}pryer1.png`),u=n.loadImage(`${m}pryer2.png`),y=n.loadImage(`${m}pryer3.png`),b=n.loadImage(`${m}pryer4.png`),d=n.loadImage(`${m}cabeza.png`)},n.setup=()=>{o=document.getElementById(Wd).offsetWidth,s=n.windowHeight/10*9.1,n.createCanvas(o,s).parent(Wd),n.background(255),f()},n.draw=()=>{let m=n.map(n.mouseX,0,o,10,300),g=n.map(n.mouseY,0,s,10,300);n.image(d,o/2-d.width/2,s/2-d.height/2,d.width,d.height),n.push(),n.translate(o/2,s/2),n.rotate(t);for(let p=0;p<c;p++){n.push(),n.rotate(p*i/c),n.translate(0,m*1.5);for(let v=0;v<c;v++){n.push(),n.rotate(v*i/c),n.translate(0,g),n.image(h(),0,0,60,90);for(let _=0;_<c;_++)n.push(),n.rotate(_*i/c),n.translate(0,g),n.image(h(),0,0,60,90),n.pop();n.pop()}n.pop()}n.pop(),t+=r},n.mouseClicked=()=>{f()};let f=()=>{a=Number(Math.floor(Math.random()*4)+1),c=Number(Math.floor(Math.random()*6)+3)},h=()=>a==1?l:a==2?u:a==3?y:b};var Wd="believe",vg=[{id:Wd,label:"Believe",script:Fw}];var a2=hj(s2());var O6=["container"],l2=(()=>{class n{constructor(){this.onWindowResize=r=>{this.p5?.resizeCanvas(this.div.nativeElement.offsetWidth,this.div.nativeElement.offsetHeight)},this.createCanvas=()=>{this.p5=new a2.default(this.logic)},this.destroyCanvas=()=>{this.p5?.noCanvas()},window.onresize=this.onWindowResize}ngOnInit(){this.createCanvas()}ngOnDestroy(){this.destroyCanvas()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["app-canvas-container"]],viewQuery:function(t,o){if(t&1&&hr(O6,5),t&2){let s;Et(s=It())&&(o.div=s.first)}},inputs:{identifier:"identifier",logic:"logic"},decls:2,vars:1,consts:[["container",""],[3,"id"]],template:function(t,o){t&1&&lt(0,"div",1,0),t&2&&Ue("id",o.identifier)}})}}return n})();var c2=(()=>{class n{constructor(r){this.activatedroute=r,this.id=this.activatedroute.snapshot.params.id,this.logic=vg.find(t=>this.id===t.id).script}get foundCanvas(){return!!this.id&&!!this.logic}static{this.\u0275fac=function(t){return new(t||n)(ge(ei))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-generative-piece"]],decls:1,vars:2,consts:[[3,"identifier","logic"]],template:function(t,o){t&1&&lt(0,"app-canvas-container",0),t&2&&Ue("identifier",o.id)("logic",o.logic)},dependencies:[l2]})}}return n})();var P6=[{path:"",pathMatch:"full",component:Ic,data:{breadcrumb:"Paintings"}},{path:"artworks",component:Ic,data:{breadcrumb:"Paintings"},children:[{path:":year",component:Ic,data:{breadcrumb:""}}]},{path:"artwork/:id",component:XT},{path:"generative/:id",component:c2},{path:"cv",component:i2},{path:"about",component:FM},{path:"contact",component:r2}],u2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[md.forRoot(P6),md]})}}return n})();var F6=["*"],bg;function N6(){if(bg===void 0&&(bg=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(bg=n.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return bg}function qd(n){return N6()?.createHTML(n)||n}function d2(n){return Error(`Unable to find icon with the name "${n}"`)}function L6(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function h2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function f2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var bs=class{constructor(i,r,t){this.url=i,this.svgText=r,this.options=t}},B6=(()=>{class n{constructor(r,t,o,s){this._httpClient=r,this._sanitizer=t,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(r,t,o){return this.addSvgIconInNamespace("",r,t,o)}addSvgIconLiteral(r,t,o){return this.addSvgIconLiteralInNamespace("",r,t,o)}addSvgIconInNamespace(r,t,o,s){return this._addSvgIconConfig(r,t,new bs(o,null,s))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,t,o,s){let a=this._sanitizer.sanitize(An.HTML,o);if(!a)throw f2(o);let c=qd(a);return this._addSvgIconConfig(r,t,new bs("",c,s))}addSvgIconSet(r,t){return this.addSvgIconSetInNamespace("",r,t)}addSvgIconSetLiteral(r,t){return this.addSvgIconSetLiteralInNamespace("",r,t)}addSvgIconSetInNamespace(r,t,o){return this._addSvgIconSetConfig(r,new bs(t,null,o))}addSvgIconSetLiteralInNamespace(r,t,o){let s=this._sanitizer.sanitize(An.HTML,t);if(!s)throw f2(t);let a=qd(s);return this._addSvgIconSetConfig(r,new bs("",a,o))}registerFontClassAlias(r,t=r){return this._fontCssClassesByAlias.set(r,t),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(...r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){let t=this._sanitizer.sanitize(An.RESOURCE_URL,r);if(!t)throw h2(r);let o=this._cachedIconsByUrl.get(t);return o?_t(_g(o)):this._loadSvgIconFromConfig(new bs(r,null)).pipe(pr(s=>this._cachedIconsByUrl.set(t,s)),wt(s=>_g(s)))}getNamedSvgIcon(r,t=""){let o=p2(t,r),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(t,r),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(t);return a?this._getSvgFromIconSetConfigs(r,a):Es(d2(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?_t(_g(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(wt(t=>_g(t)))}_getSvgFromIconSetConfigs(r,t){let o=this._extractIconWithNameFromAnySet(r,t);if(o)return _t(o);let s=t.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(yo(c=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(An.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(u)),_t(null)})));return ru(s).pipe(wt(()=>{let a=this._extractIconWithNameFromAnySet(r,t);if(!a)throw d2(r);return a}))}_extractIconWithNameFromAnySet(r,t){for(let o=t.length-1;o>=0;o--){let s=t[o];if(s.svgText&&s.svgText.toString().indexOf(r)>-1){let a=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(a,r,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(pr(t=>r.svgText=t),wt(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?_t(null):this._fetchIcon(r).pipe(pr(t=>r.svgText=t))}_extractSvgIconFromSet(r,t,o){let s=r.querySelector(`[id="${t}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let c=this._svgElementFromString(qd("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,o)}_svgElementFromString(r){let t=this._document.createElement("DIV");t.innerHTML=r;let o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(r){let t=this._svgElementFromString(qd("<svg></svg>")),o=r.attributes;for(let s=0;s<o.length;s++){let{name:a,value:c}=o[s];a!=="id"&&t.setAttribute(a,c)}for(let s=0;s<r.childNodes.length;s++)r.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(r.childNodes[s].cloneNode(!0));return t}_setSvgAttributes(r,t){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),t&&t.viewBox&&r.setAttribute("viewBox",t.viewBox),r}_fetchIcon(r){let{url:t,options:o}=r,s=o?.withCredentials??!1;if(!this._httpClient)throw L6();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let a=this._sanitizer.sanitize(An.RESOURCE_URL,t);if(!a)throw h2(t);let c=this._inProgressUrlFetches.get(a);if(c)return c;let l=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(wt(u=>qd(u)),si(()=>this._inProgressUrlFetches.delete(a)),nu());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(r,t,o){return this._svgIconConfigs.set(p2(r,t),o),this}_addSvgIconSetConfig(r,t){let o=this._iconSetConfigs.get(r);return o?o.push(t):this._iconSetConfigs.set(r,[t]),this}_svgElementFromConfig(r){if(!r.svgElement){let t=this._svgElementFromString(r.svgText);this._setSvgAttributes(t,r.options),r.svgElement=t}return r.svgElement}_getIconConfigFromResolvers(r,t){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](t,r);if(s)return V6(s)?new bs(s.url,null,s.options):new bs(s,null)}}static{this.\u0275fac=function(t){return new(t||n)(je(Au,8),je(ls),je(Dt,8),je(Qn))}}static{this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _g(n){return n.cloneNode(!0)}function p2(n,i){return n+":"+i}function V6(n){return!!(n.url&&n.options)}var U6=new ze("MAT_ICON_DEFAULT_OPTIONS"),z6=new ze("mat-icon-location",{providedIn:"root",factory:H6});function H6(){let n=Be(Dt),i=n?n.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var m2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],G6=m2.map(n=>`[${n}]`).join(", "),$6=/^url\(['"]?#(.*?)['"]?\)$/,Nc=(()=>{class n{get color(){return this._color||this._defaultColor}set color(r){this._color=r}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){let t=this._cleanupFontValue(r);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){let t=this._cleanupFontValue(r);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}constructor(r,t,o,s,a,c){this._elementRef=r,this._iconRegistry=t,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Jt.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),o||r.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(r){if(!r)return["",""];let t=r.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let r=this._elementsWithExternalReferences;if(r&&r.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){let r=this._elementRef.nativeElement,t=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let o=r.childNodes[t];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let r=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>r.classList.remove(o)),t.forEach(o=>r.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return typeof r=="string"?r.trim().split(" ")[0]:r}_prependPathToReferences(r){let t=this._elementsWithExternalReferences;t&&t.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${r}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(r){let t=r.querySelectorAll(G6),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<t.length;s++)m2.forEach(a=>{let c=t[s],l=c.getAttribute(a),u=l?l.match($6):null;if(u){let y=o.get(c);y||(y=[],o.set(c,y)),y.push({name:a,value:u[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){let[t,o]=this._splitIconName(r);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe(Mr(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${t}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(B6),Vs("aria-hidden"),ge(z6),ge(Qn),ge(U6,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){t&2&&(At("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),wi(o.color?"mat-"+o.color:""),Yt("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",yr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Qr,Ot],ngContentSelectors:F6,decls:1,vars:0,template:function(t,o){t&1&&(xr(),Lt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),wg=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,Xt]})}}return n})();var W6=["mat-menu-item",""],q6=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Y6=["mat-icon, [matMenuItemIcon]","*"];function X6(n,i){n&1&&($l(),Ae(0,"svg",2),lt(1,"polygon",3),ke())}var Q6=["*"];function Z6(n,i){if(n&1){let r=Ar();Ae(0,"div",0),Ft("keydown",function(o){mr(r);let s=Ke();return gr(s._handleKeydown(o))})("click",function(){mr(r);let o=Ke();return gr(o.closed.emit("click"))})("@transformMenu.start",function(o){mr(r);let s=Ke();return gr(s._onAnimationStart(o))})("@transformMenu.done",function(o){mr(r);let s=Ke();return gr(s._onAnimationDone(o))}),Ae(1,"div",1),Lt(2),ke()()}if(n&2){let r=Ke();wi(r._classList),Ue("id",r.panelId)("@transformMenu",r._panelAnimationState),At("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}var Bw=new ze("MAT_MENU_PANEL"),Yd=(()=>{class n{constructor(r,t,o,s,a){this._elementRef=r,this._document=t,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Je,this._focused=new Je,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(r,t){this._focusMonitor&&r?this._focusMonitor.focusVia(this._getHostElement(),r,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(r){this.disabled&&(r.preventDefault(),r.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let r=this._elementRef.nativeElement.cloneNode(!0),t=r.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<t.length;o++)t[o].remove();return r.textContent?.trim()||""}_setHighlighted(r){this._highlighted=r,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(r){this._triggersSubmenu=r,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(Dt),ge(ms),ge(Bw,8),ge(br))}}static{this.\u0275cmp=ut({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,o){t&1&&Ft("click",function(a){return o._checkDisabled(a)})("mouseenter",function(){return o._handleMouseEnter()}),t&2&&(At("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),Yt("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",yr],disableRipple:[2,"disableRipple","disableRipple",yr]},exportAs:["matMenuItem"],standalone:!0,features:[Qr,Ot],attrs:W6,ngContentSelectors:Y6,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,o){t&1&&(xr(q6),Lt(0),Ae(1,"span",0),Lt(2,1),ke(),lt(3,"div",1),dt(4,X6,2,0,":svg:svg",2)),t&2&&(Le(3),Ue("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),Le(),Gt(o._triggersSubmenu?4:-1))},dependencies:[U_],encapsulation:2,changeDetection:0})}}return n})();var K6=new ze("MatMenuContent");var xg={transformMenu:Si("transformMenu",[ci("void",Lr({opacity:0,transform:"scale(0.8)"})),Rn("void => enter",On("120ms cubic-bezier(0, 0, 0.2, 1)",Lr({opacity:1,transform:"scale(1)"}))),Rn("* => void",On("100ms 25ms linear",Lr({opacity:0})))]),fadeInItems:Si("fadeInItems",[ci("showing",Lr({opacity:1})),Rn("void => *",[Lr({opacity:0}),On("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ehe=xg.fadeInItems,the=xg.transformMenu,J6=0,eH=new ze("mat-menu-default-options",{providedIn:"root",factory:tH});function tH(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Lc=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(r){this._xPosition=r,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(r){this._yPosition=r,this.setPositionClasses()}set panelClass(r){let t=this._previousPanelClass,o=xe({},this._classList);t&&t.length&&t.split(" ").forEach(s=>{o[s]=!1}),this._previousPanelClass=r,r&&r.length&&(r.split(" ").forEach(s=>{o[s]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(r){this.panelClass=r}constructor(r,t,o,s){this._elementRef=r,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Zn,this._classList={},this._panelAnimationState="void",this._animationDone=new Je,this.closed=new Mt,this.close=this.closed,this.panelId=`mat-menu-panel-${J6++}`,this._injector=Be(cr),this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Cc(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(on(this._directDescendantItems),Tr(r=>Bn(...r.map(t=>t._focused)))).subscribe(r=>this._keyManager.updateActiveItem(r)),this._directDescendantItems.changes.subscribe(r=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let o=r.toArray(),s=Math.max(0,Math.min(o.length-1,t.activeItemIndex||0));o[s]&&!o[s].disabled?t.setActiveItem(s):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(on(this._directDescendantItems),Tr(t=>Bn(...t.map(o=>o._hovered))))}addItem(r){}removeItem(r){}_handleKeydown(r){let t=r.keyCode,o=this._keyManager;switch(t){case 27:wc(r)||(r.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(r);return}r.stopPropagation()}focusFirstItem(r="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Kn(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(r).setFirstItemActive(),!o.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(r){if(this._baseElevation===null){let c=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(c)}let t=Math.min(this._baseElevation+r,24),o=`${this._elevationPrefix}${t}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));if(!s||s===this._previousElevation){let a=xe({},this._classList);this._previousElevation&&(a[this._previousElevation]=!1),a[o]=!0,this._previousElevation=o,this._classList=a}}setPositionClasses(r=this.xPosition,t=this.yPosition){this._classList=vt(xe({},this._classList),{"mat-menu-before":r==="before","mat-menu-after":r==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(r){this._animationDone.next(r),this._isAnimating=!1}_onAnimationStart(r){this._isAnimating=!0,r.toState==="enter"&&this._keyManager.activeItemIndex===0&&(r.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(on(this._allItems)).subscribe(r=>{this._directDescendantItems.reset(r.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(ot),ge(eH),ge(br))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-menu"]],contentQueries:function(t,o,s){if(t&1&&(vr(s,K6,5),vr(s,Yd,5),vr(s,Yd,4)),t&2){let a;Et(a=It())&&(o.lazyContent=a.first),Et(a=It())&&(o._allItems=a),Et(a=It())&&(o.items=a)}},viewQuery:function(t,o){if(t&1&&hr(tn,5),t&2){let s;Et(s=It())&&(o.templateRef=s.first)}},hostVars:3,hostBindings:function(t,o){t&2&&At("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",yr],hasBackdrop:[2,"hasBackdrop","hasBackdrop",r=>r==null?null:yr(r)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[Or([{provide:Bw,useExisting:n}]),Qr,Ot],ngContentSelectors:Q6,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(t,o){t&1&&(xr(),dt(0,Z6,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[xg.transformMenu,xg.fadeInItems]},changeDetection:0})}}return n})(),v2=new ze("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=Be(ri);return()=>n.scrollStrategies.reposition()}});function rH(n){return()=>n.scrollStrategies.reposition()}var nH={provide:v2,deps:[ri],useFactory:rH},g2=Bo({passive:!0});var b2=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(r){this.menu=r}get menu(){return this._menu}set menu(r){r!==this._menu&&(this._menu=r,this._menuCloseSubscription.unsubscribe(),r&&(this._parentMaterialMenu,this._menuCloseSubscription=r.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(r,t,o,s,a,c,l,u,y){this._overlay=r,this._element=t,this._viewContainerRef=o,this._menuItemInstance=c,this._dir=l,this._focusMonitor=u,this._ngZone=y,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Jt.EMPTY,this._hoverSubscription=Jt.EMPTY,this._menuCloseSubscription=Jt.EMPTY,this._changeDetectorRef=Be(br),this._handleTouchStart=b=>{Sd(b)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Mt,this.onMenuOpen=this.menuOpened,this.menuClosed=new Mt,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof Lc?a:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,g2)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,g2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let r=this.menu;if(this._menuOpen||!r)return;let t=this._createOverlay(r),o=t.getConfig(),s=o.positionStrategy;this._setPosition(r,s),o.hasBackdrop=r.hasBackdrop==null?!this.triggersSubmenu():r.hasBackdrop,t.attach(this._getPortal(r)),r.lazyContent&&r.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(r),r instanceof Lc&&(r._startAnimation(),r._directDescendantItems.changes.pipe(Ut(r.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(r,t){this._focusMonitor&&r?this._focusMonitor.focusVia(this._element,r,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(r){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(r==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof Lc?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Vt(o=>o.toState==="void"),Mr(1),Ut(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(r){r.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,r.direction=this.dir,this._setMenuElevation(r),r.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(r){if(r.setElevation){let t=0,o=r.parentMenu;for(;o;)t++,o=o.parentMenu;r.setElevation(t)}}_setIsMenuOpen(r){r!==this._menuOpen&&(this._menuOpen=r,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(r),this._changeDetectorRef.markForCheck())}_createOverlay(r){if(!this._overlayRef){let t=this._getOverlayConfig(r);this._subscribeToPositions(r,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(r){return new ll({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:r.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:r.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(r,t){r.setPositionClasses&&t.positionChanges.subscribe(o=>{let s=o.connectionPair.overlayX==="start"?"after":"before",a=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>r.setPositionClasses(s,a)):r.setPositionClasses(s,a)})}_setPosition(r,t){let[o,s]=r.xPosition==="before"?["end","start"]:["start","end"],[a,c]=r.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,u]=[a,c],[y,b]=[o,s],d=0;if(this.triggersSubmenu()){if(b=o=r.xPosition==="before"?"start":"end",s=y=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}d=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else r.overlapTrigger||(l=a==="top"?"bottom":"top",u=c==="top"?"bottom":"top");t.withPositions([{originX:o,originY:l,overlayX:y,overlayY:a,offsetY:d},{originX:s,originY:l,overlayX:b,overlayY:a,offsetY:d},{originX:o,originY:u,overlayX:y,overlayY:c,offsetY:-d},{originX:s,originY:u,overlayX:b,overlayY:c,offsetY:-d}])}_menuClosingActions(){let r=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:_t(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Vt(a=>a!==this._menuItemInstance),Vt(()=>this._menuOpen)):_t();return Bn(r,o,s,t)}_handleMousedown(r){xd(r)||(this._openedBy=r.button===0?"mouse":void 0,this.triggersSubmenu()&&r.preventDefault())}_handleKeydown(r){let t=r.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(r){this.triggersSubmenu()?(r.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Vt(r=>r===this._menuItemInstance&&!r.disabled),qo(0,tu)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Lc&&this.menu._isAnimating?this.menu._animationDone.pipe(Mr(1),qo(0,tu),Ut(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(r){return(!this._portal||this._portal.templateRef!==r.templateRef)&&(this._portal=new pa(r.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||n)(ge(ri),ge(bt),ge(Sn),ge(v2),ge(Bw,8),ge(Yd,10),ge(di,8),ge(ms),ge(ot))}}static{this.\u0275dir=xt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,o){t&1&&Ft("click",function(a){return o._handleClick(a)})("mousedown",function(a){return o._handleMousedown(a)})("keydown",function(a){return o._handleKeydown(a)}),t&2&&At("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return n})(),_2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[nH],imports:[$r,ca,Xt,Tc,ao,Xt]})}}return n})();var w2=["*"],oH=["content"],sH=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],aH=["mat-drawer","mat-drawer-content","*"];function lH(n,i){if(n&1){let r=Ar();Ae(0,"div",1),Ft("click",function(){mr(r);let o=Ke();return gr(o._onBackdropClicked())}),ke()}if(n&2){let r=Ke();Yt("mat-drawer-shown",r._isShowingBackdrop())}}function cH(n,i){n&1&&(Ae(0,"mat-drawer-content"),Lt(1,2),ke())}var uH={transformDrawer:Si("transform",[ci("open, open-instant",Lr({transform:"none",visibility:"visible"})),ci("void",Lr({"box-shadow":"none",visibility:"hidden"})),Rn("void => open-instant",On("0ms")),Rn("void <=> open, open-instant => void",On("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var dH=new ze("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:hH}),x2=new ze("MAT_DRAWER_CONTAINER");function hH(){return!1}var Xd=(()=>{class n extends Km{constructor(r,t,o,s,a){super(o,s,a),this._changeDetectorRef=r,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(t){return new(t||n)(ge(br),ge(gi(()=>Uw)),ge(bt),ge(Od),ge(ot))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,o){t&2&&ns("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[Or([{provide:Km,useExisting:n}]),Ur,Ot],ngContentSelectors:w2,decls:1,vars:0,template:function(t,o){t&1&&(xr(),Lt(0))},encapsulation:2,changeDetection:0})}}return n})(),Vw=(()=>{class n{get position(){return this._position}set position(r){r=r==="end"?"end":"start",r!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=Gn(r)}get autoFocus(){let r=this._autoFocus;return r??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(r){(r==="true"||r==="false"||r==null)&&(r=Gn(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle(Gn(r))}constructor(r,t,o,s,a,c,l,u){this._elementRef=r,this._focusTrapFactory=t,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=c,this._doc=l,this._container=u,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Je,this._animationEnd=new Je,this._animationState="void",this.openedChange=new Mt(!0),this._openedStream=this.openedChange.pipe(Vt(y=>y),wt(()=>{})),this.openedStart=this._animationStarted.pipe(Vt(y=>y.fromState!==y.toState&&y.toState.indexOf("open")===0),Ds(void 0)),this._closedStream=this.openedChange.pipe(Vt(y=>!y),wt(()=>{})),this.closedStart=this._animationStarted.pipe(Vt(y=>y.fromState!==y.toState&&y.toState==="void"),Ds(void 0)),this._destroyed=new Je,this.onPositionChanged=new Mt,this._modeChanged=new Je,this._injector=Be(cr),this._changeDetectorRef=Be(br),this.openedChange.pipe(Ut(this._destroyed)).subscribe(y=>{y?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ii(this._elementRef.nativeElement,"keydown").pipe(Vt(y=>y.keyCode===27&&!this.disableClose&&!wc(y)),Ut(this._destroyed)).subscribe(y=>this._ngZone.run(()=>{this.close(),y.stopPropagation(),y.preventDefault()}))}),this._animationEnd.pipe(mn((y,b)=>y.fromState===b.fromState&&y.toState===b.toState)).subscribe(y=>{let{fromState:b,toState:d}=y;(d.indexOf("open")===0&&b==="void"||d==="void"&&b.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(r,t){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r.removeEventListener("blur",o),r.removeEventListener("mousedown",o),r.removeAttribute("tabindex")};r.addEventListener("blur",o),r.addEventListener("mousedown",o)})),r.focus(t)}_focusByCssSelector(r,t){let o=this._elementRef.nativeElement.querySelector(r);o&&this._forceFocus(o,t)}_takeFocus(){if(!this._focusTrap)return;let r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Kn(()=>{!this._focusTrap.focusInitialElement()&&typeof r.focus=="function"&&r.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(r){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,t){r&&t&&(this._openedVia=t);let o=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),o}_setOpen(r,t,o){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",t&&this._restoreFocus(o)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Mr(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(r){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,o=t.parentNode;r==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,t)),o.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(KM),ge(ms),ge(or),ge(ot),ge(Pm),ge(Dt,8),ge(x2,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,o){if(t&1&&hr(oH,5),t&2){let s;Et(s=It())&&(o._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,o){t&1&&Ba("@transform.start",function(a){return o._animationStarted.next(a)})("@transform.done",function(a){return o._animationEnd.next(a)}),t&2&&(La("@transform",o._animationState),At("align",null),Yt("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Ot],ngContentSelectors:w2,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,o){t&1&&(xr(),Ae(0,"div",1,0),Lt(2),ke())},dependencies:[Km],encapsulation:2,data:{animation:[uH.transformDrawer]},changeDetection:0})}}return n})(),Uw=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=Gn(r)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(r){this._backdropOverride=r==null?null:Gn(r)}get scrollable(){return this._userContent||this._content}constructor(r,t,o,s,a,c=!1,l){this._dir=r,this._element=t,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Zn,this.backdropClick=new Mt,this._destroyed=new Je,this._doCheckSubject=new Je,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Je,this._injector=Be(cr),r&&r.change.pipe(Ut(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Ut(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}ngAfterContentInit(){this._allDrawers.changes.pipe(on(this._allDrawers),Ut(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(on(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(oi(10),Ut(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")r+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();r+=o,t-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();t+=o,r-=o}}r=r||null,t=t||null,(r!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:r,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe(Vt(t=>t.fromState!==t.toState),Ut(this._drawers.changes)).subscribe(t=>{t.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),r.mode!=="side"&&r.openedChange.pipe(Ut(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r&&r.onPositionChanged.pipe(Ut(this._drawers.changes)).subscribe(()=>{Kn(()=>{this._validateDrawers()},{injector:this._injector,phase:ks.Read})})}_watchDrawerMode(r){r&&r._modeChanged.pipe(Ut(Bn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){let t=this._element.nativeElement.classList,o="mat-drawer-container-has-open";r?t.add(o):t.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{r.position=="end"?(this._end!=null,this._end=r):(this._start!=null,this._start=r)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._drawerHasBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(r){return r!=null&&r.opened}_drawerHasBackdrop(r){return this._backdropOverride==null?!!r&&r.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(t){return new(t||n)(ge(di,8),ge(bt),ge(ot),ge(br),ge(Rd),ge(dH),ge(gn,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,o,s){if(t&1&&(vr(s,Xd,5),vr(s,Vw,5)),t&2){let a;Et(a=It())&&(o._content=a.first),Et(a=It())&&(o._allDrawers=a)}},viewQuery:function(t,o){if(t&1&&hr(Xd,5),t&2){let s;Et(s=It())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,o){t&2&&Yt("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Or([{provide:x2,useExisting:n}]),Ot],ngContentSelectors:aH,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,o){t&1&&(xr(sH),dt(0,lH,1,2,"div",0),Lt(1),Lt(2,1),dt(3,cH,2,0,"mat-drawer-content")),t&2&&(Gt(o.hasBackdrop?0:-1),Le(3),Gt(o._content?-1:3))},dependencies:[Xd],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return n})();var S2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,ao,ao,Xt]})}}return n})();var pH=["*",[["mat-toolbar-row"]]],mH=["*","mat-toolbar-row"],zw=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=xt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),C2=(()=>{class n{constructor(r,t,o){this._elementRef=r,this._platform=t,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(or),ge(Dt))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,o,s){if(t&1&&vr(s,zw,5),t&2){let a;Et(a=It())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,o){t&2&&(wi(o.color?"mat-"+o.color:""),Yt("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Ot],ngContentSelectors:mH,decls:2,vars:0,template:function(t,o){t&1&&(xr(pH),Lt(0),Lt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var E2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[Xt,Xt]})}}return n})();var T2=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],k2=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function yH(n,i){n&1&&(Ae(0,"span",3),Lt(1,1),ke())}function vH(n,i){n&1&&(Ae(0,"span",6),Lt(1,2),ke())}function bH(n,i){n&1&&(Ae(0,"span",3),Lt(1,1),Ae(2,"span",8),$l(),Ae(3,"svg",9),lt(4,"path",10),ke()()())}function _H(n,i){n&1&&(Ae(0,"span",6),Lt(1,2),ke())}var wH='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}';var j2=["*"],xH=".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",$w=new ze("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),I2=new ze("MatChipAvatar"),D2=new ze("MatChipTrailingIcon"),M2=new ze("MatChipRemove"),Ww=new ze("MatChip"),Hw=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(r){this._disabled=r}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(r,t){this._elementRef=r,this._parentChip=t,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,r.nativeElement.nodeName==="BUTTON"&&r.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(r){!this.disabled&&this.isInteractive&&this._isPrimary&&(r.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(r){(r.keyCode===13||r.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(r.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(Ww))}}static{this.\u0275dir=xt({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(t,o){t&1&&Ft("click",function(a){return o._handleClick(a)})("keydown",function(a){return o._handleKeydown(a)}),t&2&&(At("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),Yt("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",yr],tabIndex:[2,"tabIndex","tabIndex",r=>r==null?-1:Du(r)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[Qr]})}}return n})();var SH=0,Qd=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(r){this._value=r}get disabled(){return this._disabled||this._chipListDisabled}set disabled(r){this._disabled=r}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(r){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,r)}constructor(r,t,o,s,a,c,l){this._changeDetectorRef=r,this._elementRef=t,this._ngZone=o,this._focusMonitor=s,this._globalRippleOptions=l,this._onFocus=new Je,this._onBlur=new Je,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${SH++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._chipListDisabled=!1,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this._disabled=!1,this.removed=new Mt,this.destroyed=new Mt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=Be(Bm),this._injector=Be(cr),this._document=a,this._animationsDisabled=c==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let r=this._elementRef.nativeElement;this._isBasicChip=r.hasAttribute(this.basicChipAttrName)||r.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Bn(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(r){(r.keyCode===8&&!r.repeat||r.keyCode===46)&&(r.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(r){return this._getActions().find(t=>{let o=t._elementRef.nativeElement;return o===r||o.contains(r)})}_getActions(){let r=[];return this.primaryAction&&r.push(this.primaryAction),this.removeIcon&&r.push(this.removeIcon),this.trailingIcon&&r.push(this.trailingIcon),r}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{let t=r!==null;t!==this._hasFocusInternal&&(this._hasFocusInternal=t,t?this._onFocus.next({chip:this}):Kn(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static{this.\u0275fac=function(t){return new(t||n)(ge(br),ge(bt),ge(ot),ge(ms),ge(Dt),ge(gn,8),ge(Ed,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,o,s){if(t&1&&(vr(s,I2,5),vr(s,D2,5),vr(s,M2,5),vr(s,I2,5),vr(s,D2,5),vr(s,M2,5)),t&2){let a;Et(a=It())&&(o.leadingIcon=a.first),Et(a=It())&&(o.trailingIcon=a.first),Et(a=It())&&(o.removeIcon=a.first),Et(a=It())&&(o._allLeadingIcons=a),Et(a=It())&&(o._allTrailingIcons=a),Et(a=It())&&(o._allRemoveIcons=a)}},viewQuery:function(t,o){if(t&1&&hr(Hw,5),t&2){let s;Et(s=It())&&(o.primaryAction=s.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(t,o){t&1&&Ft("keydown",function(a){return o._handleKeydown(a)}),t&2&&(to("id",o.id),At("role",o.role)("aria-label",o.ariaLabel),wi("mat-"+(o.color||"primary")),Yt("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",yr],highlighted:[2,"highlighted","highlighted",yr],disableRipple:[2,"disableRipple","disableRipple",yr],disabled:[2,"disabled","disabled",yr]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[Or([{provide:Ww,useExisting:n}]),Qr,Ot],ngContentSelectors:k2,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,o){t&1&&(xr(T2),lt(0,"span",0),Ae(1,"span",1)(2,"span",2),dt(3,yH,2,0,"span",3),Ae(4,"span",4),Lt(5),lt(6,"span",5),ke()()(),dt(7,vH,2,0,"span",6)),t&2&&(Le(2),Ue("isInteractive",!1),Le(),Gt(o.leadingIcon?3:-1),Le(4),Gt(o._hasTrailingIcon()?7:-1))},dependencies:[Hw],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var CH=(()=>{class n extends Qd{constructor(){super(...arguments),this._defaultOptions=Be($w,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new Mt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(r){this._selectable=r,this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(r){this._setSelectedState(r,!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(r=!1){return this._setSelectedState(!this.selected,r,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return this.leadingIcon?!0:!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(r,t,o){r!==this.selected&&(this._selected=r,o&&this.selectionChange.emit({source:this,isUserInput:t,selected:this.selected}),this._changeDetectorRef.markForCheck())}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275cmp=ut({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(t,o){t&2&&(to("id",o.id),At("tabindex",null)("aria-label",null)("aria-description",null)("role",o.role),Yt("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--filter",!o._isBasicChip)("mdc-evolution-chip--selectable",!o._isBasicChip)("mat-mdc-chip-selected",o.selected)("mat-mdc-chip-multiple",o._chipListMultiple)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-chip-with-avatar",o.leadingIcon)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--selected",o.selected)("mdc-evolution-chip--selecting",!o._animationsDisabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-primary-graphic",o._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon()))},inputs:{selectable:[2,"selectable","selectable",yr],selected:[2,"selected","selected",yr]},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[Or([{provide:Qd,useExisting:n},{provide:Ww,useExisting:n}]),Qr,Ur,Ot],ngContentSelectors:k2,decls:10,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(t,o){t&1&&(xr(T2),lt(0,"span",0),Ae(1,"span",1)(2,"button",2),dt(3,bH,5,0,"span",3),Ae(4,"span",4),Lt(5),lt(6,"span",5),ke()()(),dt(7,_H,2,0,"span",6),Ae(8,"span",7),et(9),ke()),t&2&&(Le(2),Ue("_allowFocusWhenDisabled",!0),At("aria-selected",o.ariaSelected)("aria-label",o.ariaLabel)("aria-describedby",o._ariaDescriptionId),Le(),Gt(o._hasLeadingGraphic()?3:-1),Le(4),Gt(o._hasTrailingIcon()?7:-1),Le(),Ue("id",o._ariaDescriptionId),Le(),Zr(o.ariaDescription))},dependencies:[Hw],styles:[wH],encapsulation:2,changeDetection:0})}}return n})();var EH=(()=>{class n{get chipFocusChanges(){return this._getChipStream(r=>r._onFocus)}get chipDestroyedChanges(){return this._getChipStream(r=>r.destroyed)}get chipRemovedChanges(){return this._getChipStream(r=>r.removed)}get disabled(){return this._disabled}set disabled(r){this._disabled=r,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(r){this._explicitRole=r}get focused(){return this._hasFocusedChip()}constructor(r,t,o){this._elementRef=r,this._changeDetectorRef=t,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Je,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Zn}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(r=>r._hasFocus())}_syncChipsState(){this._chips?.forEach(r=>{r._chipListDisabled=this._disabled,r._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(r){this._originatesFromChip(r)&&this._keyManager.onKeydown(r)}_isValidIndex(r){return r>=0&&r<this._chips.length}_allowFocusEscape(){let r=this._elementRef.nativeElement.tabIndex;r!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=r))}_getChipStream(r){return this._chips.changes.pipe(on(null),Tr(()=>Bn(...this._chips.map(r))))}_originatesFromChip(r){let t=r.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-mdc-chip"))return!0;t=t.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(on(this._chips)).subscribe(r=>{let t=[];r.forEach(o=>o._getActions().forEach(s=>t.push(s))),this._chipActions.reset(t),this._chipActions.notifyOnChanges()}),this._keyManager=new Cc(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(r=>this._skipPredicate(r)),this.chipFocusChanges.pipe(Ut(this._destroyed)).subscribe(({chip:r})=>{let t=r._getSourceAction(document.activeElement);t&&this._keyManager.updateActiveItem(t)}),this._dir?.change.pipe(Ut(this._destroyed)).subscribe(r=>this._keyManager.withHorizontalOrientation(r))}_skipPredicate(r){return!r.isInteractive||r.disabled}_trackChipSetChanges(){this._chips.changes.pipe(on(null),Ut(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Ut(this._destroyed)).subscribe(r=>{let o=this._chips.toArray().indexOf(r.chip);this._isValidIndex(o)&&r.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let r=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),t=this._chips.toArray()[r];t.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():t.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static{this.\u0275fac=function(t){return new(t||n)(ge(bt),ge(br),ge(di,8))}}static{this.\u0275cmp=ut({type:n,selectors:[["mat-chip-set"]],contentQueries:function(t,o,s){if(t&1&&vr(s,Qd,5),t&2){let a;Et(a=It())&&(o._chips=a)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,o){t&1&&Ft("keydown",function(a){return o._handleKeydown(a)}),t&2&&At("role",o.role)},inputs:{disabled:[2,"disabled","disabled",yr],role:"role",tabIndex:[2,"tabIndex","tabIndex",r=>r==null?0:Du(r)]},standalone:!0,features:[Qr,Ot],ngContentSelectors:j2,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,o){t&1&&(xr(),Ae(0,"div",0),Lt(1),ke())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return n})(),Gw=class{constructor(i,r){this.source=i,this.value=r}},IH={provide:dg,useExisting:gi(()=>qw),multi:!0},qw=(()=>{class n extends EH{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=Be($w,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(r,t)=>r===t,this.required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new Mt,this._chips=void 0}get multiple(){return this._multiple}set multiple(r){this._multiple=r,this._syncListboxProperties()}get selected(){let r=this._chips.toArray().filter(t=>t.selected);return this.multiple?r:r[0]}get selectable(){return this._selectable}set selectable(r){this._selectable=r,this._syncListboxProperties()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(r){this._hideSingleSelectionIndicator=r,this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(r=>r.selectionChange)}get chipBlurChanges(){return this._getChipStream(r=>r._onBlur)}get value(){return this._value}set value(r){this.writeValue(r),this._value=r}ngAfterContentInit(){this._pendingInitialValue!==void 0&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(on(null),Ut(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Ut(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Ut(this._destroyed)).subscribe(r=>{this.multiple||this._chips.forEach(t=>{t!==r.source&&t._setSelectedState(!1,!1,!1)}),r.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;let r=this._getFirstSelectedChip();r&&!r.disabled?r.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(r){this._chips?this._setSelectionByValue(r,!1):r!=null&&(this._pendingInitialValue=r)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_setSelectionByValue(r,t=!0){this._clearSelection(),Array.isArray(r)?r.forEach(o=>this._selectValue(o,t)):this._selectValue(r,t)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(r){r.keyCode===9&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let r=null;Array.isArray(this.selected)?r=this.selected.map(t=>t.value):r=this.selected?this.selected.value:void 0,this._value=r,this.change.emit(new Gw(this,r)),this._onChange(r),this._changeDetectorRef.markForCheck()}_clearSelection(r){this._chips.forEach(t=>{t!==r&&t.deselect()})}_selectValue(r,t){let o=this._chips.find(s=>s.value!=null&&this.compareWith(s.value,r));return o&&(t?o.selectViaInteraction():o.select()),o}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(r=>{r._chipListMultiple=this.multiple,r.chipListSelectable=this._selectable,r._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,r._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(r){return!r.isInteractive}static{this.\u0275fac=(()=>{let r;return function(o){return(r||(r=yi(n)))(o||n)}})()}static{this.\u0275cmp=ut({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(t,o,s){if(t&1&&vr(s,CH,5),t&2){let a;Et(a=It())&&(o._chips=a)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(t,o){t&1&&Ft("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(a){return o._keydown(a)}),t&2&&(to("tabIndex",o.disabled||o.empty?-1:o.tabIndex),At("role",o.role)("aria-describedby",o._ariaDescribedby||null)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-multiselectable",o.multiple)("aria-orientation",o.ariaOrientation),Yt("mat-mdc-chip-list-disabled",o.disabled)("mat-mdc-chip-list-required",o.required))},inputs:{multiple:[2,"multiple","multiple",yr],ariaOrientation:[0,"aria-orientation","ariaOrientation"],selectable:[2,"selectable","selectable",yr],compareWith:"compareWith",required:[2,"required","required",yr],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",yr],value:"value"},outputs:{change:"change"},standalone:!0,features:[Or([IH]),Qr,Ur,Ot],ngContentSelectors:j2,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,o){t&1&&(xr(),Ae(0,"div",0),Lt(1),ke())},styles:[xH],encapsulation:2,changeDetection:0})}}return n})();var A2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[Lm,{provide:$w,useValue:{separatorKeyCodes:[13]}}],imports:[Xt,ca,Xt]})}}return n})();function MH(n,i){if(n&1&&(Ae(0,"mat-chip",1)(1,"span",3),et(2),ke()()),n&2){let r=i.$implicit;Le(),Ue("routerLink",r.url),Le(),Hn(" ",r.label," ")}}function TH(n,i){if(n&1&&(Ae(0,"div",0)(1,"mat-chip-listbox")(2,"mat-chip",1)(3,"span",2)(4,"mat-icon"),et(5,"home"),ke()()(),Fi(6,MH,3,2,"mat-chip",1,Do),ke()()),n&2){let r=Ke();Le(6),Ni(r.breadcrumbs)}}var O2=(()=>{class n{constructor(r,t,o){this.activatedRoute=r,this.router=t,this.nftsService=o,this.breadcrumbs=this.buildBreadCrumb(this.activatedRoute.root)}ngOnInit(){this.router.events.pipe(Vt(r=>r instanceof Mi),mn()).subscribe(()=>{this.breadcrumbs=this.buildBreadCrumb(this.activatedRoute.root)})}buildBreadCrumb(r,t="",o=[]){let s=r.routeConfig&&r.routeConfig.data?r.routeConfig.data.breadcrumb:"",a=r.routeConfig&&r.routeConfig.data?r.routeConfig.path:"",c=a?a.split("/").pop():"";if(c.startsWith(":")&&r.snapshot){let d=c.split(":")[1],f=r.snapshot.params[d];a=a.replace(c,f),d==="id"?s=this.extractNameFromId(f)||f:s=f}let u=a?`${t}/${a}`:t,y={label:s,url:u},b=y.label?[...o,y]:[...o];return r.firstChild?this.buildBreadCrumb(r.firstChild,u,b):b}extractNameFromId(r){return this.nftsService.getNftById(r).name||null}static{this.\u0275fac=function(t){return new(t||n)(ge(ei),ge(ti),ge(Lo))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-breadcrumb"]],decls:1,vars:1,consts:[[1,"container"],["color","primary"],["routerLink","/","routerLinkActive","router-link-active"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,o){t&1&&dt(0,TH,8,0,"div",0),t&2&&Gt(o.breadcrumbs&&o.breadcrumbs.length?0:-1)},dependencies:[Qd,qw,Nc,ra,AM]})}}return n})();var jH=()=>["/"],R2=()=>["/about"],P2=()=>["/cv"],F2=()=>["/contact"],AH=n=>["/artworks",n],OH=n=>["/generative",n];function RH(n,i){if(n&1){let r=Ar();Ae(0,"button",14),Ft("click",function(){mr(r),Ke();let o=yn(9);return gr(o.toggle())}),Ae(1,"mat-icon"),et(2,"menu"),ke()()}}function PH(n,i){if(n&1&&(Ae(0,"button",15),et(1,"Painting"),ke(),Ae(2,"button",15),et(3,"Generative"),ke(),Ae(4,"button",16),et(5,"About"),ke(),Ae(6,"button",16),et(7,"CV"),ke(),Ae(8,"button",16),et(9,"Contact"),ke()),n&2){Ke();let r=yn(17),t=yn(27);Ue("matMenuTriggerFor",r),Le(2),Ue("matMenuTriggerFor",t),Le(2),Ue("routerLink",Hs(5,R2)),Le(2),Ue("routerLink",Hs(6,P2)),Le(2),Ue("routerLink",Hs(7,F2))}}function FH(n,i){}function NH(n,i){n&1&&dt(0,FH,0,0,"ng-template")}function LH(n,i){if(n&1&&(Ae(0,"button",15),et(1,"Painting"),ke(),Ae(2,"button",15),et(3,"Generative"),ke(),Ae(4,"button",16),et(5,"About"),ke(),Ae(6,"button",16),et(7,"CV"),ke(),Ae(8,"button",16),et(9,"Contact"),ke()),n&2){Ke();let r=yn(17),t=yn(27);Ue("matMenuTriggerFor",r),Le(2),Ue("matMenuTriggerFor",t),Le(2),Ue("routerLink",Hs(5,R2)),Le(2),Ue("routerLink",Hs(6,P2)),Le(2),Ue("routerLink",Hs(7,F2))}}function BH(n,i){if(n&1&&(Ae(0,"button",13),et(1),ke()),n&2){let r=i.$implicit;Ue("routerLink",Cu(2,AH,r)),Le(),Zr(r)}}function VH(n,i){if(n&1&&(Ae(0,"button",13),et(1),ke()),n&2){let r=i.$implicit;Ue("routerLink",Cu(2,OH,r.id)),Le(),Zr(r.label)}}var N2=(()=>{class n{constructor(r,t){this.sessionQuery=r,this.responsiveService=t,this.mobileMenu=!0,this.mobileMenuOpen=!0,this.responsiveService.displayMobileLayout.subscribe(o=>this.mobileMenu=o)}get generativePieces(){return vg}get years(){return this.sessionQuery.years}toggleSidebarDisplay(){this.mobileMenuOpen=!this.mobileMenuOpen}static{this.\u0275fac=function(t){return new(t||n)(ge(vc),ge(aa))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-top-menu"]],decls:30,vars:5,consts:[["drawer",""],["menuButtons",""],["paintingMenu","matMenu"],["yearsMenu","matMenu"],["generativeMenu","matMenu"],["color","primary"],["mat-button","",3,"routerLink"],[1,"spacer"],["mat-icon-button","","aria-label","menu"],["mode","over"],[4,"ngTemplateOutlet"],["mat-menu-item","","routerLink","/artworks"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-icon-button","","aria-label","menu",3,"click"],["mat-button","",1,"menu-button",3,"matMenuTriggerFor"],["mat-button","",1,"menu-button",3,"routerLink"]],template:function(t,o){if(t&1&&(Ae(0,"mat-toolbar",5)(1,"mat-toolbar-row")(2,"button",6),et(3,"Juanma Moreno S\xE1nchez"),ke(),lt(4,"span",7),dt(5,RH,3,0,"button",8)(6,PH,10,8),ke()(),Ae(7,"mat-drawer-container")(8,"mat-drawer",9,0),dt(10,NH,1,0,null,10),ke(),Ae(11,"mat-drawer-content"),lt(12,"app-breadcrumb")(13,"router-outlet"),ke()(),dt(14,LH,10,8,"ng-template",null,1,Li),Ae(16,"mat-menu",null,2)(18,"button",11),et(19,"All paintings"),ke(),Ae(20,"button",12),et(21,"By Year"),ke()(),Ae(22,"mat-menu",null,3),Fi(24,BH,2,4,"button",13,Do),ke(),Ae(26,"mat-menu",null,4),Fi(28,VH,2,4,"button",13,Do),ke()),t&2){let s=yn(15),a=yn(23);Le(2),Ue("routerLink",Hs(4,jH)),Le(3),Gt(o.mobileMenu?6:5),Le(5),Ue("ngTemplateOutlet",s),Le(10),Ue("matMenuTriggerFor",a),Le(4),Ni(o.years),Le(4),Ni(o.generativePieces)}},dependencies:[jo,Rc,Pk,Nc,Lc,Yd,b2,Vw,Uw,Xd,C2,zw,g_,ra,O2],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu-button[_ngcontent-%COMP%]{display:block}"]})}}return n})();function zH(n,i){if(n&1){let r=Ar();Ae(0,"button",1),Ft("click",function(){mr(r);let o=Ke();return gr(o.handleClick())}),Ae(1,"mat-icon",2),et(2,"share"),ke()()}}var L2=(()=>{class n{constructor(){this.regex_mobile=new RegExp("/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/","i"),this.canShare=this.regex_mobile.test(window.navigator.userAgent)||!0}handleClick(){if(this.canShare){let t={title:"Juanma Moreno S\xE1nchez",text:"Contemporary Art",url:window.location.href};navigator?.share(t)}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=ut({type:n,selectors:[["app-share-button"]],decls:1,vars:1,consts:[["mat-mini-fab","","color","primary",1,"share-button"],["mat-mini-fab","","color","primary",1,"share-button",3,"click"],["aria-label","Share Juanma Moreno website!"]],template:function(t,o){t&1&&dt(0,zH,3,0,"button",0),t&2&&Gt(o.canShare?0:-1)},dependencies:[Rk,Nc],styles:[".share-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:4px;z-index:9999}"]})}}return n})();var B2=(()=>{class n{constructor(r){this.nftsService=r,this.getAppData()}getAppData(){this.nftsService.getNfts(NM).subscribe(r=>{console.log("paintings: ",r)})}static{this.\u0275fac=function(t){return new(t||n)(ge(Lo))}}static{this.\u0275cmp=ut({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,o){t&1&&lt(0,"app-top-menu")(1,"app-share-button")},dependencies:[N2,L2]})}}return n})();var V2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[xc,$r,Xt,ca,dT,Um]})}}return n})();var U2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({imports:[$r,Xt]})}}return n})();var z2=20;var $H=new ze("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=Be(ri);return()=>n.scrollStrategies.reposition({scrollThrottle:z2})}});function WH(n){return()=>n.scrollStrategies.reposition({scrollThrottle:z2})}var qH={provide:$H,deps:[ri],useFactory:WH};var H2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[qH],imports:[rT,$r,Tc,Xt,Xt,ao]})}}return n})();var G2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=gt({providers:[NI(LI())],imports:[$r,Dk,kd,qT,Pc,Hm,A2,Um,$d,gT,wg,t2,_2,V2,U2,S2,E2,H2,Lk,Mk,md,Pd,ao]})}}return n})();var $2=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=yt({type:n,bootstrap:[B2]})}static{this.\u0275inj=gt({imports:[u2,Pp,GD,G2,Hm,Pc,wg]})}}return n})();var YH=l0();el.production&&void 0;WI([{provide:"persistStorage",useValue:YH},{provide:nw,useValue:{autoHeight:!0,imageSize:"contain"}}]).bootstrapModule($2).catch(n=>console.error(n));
